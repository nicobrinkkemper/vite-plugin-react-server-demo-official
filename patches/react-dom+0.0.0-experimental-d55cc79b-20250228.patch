diff --git a/node_modules/react-dom/cjs/react-dom-client.development.js b/node_modules/react-dom/cjs/react-dom-client.development.js
index 2d9fe83..af9cc6d 100644
--- a/node_modules/react-dom/cjs/react-dom-client.development.js
+++ b/node_modules/react-dom/cjs/react-dom-client.development.js
@@ -419,7 +419,11 @@
           break;
         default:
           if (
-            ((nextRootContext = nextRootInstance.tagName),
+            ((nextRootInstance =
+              8 === nextRootContext
+                ? nextRootInstance.parentNode
+                : nextRootInstance),
+            (nextRootContext = nextRootInstance.tagName),
             (nextRootInstance = nextRootInstance.namespaceURI))
           )
             (nextRootInstance = getOwnHostContext(nextRootInstance)),
@@ -582,7 +586,6 @@
         case 64:
           return 64;
         case 128:
-          return 128;
         case 256:
         case 512:
         case 1024:
@@ -597,7 +600,7 @@
         case 524288:
         case 1048576:
         case 2097152:
-          return lanes & 4194048;
+          return lanes & 4194176;
         case 4194304:
         case 8388608:
         case 16777216:
@@ -659,7 +662,7 @@
             ((suspendedLanes = nextLanes & -nextLanes),
             (rootHasPendingCommit = wipLanes & -wipLanes),
             suspendedLanes >= rootHasPendingCommit ||
-              (32 === suspendedLanes && 0 !== (rootHasPendingCommit & 4194048)))
+              (32 === suspendedLanes && 0 !== (rootHasPendingCommit & 4194176)))
           ? wipLanes
           : nextLanes;
     }
@@ -677,10 +680,10 @@
         case 2:
         case 4:
         case 8:
-        case 64:
           return currentTime + 250;
         case 16:
         case 32:
+        case 64:
         case 128:
         case 256:
         case 512:
@@ -720,7 +723,7 @@
     function claimNextTransitionLane() {
       var lane = nextTransitionLane;
       nextTransitionLane <<= 1;
-      0 === (nextTransitionLane & 4194048) && (nextTransitionLane = 256);
+      0 === (nextTransitionLane & 4194176) && (nextTransitionLane = 128);
       return lane;
     }
     function claimNextRetryLane() {
@@ -796,7 +799,7 @@
       root.entanglements[spawnedLaneIndex] =
         root.entanglements[spawnedLaneIndex] |
         1073741824 |
-        (entangledLanes & 4194090);
+        (entangledLanes & 4194218);
     }
     function markRootEntangled(root, entangledLanes) {
       var rootEntangledLanes = (root.entangledLanes |= entangledLanes);
@@ -819,6 +822,7 @@
         case 32:
           lane = 16;
           break;
+        case 128:
         case 256:
         case 512:
         case 1024:
@@ -837,7 +841,7 @@
         case 8388608:
         case 16777216:
         case 33554432:
-          lane = 128;
+          lane = 64;
           break;
         case 268435456:
           lane = 134217728;
@@ -1461,7 +1465,10 @@
     }
     function runWithFiberInDEV(fiber, callback, arg0, arg1, arg2, arg3, arg4) {
       var previousFiber = current;
-      setCurrentFiber(fiber);
+      ReactSharedInternals.getCurrentStack =
+        null === fiber ? null : getCurrentFiberStackInDev;
+      isRendering = !1;
+      current = fiber;
       try {
         return null !== fiber && fiber._debugTask
           ? fiber._debugTask.run(
@@ -1469,18 +1476,12 @@
             )
           : callback(arg0, arg1, arg2, arg3, arg4);
       } finally {
-        setCurrentFiber(previousFiber);
+        current = previousFiber;
       }
       throw Error(
         "runWithFiberInDEV should never be called in production. This is a bug in React."
       );
     }
-    function setCurrentFiber(fiber) {
-      ReactSharedInternals.getCurrentStack =
-        null === fiber ? null : getCurrentFiberStackInDev;
-      isRendering = !1;
-      current = fiber;
-    }
     function getToStringValue(value) {
       switch (typeof value) {
         case "bigint":
@@ -2306,41 +2307,33 @@
       return null !== node ? describeDiff(node).replaceAll(/^[+-]/gm, ">") : "";
     }
     function updatedAncestorInfoDev(oldInfo, tag) {
-      var ancestorInfo = assign({}, oldInfo || emptyAncestorInfoDev),
-        info = { tag: tag };
+      oldInfo = assign({}, oldInfo || emptyAncestorInfoDev);
+      var info = { tag: tag };
       -1 !== inScopeTags.indexOf(tag) &&
-        ((ancestorInfo.aTagInScope = null),
-        (ancestorInfo.buttonTagInScope = null),
-        (ancestorInfo.nobrTagInScope = null));
-      -1 !== buttonScopeTags.indexOf(tag) &&
-        (ancestorInfo.pTagInButtonScope = null);
+        ((oldInfo.aTagInScope = null),
+        (oldInfo.buttonTagInScope = null),
+        (oldInfo.nobrTagInScope = null));
+      -1 !== buttonScopeTags.indexOf(tag) && (oldInfo.pTagInButtonScope = null);
       -1 !== specialTags.indexOf(tag) &&
         "address" !== tag &&
         "div" !== tag &&
         "p" !== tag &&
-        ((ancestorInfo.listItemTagAutoclosing = null),
-        (ancestorInfo.dlItemTagAutoclosing = null));
-      ancestorInfo.current = info;
-      "form" === tag && (ancestorInfo.formTag = info);
-      "a" === tag && (ancestorInfo.aTagInScope = info);
-      "button" === tag && (ancestorInfo.buttonTagInScope = info);
-      "nobr" === tag && (ancestorInfo.nobrTagInScope = info);
-      "p" === tag && (ancestorInfo.pTagInButtonScope = info);
-      "li" === tag && (ancestorInfo.listItemTagAutoclosing = info);
-      if ("dd" === tag || "dt" === tag)
-        ancestorInfo.dlItemTagAutoclosing = info;
+        ((oldInfo.listItemTagAutoclosing = null),
+        (oldInfo.dlItemTagAutoclosing = null));
+      oldInfo.current = info;
+      "form" === tag && (oldInfo.formTag = info);
+      "a" === tag && (oldInfo.aTagInScope = info);
+      "button" === tag && (oldInfo.buttonTagInScope = info);
+      "nobr" === tag && (oldInfo.nobrTagInScope = info);
+      "p" === tag && (oldInfo.pTagInButtonScope = info);
+      "li" === tag && (oldInfo.listItemTagAutoclosing = info);
+      if ("dd" === tag || "dt" === tag) oldInfo.dlItemTagAutoclosing = info;
       "#document" === tag || "html" === tag
-        ? (ancestorInfo.containerTagInScope = null)
-        : ancestorInfo.containerTagInScope ||
-          (ancestorInfo.containerTagInScope = info);
-      null !== oldInfo ||
-      ("#document" !== tag && "html" !== tag && "body" !== tag)
-        ? !0 === ancestorInfo.implicitRootScope &&
-          (ancestorInfo.implicitRootScope = !1)
-        : (ancestorInfo.implicitRootScope = !0);
-      return ancestorInfo;
-    }
-    function isTagValidWithParent(tag, parentTag, implicitRootScope) {
+        ? (oldInfo.containerTagInScope = null)
+        : oldInfo.containerTagInScope || (oldInfo.containerTagInScope = info);
+      return oldInfo;
+    }
+    function isTagValidWithParent(tag, parentTag) {
       switch (parentTag) {
         case "select":
           return (
@@ -2400,12 +2393,11 @@
             "template" === tag
           );
         case "html":
-          if (implicitRootScope) break;
           return "head" === tag || "body" === tag || "frameset" === tag;
         case "frameset":
           return "frame" === tag;
         case "#document":
-          if (!implicitRootScope) return "html" === tag;
+          return "html" === tag;
       }
       switch (tag) {
         case "h1":
@@ -2425,11 +2417,14 @@
         case "rp":
         case "rt":
           return -1 === impliedEndTags.indexOf(parentTag);
+        case "body":
         case "caption":
         case "col":
         case "colgroup":
         case "frameset":
         case "frame":
+        case "head":
+        case "html":
         case "tbody":
         case "td":
         case "tfoot":
@@ -2437,19 +2432,6 @@
         case "thead":
         case "tr":
           return null == parentTag;
-        case "head":
-          return implicitRootScope || null === parentTag;
-        case "html":
-          return (
-            (implicitRootScope && "#document" === parentTag) ||
-            null === parentTag
-          );
-        case "body":
-          return (
-            (implicitRootScope &&
-              ("#document" === parentTag || "html" === parentTag)) ||
-            null === parentTag
-          );
       }
       return !0;
     }
@@ -2524,8 +2506,7 @@
       var parentInfo = ancestorInfo.current;
       ancestorInfo = (parentInfo = isTagValidWithParent(
         childTag,
-        parentInfo && parentInfo.tag,
-        ancestorInfo.implicitRootScope
+        parentInfo && parentInfo.tag
       )
         ? null
         : parentInfo)
@@ -2579,33 +2560,32 @@
           }));
       return !1;
     }
-    function validateTextNesting(childText, parentTag, implicitRootScope) {
-      if (implicitRootScope || isTagValidWithParent("#text", parentTag, !1))
-        return !0;
-      implicitRootScope = "#text|" + parentTag;
-      if (didWarn[implicitRootScope]) return !1;
-      didWarn[implicitRootScope] = !0;
-      var ancestor = (implicitRootScope = current)
-        ? findAncestor(implicitRootScope, parentTag)
+    function validateTextNesting(childText, parentTag) {
+      if (isTagValidWithParent("#text", parentTag)) return !0;
+      var warnKey = "#text|" + parentTag;
+      if (didWarn[warnKey]) return !1;
+      didWarn[warnKey] = !0;
+      var ancestor = (warnKey = current)
+        ? findAncestor(warnKey, parentTag)
         : null;
-      implicitRootScope =
-        null !== implicitRootScope && null !== ancestor
+      warnKey =
+        null !== warnKey && null !== ancestor
           ? describeAncestors(
               ancestor,
-              implicitRootScope,
-              6 !== implicitRootScope.tag ? { children: null } : null
+              warnKey,
+              6 !== warnKey.tag ? { children: null } : null
             )
           : "";
       /\S/.test(childText)
         ? console.error(
             "In HTML, text nodes cannot be a child of <%s>.\nThis will cause a hydration error.%s",
             parentTag,
-            implicitRootScope
+            warnKey
           )
         : console.error(
             "In HTML, whitespace text nodes cannot be a child of <%s>. Make sure you don't have any extra whitespace between tags on each line of your source code.\nThis will cause a hydration error.%s",
             parentTag,
-            implicitRootScope
+            warnKey
           );
       return !1;
     }
@@ -3773,11 +3753,6 @@
       enqueueUpdate$1(fiber, null, null, lane);
       return getRootForUpdatedFiber(fiber);
     }
-    function enqueueGestureRender(fiber) {
-      fiber = markUpdateLaneFromFiberToRoot(fiber, null, 64);
-      null !== fiber && markRootUpdated$1(fiber, 64);
-      return fiber;
-    }
     function markUpdateLaneFromFiberToRoot(sourceFiber, update, lane) {
       sourceFiber.lanes |= lane;
       var alternate = sourceFiber.alternate;
@@ -3793,19 +3768,17 @@
               (isHidden = !0)),
           (sourceFiber = parent),
           (parent = parent.return);
-      return 3 === sourceFiber.tag
-        ? ((parent = sourceFiber.stateNode),
-          isHidden &&
-            null !== update &&
-            ((isHidden = 31 - clz32(lane)),
-            (sourceFiber = parent.hiddenUpdates),
-            (alternate = sourceFiber[isHidden]),
-            null === alternate
-              ? (sourceFiber[isHidden] = [update])
-              : alternate.push(update),
-            (update.lane = lane | 536870912)),
-          parent)
-        : null;
+      isHidden &&
+        null !== update &&
+        3 === sourceFiber.tag &&
+        ((parent = sourceFiber.stateNode),
+        (isHidden = 31 - clz32(lane)),
+        (parent = parent.hiddenUpdates),
+        (sourceFiber = parent[isHidden]),
+        null === sourceFiber
+          ? (parent[isHidden] = [update])
+          : sourceFiber.push(update),
+        (update.lane = lane | 536870912));
     }
     function getRootForUpdatedFiber(sourceFiber) {
       if (nestedUpdateCount > NESTED_UPDATE_LIMIT)
@@ -3971,7 +3944,7 @@
           (blockingEventTime = lane),
           (blockingEventType = JSCompiler_temp));
       else if (
-        0 !== (lane & 4194048) &&
+        0 !== (lane & 4194176) &&
         0 > transitionUpdateTime &&
         ((transitionUpdateTime = now()), 0 > transitionStartTime)
       ) {
@@ -4064,9 +4037,9 @@
     }
     function setCurrentTrackFromLanes(lanes) {
       reusableLaneDevToolDetails.track =
-        lanes & 127
+        lanes & 63
           ? "Blocking"
-          : lanes & 4194176
+          : lanes & 4194240
             ? "Transition"
             : lanes & 62914560
               ? "Suspense"
@@ -4183,13 +4156,13 @@
     function logRenderPhase(startTime, endTime, lanes) {
       supportsUserTiming &&
         ((reusableLaneDevToolDetails.color =
-          (lanes & 738197653) === lanes ? "tertiary-dark" : "primary-dark"),
+          (lanes & 738197589) === lanes ? "tertiary-dark" : "primary-dark"),
         (reusableLaneOptions.start = startTime),
         (reusableLaneOptions.end = endTime),
         performance.measure(
           (lanes & 536870912) === lanes
             ? "Prepared"
-            : (lanes & 201326741) === lanes
+            : (lanes & 201326677) === lanes
               ? "Hydrated"
               : "Render",
           reusableLaneOptions
@@ -4198,7 +4171,7 @@
     function logSuspendedRenderPhase(startTime, endTime, lanes) {
       supportsUserTiming &&
         ((reusableLaneDevToolDetails.color =
-          (lanes & 738197653) === lanes ? "tertiary-dark" : "primary-dark"),
+          (lanes & 738197589) === lanes ? "tertiary-dark" : "primary-dark"),
         (reusableLaneOptions.start = startTime),
         (reusableLaneOptions.end = endTime),
         performance.measure("Prewarm", reusableLaneOptions));
@@ -4206,7 +4179,7 @@
     function logSuspendedWithDelayPhase(startTime, endTime, lanes) {
       supportsUserTiming &&
         ((reusableLaneDevToolDetails.color =
-          (lanes & 738197653) === lanes ? "tertiary-dark" : "primary-dark"),
+          (lanes & 738197589) === lanes ? "tertiary-dark" : "primary-dark"),
         (reusableLaneOptions.start = startTime),
         (reusableLaneOptions.end = endTime),
         performance.measure("Suspended", reusableLaneOptions));
@@ -4626,7 +4599,7 @@
     }
     function entangleTransitions(root, fiber, lane) {
       fiber = fiber.updateQueue;
-      if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194048))) {
+      if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194176))) {
         var queueLanes = fiber.lanes;
         queueLanes &= root.pendingLanes;
         lane |= queueLanes;
@@ -5130,7 +5103,7 @@
               100 < thenableState.shellSuspendCounter
             )
               throw Error(
-                "An unknown Component is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server."
+                "async/await is not yet supported in Client Components, only Server Components. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server."
               );
             thenableState = thenable;
             thenableState.status = "pending";
@@ -5221,76 +5194,6 @@
         ? null
         : { parent: CacheContext._currentValue, pool: cacheFromPool };
     }
-    function scheduleGesture(
-      root,
-      provider,
-      initialDirection,
-      rangePrevious,
-      rangeCurrent,
-      rangeNext
-    ) {
-      for (var prev = root.pendingGestures; null !== prev; ) {
-        if (prev.provider === provider) return prev.count++, prev;
-        var next = prev.next;
-        if (null === next) break;
-        prev = next;
-      }
-      var isFlippedDirection = rangePrevious > rangeNext;
-      next = subscribeToGestureDirection(
-        provider,
-        rangeCurrent,
-        function (direction) {
-          isFlippedDirection && (direction = !direction);
-          gesture.direction !== direction &&
-            ((gesture.direction = direction),
-            null === gesture.prev &&
-              root.pendingGestures !== gesture &&
-              ((direction = root.pendingGestures),
-              (gesture.next = direction),
-              null !== direction && (direction.prev = gesture),
-              (root.pendingGestures = gesture),
-              (root.pendingLanes |= 64),
-              ensureRootIsScheduled(root)));
-        }
-      );
-      var gesture = {
-        provider: provider,
-        count: 1,
-        direction: initialDirection,
-        rangePrevious: rangePrevious,
-        rangeCurrent: rangeCurrent,
-        rangeNext: rangeNext,
-        cancel: next,
-        running: null,
-        prev: prev,
-        next: null
-      };
-      null === prev ? (root.pendingGestures = gesture) : (prev.next = gesture);
-      ensureRootIsScheduled(root);
-      return gesture;
-    }
-    function deleteScheduledGesture(root, gesture) {
-      null === gesture.prev
-        ? (root.pendingGestures === gesture &&
-            ((root.pendingGestures = gesture.next),
-            null === root.pendingGestures && (root.pendingLanes &= -65)),
-          root.stoppingGestures === gesture &&
-            (root.stoppingGestures = gesture.next))
-        : ((gesture.prev.next = gesture.next),
-          null !== gesture.next && (gesture.next.prev = gesture.prev),
-          (gesture.prev = null),
-          (gesture.next = null));
-    }
-    function stopCompletedGestures(root) {
-      var gesture = root.stoppingGestures;
-      for (root.stoppingGestures = null; null !== gesture; )
-        null !== gesture.running &&
-          (gesture.running.skipTransition(), (gesture.running = null)),
-          (root = gesture.next),
-          (gesture.next = null),
-          (gesture.prev = null),
-          (gesture = root);
-    }
     function mountHookTypesDev() {
       var hookName = currentHookNameInDev;
       null === hookTypesDev
@@ -5400,10 +5303,7 @@
           didWarnAboutAsyncClientComponent.has(nextRenderLanes) ||
             (didWarnAboutAsyncClientComponent.add(nextRenderLanes),
             console.error(
-              "%s is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.",
-              null === nextRenderLanes
-                ? "An unknown Component"
-                : "<" + nextRenderLanes + ">"
+              "async/await is not yet supported in Client Components, only Server Components. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server."
             ));
       workInProgress.memoizedState = null;
       workInProgress.updateQueue = null;
@@ -5888,7 +5788,7 @@
           throw Error(
             "Expected a work-in-progress root. This is a bug in React. Please file an issue."
           );
-        0 !== (workInProgressRootRenderLanes & 124) ||
+        0 !== (workInProgressRootRenderLanes & 60) ||
           pushStoreConsistencyCheck(fiber, getSnapshot, nextSnapshot);
       }
       hook.memoizedState = nextSnapshot;
@@ -5971,7 +5871,7 @@
             "Expected a work-in-progress root. This is a bug in React. Please file an issue."
           );
         isHydrating$jscomp$0 ||
-          0 !== (renderLanes & 124) ||
+          0 !== (renderLanes & 60) ||
           pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);
       }
       return getServerSnapshot;
@@ -6169,7 +6069,7 @@
           ),
           node.isTransition ||
             console.error(
-              "An async function with useActionState was called outside of a transition. This is likely not what you intended (for example, isPending will not update correctly). Either call the returned function inside startTransition, or pass it to an `action` or `formAction` prop."
+              "An async function was passed to useActionState, but it was dispatched outside of an action context. This is likely not what you intended. Either pass the dispatch function to an `action` prop, or dispatch manually inside `startTransition`"
             ))
         : onActionSuccess(actionQueue, node, returnValue);
     }
@@ -6350,14 +6250,8 @@
       currentStateHook.memoizedState = action;
       return [stateHook, dispatch, !1];
     }
-    function pushSimpleEffect(tag, inst, create, createDeps) {
-      tag = {
-        tag: tag,
-        create: create,
-        deps: createDeps,
-        inst: inst,
-        next: null
-      };
+    function pushSimpleEffect(tag, inst, create, deps) {
+      tag = { tag: tag, create: create, deps: deps, inst: inst, next: null };
       inst = currentlyRenderingFiber.updateQueue;
       null === inst &&
         ((inst = createFunctionComponentUpdateQueue()),
@@ -6365,9 +6259,9 @@
       create = inst.lastEffect;
       null === create
         ? (inst.lastEffect = tag.next = tag)
-        : ((createDeps = create.next),
+        : ((deps = create.next),
           (create.next = tag),
-          (tag.next = createDeps),
+          (tag.next = deps),
           (inst.lastEffect = tag));
       return tag;
     }
@@ -6379,15 +6273,15 @@
       initialValue = { current: initialValue };
       return (hook.memoizedState = initialValue);
     }
-    function mountEffectImpl(fiberFlags, hookFlags, create, createDeps) {
+    function mountEffectImpl(fiberFlags, hookFlags, create, deps) {
       var hook = mountWorkInProgressHook();
-      createDeps = void 0 === createDeps ? null : createDeps;
+      deps = void 0 === deps ? null : deps;
       currentlyRenderingFiber.flags |= fiberFlags;
       hook.memoizedState = pushSimpleEffect(
         HasEffect | hookFlags,
         createEffectInstance(),
         create,
-        createDeps
+        deps
       );
     }
     function updateEffectImpl(fiberFlags, hookFlags, create, deps) {
@@ -6406,11 +6300,11 @@
             deps
           )));
     }
-    function mountEffect(create, createDeps) {
+    function mountEffect(create, deps) {
       (currentlyRenderingFiber.mode & StrictEffectsMode) !== NoMode &&
       (currentlyRenderingFiber.mode & NoStrictPassiveEffectsMode) === NoMode
-        ? mountEffectImpl(276826112, Passive, create, createDeps)
-        : mountEffectImpl(8390656, Passive, create, createDeps);
+        ? mountEffectImpl(276826112, Passive, create, deps)
+        : mountEffectImpl(8390656, Passive, create, deps);
     }
     function useEffectEventImpl(payload) {
       currentlyRenderingFiber.flags |= 4;
@@ -6776,14 +6670,14 @@
         identifierPrefix = workInProgressRoot.identifierPrefix;
       if (isHydrating) {
         var treeId = getTreeId();
-        identifierPrefix = "\u00ab" + identifierPrefix + "R" + treeId;
+        identifierPrefix = ":" + identifierPrefix + "R" + treeId;
         treeId = localIdCounter++;
         0 < treeId && (identifierPrefix += "H" + treeId.toString(32));
-        identifierPrefix += "\u00bb";
+        identifierPrefix += ":";
       } else
         (treeId = globalClientIdCounter$1++),
           (identifierPrefix =
-            "\u00ab" + identifierPrefix + "r" + treeId.toString(32) + "\u00bb");
+            ":" + identifierPrefix + "r" + treeId.toString(32) + ":");
       return (hook.memoizedState = identifierPrefix);
     }
     function mountRefresh() {
@@ -6945,7 +6839,7 @@
       queue.pending = update;
     }
     function entangleTransitionUpdate(root, queue, lane) {
-      if (0 !== (lane & 4194048)) {
+      if (0 !== (lane & 4194176)) {
         var queueLanes = queue.lanes;
         queueLanes &= root.pendingLanes;
         lane |= queueLanes;
@@ -6953,115 +6847,6 @@
         markRootEntangled(root, lane);
       }
     }
-    function startGesture(fiber, queue, gestureProvider, gestureOptions) {
-      var root = enqueueGestureRender(fiber);
-      if (null === root) return function () {};
-      fiber = getCurrentGestureOffset(gestureProvider);
-      var range = gestureOptions && gestureOptions.range,
-        rangePrevious = range ? range[0] : 0,
-        rangeCurrent = range ? range[1] : fiber;
-      range = range ? range[2] : 100;
-      ((rangePrevious > rangeCurrent && range > rangeCurrent) ||
-        (rangePrevious < rangeCurrent && range < rangeCurrent)) &&
-        console.error(
-          'The range of a gesture needs "previous" and "next" to be on either side of the "current" offset. Both cannot be above current and both cannot be below current.'
-        );
-      var isFlippedDirection = rangePrevious > range,
-        update = {
-          gesture: scheduleGesture(
-            root,
-            gestureProvider,
-            fiber < rangeCurrent
-              ? isFlippedDirection
-              : fiber > rangeCurrent
-                ? !isFlippedDirection
-                : gestureOptions && "next" === gestureOptions.direction
-                  ? !0
-                  : gestureOptions && "previous" === gestureOptions.direction
-                    ? !1
-                    : queue.initialDirection,
-            rangePrevious,
-            rangeCurrent,
-            range
-          ),
-          prev: null,
-          next: queue.pending
-        };
-      null !== queue.pending && (queue.pending.prev = update);
-      queue.pending = update;
-      return function () {
-        if (null === update.prev)
-          if (queue.pending === update) queue.pending = update.next;
-          else return;
-        else
-          (update.prev.next = update.next),
-            null !== update.next && (update.next.prev = update.prev),
-            (update.prev = null),
-            (update.next = null);
-        var gesture = update.gesture;
-        gesture.count--;
-        if (0 === gesture.count) {
-          var cancelDirectionSubscription = gesture.cancel;
-          cancelDirectionSubscription();
-          deleteScheduledGesture(root, gesture);
-          cancelDirectionSubscription = gesture.running;
-          if (null !== cancelDirectionSubscription) {
-            var pendingLanesExcludingGestureLane = root.pendingLanes & -65;
-            0 !== (pendingLanesExcludingGestureLane & 124) ||
-            0 !== (pendingLanesExcludingGestureLane & 4194048)
-              ? ((cancelDirectionSubscription = root.stoppingGestures),
-                null !== cancelDirectionSubscription &&
-                  ((gesture.next = cancelDirectionSubscription),
-                  (cancelDirectionSubscription.prev = gesture)),
-                (root.stoppingGestures = gesture))
-              : ((gesture.running = null),
-                cancelDirectionSubscription.skipTransition());
-          }
-        }
-      };
-    }
-    function mountSwipeTransition(previous, current) {
-      previous = {
-        pending: null,
-        dispatch: null,
-        initialDirection: previous === current
-      };
-      var startGestureOnHook = (previous.dispatch = startGesture.bind(
-        null,
-        currentlyRenderingFiber,
-        previous
-      ));
-      mountWorkInProgressHook().queue = previous;
-      return [current, startGestureOnHook];
-    }
-    function updateSwipeTransition(previous, current, next) {
-      var queue = updateWorkInProgressHook().queue,
-        startGestureOnHook = queue.dispatch,
-        rootRenderLanes = workInProgressRootRenderLanes,
-        value = current;
-      if (null !== queue.pending) {
-        if (64 === rootRenderLanes) {
-          rootRenderLanes = workInProgressRoot;
-          if (null === rootRenderLanes)
-            throw Error(
-              "Expected a work-in-progress root. This is a bug in React. Please file an issue."
-            );
-          rootRenderLanes = rootRenderLanes.pendingGestures;
-          if (null !== rootRenderLanes)
-            for (var update = queue.pending; null !== update; ) {
-              if (rootRenderLanes === update.gesture) {
-                value = rootRenderLanes.direction ? next : previous;
-                break;
-              }
-              update = update.next;
-            }
-          didReceiveUpdate = !0;
-        }
-        currentlyRenderingFiber.lanes |= 64;
-      }
-      queue.initialDirection = previous === current;
-      return [value, startGestureOnHook];
-    }
     function pushDebugInfo(debugInfo) {
       var previousDebugInfo = currentDebugInfo;
       null != debugInfo &&
@@ -8936,7 +8721,7 @@
       return workInProgress.child;
     }
     function updateClassComponent(
-      current,
+      current$jscomp$0,
       workInProgress,
       Component,
       nextProps,
@@ -9252,7 +9037,7 @@
         (workInProgress.mode & StrictEffectsMode) !== NoMode &&
           (workInProgress.flags |= 134217728);
         _instance = !0;
-      } else if (null === current) {
+      } else if (null === current$jscomp$0) {
         _instance = workInProgress.stateNode;
         var unresolvedOldProps = workInProgress.memoizedProps;
         lane = resolveClassComponentProps(Component, unresolvedOldProps);
@@ -9332,7 +9117,7 @@
             (_instance = !1));
       } else {
         _instance = workInProgress.stateNode;
-        cloneUpdateQueue(current, workInProgress);
+        cloneUpdateQueue(current$jscomp$0, workInProgress);
         state = workInProgress.memoizedProps;
         foundWillUpdateName = resolveClassComponentProps(Component, state);
         _instance.props = foundWillUpdateName;
@@ -9365,9 +9150,9 @@
         state !== newApiName ||
         oldState !== newState ||
         hasForceUpdate ||
-        (null !== current &&
-          null !== current.dependencies &&
-          checkIfContextChanged(current.dependencies))
+        (null !== current$jscomp$0 &&
+          null !== current$jscomp$0.dependencies &&
+          checkIfContextChanged(current$jscomp$0.dependencies))
           ? ("function" === typeof unresolvedOldProps &&
               (applyDerivedStateFromProps(
                 workInProgress,
@@ -9387,9 +9172,9 @@
                 newState,
                 lane
               ) ||
-              (null !== current &&
-                null !== current.dependencies &&
-                checkIfContextChanged(current.dependencies)))
+              (null !== current$jscomp$0 &&
+                null !== current$jscomp$0.dependencies &&
+                checkIfContextChanged(current$jscomp$0.dependencies)))
               ? (oldContext ||
                   ("function" !== typeof _instance.UNSAFE_componentWillUpdate &&
                     "function" !== typeof _instance.componentWillUpdate) ||
@@ -9406,12 +9191,12 @@
                 "function" === typeof _instance.getSnapshotBeforeUpdate &&
                   (workInProgress.flags |= 1024))
               : ("function" !== typeof _instance.componentDidUpdate ||
-                  (state === current.memoizedProps &&
-                    oldState === current.memoizedState) ||
+                  (state === current$jscomp$0.memoizedProps &&
+                    oldState === current$jscomp$0.memoizedState) ||
                   (workInProgress.flags |= 4),
                 "function" !== typeof _instance.getSnapshotBeforeUpdate ||
-                  (state === current.memoizedProps &&
-                    oldState === current.memoizedState) ||
+                  (state === current$jscomp$0.memoizedProps &&
+                    oldState === current$jscomp$0.memoizedState) ||
                   (workInProgress.flags |= 1024),
                 (workInProgress.memoizedProps = nextProps),
                 (workInProgress.memoizedState = newState)),
@@ -9420,21 +9205,24 @@
             (_instance.context = lane),
             (_instance = foundWillUpdateName))
           : ("function" !== typeof _instance.componentDidUpdate ||
-              (state === current.memoizedProps &&
-                oldState === current.memoizedState) ||
+              (state === current$jscomp$0.memoizedProps &&
+                oldState === current$jscomp$0.memoizedState) ||
               (workInProgress.flags |= 4),
             "function" !== typeof _instance.getSnapshotBeforeUpdate ||
-              (state === current.memoizedProps &&
-                oldState === current.memoizedState) ||
+              (state === current$jscomp$0.memoizedProps &&
+                oldState === current$jscomp$0.memoizedState) ||
               (workInProgress.flags |= 1024),
             (_instance = !1));
       }
       lane = _instance;
-      markRef(current, workInProgress);
+      markRef(current$jscomp$0, workInProgress);
       state = 0 !== (workInProgress.flags & 128);
       if (lane || state) {
         lane = workInProgress.stateNode;
-        setCurrentFiber(workInProgress);
+        ReactSharedInternals.getCurrentStack =
+          null === workInProgress ? null : getCurrentFiberStackInDev;
+        isRendering = !1;
+        current = workInProgress;
         if (state && "function" !== typeof Component.getDerivedStateFromError)
           (Component = null), (profilerStartTime = -1);
         else if (
@@ -9449,10 +9237,10 @@
           }
         }
         workInProgress.flags |= 1;
-        null !== current && state
+        null !== current$jscomp$0 && state
           ? ((workInProgress.child = reconcileChildFibers(
               workInProgress,
-              current.child,
+              current$jscomp$0.child,
               null,
               renderLanes
             )),
@@ -9462,12 +9250,17 @@
               Component,
               renderLanes
             )))
-          : reconcileChildren(current, workInProgress, Component, renderLanes);
+          : reconcileChildren(
+              current$jscomp$0,
+              workInProgress,
+              Component,
+              renderLanes
+            );
         workInProgress.memoizedState = lane.state;
-        current = workInProgress.child;
+        current$jscomp$0 = workInProgress.child;
       } else
-        current = bailoutOnAlreadyFinishedWork(
-          current,
+        current$jscomp$0 = bailoutOnAlreadyFinishedWork(
+          current$jscomp$0,
           workInProgress,
           renderLanes
         );
@@ -9480,7 +9273,7 @@
             getComponentNameFromFiber(workInProgress) || "a component"
           ),
         (didWarnAboutReassigningProps = !0));
-      return current;
+      return current$jscomp$0;
     }
     function mountHostRootWithoutHydrating(
       current,
@@ -9532,33 +9325,33 @@
       return current;
     }
     function updateSuspenseComponent(current, workInProgress, renderLanes) {
-      var JSCompiler_object_inline_componentStack_2625;
-      var JSCompiler_object_inline_stack_2624 = workInProgress.pendingProps;
+      var JSCompiler_object_inline_componentStack_2552;
+      var JSCompiler_object_inline_stack_2551 = workInProgress.pendingProps;
       shouldSuspendImpl(workInProgress) && (workInProgress.flags |= 128);
-      var JSCompiler_object_inline_message_2622 = !1;
+      var JSCompiler_object_inline_message_2549 = !1;
       var didSuspend = 0 !== (workInProgress.flags & 128);
-      (JSCompiler_object_inline_componentStack_2625 = didSuspend) ||
-        (JSCompiler_object_inline_componentStack_2625 =
+      (JSCompiler_object_inline_componentStack_2552 = didSuspend) ||
+        (JSCompiler_object_inline_componentStack_2552 =
           null !== current && null === current.memoizedState
             ? !1
             : 0 !== (suspenseStackCursor.current & ForceSuspenseFallback));
-      JSCompiler_object_inline_componentStack_2625 &&
-        ((JSCompiler_object_inline_message_2622 = !0),
+      JSCompiler_object_inline_componentStack_2552 &&
+        ((JSCompiler_object_inline_message_2549 = !0),
         (workInProgress.flags &= -129));
-      JSCompiler_object_inline_componentStack_2625 =
+      JSCompiler_object_inline_componentStack_2552 =
         0 !== (workInProgress.flags & 32);
       workInProgress.flags &= -33;
       if (null === current) {
         if (isHydrating) {
-          JSCompiler_object_inline_message_2622
+          JSCompiler_object_inline_message_2549
             ? pushPrimaryTreeSuspenseHandler(workInProgress)
             : reuseSuspenseHandlerOnStack(workInProgress);
           if (isHydrating) {
-            var JSCompiler_object_inline_digest_2623 = nextHydratableInstance;
+            var JSCompiler_object_inline_digest_2550 = nextHydratableInstance;
             var JSCompiler_temp;
-            if (!(JSCompiler_temp = !JSCompiler_object_inline_digest_2623)) {
+            if (!(JSCompiler_temp = !JSCompiler_object_inline_digest_2550)) {
               c: {
-                var instance = JSCompiler_object_inline_digest_2623;
+                var instance = JSCompiler_object_inline_digest_2550;
                 for (
                   JSCompiler_temp = rootOrSingletonContext;
                   8 !== instance.nodeType;
@@ -9600,87 +9393,87 @@
             JSCompiler_temp &&
               (warnNonHydratedInstance(
                 workInProgress,
-                JSCompiler_object_inline_digest_2623
+                JSCompiler_object_inline_digest_2550
               ),
               throwOnHydrationMismatch(workInProgress));
           }
-          JSCompiler_object_inline_digest_2623 = workInProgress.memoizedState;
+          JSCompiler_object_inline_digest_2550 = workInProgress.memoizedState;
           if (
-            null !== JSCompiler_object_inline_digest_2623 &&
-            ((JSCompiler_object_inline_digest_2623 =
-              JSCompiler_object_inline_digest_2623.dehydrated),
-            null !== JSCompiler_object_inline_digest_2623)
+            null !== JSCompiler_object_inline_digest_2550 &&
+            ((JSCompiler_object_inline_digest_2550 =
+              JSCompiler_object_inline_digest_2550.dehydrated),
+            null !== JSCompiler_object_inline_digest_2550)
           )
             return (
-              isSuspenseInstanceFallback(JSCompiler_object_inline_digest_2623)
+              isSuspenseInstanceFallback(JSCompiler_object_inline_digest_2550)
                 ? (workInProgress.lanes = 32)
                 : (workInProgress.lanes = 536870912),
               null
             );
           popSuspenseHandler(workInProgress);
         }
-        JSCompiler_object_inline_digest_2623 =
-          JSCompiler_object_inline_stack_2624.children;
-        JSCompiler_temp = JSCompiler_object_inline_stack_2624.fallback;
-        if (JSCompiler_object_inline_message_2622)
+        JSCompiler_object_inline_digest_2550 =
+          JSCompiler_object_inline_stack_2551.children;
+        JSCompiler_temp = JSCompiler_object_inline_stack_2551.fallback;
+        if (JSCompiler_object_inline_message_2549)
           return (
             reuseSuspenseHandlerOnStack(workInProgress),
-            (JSCompiler_object_inline_stack_2624 =
+            (JSCompiler_object_inline_stack_2551 =
               mountSuspenseFallbackChildren(
                 workInProgress,
-                JSCompiler_object_inline_digest_2623,
+                JSCompiler_object_inline_digest_2550,
                 JSCompiler_temp,
                 renderLanes
               )),
-            (JSCompiler_object_inline_message_2622 = workInProgress.child),
-            (JSCompiler_object_inline_message_2622.memoizedState =
+            (JSCompiler_object_inline_message_2549 = workInProgress.child),
+            (JSCompiler_object_inline_message_2549.memoizedState =
               mountSuspenseOffscreenState(renderLanes)),
-            (JSCompiler_object_inline_message_2622.childLanes =
+            (JSCompiler_object_inline_message_2549.childLanes =
               getRemainingWorkInPrimaryTree(
                 current,
-                JSCompiler_object_inline_componentStack_2625,
+                JSCompiler_object_inline_componentStack_2552,
                 renderLanes
               )),
             (workInProgress.memoizedState = SUSPENDED_MARKER),
-            JSCompiler_object_inline_stack_2624
+            JSCompiler_object_inline_stack_2551
           );
         if (
           "number" ===
-          typeof JSCompiler_object_inline_stack_2624.unstable_expectedLoadTime
+          typeof JSCompiler_object_inline_stack_2551.unstable_expectedLoadTime
         )
           return (
             reuseSuspenseHandlerOnStack(workInProgress),
-            (JSCompiler_object_inline_stack_2624 =
+            (JSCompiler_object_inline_stack_2551 =
               mountSuspenseFallbackChildren(
                 workInProgress,
-                JSCompiler_object_inline_digest_2623,
+                JSCompiler_object_inline_digest_2550,
                 JSCompiler_temp,
                 renderLanes
               )),
-            (JSCompiler_object_inline_message_2622 = workInProgress.child),
-            (JSCompiler_object_inline_message_2622.memoizedState =
+            (JSCompiler_object_inline_message_2549 = workInProgress.child),
+            (JSCompiler_object_inline_message_2549.memoizedState =
               mountSuspenseOffscreenState(renderLanes)),
-            (JSCompiler_object_inline_message_2622.childLanes =
+            (JSCompiler_object_inline_message_2549.childLanes =
               getRemainingWorkInPrimaryTree(
                 current,
-                JSCompiler_object_inline_componentStack_2625,
+                JSCompiler_object_inline_componentStack_2552,
                 renderLanes
               )),
             (workInProgress.memoizedState = SUSPENDED_MARKER),
             (workInProgress.lanes = 4194304),
-            JSCompiler_object_inline_stack_2624
+            JSCompiler_object_inline_stack_2551
           );
         pushPrimaryTreeSuspenseHandler(workInProgress);
         return mountSuspensePrimaryChildren(
           workInProgress,
-          JSCompiler_object_inline_digest_2623
+          JSCompiler_object_inline_digest_2550
         );
       }
       var prevState = current.memoizedState;
       if (
         null !== prevState &&
-        ((JSCompiler_object_inline_digest_2623 = prevState.dehydrated),
-        null !== JSCompiler_object_inline_digest_2623)
+        ((JSCompiler_object_inline_digest_2550 = prevState.dehydrated),
+        null !== JSCompiler_object_inline_digest_2550)
       ) {
         if (didSuspend)
           workInProgress.flags & 256
@@ -9697,94 +9490,94 @@
                 (workInProgress.flags |= 128),
                 (workInProgress = null))
               : (reuseSuspenseHandlerOnStack(workInProgress),
-                (JSCompiler_object_inline_message_2622 =
-                  JSCompiler_object_inline_stack_2624.fallback),
-                (JSCompiler_object_inline_digest_2623 = workInProgress.mode),
-                (JSCompiler_object_inline_stack_2624 =
+                (JSCompiler_object_inline_message_2549 =
+                  JSCompiler_object_inline_stack_2551.fallback),
+                (JSCompiler_object_inline_digest_2550 = workInProgress.mode),
+                (JSCompiler_object_inline_stack_2551 =
                   mountWorkInProgressOffscreenFiber(
                     {
                       mode: "visible",
-                      children: JSCompiler_object_inline_stack_2624.children
+                      children: JSCompiler_object_inline_stack_2551.children
                     },
-                    JSCompiler_object_inline_digest_2623
+                    JSCompiler_object_inline_digest_2550
                   )),
-                (JSCompiler_object_inline_message_2622 =
+                (JSCompiler_object_inline_message_2549 =
                   createFiberFromFragment(
-                    JSCompiler_object_inline_message_2622,
-                    JSCompiler_object_inline_digest_2623,
+                    JSCompiler_object_inline_message_2549,
+                    JSCompiler_object_inline_digest_2550,
                     renderLanes,
                     null
                   )),
-                (JSCompiler_object_inline_message_2622.flags |= 2),
-                (JSCompiler_object_inline_stack_2624.return = workInProgress),
-                (JSCompiler_object_inline_message_2622.return = workInProgress),
-                (JSCompiler_object_inline_stack_2624.sibling =
-                  JSCompiler_object_inline_message_2622),
-                (workInProgress.child = JSCompiler_object_inline_stack_2624),
+                (JSCompiler_object_inline_message_2549.flags |= 2),
+                (JSCompiler_object_inline_stack_2551.return = workInProgress),
+                (JSCompiler_object_inline_message_2549.return = workInProgress),
+                (JSCompiler_object_inline_stack_2551.sibling =
+                  JSCompiler_object_inline_message_2549),
+                (workInProgress.child = JSCompiler_object_inline_stack_2551),
                 reconcileChildFibers(
                   workInProgress,
                   current.child,
                   null,
                   renderLanes
                 ),
-                (JSCompiler_object_inline_stack_2624 = workInProgress.child),
-                (JSCompiler_object_inline_stack_2624.memoizedState =
+                (JSCompiler_object_inline_stack_2551 = workInProgress.child),
+                (JSCompiler_object_inline_stack_2551.memoizedState =
                   mountSuspenseOffscreenState(renderLanes)),
-                (JSCompiler_object_inline_stack_2624.childLanes =
+                (JSCompiler_object_inline_stack_2551.childLanes =
                   getRemainingWorkInPrimaryTree(
                     current,
-                    JSCompiler_object_inline_componentStack_2625,
+                    JSCompiler_object_inline_componentStack_2552,
                     renderLanes
                   )),
                 (workInProgress.memoizedState = SUSPENDED_MARKER),
-                (workInProgress = JSCompiler_object_inline_message_2622));
+                (workInProgress = JSCompiler_object_inline_message_2549));
         else if (
           (pushPrimaryTreeSuspenseHandler(workInProgress),
           isHydrating &&
             console.error(
               "We should not be hydrating here. This is a bug in React. Please file a bug."
             ),
-          isSuspenseInstanceFallback(JSCompiler_object_inline_digest_2623))
+          isSuspenseInstanceFallback(JSCompiler_object_inline_digest_2550))
         ) {
-          JSCompiler_object_inline_componentStack_2625 =
-            JSCompiler_object_inline_digest_2623.nextSibling &&
-            JSCompiler_object_inline_digest_2623.nextSibling.dataset;
-          if (JSCompiler_object_inline_componentStack_2625) {
-            JSCompiler_temp = JSCompiler_object_inline_componentStack_2625.dgst;
-            var message = JSCompiler_object_inline_componentStack_2625.msg;
-            instance = JSCompiler_object_inline_componentStack_2625.stck;
+          JSCompiler_object_inline_componentStack_2552 =
+            JSCompiler_object_inline_digest_2550.nextSibling &&
+            JSCompiler_object_inline_digest_2550.nextSibling.dataset;
+          if (JSCompiler_object_inline_componentStack_2552) {
+            JSCompiler_temp = JSCompiler_object_inline_componentStack_2552.dgst;
+            var message = JSCompiler_object_inline_componentStack_2552.msg;
+            instance = JSCompiler_object_inline_componentStack_2552.stck;
             var componentStack =
-              JSCompiler_object_inline_componentStack_2625.cstck;
+              JSCompiler_object_inline_componentStack_2552.cstck;
           }
-          JSCompiler_object_inline_message_2622 = message;
-          JSCompiler_object_inline_digest_2623 = JSCompiler_temp;
-          JSCompiler_object_inline_stack_2624 = instance;
-          JSCompiler_temp = JSCompiler_object_inline_componentStack_2625 =
+          JSCompiler_object_inline_message_2549 = message;
+          JSCompiler_object_inline_digest_2550 = JSCompiler_temp;
+          JSCompiler_object_inline_stack_2551 = instance;
+          JSCompiler_temp = JSCompiler_object_inline_componentStack_2552 =
             componentStack;
-          "POSTPONE" !== JSCompiler_object_inline_digest_2623 &&
-            ((JSCompiler_object_inline_componentStack_2625 =
-              JSCompiler_object_inline_message_2622
-                ? Error(JSCompiler_object_inline_message_2622)
+          "POSTPONE" !== JSCompiler_object_inline_digest_2550 &&
+            ((JSCompiler_object_inline_componentStack_2552 =
+              JSCompiler_object_inline_message_2549
+                ? Error(JSCompiler_object_inline_message_2549)
                 : Error(
                     "The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."
                   )),
-            (JSCompiler_object_inline_componentStack_2625.stack =
-              JSCompiler_object_inline_stack_2624 || ""),
-            (JSCompiler_object_inline_componentStack_2625.digest =
-              JSCompiler_object_inline_digest_2623),
-            (JSCompiler_object_inline_stack_2624 =
+            (JSCompiler_object_inline_componentStack_2552.stack =
+              JSCompiler_object_inline_stack_2551 || ""),
+            (JSCompiler_object_inline_componentStack_2552.digest =
+              JSCompiler_object_inline_digest_2550),
+            (JSCompiler_object_inline_stack_2551 =
               void 0 === JSCompiler_temp ? null : JSCompiler_temp),
-            (JSCompiler_object_inline_message_2622 = {
-              value: JSCompiler_object_inline_componentStack_2625,
+            (JSCompiler_object_inline_message_2549 = {
+              value: JSCompiler_object_inline_componentStack_2552,
               source: null,
-              stack: JSCompiler_object_inline_stack_2624
+              stack: JSCompiler_object_inline_stack_2551
             }),
-            "string" === typeof JSCompiler_object_inline_stack_2624 &&
+            "string" === typeof JSCompiler_object_inline_stack_2551 &&
               CapturedStacks.set(
-                JSCompiler_object_inline_componentStack_2625,
-                JSCompiler_object_inline_message_2622
+                JSCompiler_object_inline_componentStack_2552,
+                JSCompiler_object_inline_message_2549
               ),
-            queueHydrationError(JSCompiler_object_inline_message_2622));
+            queueHydrationError(JSCompiler_object_inline_message_2549));
           workInProgress = retrySuspenseComponentWithoutHydrating(
             current,
             workInProgress,
@@ -9798,44 +9591,44 @@
               renderLanes,
               !1
             ),
-          (JSCompiler_object_inline_componentStack_2625 =
+          (JSCompiler_object_inline_componentStack_2552 =
             0 !== (renderLanes & current.childLanes)),
-          didReceiveUpdate || JSCompiler_object_inline_componentStack_2625)
+          didReceiveUpdate || JSCompiler_object_inline_componentStack_2552)
         ) {
-          JSCompiler_object_inline_componentStack_2625 = workInProgressRoot;
+          JSCompiler_object_inline_componentStack_2552 = workInProgressRoot;
           if (
-            null !== JSCompiler_object_inline_componentStack_2625 &&
-            ((JSCompiler_object_inline_stack_2624 = renderLanes & -renderLanes),
-            (JSCompiler_object_inline_stack_2624 =
-              0 !== (JSCompiler_object_inline_stack_2624 & 42)
+            null !== JSCompiler_object_inline_componentStack_2552 &&
+            ((JSCompiler_object_inline_stack_2551 = renderLanes & -renderLanes),
+            (JSCompiler_object_inline_stack_2551 =
+              0 !== (JSCompiler_object_inline_stack_2551 & 42)
                 ? 1
                 : getBumpedLaneForHydrationByLane(
-                    JSCompiler_object_inline_stack_2624
+                    JSCompiler_object_inline_stack_2551
                   )),
-            (JSCompiler_object_inline_stack_2624 =
+            (JSCompiler_object_inline_stack_2551 =
               0 !==
-              (JSCompiler_object_inline_stack_2624 &
-                (JSCompiler_object_inline_componentStack_2625.suspendedLanes |
+              (JSCompiler_object_inline_stack_2551 &
+                (JSCompiler_object_inline_componentStack_2552.suspendedLanes |
                   renderLanes))
                 ? 0
-                : JSCompiler_object_inline_stack_2624),
-            0 !== JSCompiler_object_inline_stack_2624 &&
-              JSCompiler_object_inline_stack_2624 !== prevState.retryLane)
+                : JSCompiler_object_inline_stack_2551),
+            0 !== JSCompiler_object_inline_stack_2551 &&
+              JSCompiler_object_inline_stack_2551 !== prevState.retryLane)
           )
             throw (
-              ((prevState.retryLane = JSCompiler_object_inline_stack_2624),
+              ((prevState.retryLane = JSCompiler_object_inline_stack_2551),
               enqueueConcurrentRenderForLane(
                 current,
-                JSCompiler_object_inline_stack_2624
+                JSCompiler_object_inline_stack_2551
               ),
               scheduleUpdateOnFiber(
-                JSCompiler_object_inline_componentStack_2625,
+                JSCompiler_object_inline_componentStack_2552,
                 current,
-                JSCompiler_object_inline_stack_2624
+                JSCompiler_object_inline_stack_2551
               ),
               SelectiveHydrationException)
             );
-          JSCompiler_object_inline_digest_2623.data ===
+          JSCompiler_object_inline_digest_2550.data ===
             SUSPENSE_PENDING_START_DATA || renderDidSuspendDelayIfPossible();
           workInProgress = retrySuspenseComponentWithoutHydrating(
             current,
@@ -9843,14 +9636,14 @@
             renderLanes
           );
         } else
-          JSCompiler_object_inline_digest_2623.data ===
+          JSCompiler_object_inline_digest_2550.data ===
           SUSPENSE_PENDING_START_DATA
             ? ((workInProgress.flags |= 192),
               (workInProgress.child = current.child),
               (workInProgress = null))
             : ((current = prevState.treeContext),
               (nextHydratableInstance = getNextHydratable(
-                JSCompiler_object_inline_digest_2623.nextSibling
+                JSCompiler_object_inline_digest_2550.nextSibling
               )),
               (hydrationParentFiber = workInProgress),
               (isHydrating = !0),
@@ -9868,54 +9661,54 @@
                 (treeContextProvider = workInProgress)),
               (workInProgress = mountSuspensePrimaryChildren(
                 workInProgress,
-                JSCompiler_object_inline_stack_2624.children
+                JSCompiler_object_inline_stack_2551.children
               )),
               (workInProgress.flags |= 4096));
         return workInProgress;
       }
-      if (JSCompiler_object_inline_message_2622)
+      if (JSCompiler_object_inline_message_2549)
         return (
           reuseSuspenseHandlerOnStack(workInProgress),
-          (JSCompiler_object_inline_message_2622 =
-            JSCompiler_object_inline_stack_2624.fallback),
-          (JSCompiler_object_inline_digest_2623 = workInProgress.mode),
+          (JSCompiler_object_inline_message_2549 =
+            JSCompiler_object_inline_stack_2551.fallback),
+          (JSCompiler_object_inline_digest_2550 = workInProgress.mode),
           (JSCompiler_temp = current.child),
           (instance = JSCompiler_temp.sibling),
-          (JSCompiler_object_inline_stack_2624 = createWorkInProgress(
+          (JSCompiler_object_inline_stack_2551 = createWorkInProgress(
             JSCompiler_temp,
             {
               mode: "hidden",
-              children: JSCompiler_object_inline_stack_2624.children
+              children: JSCompiler_object_inline_stack_2551.children
             }
           )),
-          (JSCompiler_object_inline_stack_2624.subtreeFlags =
+          (JSCompiler_object_inline_stack_2551.subtreeFlags =
             JSCompiler_temp.subtreeFlags & 65011712),
           null !== instance
-            ? (JSCompiler_object_inline_message_2622 = createWorkInProgress(
+            ? (JSCompiler_object_inline_message_2549 = createWorkInProgress(
                 instance,
-                JSCompiler_object_inline_message_2622
+                JSCompiler_object_inline_message_2549
               ))
-            : ((JSCompiler_object_inline_message_2622 = createFiberFromFragment(
-                JSCompiler_object_inline_message_2622,
-                JSCompiler_object_inline_digest_2623,
+            : ((JSCompiler_object_inline_message_2549 = createFiberFromFragment(
+                JSCompiler_object_inline_message_2549,
+                JSCompiler_object_inline_digest_2550,
                 renderLanes,
                 null
               )),
-              (JSCompiler_object_inline_message_2622.flags |= 2)),
-          (JSCompiler_object_inline_message_2622.return = workInProgress),
-          (JSCompiler_object_inline_stack_2624.return = workInProgress),
-          (JSCompiler_object_inline_stack_2624.sibling =
-            JSCompiler_object_inline_message_2622),
-          (workInProgress.child = JSCompiler_object_inline_stack_2624),
-          (JSCompiler_object_inline_stack_2624 =
-            JSCompiler_object_inline_message_2622),
-          (JSCompiler_object_inline_message_2622 = workInProgress.child),
-          (JSCompiler_object_inline_digest_2623 = current.child.memoizedState),
-          null === JSCompiler_object_inline_digest_2623
-            ? (JSCompiler_object_inline_digest_2623 =
+              (JSCompiler_object_inline_message_2549.flags |= 2)),
+          (JSCompiler_object_inline_message_2549.return = workInProgress),
+          (JSCompiler_object_inline_stack_2551.return = workInProgress),
+          (JSCompiler_object_inline_stack_2551.sibling =
+            JSCompiler_object_inline_message_2549),
+          (workInProgress.child = JSCompiler_object_inline_stack_2551),
+          (JSCompiler_object_inline_stack_2551 =
+            JSCompiler_object_inline_message_2549),
+          (JSCompiler_object_inline_message_2549 = workInProgress.child),
+          (JSCompiler_object_inline_digest_2550 = current.child.memoizedState),
+          null === JSCompiler_object_inline_digest_2550
+            ? (JSCompiler_object_inline_digest_2550 =
                 mountSuspenseOffscreenState(renderLanes))
             : ((JSCompiler_temp =
-                JSCompiler_object_inline_digest_2623.cachePool),
+                JSCompiler_object_inline_digest_2550.cachePool),
               null !== JSCompiler_temp
                 ? ((instance = CacheContext._currentValue),
                   (JSCompiler_temp =
@@ -9923,38 +9716,38 @@
                       ? { parent: instance, pool: instance }
                       : JSCompiler_temp))
                 : (JSCompiler_temp = getSuspendedCache()),
-              (JSCompiler_object_inline_digest_2623 = {
+              (JSCompiler_object_inline_digest_2550 = {
                 baseLanes:
-                  JSCompiler_object_inline_digest_2623.baseLanes | renderLanes,
+                  JSCompiler_object_inline_digest_2550.baseLanes | renderLanes,
                 cachePool: JSCompiler_temp
               })),
-          (JSCompiler_object_inline_message_2622.memoizedState =
-            JSCompiler_object_inline_digest_2623),
-          (JSCompiler_object_inline_message_2622.childLanes =
+          (JSCompiler_object_inline_message_2549.memoizedState =
+            JSCompiler_object_inline_digest_2550),
+          (JSCompiler_object_inline_message_2549.childLanes =
             getRemainingWorkInPrimaryTree(
               current,
-              JSCompiler_object_inline_componentStack_2625,
+              JSCompiler_object_inline_componentStack_2552,
               renderLanes
             )),
           (workInProgress.memoizedState = SUSPENDED_MARKER),
-          JSCompiler_object_inline_stack_2624
+          JSCompiler_object_inline_stack_2551
         );
       pushPrimaryTreeSuspenseHandler(workInProgress);
       renderLanes = current.child;
       current = renderLanes.sibling;
       renderLanes = createWorkInProgress(renderLanes, {
         mode: "visible",
-        children: JSCompiler_object_inline_stack_2624.children
+        children: JSCompiler_object_inline_stack_2551.children
       });
       renderLanes.return = workInProgress;
       renderLanes.sibling = null;
       null !== current &&
-        ((JSCompiler_object_inline_componentStack_2625 =
+        ((JSCompiler_object_inline_componentStack_2552 =
           workInProgress.deletions),
-        null === JSCompiler_object_inline_componentStack_2625
+        null === JSCompiler_object_inline_componentStack_2552
           ? ((workInProgress.deletions = [current]),
             (workInProgress.flags |= 16))
-          : JSCompiler_object_inline_componentStack_2625.push(current));
+          : JSCompiler_object_inline_componentStack_2552.push(current));
       workInProgress.child = renderLanes;
       workInProgress.memoizedState = null;
       return renderLanes;
@@ -10519,10 +10312,10 @@
               current.$$typeof === REACT_LAZY_TYPE &&
               (workInProgress =
                 " Did you wrap a component in React.lazy() more than once?");
-            renderLanes = getComponentNameFromType(current) || current;
+            current = getComponentNameFromType(current) || current;
             throw Error(
               "Element type is invalid. Received a promise that resolves to: " +
-                renderLanes +
+                current +
                 ". Lazy element type must resolve to a class or function." +
                 workInProgress
             );
@@ -10561,15 +10354,15 @@
               throw Error(
                 "Should have a current fiber. This is a bug in React."
               );
-            returnFiber = workInProgress.pendingProps;
-            var prevState = workInProgress.memoizedState;
-            prevSibling = prevState.element;
+            var nextProps = workInProgress.pendingProps;
+            prevSibling = workInProgress.memoizedState;
+            returnFiber = prevSibling.element;
             cloneUpdateQueue(current, workInProgress);
-            processUpdateQueue(workInProgress, returnFiber, null, renderLanes);
+            processUpdateQueue(workInProgress, nextProps, null, renderLanes);
             var nextState = workInProgress.memoizedState;
-            returnFiber = nextState.cache;
-            pushProvider(workInProgress, CacheContext, returnFiber);
-            returnFiber !== prevState.cache &&
+            nextProps = nextState.cache;
+            pushProvider(workInProgress, CacheContext, nextProps);
+            nextProps !== prevSibling.cache &&
               propagateContextChanges(
                 workInProgress,
                 [CacheContext],
@@ -10577,72 +10370,66 @@
                 !0
               );
             suspendIfUpdateReadFromEntangledAsyncAction();
-            returnFiber = nextState.element;
-            if (prevState.isDehydrated)
+            nextProps = nextState.element;
+            if (prevSibling.isDehydrated)
               if (
-                ((prevState = {
-                  element: returnFiber,
+                ((prevSibling = {
+                  element: nextProps,
                   isDehydrated: !1,
                   cache: nextState.cache
                 }),
-                (workInProgress.updateQueue.baseState = prevState),
-                (workInProgress.memoizedState = prevState),
+                (workInProgress.updateQueue.baseState = prevSibling),
+                (workInProgress.memoizedState = prevSibling),
                 workInProgress.flags & 256)
               ) {
                 workInProgress = mountHostRootWithoutHydrating(
                   current,
                   workInProgress,
-                  returnFiber,
+                  nextProps,
                   renderLanes
                 );
                 break a;
-              } else if (returnFiber !== prevSibling) {
-                prevSibling = createCapturedValueAtFiber(
+              } else if (nextProps !== returnFiber) {
+                returnFiber = createCapturedValueAtFiber(
                   Error(
                     "This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."
                   ),
                   workInProgress
                 );
-                queueHydrationError(prevSibling);
+                queueHydrationError(returnFiber);
                 workInProgress = mountHostRootWithoutHydrating(
                   current,
                   workInProgress,
-                  returnFiber,
+                  nextProps,
                   renderLanes
                 );
                 break a;
-              } else {
-                current = workInProgress.stateNode.containerInfo;
-                switch (current.nodeType) {
-                  case 9:
-                    current = current.body;
-                    break;
-                  default:
-                    current =
-                      "HTML" === current.nodeName
-                        ? current.ownerDocument.body
-                        : current;
-                }
-                nextHydratableInstance = getNextHydratable(current.firstChild);
-                hydrationParentFiber = workInProgress;
-                isHydrating = !0;
-                hydrationErrors = null;
-                didSuspendOrErrorDEV = !1;
-                hydrationDiffRootDEV = null;
-                rootOrSingletonContext = !0;
-                renderLanes = mountChildFibers(
-                  workInProgress,
-                  null,
-                  returnFiber,
-                  renderLanes
-                );
-                for (workInProgress.child = renderLanes; renderLanes; )
-                  (renderLanes.flags = (renderLanes.flags & -3) | 4096),
-                    (renderLanes = renderLanes.sibling);
-              }
+              } else
+                for (
+                  nextHydratableInstance = getNextHydratable(
+                    workInProgress.stateNode.containerInfo.firstChild
+                  ),
+                    hydrationParentFiber = workInProgress,
+                    isHydrating = !0,
+                    hydrationErrors = null,
+                    didSuspendOrErrorDEV = !1,
+                    hydrationDiffRootDEV = null,
+                    rootOrSingletonContext = !0,
+                    current = mountChildFibers(
+                      workInProgress,
+                      null,
+                      nextProps,
+                      renderLanes
+                    ),
+                    workInProgress.child = current;
+                  current;
+
+                )
+                  (current.flags = (current.flags & -3) | 4096),
+                    (current = current.sibling);
             else {
               resetHydrationState();
-              if (returnFiber === prevSibling) {
+              if (nextProps === returnFiber) {
                 workInProgress = bailoutOnAlreadyFinishedWork(
                   current,
                   workInProgress,
@@ -10653,7 +10440,7 @@
               reconcileChildren(
                 current,
                 workInProgress,
-                returnFiber,
+                nextProps,
                 renderLanes
               );
             }
@@ -10664,26 +10451,26 @@
           return (
             markRef(current, workInProgress),
             null === current
-              ? (renderLanes = getResource(
+              ? (current = getResource(
                   workInProgress.type,
                   null,
                   workInProgress.pendingProps,
                   null
                 ))
-                ? (workInProgress.memoizedState = renderLanes)
+                ? (workInProgress.memoizedState = current)
                 : isHydrating ||
-                  ((renderLanes = workInProgress.type),
-                  (current = workInProgress.pendingProps),
+                  ((current = workInProgress.type),
+                  (renderLanes = workInProgress.pendingProps),
                   (returnFiber = requiredContext(
                     rootInstanceStackCursor.current
                   )),
                   (returnFiber =
                     getOwnerDocumentFromRootContainer(
                       returnFiber
-                    ).createElement(renderLanes)),
+                    ).createElement(current)),
                   (returnFiber[internalInstanceKey] = workInProgress),
-                  (returnFiber[internalPropsKey] = current),
-                  setInitialProperties(returnFiber, renderLanes, current),
+                  (returnFiber[internalPropsKey] = renderLanes),
+                  setInitialProperties(returnFiber, current, renderLanes),
                   markNodeAsHoistable(returnFiber),
                   (workInProgress.stateNode = returnFiber))
               : (workInProgress.memoizedState = getResource(
@@ -10699,53 +10486,56 @@
             pushHostContext(workInProgress),
             null === current &&
               isHydrating &&
-              ((returnFiber = requiredContext(rootInstanceStackCursor.current)),
-              (prevSibling = getHostContext()),
-              (returnFiber = workInProgress.stateNode =
+              ((prevSibling = requiredContext(rootInstanceStackCursor.current)),
+              (returnFiber = getHostContext()),
+              (prevSibling = workInProgress.stateNode =
                 resolveSingletonInstance(
                   workInProgress.type,
                   workInProgress.pendingProps,
-                  returnFiber,
                   prevSibling,
+                  returnFiber,
                   !1
                 )),
               didSuspendOrErrorDEV ||
-                ((prevSibling = diffHydratedProperties(
-                  returnFiber,
+                ((returnFiber = diffHydratedProperties(
+                  prevSibling,
                   workInProgress.type,
                   workInProgress.pendingProps,
-                  prevSibling
+                  returnFiber
                 )),
-                null !== prevSibling &&
+                null !== returnFiber &&
                   (buildHydrationDiffNode(workInProgress, 0).serverProps =
-                    prevSibling)),
+                    returnFiber)),
               (hydrationParentFiber = workInProgress),
               (rootOrSingletonContext = !0),
-              (prevSibling = nextHydratableInstance),
-              isSingletonScope(workInProgress.type)
-                ? ((previousHydratableOnEnteringScopedSingleton = prevSibling),
-                  (nextHydratableInstance = getNextHydratable(
-                    returnFiber.firstChild
-                  )))
-                : (nextHydratableInstance = prevSibling)),
-            reconcileChildren(
-              current,
-              workInProgress,
-              workInProgress.pendingProps.children,
-              renderLanes
-            ),
+              (nextHydratableInstance = getNextHydratable(
+                prevSibling.firstChild
+              ))),
+            (returnFiber = workInProgress.pendingProps.children),
+            null !== current || isHydrating
+              ? reconcileChildren(
+                  current,
+                  workInProgress,
+                  returnFiber,
+                  renderLanes
+                )
+              : (workInProgress.child = reconcileChildFibers(
+                  workInProgress,
+                  null,
+                  returnFiber,
+                  renderLanes
+                )),
             markRef(current, workInProgress),
-            null === current && (workInProgress.flags |= 4194304),
             workInProgress.child
           );
         case 5:
           return (
             null === current &&
               isHydrating &&
-              ((prevState = getHostContext()),
+              ((nextProps = getHostContext()),
               (returnFiber = validateDOMNesting(
                 workInProgress.type,
-                prevState.ancestorInfo
+                nextProps.ancestorInfo
               )),
               (prevSibling = nextHydratableInstance),
               (nextState = !prevSibling) ||
@@ -10758,33 +10548,33 @@
                 null !== nextState
                   ? ((workInProgress.stateNode = nextState),
                     didSuspendOrErrorDEV ||
-                      ((prevState = diffHydratedProperties(
+                      ((nextProps = diffHydratedProperties(
                         nextState,
                         workInProgress.type,
                         workInProgress.pendingProps,
-                        prevState
+                        nextProps
                       )),
-                      null !== prevState &&
+                      null !== nextProps &&
                         (buildHydrationDiffNode(workInProgress, 0).serverProps =
-                          prevState)),
+                          nextProps)),
                     (hydrationParentFiber = workInProgress),
                     (nextHydratableInstance = getNextHydratable(
                       nextState.firstChild
                     )),
                     (rootOrSingletonContext = !1),
-                    (prevState = !0))
-                  : (prevState = !1),
-                (nextState = !prevState)),
+                    (nextProps = !0))
+                  : (nextProps = !1),
+                (nextState = !nextProps)),
               nextState &&
                 (returnFiber &&
                   warnNonHydratedInstance(workInProgress, prevSibling),
                 throwOnHydrationMismatch(workInProgress))),
             pushHostContext(workInProgress),
             (prevSibling = workInProgress.type),
-            (prevState = workInProgress.pendingProps),
+            (nextProps = workInProgress.pendingProps),
             (nextState = null !== current ? current.memoizedProps : null),
-            (returnFiber = prevState.children),
-            shouldSetTextContent(prevSibling, prevState)
+            (returnFiber = nextProps.children),
+            shouldSetTextContent(prevSibling, nextProps)
               ? (returnFiber = null)
               : null !== nextState &&
                 shouldSetTextContent(prevSibling, nextState) &&
@@ -10812,21 +10602,16 @@
           return (
             null === current &&
               isHydrating &&
-              ((renderLanes = workInProgress.pendingProps),
-              (current = getHostContext()),
-              (returnFiber = current.ancestorInfo.current),
-              (renderLanes =
-                null != returnFiber
-                  ? validateTextNesting(
-                      renderLanes,
-                      returnFiber.tag,
-                      current.ancestorInfo.implicitRootScope
-                    )
+              ((current = workInProgress.pendingProps),
+              (renderLanes = getHostContext().ancestorInfo.current),
+              (current =
+                null != renderLanes
+                  ? validateTextNesting(current, renderLanes.tag)
                   : !0),
-              (current = nextHydratableInstance),
-              (returnFiber = !current) ||
+              (renderLanes = nextHydratableInstance),
+              (returnFiber = !renderLanes) ||
                 ((returnFiber = canHydrateTextInstance(
-                  current,
+                  renderLanes,
                   workInProgress.pendingProps,
                   rootOrSingletonContext
                 )),
@@ -10838,8 +10623,8 @@
                   : (returnFiber = !1),
                 (returnFiber = !returnFiber)),
               returnFiber &&
-                (renderLanes &&
-                  warnNonHydratedInstance(workInProgress, current),
+                (current &&
+                  warnNonHydratedInstance(workInProgress, renderLanes),
                 throwOnHydrationMismatch(workInProgress))),
             null
           );
@@ -10914,14 +10699,14 @@
           return (
             (returnFiber = workInProgress.type),
             (prevSibling = workInProgress.pendingProps),
-            (prevState = prevSibling.value),
+            (nextProps = prevSibling.value),
             "value" in prevSibling ||
               hasWarnedAboutUsingNoValuePropOnContextProvider ||
               ((hasWarnedAboutUsingNoValuePropOnContextProvider = !0),
               console.error(
                 "The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"
               )),
-            pushProvider(workInProgress, returnFiber, prevState),
+            pushProvider(workInProgress, returnFiber, nextProps),
             reconcileChildren(
               current,
               workInProgress,
@@ -10986,12 +10771,12 @@
               ? ((prevSibling = peekCacheFromPool()),
                 null === prevSibling &&
                   ((prevSibling = workInProgressRoot),
-                  (prevState = createCache()),
-                  (prevSibling.pooledCache = prevState),
-                  retainCache(prevState),
-                  null !== prevState &&
+                  (nextProps = createCache()),
+                  (prevSibling.pooledCache = nextProps),
+                  retainCache(nextProps),
+                  null !== nextProps &&
                     (prevSibling.pooledCacheLanes |= renderLanes),
-                  (prevSibling = prevState)),
+                  (prevSibling = nextProps)),
                 (workInProgress.memoizedState = {
                   parent: returnFiber,
                   cache: prevSibling
@@ -11003,7 +10788,7 @@
                   processUpdateQueue(workInProgress, null, null, renderLanes),
                   suspendIfUpdateReadFromEntangledAsyncAction()),
                 (prevSibling = current.memoizedState),
-                (prevState = workInProgress.memoizedState),
+                (nextProps = workInProgress.memoizedState),
                 prevSibling.parent !== returnFiber
                   ? ((prevSibling = {
                       parent: returnFiber,
@@ -11015,7 +10800,7 @@
                         workInProgress.updateQueue.baseState =
                           prevSibling),
                     pushProvider(workInProgress, CacheContext, returnFiber))
-                  : ((returnFiber = prevState.cache),
+                  : ((returnFiber = nextProps.cache),
                     pushProvider(workInProgress, CacheContext, returnFiber),
                     returnFiber !== prevSibling.cache &&
                       propagateContextChanges(
@@ -11037,21 +10822,23 @@
             (returnFiber = workInProgress.pendingProps),
             (prevSibling = workInProgress.stateNode),
             null != returnFiber.name && "auto" !== returnFiber.name
-              ? (workInProgress.flags |= null === current ? 18882560 : 18874368)
+              ? ((workInProgress.flags |= 2097152),
+                null === current &&
+                  trackAppearingViewTransition(prevSibling, returnFiber.name))
               : null === prevSibling.autoName &&
-                ((prevState = workInProgressRoot.identifierPrefix),
+                ((nextProps = workInProgressRoot.identifierPrefix),
                 isHydrating
                   ? ((nextState = getTreeId()),
-                    (prevState =
-                      "\u00ab" + prevState + "T" + nextState + "\u00bb"))
+                    (nextProps =
+                      "\u00ab" + nextProps + "T" + nextState + "\u00bb"))
                   : ((nextState = globalClientIdCounter++),
-                    (prevState =
+                    (nextProps =
                       "\u00ab" +
-                      prevState +
+                      nextProps +
                       "t" +
                       nextState.toString(32) +
                       "\u00bb")),
-                (prevSibling.autoName = prevState)),
+                (prevSibling.autoName = nextProps)),
             null !== current && current.memoizedProps.name !== returnFiber.name
               ? (workInProgress.flags |= 4194816)
               : markRef(current, workInProgress),
@@ -11180,11 +10967,10 @@
                 ((inst.destroy = void 0),
                 (flags & Insertion) !== NoFlags &&
                   (isRunningInsertionEffect = !0),
-                (lastEffect = finishedWork),
                 runWithFiberInDEV(
-                  lastEffect,
+                  finishedWork,
                   callDestroyInDEV,
-                  lastEffect,
+                  finishedWork,
                   nearestMountedAncestor,
                   destroy
                 ),
@@ -11497,7 +11283,7 @@
         5 === fiber.tag ||
         3 === fiber.tag ||
         26 === fiber.tag ||
-        (27 === fiber.tag && isSingletonScope(fiber.type)) ||
+        27 === fiber.tag ||
         4 === fiber.tag
       );
     }
@@ -11510,10 +11296,12 @@
         fiber.sibling.return = fiber.return;
         for (
           fiber = fiber.sibling;
-          5 !== fiber.tag && 6 !== fiber.tag && 18 !== fiber.tag;
+          5 !== fiber.tag &&
+          6 !== fiber.tag &&
+          27 !== fiber.tag &&
+          18 !== fiber.tag;
 
         ) {
-          if (27 === fiber.tag && isSingletonScope(fiber.type)) continue a;
           if (fiber.flags & 2) continue a;
           if (null === fiber.child || 4 === fiber.tag) continue a;
           else (fiber.child.return = fiber), (fiber = fiber.child);
@@ -11526,32 +11314,19 @@
       if (5 === tag || 6 === tag)
         (node = node.stateNode),
           before
-            ? (9 === parent.nodeType
-                ? parent.body
-                : "HTML" === parent.nodeName
-                  ? parent.ownerDocument.body
-                  : parent
-              ).insertBefore(node, before)
-            : ((before =
-                9 === parent.nodeType
-                  ? parent.body
-                  : "HTML" === parent.nodeName
-                    ? parent.ownerDocument.body
-                    : parent),
-              before.appendChild(node),
+            ? 8 === parent.nodeType
+              ? parent.parentNode.insertBefore(node, before)
+              : parent.insertBefore(node, before)
+            : (8 === parent.nodeType
+                ? ((before = parent.parentNode),
+                  before.insertBefore(node, parent))
+                : ((before = parent), before.appendChild(node)),
               (parent = parent._reactRootContainer),
               (null !== parent && void 0 !== parent) ||
                 null !== before.onclick ||
                 (before.onclick = noop$1)),
           (viewTransitionMutationContext = !0);
-      else if (
-        4 !== tag &&
-        (27 === tag &&
-          isSingletonScope(node.type) &&
-          ((parent = node.stateNode), (before = null)),
-        (node = node.child),
-        null !== node)
-      )
+      else if (4 !== tag && 27 !== tag && ((node = node.child), null !== node))
         for (
           insertOrAppendPlacementNodeIntoContainer(node, before, parent),
             node = node.sibling;
@@ -11567,12 +11342,7 @@
         (node = node.stateNode),
           before ? parent.insertBefore(node, before) : parent.appendChild(node),
           (viewTransitionMutationContext = !0);
-      else if (
-        4 !== tag &&
-        (27 === tag && isSingletonScope(node.type) && (parent = node.stateNode),
-        (node = node.child),
-        null !== node)
-      )
+      else if (4 !== tag && 27 !== tag && ((node = node.child), null !== node))
         for (
           insertOrAppendPlacementNode(node, before, parent),
             node = node.sibling;
@@ -11583,138 +11353,367 @@
             (node = node.sibling);
     }
     function commitPlacement(finishedWork) {
-      a: {
-        for (var parent = finishedWork.return; null !== parent; ) {
-          if (isHostParent(parent)) {
-            var parentFiber = parent;
-            break a;
+      if (27 !== finishedWork.tag) {
+        a: {
+          for (var parent = finishedWork.return; null !== parent; ) {
+            if (isHostParent(parent)) {
+              var parentFiber = parent;
+              break a;
+            }
+            parent = parent.return;
           }
-          parent = parent.return;
-        }
-        throw Error(
-          "Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue."
-        );
-      }
-      switch (parentFiber.tag) {
-        case 27:
-          parent = parentFiber.stateNode;
-          parentFiber = getHostSibling(finishedWork);
-          insertOrAppendPlacementNode(finishedWork, parentFiber, parent);
-          break;
-        case 5:
-          parent = parentFiber.stateNode;
-          parentFiber.flags & 32 &&
-            (resetTextContent(parent), (parentFiber.flags &= -33));
-          parentFiber = getHostSibling(finishedWork);
-          insertOrAppendPlacementNode(finishedWork, parentFiber, parent);
-          break;
-        case 3:
-        case 4:
-          parent = parentFiber.stateNode.containerInfo;
-          parentFiber = getHostSibling(finishedWork);
-          insertOrAppendPlacementNodeIntoContainer(
-            finishedWork,
-            parentFiber,
-            parent
-          );
-          break;
-        default:
           throw Error(
-            "Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue."
+            "Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue."
           );
-      }
-    }
-    function commitHostSingletonAcquisition(finishedWork) {
-      var singleton = finishedWork.stateNode,
-        props = finishedWork.memoizedProps;
-      try {
-        runWithFiberInDEV(
-          finishedWork,
-          acquireSingletonInstance,
-          finishedWork.type,
-          props,
-          singleton,
-          finishedWork
-        );
-      } catch (error) {
-        captureCommitPhaseError(finishedWork, finishedWork.return, error);
-      }
-    }
-    function applyViewTransitionToHostInstances(
-      child,
-      name,
-      className,
-      collectMeasurements,
-      stopAtNestedViewTransitions
-    ) {
-      for (var inViewport = !1; null !== child; ) {
-        if (5 === child.tag) {
-          shouldStartViewTransition = !0;
-          var instance = child.stateNode;
-          if (null !== collectMeasurements) {
-            var measurement = measureInstance(instance);
-            collectMeasurements.push(measurement);
-            measurement.view && (inViewport = !0);
-          } else
-            inViewport || (measureInstance(instance).view && (inViewport = !0));
-          measurement = className;
-          instance.style.viewTransitionName =
-            0 === viewTransitionHostInstanceIdx
-              ? name
-              : name + "_" + viewTransitionHostInstanceIdx;
-          null != measurement &&
-            (instance.style.viewTransitionClass = measurement);
-          viewTransitionHostInstanceIdx++;
-        } else if (22 !== child.tag || null === child.memoizedState)
-          (30 === child.tag && stopAtNestedViewTransitions) ||
-            (applyViewTransitionToHostInstances(
-              child.child,
-              name,
-              className,
-              collectMeasurements,
-              stopAtNestedViewTransitions
-            ) &&
-              (inViewport = !0));
-        child = child.sibling;
-      }
-      return inViewport;
-    }
-    function restoreViewTransitionOnHostInstances(
-      child,
-      stopAtNestedViewTransitions
-    ) {
-      for (; null !== child; ) {
-        if (5 === child.tag)
-          restoreViewTransitionName(child.stateNode, child.memoizedProps);
-        else if (22 !== child.tag || null === child.memoizedState)
-          (30 === child.tag && stopAtNestedViewTransitions) ||
-            restoreViewTransitionOnHostInstances(
-              child.child,
-              stopAtNestedViewTransitions
+        }
+        switch (parentFiber.tag) {
+          case 27:
+            parent = parentFiber.stateNode;
+            parentFiber = getHostSibling(finishedWork);
+            insertOrAppendPlacementNode(finishedWork, parentFiber, parent);
+            break;
+          case 5:
+            parent = parentFiber.stateNode;
+            parentFiber.flags & 32 &&
+              (resetTextContent(parent), (parentFiber.flags &= -33));
+            parentFiber = getHostSibling(finishedWork);
+            insertOrAppendPlacementNode(finishedWork, parentFiber, parent);
+            break;
+          case 3:
+          case 4:
+            parent = parentFiber.stateNode.containerInfo;
+            parentFiber = getHostSibling(finishedWork);
+            insertOrAppendPlacementNodeIntoContainer(
+              finishedWork,
+              parentFiber,
+              parent
             );
-        child = child.sibling;
+            break;
+          default:
+            throw Error(
+              "Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue."
+            );
+        }
       }
     }
-    function commitAppearingPairViewTransitions(placement) {
-      if (0 !== (placement.subtreeFlags & 18874368))
-        for (placement = placement.child; null !== placement; ) {
-          if (22 !== placement.tag || null !== placement.memoizedState)
-            if (
-              (commitAppearingPairViewTransitions(placement),
-              30 === placement.tag &&
-                0 !== (placement.flags & 18874368) &&
-                placement.stateNode.paired)
-            ) {
-              var props = placement.memoizedProps;
-              if (null == props.name || "auto" === props.name)
-                throw Error(
-                  "Found a pair with an auto name. This is a bug in React."
-                );
-              var name = props.name;
-              props = getViewTransitionClassName(props.className, props.share);
-              "none" !== props &&
-                ((viewTransitionHostInstanceIdx = 0),
-                applyViewTransitionToHostInstances(
+    function commitBeforeMutationEffects(
+      root,
+      firstChild,
+      committedLanes,
+      appearingViewTransitions
+    ) {
+      root = root.containerInfo;
+      eventsEnabled = _enabled;
+      root = getActiveElementDeep(root);
+      if (hasSelectionCapabilities(root)) {
+        if ("selectionStart" in root)
+          var JSCompiler_temp = {
+            start: root.selectionStart,
+            end: root.selectionEnd
+          };
+        else
+          a: {
+            JSCompiler_temp =
+              ((JSCompiler_temp = root.ownerDocument) &&
+                JSCompiler_temp.defaultView) ||
+              window;
+            var selection =
+              JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();
+            if (selection && 0 !== selection.rangeCount) {
+              JSCompiler_temp = selection.anchorNode;
+              var anchorOffset = selection.anchorOffset,
+                focusNode = selection.focusNode;
+              selection = selection.focusOffset;
+              try {
+                JSCompiler_temp.nodeType, focusNode.nodeType;
+              } catch (e$2) {
+                JSCompiler_temp = null;
+                break a;
+              }
+              var length = 0,
+                start = -1,
+                end = -1,
+                indexWithinAnchor = 0,
+                indexWithinFocus = 0,
+                node = root,
+                parentNode = null;
+              b: for (;;) {
+                for (var next; ; ) {
+                  node !== JSCompiler_temp ||
+                    (0 !== anchorOffset && 3 !== node.nodeType) ||
+                    (start = length + anchorOffset);
+                  node !== focusNode ||
+                    (0 !== selection && 3 !== node.nodeType) ||
+                    (end = length + selection);
+                  3 === node.nodeType && (length += node.nodeValue.length);
+                  if (null === (next = node.firstChild)) break;
+                  parentNode = node;
+                  node = next;
+                }
+                for (;;) {
+                  if (node === root) break b;
+                  parentNode === JSCompiler_temp &&
+                    ++indexWithinAnchor === anchorOffset &&
+                    (start = length);
+                  parentNode === focusNode &&
+                    ++indexWithinFocus === selection &&
+                    (end = length);
+                  if (null !== (next = node.nextSibling)) break;
+                  node = parentNode;
+                  parentNode = node.parentNode;
+                }
+                node = next;
+              }
+              JSCompiler_temp =
+                -1 === start || -1 === end ? null : { start: start, end: end };
+            } else JSCompiler_temp = null;
+          }
+        JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };
+      } else JSCompiler_temp = null;
+      selectionInformation = {
+        focusedElem: root,
+        selectionRange: JSCompiler_temp
+      };
+      shouldStartViewTransition = _enabled = !1;
+      committedLanes = (committedLanes & 335544192) === committedLanes;
+      nextEffect = firstChild;
+      for (firstChild = committedLanes ? 9238 : 1028; null !== nextEffect; ) {
+        root = nextEffect;
+        if (
+          committedLanes &&
+          ((JSCompiler_temp = root.deletions), null !== JSCompiler_temp)
+        )
+          for (
+            anchorOffset = 0;
+            anchorOffset < JSCompiler_temp.length;
+            anchorOffset++
+          )
+            committedLanes &&
+              commitExitViewTransitions(
+                JSCompiler_temp[anchorOffset],
+                appearingViewTransitions
+              );
+        if (null === root.alternate && 0 !== (root.flags & 2))
+          commitBeforeMutationEffects_complete(committedLanes);
+        else {
+          if (22 === root.tag)
+            if (
+              ((JSCompiler_temp = root.alternate), null !== root.memoizedState)
+            ) {
+              null !== JSCompiler_temp &&
+                null === JSCompiler_temp.memoizedState &&
+                committedLanes &&
+                commitExitViewTransitions(
+                  JSCompiler_temp,
+                  appearingViewTransitions
+                );
+              commitBeforeMutationEffects_complete(committedLanes);
+              continue;
+            } else if (
+              null !== JSCompiler_temp &&
+              null !== JSCompiler_temp.memoizedState
+            ) {
+              commitBeforeMutationEffects_complete(committedLanes);
+              continue;
+            }
+          JSCompiler_temp = root.child;
+          0 !== (root.subtreeFlags & firstChild) && null !== JSCompiler_temp
+            ? ((JSCompiler_temp.return = root), (nextEffect = JSCompiler_temp))
+            : (committedLanes && commitNestedViewTransitions(root),
+              commitBeforeMutationEffects_complete(committedLanes));
+        }
+      }
+    }
+    function commitBeforeMutationEffects_complete(
+      isViewTransitionEligible$jscomp$0
+    ) {
+      for (; null !== nextEffect; ) {
+        var fiber = nextEffect,
+          finishedWork = fiber,
+          isViewTransitionEligible = isViewTransitionEligible$jscomp$0,
+          current = finishedWork.alternate,
+          flags = finishedWork.flags;
+        switch (finishedWork.tag) {
+          case 0:
+            if (
+              0 !== (flags & 4) &&
+              ((isViewTransitionEligible = finishedWork.updateQueue),
+              (isViewTransitionEligible =
+                null !== isViewTransitionEligible
+                  ? isViewTransitionEligible.events
+                  : null),
+              null !== isViewTransitionEligible)
+            )
+              for (
+                finishedWork = 0;
+                finishedWork < isViewTransitionEligible.length;
+                finishedWork++
+              )
+                (current = isViewTransitionEligible[finishedWork]),
+                  (current.ref.impl = current.nextImpl);
+            break;
+          case 11:
+          case 15:
+            break;
+          case 1:
+            0 !== (flags & 1024) &&
+              null !== current &&
+              commitClassSnapshot(finishedWork, current);
+            break;
+          case 3:
+            if (0 !== (flags & 1024))
+              if (
+                ((isViewTransitionEligible =
+                  finishedWork.stateNode.containerInfo),
+                (finishedWork = isViewTransitionEligible.nodeType),
+                9 === finishedWork)
+              )
+                clearContainerSparingly(isViewTransitionEligible);
+              else if (1 === finishedWork)
+                switch (isViewTransitionEligible.nodeName) {
+                  case "HEAD":
+                  case "HTML":
+                  case "BODY":
+                    clearContainerSparingly(isViewTransitionEligible);
+                    break;
+                  default:
+                    isViewTransitionEligible.textContent = "";
+                }
+            break;
+          case 5:
+          case 26:
+          case 27:
+          case 6:
+          case 4:
+          case 17:
+            break;
+          case 30:
+            if (
+              isViewTransitionEligible &&
+              null !== current &&
+              0 !== (finishedWork.subtreeFlags & 8246)
+            )
+              a: {
+                isViewTransitionEligible = current;
+                current = finishedWork;
+                finishedWork = getViewTransitionName(
+                  isViewTransitionEligible.memoizedProps,
+                  isViewTransitionEligible.stateNode
+                );
+                current = current.memoizedProps;
+                flags = getViewTransitionClassName(
+                  current.className,
+                  current.update
+                );
+                if (
+                  "none" === flags &&
+                  ((flags = getViewTransitionClassName(
+                    current.className,
+                    current.layout
+                  )),
+                  "none" === flags)
+                )
+                  break a;
+                viewTransitionHostInstanceIdx = 0;
+                applyViewTransitionToHostInstances(
+                  isViewTransitionEligible.child,
+                  finishedWork,
+                  flags,
+                  (isViewTransitionEligible.memoizedState = []),
+                  !0
+                );
+              }
+            break;
+          default:
+            if (0 !== (flags & 1024))
+              throw Error(
+                "This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue."
+              );
+        }
+        isViewTransitionEligible = fiber.sibling;
+        if (null !== isViewTransitionEligible) {
+          isViewTransitionEligible.return = fiber.return;
+          nextEffect = isViewTransitionEligible;
+          break;
+        }
+        nextEffect = fiber.return;
+      }
+    }
+    function applyViewTransitionToHostInstances(
+      child,
+      name,
+      className,
+      collectMeasurements,
+      stopAtNestedViewTransitions
+    ) {
+      for (var inViewport = !1; null !== child; ) {
+        if (5 === child.tag) {
+          shouldStartViewTransition = !0;
+          var instance = child.stateNode;
+          if (null !== collectMeasurements) {
+            var measurement = measureInstance(instance);
+            collectMeasurements.push(measurement);
+            measurement.view && (inViewport = !0);
+          } else
+            inViewport || (measureInstance(instance).view && (inViewport = !0));
+          measurement = className;
+          instance.style.viewTransitionName =
+            0 === viewTransitionHostInstanceIdx
+              ? name
+              : name + "_" + viewTransitionHostInstanceIdx;
+          null != measurement &&
+            (instance.style.viewTransitionClass = measurement);
+          viewTransitionHostInstanceIdx++;
+        } else if (22 !== child.tag || null === child.memoizedState)
+          (30 === child.tag && stopAtNestedViewTransitions) ||
+            (applyViewTransitionToHostInstances(
+              child.child,
+              name,
+              className,
+              collectMeasurements,
+              stopAtNestedViewTransitions
+            ) &&
+              (inViewport = !0));
+        child = child.sibling;
+      }
+      return inViewport;
+    }
+    function restoreViewTransitionOnHostInstances(
+      child,
+      stopAtNestedViewTransitions
+    ) {
+      for (; null !== child; ) {
+        if (5 === child.tag)
+          restoreViewTransitionName(child.stateNode, child.memoizedProps);
+        else if (22 !== child.tag || null === child.memoizedState)
+          (30 === child.tag && stopAtNestedViewTransitions) ||
+            restoreViewTransitionOnHostInstances(
+              child.child,
+              stopAtNestedViewTransitions
+            );
+        child = child.sibling;
+      }
+    }
+    function commitAppearingPairViewTransitions(placement) {
+      if (0 !== (placement.subtreeFlags & 2097152))
+        for (placement = placement.child; null !== placement; ) {
+          if (22 !== placement.tag || null !== placement.memoizedState)
+            if (
+              (commitAppearingPairViewTransitions(placement),
+              30 === placement.tag &&
+                0 !== (placement.flags & 2097152) &&
+                placement.stateNode.paired)
+            ) {
+              var props = placement.memoizedProps;
+              if (null == props.name || "auto" === props.name)
+                throw Error(
+                  "Found a pair with an auto name. This is a bug in React."
+                );
+              var name = props.name;
+              props = getViewTransitionClassName(props.className, props.share);
+              "none" !== props &&
+                ((viewTransitionHostInstanceIdx = 0),
+                applyViewTransitionToHostInstances(
                   placement.child,
                   name,
                   props,
@@ -11754,52 +11753,55 @@
             (placement = placement.sibling);
       else commitAppearingPairViewTransitions(placement);
     }
-    function commitDeletedPairViewTransitions(deletion) {
+    function commitDeletedPairViewTransitions(
+      deletion,
+      appearingViewTransitions
+    ) {
       if (
-        null !== appearingViewTransitions &&
-        0 !== appearingViewTransitions.size
-      ) {
-        var pairs = appearingViewTransitions;
-        if (0 !== (deletion.subtreeFlags & 18874368))
-          for (deletion = deletion.child; null !== deletion; ) {
-            if (22 !== deletion.tag || null !== deletion.memoizedState) {
-              if (30 === deletion.tag && 0 !== (deletion.flags & 18874368)) {
-                var props = deletion.memoizedProps,
-                  name = props.name;
-                if (null != name && "auto" !== name) {
-                  var pair = pairs.get(name);
-                  if (void 0 !== pair) {
-                    var className = getViewTransitionClassName(
-                      props.className,
-                      props.share
-                    );
-                    "none" !== className &&
-                      ((viewTransitionHostInstanceIdx = 0),
-                      applyViewTransitionToHostInstances(
-                        deletion.child,
-                        name,
-                        className,
-                        null,
-                        !1
-                      )
-                        ? ((pair.paired = deletion.stateNode),
-                          scheduleViewTransitionEvent(deletion, props.onShare))
-                        : restoreViewTransitionOnHostInstances(
-                            deletion.child,
-                            !1
-                          ));
-                    pairs.delete(name);
-                    if (0 === pairs.size) break;
-                  }
+        0 !== appearingViewTransitions.size &&
+        0 !== (deletion.subtreeFlags & 2097152)
+      )
+        for (deletion = deletion.child; null !== deletion; ) {
+          if (22 !== deletion.tag || null !== deletion.memoizedState) {
+            if (30 === deletion.tag && 0 !== (deletion.flags & 2097152)) {
+              var props = deletion.memoizedProps,
+                name = props.name;
+              if (null != name && "auto" !== name) {
+                var pair = appearingViewTransitions.get(name);
+                if (void 0 !== pair) {
+                  var className = getViewTransitionClassName(
+                    props.className,
+                    props.share
+                  );
+                  "none" !== className &&
+                    ((viewTransitionHostInstanceIdx = 0),
+                    applyViewTransitionToHostInstances(
+                      deletion.child,
+                      name,
+                      className,
+                      null,
+                      !1
+                    )
+                      ? ((pair.paired = deletion.stateNode),
+                        scheduleViewTransitionEvent(deletion, props.onShare))
+                      : restoreViewTransitionOnHostInstances(
+                          deletion.child,
+                          !1
+                        ));
+                  appearingViewTransitions.delete(name);
+                  if (0 === appearingViewTransitions.size) break;
                 }
               }
-              commitDeletedPairViewTransitions(deletion);
             }
-            deletion = deletion.sibling;
+            commitDeletedPairViewTransitions(
+              deletion,
+              appearingViewTransitions
+            );
           }
-      }
+          deletion = deletion.sibling;
+        }
     }
-    function commitExitViewTransitions(deletion) {
+    function commitExitViewTransitions(deletion, appearingViewTransitions) {
       if (30 === deletion.tag) {
         var props = deletion.memoizedProps,
           name = getViewTransitionName(props, deletion.stateNode),
@@ -11827,13 +11829,14 @@
               : scheduleViewTransitionEvent(deletion, props.onExit)
             : restoreViewTransitionOnHostInstances(deletion.child, !1));
         null !== appearingViewTransitions &&
-          commitDeletedPairViewTransitions(deletion);
+          commitDeletedPairViewTransitions(deletion, appearingViewTransitions);
       } else if (0 !== (deletion.subtreeFlags & 33554432))
         for (deletion = deletion.child; null !== deletion; )
-          commitExitViewTransitions(deletion), (deletion = deletion.sibling);
+          commitExitViewTransitions(deletion, appearingViewTransitions),
+            (deletion = deletion.sibling);
       else
         null !== appearingViewTransitions &&
-          commitDeletedPairViewTransitions(deletion);
+          commitDeletedPairViewTransitions(deletion, appearingViewTransitions);
     }
     function commitNestedViewTransitions(changedParent) {
       for (changedParent = changedParent.child; null !== changedParent; ) {
@@ -11857,10 +11860,10 @@
       }
     }
     function restorePairedViewTransitions(parent) {
-      if (0 !== (parent.subtreeFlags & 18874368))
+      if (0 !== (parent.subtreeFlags & 2097152))
         for (parent = parent.child; null !== parent; ) {
           if (22 !== parent.tag || null !== parent.memoizedState) {
-            if (30 === parent.tag && 0 !== (parent.flags & 18874368)) {
+            if (30 === parent.tag && 0 !== (parent.flags & 2097152)) {
               var instance = parent.stateNode;
               null !== instance.paired &&
                 ((instance.paired = null),
@@ -12033,248 +12036,15 @@
               className,
               changedParent.memoizedState,
               !1
-            );
-            0 !== (changedParent.flags & 4) &&
-              current &&
-              scheduleViewTransitionEvent(changedParent, props.onLayout);
-          }
-        } else
-          0 !== (changedParent.subtreeFlags & 33554432) &&
-            measureNestedViewTransitions(changedParent);
-        changedParent = changedParent.sibling;
-      }
-    }
-    function commitBeforeMutationEffects(root, firstChild, committedLanes) {
-      root = root.containerInfo;
-      eventsEnabled = _enabled;
-      root = getActiveElementDeep(root);
-      if (hasSelectionCapabilities(root)) {
-        if ("selectionStart" in root)
-          var JSCompiler_temp = {
-            start: root.selectionStart,
-            end: root.selectionEnd
-          };
-        else
-          a: {
-            JSCompiler_temp =
-              ((JSCompiler_temp = root.ownerDocument) &&
-                JSCompiler_temp.defaultView) ||
-              window;
-            var selection =
-              JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();
-            if (selection && 0 !== selection.rangeCount) {
-              JSCompiler_temp = selection.anchorNode;
-              var anchorOffset = selection.anchorOffset,
-                focusNode = selection.focusNode;
-              selection = selection.focusOffset;
-              try {
-                JSCompiler_temp.nodeType, focusNode.nodeType;
-              } catch (e$2) {
-                JSCompiler_temp = null;
-                break a;
-              }
-              var length = 0,
-                start = -1,
-                end = -1,
-                indexWithinAnchor = 0,
-                indexWithinFocus = 0,
-                node = root,
-                parentNode = null;
-              b: for (;;) {
-                for (var next; ; ) {
-                  node !== JSCompiler_temp ||
-                    (0 !== anchorOffset && 3 !== node.nodeType) ||
-                    (start = length + anchorOffset);
-                  node !== focusNode ||
-                    (0 !== selection && 3 !== node.nodeType) ||
-                    (end = length + selection);
-                  3 === node.nodeType && (length += node.nodeValue.length);
-                  if (null === (next = node.firstChild)) break;
-                  parentNode = node;
-                  node = next;
-                }
-                for (;;) {
-                  if (node === root) break b;
-                  parentNode === JSCompiler_temp &&
-                    ++indexWithinAnchor === anchorOffset &&
-                    (start = length);
-                  parentNode === focusNode &&
-                    ++indexWithinFocus === selection &&
-                    (end = length);
-                  if (null !== (next = node.nextSibling)) break;
-                  node = parentNode;
-                  parentNode = node.parentNode;
-                }
-                node = next;
-              }
-              JSCompiler_temp =
-                -1 === start || -1 === end ? null : { start: start, end: end };
-            } else JSCompiler_temp = null;
-          }
-        JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };
-      } else JSCompiler_temp = null;
-      selectionInformation = {
-        focusedElem: root,
-        selectionRange: JSCompiler_temp
-      };
-      shouldStartViewTransition = _enabled = !1;
-      committedLanes = (committedLanes & 335544064) === committedLanes;
-      nextEffect = firstChild;
-      for (firstChild = committedLanes ? 9238 : 1028; null !== nextEffect; ) {
-        root = nextEffect;
-        if (
-          committedLanes &&
-          ((JSCompiler_temp = root.deletions), null !== JSCompiler_temp)
-        )
-          for (
-            anchorOffset = 0;
-            anchorOffset < JSCompiler_temp.length;
-            anchorOffset++
-          )
-            committedLanes &&
-              commitExitViewTransitions(JSCompiler_temp[anchorOffset]);
-        if (null === root.alternate && 0 !== (root.flags & 2))
-          commitBeforeMutationEffects_complete(committedLanes);
-        else {
-          if (22 === root.tag)
-            if (
-              ((JSCompiler_temp = root.alternate), null !== root.memoizedState)
-            ) {
-              null !== JSCompiler_temp &&
-                null === JSCompiler_temp.memoizedState &&
-                committedLanes &&
-                commitExitViewTransitions(JSCompiler_temp);
-              commitBeforeMutationEffects_complete(committedLanes);
-              continue;
-            } else if (
-              null !== JSCompiler_temp &&
-              null !== JSCompiler_temp.memoizedState
-            ) {
-              commitBeforeMutationEffects_complete(committedLanes);
-              continue;
-            }
-          JSCompiler_temp = root.child;
-          0 !== (root.subtreeFlags & firstChild) && null !== JSCompiler_temp
-            ? ((JSCompiler_temp.return = root), (nextEffect = JSCompiler_temp))
-            : (committedLanes && commitNestedViewTransitions(root),
-              commitBeforeMutationEffects_complete(committedLanes));
-        }
-      }
-      appearingViewTransitions = null;
-    }
-    function commitBeforeMutationEffects_complete(
-      isViewTransitionEligible$jscomp$0
-    ) {
-      for (; null !== nextEffect; ) {
-        var fiber = nextEffect,
-          finishedWork = fiber,
-          isViewTransitionEligible = isViewTransitionEligible$jscomp$0,
-          current = finishedWork.alternate,
-          flags = finishedWork.flags;
-        switch (finishedWork.tag) {
-          case 0:
-            if (
-              0 !== (flags & 4) &&
-              ((isViewTransitionEligible = finishedWork.updateQueue),
-              (isViewTransitionEligible =
-                null !== isViewTransitionEligible
-                  ? isViewTransitionEligible.events
-                  : null),
-              null !== isViewTransitionEligible)
-            )
-              for (
-                finishedWork = 0;
-                finishedWork < isViewTransitionEligible.length;
-                finishedWork++
-              )
-                (current = isViewTransitionEligible[finishedWork]),
-                  (current.ref.impl = current.nextImpl);
-            break;
-          case 11:
-          case 15:
-            break;
-          case 1:
-            0 !== (flags & 1024) &&
-              null !== current &&
-              commitClassSnapshot(finishedWork, current);
-            break;
-          case 3:
-            if (0 !== (flags & 1024))
-              if (
-                ((isViewTransitionEligible =
-                  finishedWork.stateNode.containerInfo),
-                (finishedWork = isViewTransitionEligible.nodeType),
-                9 === finishedWork)
-              )
-                clearContainerSparingly(isViewTransitionEligible);
-              else if (1 === finishedWork)
-                switch (isViewTransitionEligible.nodeName) {
-                  case "HEAD":
-                  case "HTML":
-                  case "BODY":
-                    clearContainerSparingly(isViewTransitionEligible);
-                    break;
-                  default:
-                    isViewTransitionEligible.textContent = "";
-                }
-            break;
-          case 5:
-          case 26:
-          case 27:
-          case 6:
-          case 4:
-          case 17:
-            break;
-          case 30:
-            if (
-              isViewTransitionEligible &&
-              null !== current &&
-              0 !== (finishedWork.subtreeFlags & 8246)
-            )
-              a: {
-                isViewTransitionEligible = current;
-                current = finishedWork;
-                finishedWork = getViewTransitionName(
-                  isViewTransitionEligible.memoizedProps,
-                  isViewTransitionEligible.stateNode
-                );
-                current = current.memoizedProps;
-                flags = getViewTransitionClassName(
-                  current.className,
-                  current.update
-                );
-                if (
-                  "none" === flags &&
-                  ((flags = getViewTransitionClassName(
-                    current.className,
-                    current.layout
-                  )),
-                  "none" === flags)
-                )
-                  break a;
-                viewTransitionHostInstanceIdx = 0;
-                applyViewTransitionToHostInstances(
-                  isViewTransitionEligible.child,
-                  finishedWork,
-                  flags,
-                  (isViewTransitionEligible.memoizedState = []),
-                  !0
-                );
-              }
-            break;
-          default:
-            if (0 !== (flags & 1024))
-              throw Error(
-                "This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue."
-              );
-        }
-        isViewTransitionEligible = fiber.sibling;
-        if (null !== isViewTransitionEligible) {
-          isViewTransitionEligible.return = fiber.return;
-          nextEffect = isViewTransitionEligible;
-          break;
-        }
-        nextEffect = fiber.return;
+            );
+            0 !== (changedParent.flags & 4) &&
+              current &&
+              scheduleViewTransitionEvent(changedParent, props.onLayout);
+          }
+        } else
+          0 !== (changedParent.subtreeFlags & 33554432) &&
+            measureNestedViewTransitions(changedParent);
+        changedParent = changedParent.sibling;
       }
     }
     function commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {
@@ -12395,11 +12165,11 @@
           }
           finishedRoot.effectDuration += popNestedEffectDurations(current);
           break;
-        case 27:
-          null === current &&
-            flags & 4 &&
-            commitHostSingletonAcquisition(finishedWork);
         case 26:
+          recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);
+          flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);
+          break;
+        case 27:
         case 5:
           recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);
           null === current && flags & 4 && commitHostMount(finishedWork);
@@ -12559,19 +12329,16 @@
             safelyDetachRef(deletedFiber, nearestMountedAncestor);
           var prevHostParent = hostParent,
             prevHostParentIsContainer = hostParentIsContainer;
-          isSingletonScope(deletedFiber.type) &&
-            ((hostParent = deletedFiber.stateNode),
-            (hostParentIsContainer = !1));
+          hostParent = deletedFiber.stateNode;
           recursivelyTraverseDeletionEffects(
             finishedRoot,
             nearestMountedAncestor,
             deletedFiber
           );
-          runWithFiberInDEV(
-            deletedFiber,
-            releaseSingletonInstance,
-            deletedFiber.stateNode
-          );
+          deletedFiber = deletedFiber.stateNode;
+          for (finishedRoot = deletedFiber.attributes; finishedRoot.length; )
+            deletedFiber.removeAttributeNode(finishedRoot[0]);
+          detachDeletedInstance(deletedFiber);
           hostParent = prevHostParent;
           hostParentIsContainer = prevHostParentIsContainer;
           break;
@@ -12627,14 +12394,11 @@
           null !== hostParent &&
             (hostParentIsContainer
               ? ((finishedRoot = hostParent),
-                clearSuspenseBoundary(
-                  9 === finishedRoot.nodeType
-                    ? finishedRoot.body
-                    : "HTML" === finishedRoot.nodeName
-                      ? finishedRoot.ownerDocument.body
-                      : finishedRoot,
-                  deletedFiber.stateNode
-                ),
+                (deletedFiber = deletedFiber.stateNode),
+                8 === finishedRoot.nodeType
+                  ? clearSuspenseBoundary(finishedRoot.parentNode, deletedFiber)
+                  : 1 === finishedRoot.nodeType &&
+                    clearSuspenseBoundary(finishedRoot, deletedFiber),
                 retryIfBlockedOn(finishedRoot))
               : clearSuspenseBoundary(hostParent, deletedFiber.stateNode));
           break;
@@ -12792,17 +12556,14 @@
           a: for (; null !== parent; ) {
             switch (parent.tag) {
               case 27:
-                if (isSingletonScope(parent.type)) {
-                  hostParent = parent.stateNode;
-                  hostParentIsContainer = !1;
-                  break a;
-                }
-                break;
               case 5:
                 hostParent = parent.stateNode;
                 hostParentIsContainer = !1;
                 break a;
               case 3:
+                hostParent = parent.stateNode.containerInfo;
+                hostParentIsContainer = !0;
+                break a;
               case 4:
                 hostParent = parent.stateNode.containerInfo;
                 hostParentIsContainer = !0;
@@ -13032,20 +12793,35 @@
                   );
           break;
         case 27:
-          recursivelyTraverseMutationEffects(root, finishedWork, lanes);
-          commitReconciliationEffects(finishedWork);
-          flags & 512 &&
-            (offscreenSubtreeWasHidden ||
-              null === current ||
-              safelyDetachRef(current, current.return));
-          null !== current &&
-            flags & 4 &&
-            commitHostUpdate(
-              finishedWork,
-              finishedWork.memoizedProps,
-              current.memoizedProps
-            );
-          break;
+          if (flags & 4 && null === finishedWork.alternate) {
+            hoistableRoot = finishedWork.stateNode;
+            i = finishedWork.memoizedProps;
+            try {
+              for (var node = hoistableRoot.firstChild; node; ) {
+                var nextNode = node.nextSibling,
+                  nodeName = node.nodeName;
+                node[internalHoistableMarker] ||
+                  "HEAD" === nodeName ||
+                  "BODY" === nodeName ||
+                  "SCRIPT" === nodeName ||
+                  "STYLE" === nodeName ||
+                  ("LINK" === nodeName &&
+                    "stylesheet" === node.rel.toLowerCase()) ||
+                  hoistableRoot.removeChild(node);
+                node = nextNode;
+              }
+              runWithFiberInDEV(
+                finishedWork,
+                acquireSingletonInstance,
+                finishedWork.type,
+                i,
+                hoistableRoot,
+                finishedWork
+              );
+            } catch (error) {
+              captureCommitPhaseError(finishedWork, finishedWork.return, error);
+            }
+          }
         case 5:
           recursivelyTraverseMutationEffects(root, finishedWork, lanes);
           commitReconciliationEffects(finishedWork);
@@ -13162,17 +12938,15 @@
             (offscreenSubtreeWasHidden ||
               null === current ||
               safelyDetachRef(current, current.return));
-          hoistableRoot = null !== finishedWork.memoizedState;
-          var wasHidden = null !== current && null !== current.memoizedState,
-            prevOffscreenSubtreeIsHidden = offscreenSubtreeIsHidden,
-            prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;
-          offscreenSubtreeIsHidden =
-            prevOffscreenSubtreeIsHidden || hoistableRoot;
-          offscreenSubtreeWasHidden =
-            prevOffscreenSubtreeWasHidden || wasHidden;
+          node = null !== finishedWork.memoizedState;
+          nextNode = null !== current && null !== current.memoizedState;
+          nodeName = offscreenSubtreeIsHidden;
+          var prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;
+          offscreenSubtreeIsHidden = nodeName || node;
+          offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden || nextNode;
           recursivelyTraverseMutationEffects(root, finishedWork, lanes);
           offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;
-          offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden;
+          offscreenSubtreeIsHidden = nodeName;
           commitReconciliationEffects(finishedWork);
           root = finishedWork.stateNode;
           root._current = finishedWork;
@@ -13180,26 +12954,26 @@
           root._visibility |= root._pendingVisibility & OffscreenDetached;
           if (
             flags & 8192 &&
-            ((root._visibility = hoistableRoot
+            ((root._visibility = node
               ? root._visibility & ~OffscreenVisible
               : root._visibility | OffscreenVisible),
-            hoistableRoot &&
-              (null === current ||
-                wasHidden ||
-                offscreenSubtreeIsHidden ||
-                offscreenSubtreeWasHidden ||
+            node &&
+              ((root = offscreenSubtreeIsHidden || offscreenSubtreeWasHidden),
+              null === current ||
+                nextNode ||
+                root ||
                 recursivelyTraverseDisappearLayoutEffects(finishedWork)),
             null === finishedWork.memoizedProps ||
               "manual" !== finishedWork.memoizedProps.mode)
           )
             a: for (current = null, root = finishedWork; ; ) {
-              if (5 === root.tag || 26 === root.tag) {
+              if (5 === root.tag || 26 === root.tag || 27 === root.tag) {
                 if (null === current) {
                   lanes = current = root;
                   try {
-                    (i = lanes.stateNode),
-                      hoistableRoot
-                        ? runWithFiberInDEV(lanes, hideInstance, i)
+                    (hoistableRoot = lanes.stateNode),
+                      node
+                        ? runWithFiberInDEV(lanes, hideInstance, hoistableRoot)
                         : runWithFiberInDEV(
                             lanes,
                             unhideInstance,
@@ -13214,15 +12988,15 @@
                 if (null === current) {
                   lanes = root;
                   try {
-                    var instance = lanes.stateNode;
-                    hoistableRoot
-                      ? runWithFiberInDEV(lanes, hideTextInstance, instance)
-                      : runWithFiberInDEV(
-                          lanes,
-                          unhideTextInstance,
-                          instance,
-                          lanes.memoizedProps
-                        );
+                    (i = lanes.stateNode),
+                      node
+                        ? runWithFiberInDEV(lanes, hideTextInstance, i)
+                        : runWithFiberInDEV(
+                            lanes,
+                            unhideTextInstance,
+                            i,
+                            lanes.memoizedProps
+                          );
                   } catch (error) {
                     captureCommitPhaseError(lanes, lanes.return, error);
                   }
@@ -13274,7 +13048,7 @@
           viewTransitionMutationContext = !1;
           recursivelyTraverseMutationEffects(root, finishedWork, lanes);
           commitReconciliationEffects(finishedWork);
-          (lanes & 335544064) === lanes &&
+          (lanes & 335544192) === lanes &&
             null !== current &&
             viewTransitionMutationContext &&
             (finishedWork.flags |= 4);
@@ -13357,7 +13131,30 @@
                       }
                     );
                 }
-              cancelRootViewTransitionName(root.containerInfo);
+              finishedWork = root.containerInfo;
+              finishedWork =
+                9 === finishedWork.nodeType
+                  ? finishedWork.documentElement
+                  : finishedWork.ownerDocument.documentElement;
+              null !== finishedWork &&
+                "" === finishedWork.style.viewTransitionName &&
+                ((finishedWork.style.viewTransitionName = "none"),
+                finishedWork.animate(
+                  { opacity: [0, 0], pointerEvents: ["none", "none"] },
+                  {
+                    duration: 0,
+                    fill: "forwards",
+                    pseudoElement: "::view-transition-group(root)"
+                  }
+                ),
+                finishedWork.animate(
+                  { width: [0, 0], height: [0, 0] },
+                  {
+                    duration: 0,
+                    fill: "forwards",
+                    pseudoElement: "::view-transition"
+                  }
+                ));
             }
             break;
           case 5:
@@ -13386,7 +13183,7 @@
                   ),
                   layoutClassName = getViewTransitionClassName(
                     root.className,
-                    root.layout
+                    root.update
                   );
                 if ("none" === updateClassName) {
                   if ("none" === layoutClassName) {
@@ -13482,13 +13279,8 @@
             );
           recursivelyTraverseDisappearLayoutEffects(finishedWork);
           break;
-        case 27:
-          runWithFiberInDEV(
-            finishedWork,
-            releaseSingletonInstance,
-            finishedWork.stateNode
-          );
         case 26:
+        case 27:
         case 5:
           safelyDetachRef(finishedWork, finishedWork.return);
           recursivelyTraverseDisappearLayoutEffects(finishedWork);
@@ -13575,9 +13367,8 @@
             commitClassCallbacks(finishedWork);
           safelyAttachRef(finishedWork, finishedWork.return);
           break;
-        case 27:
-          commitHostSingletonAcquisition(finishedWork);
         case 26:
+        case 27:
         case 5:
           recursivelyTraverseReappearLayoutEffects(
             finishedRoot,
@@ -13714,7 +13505,7 @@
       endTime
     ) {
       var isViewTransitionEligible =
-        (committedLanes & 335544064) === committedLanes;
+        (committedLanes & 335544192) === committedLanes;
       if (
         parentFiber.subtreeFlags & (isViewTransitionEligible ? 10262 : 10256) ||
         (0 !== parentFiber.actualDuration &&
@@ -13755,7 +13546,7 @@
           inHydratedSubtree
         );
       var isViewTransitionEligible =
-        (committedLanes & 335544064) === committedLanes;
+        (committedLanes & 335544192) === committedLanes;
       isViewTransitionEligible &&
         null === finishedWork.alternate &&
         null !== finishedWork.return &&
@@ -13826,7 +13617,14 @@
           );
           inHydratedSubtree = wasInHydratedSubtree;
           isViewTransitionEligible &&
-            restoreRootViewTransitionName(finishedRoot.containerInfo);
+            ((committedLanes = finishedRoot.containerInfo),
+            (committedLanes =
+              9 === committedLanes.nodeType
+                ? committedLanes.documentElement
+                : committedLanes.ownerDocument.documentElement),
+            null !== committedLanes &&
+              "none" === committedLanes.style.viewTransitionName &&
+              (committedLanes.style.viewTransitionName = ""));
           flags & 2048 &&
             ((committedLanes = null),
             null !== finishedWork.alternate &&
@@ -13840,7 +13638,7 @@
           break;
         case 12:
           if (flags & 2048) {
-            isViewTransitionEligible = pushNestedEffectDurations();
+            flags = pushNestedEffectDurations();
             recursivelyTraversePassiveMountEffects(
               finishedRoot,
               finishedWork,
@@ -13849,9 +13647,8 @@
               endTime
             );
             finishedRoot = finishedWork.stateNode;
-            finishedRoot.passiveEffectDuration += bubbleNestedEffectDurations(
-              isViewTransitionEligible
-            );
+            finishedRoot.passiveEffectDuration +=
+              bubbleNestedEffectDurations(flags);
             try {
               runWithFiberInDEV(
                 finishedWork,
@@ -13874,29 +13671,29 @@
             );
           break;
         case 13:
-          isViewTransitionEligible = inHydratedSubtree;
-          flags =
+          flags = inHydratedSubtree;
+          prevEffectDuration =
             null !== finishedWork.alternate
               ? finishedWork.alternate.memoizedState
               : null;
-          prevEffectDuration = finishedWork.memoizedState;
-          null === flags ||
-          null === flags.dehydrated ||
-          (null !== prevEffectDuration &&
-            null !== prevEffectDuration.dehydrated)
+          isViewTransitionEligible = finishedWork.memoizedState;
+          null === prevEffectDuration ||
+          null === prevEffectDuration.dehydrated ||
+          (null !== isViewTransitionEligible &&
+            null !== isViewTransitionEligible.dehydrated)
             ? (inHydratedSubtree = !1)
-            : ((prevEffectDuration = finishedWork.deletions),
-              null !== prevEffectDuration &&
-              0 < prevEffectDuration.length &&
-              18 === prevEffectDuration[0].tag
+            : ((isViewTransitionEligible = finishedWork.deletions),
+              null !== isViewTransitionEligible &&
+              0 < isViewTransitionEligible.length &&
+              18 === isViewTransitionEligible[0].tag
                 ? ((inHydratedSubtree = !1),
-                  (flags = flags.hydrationErrors),
-                  null !== flags &&
+                  (prevEffectDuration = prevEffectDuration.hydrationErrors),
+                  null !== prevEffectDuration &&
                     logComponentErrored(
                       finishedWork,
                       finishedWork.actualStartTime,
                       endTime,
-                      flags
+                      prevEffectDuration
                     ))
                 : (inHydratedSubtree = !0));
           recursivelyTraversePassiveMountEffects(
@@ -13906,7 +13703,7 @@
             committedTransitions,
             endTime
           );
-          inHydratedSubtree = isViewTransitionEligible;
+          inHydratedSubtree = flags;
           break;
         case 23:
           break;
@@ -13974,14 +13771,11 @@
           break;
         case 30:
           isViewTransitionEligible &&
-            ((isViewTransitionEligible = finishedWork.alternate),
-            null !== isViewTransitionEligible &&
+            ((flags = finishedWork.alternate),
+            null !== flags &&
               0 !== (finishedWork.subtreeFlags & 8246) &&
               ((finishedWork.memoizedState = null),
-              restoreViewTransitionOnHostInstances(
-                isViewTransitionEligible.child,
-                !0
-              ),
+              restoreViewTransitionOnHostInstances(flags.child, !0),
               restoreViewTransitionOnHostInstances(finishedWork.child, !0)));
           recursivelyTraversePassiveMountEffects(
             finishedRoot,
@@ -14249,20 +14043,6 @@
                 (suspenseyCommitFlag = previousHoistableRoot))
               : recursivelyAccumulateSuspenseyCommit(fiber));
           break;
-        case 30:
-          if (
-            0 !== (fiber.flags & suspenseyCommitFlag) &&
-            ((previousHoistableRoot = fiber.memoizedProps.name),
-            null != previousHoistableRoot && "auto" !== previousHoistableRoot)
-          ) {
-            var state = fiber.stateNode;
-            state.paired = null;
-            null === appearingViewTransitions &&
-              (appearingViewTransitions = new Map());
-            appearingViewTransitions.set(previousHoistableRoot, state);
-          }
-          recursivelyAccumulateSuspenseyCommit(fiber);
-          break;
         default:
           recursivelyAccumulateSuspenseyCommit(fiber);
       }
@@ -14973,14 +14753,14 @@
     function popToNextHostParent(fiber) {
       for (hydrationParentFiber = fiber.return; hydrationParentFiber; )
         switch (hydrationParentFiber.tag) {
+          case 3:
+          case 27:
+            rootOrSingletonContext = !0;
+            return;
           case 5:
           case 13:
             rootOrSingletonContext = !1;
             return;
-          case 27:
-          case 3:
-            rootOrSingletonContext = !0;
-            return;
           default:
             hydrationParentFiber = hydrationParentFiber.return;
         }
@@ -14989,31 +14769,32 @@
       if (fiber !== hydrationParentFiber) return !1;
       if (!isHydrating)
         return popToNextHostParent(fiber), (isHydrating = !0), !1;
-      var tag = fiber.tag,
+      var shouldClear = !1,
         JSCompiler_temp;
-      if ((JSCompiler_temp = 3 !== tag && 27 !== tag)) {
-        if ((JSCompiler_temp = 5 === tag))
+      if ((JSCompiler_temp = 3 !== fiber.tag && 27 !== fiber.tag)) {
+        if ((JSCompiler_temp = 5 === fiber.tag))
           (JSCompiler_temp = fiber.type),
             (JSCompiler_temp =
               !("form" !== JSCompiler_temp && "button" !== JSCompiler_temp) ||
               shouldSetTextContent(fiber.type, fiber.memoizedProps));
         JSCompiler_temp = !JSCompiler_temp;
       }
-      if (JSCompiler_temp && nextHydratableInstance) {
-        for (JSCompiler_temp = nextHydratableInstance; JSCompiler_temp; ) {
-          var diffNode = buildHydrationDiffNode(fiber, 0),
-            description =
-              describeHydratableInstanceForDevWarnings(JSCompiler_temp);
-          diffNode.serverTail.push(description);
-          JSCompiler_temp =
+      JSCompiler_temp && (shouldClear = !0);
+      if (shouldClear && nextHydratableInstance) {
+        for (shouldClear = nextHydratableInstance; shouldClear; ) {
+          JSCompiler_temp = buildHydrationDiffNode(fiber, 0);
+          var description =
+            describeHydratableInstanceForDevWarnings(shouldClear);
+          JSCompiler_temp.serverTail.push(description);
+          shouldClear =
             "Suspense" === description.type
-              ? getNextHydratableInstanceAfterSuspenseInstance(JSCompiler_temp)
-              : getNextHydratable(JSCompiler_temp.nextSibling);
+              ? getNextHydratableInstanceAfterSuspenseInstance(shouldClear)
+              : getNextHydratable(shouldClear.nextSibling);
         }
         throwOnHydrationMismatch(fiber);
       }
       popToNextHostParent(fiber);
-      if (13 === tag) {
+      if (13 === fiber.tag) {
         fiber = fiber.memoizedState;
         fiber = null !== fiber ? fiber.dehydrated : null;
         if (!fiber)
@@ -15023,16 +14804,9 @@
         nextHydratableInstance =
           getNextHydratableInstanceAfterSuspenseInstance(fiber);
       } else
-        27 === tag
-          ? ((tag = nextHydratableInstance),
-            isSingletonScope(fiber.type)
-              ? ((fiber = previousHydratableOnEnteringScopedSingleton),
-                (previousHydratableOnEnteringScopedSingleton = null),
-                (nextHydratableInstance = fiber))
-              : (nextHydratableInstance = tag))
-          : (nextHydratableInstance = hydrationParentFiber
-              ? getNextHydratable(fiber.stateNode.nextSibling)
-              : null);
+        nextHydratableInstance = hydrationParentFiber
+          ? getNextHydratable(fiber.stateNode.nextSibling)
+          : null;
       return !0;
     }
     function resetHydrationState() {
@@ -15072,31 +14846,14 @@
         ? props.name
         : instance.autoName;
     }
-    function getClassNameByType(classByType) {
-      if (null == classByType || "string" === typeof classByType)
-        return classByType;
-      var className = null,
-        activeTypes = pendingTransitionTypes;
-      if (null !== activeTypes)
-        for (var i = 0; i < activeTypes.length; i++) {
-          var match = classByType[activeTypes[i]];
-          if (null != match) {
-            if ("none" === match) return "none";
-            className = null == className ? match : className + (" " + match);
-          }
-        }
-      return null == className ? classByType.default : className;
-    }
-    function getViewTransitionClassName(defaultClass, eventClass) {
-      defaultClass = getClassNameByType(defaultClass);
-      eventClass = getClassNameByType(eventClass);
-      return null == eventClass
-        ? defaultClass
-        : "none" === eventClass
-          ? eventClass
-          : null != defaultClass && "none" !== defaultClass
-            ? defaultClass + " " + eventClass
-            : eventClass;
+    function getViewTransitionClassName(className, eventClassName) {
+      return null == eventClassName
+        ? className
+        : "none" === eventClassName
+          ? eventClassName
+          : null != className
+            ? className + " " + eventClassName
+            : eventClassName;
     }
     function markUpdate(workInProgress) {
       workInProgress.flags |= 4;
@@ -15113,7 +14870,7 @@
         resource = suspenseHandlerStackCursor.current;
         if (
           null !== resource &&
-          ((workInProgressRootRenderLanes & 4194048) ===
+          ((workInProgressRootRenderLanes & 4194176) ===
           workInProgressRootRenderLanes
             ? null !== shellBoundary
             : ((workInProgressRootRenderLanes & 62914560) !==
@@ -15221,6 +14978,30 @@
       completedWork.childLanes = newChildLanes;
       return didBailout;
     }
+    function trackReappearingViewTransitions(workInProgress) {
+      if (0 !== (workInProgress.subtreeFlags & 2097152))
+        for (workInProgress = workInProgress.child; null !== workInProgress; ) {
+          if (
+            22 !== workInProgress.tag ||
+            null !== workInProgress.memoizedState
+          ) {
+            if (
+              30 === workInProgress.tag &&
+              0 !== (workInProgress.flags & 2097152)
+            ) {
+              var props = workInProgress.memoizedProps;
+              null != props.name &&
+                "auto" !== props.name &&
+                trackAppearingViewTransition(
+                  workInProgress.stateNode,
+                  props.name
+                );
+            }
+            trackReappearingViewTransitions(workInProgress);
+          }
+          workInProgress = workInProgress.sibling;
+        }
+    }
     function completeWork(current, workInProgress, renderLanes) {
       var newProps = workInProgress.pendingProps;
       popTreeContext(workInProgress);
@@ -15510,13 +15291,9 @@
                   : !1;
               current || throwOnHydrationMismatch(workInProgress);
             } else
-              (_type = renderLanes.ancestorInfo.current),
-                null != _type &&
-                  validateTextNesting(
-                    newProps,
-                    _type.tag,
-                    renderLanes.ancestorInfo.implicitRootScope
-                  ),
+              (renderLanes = renderLanes.ancestorInfo.current),
+                null != renderLanes &&
+                  validateTextNesting(newProps, renderLanes.tag),
                 (current =
                   getOwnerDocumentFromRootContainer(current).createTextNode(
                     newProps
@@ -15738,7 +15515,8 @@
             (newProps = null !== workInProgress.memoizedState),
             null !== current
               ? (null !== current.memoizedState) !== newProps &&
-                (workInProgress.flags |= 8192)
+                ((workInProgress.flags |= 8192),
+                newProps || trackReappearingViewTransitions(workInProgress))
               : newProps && (workInProgress.flags |= 8192),
             newProps
               ? 0 !== (renderLanes & 536870912) &&
@@ -16054,7 +15832,7 @@
       }
       yieldDuration = (forceSync =
         (!forceSync &&
-          0 === (lanes & 124) &&
+          0 === (lanes & 60) &&
           0 === (lanes & root.expiredLanes)) ||
         checkIfRootIsPrerendering(root, lanes))
         ? renderRootConcurrent(root, lanes)
@@ -16161,15 +15939,15 @@
               case RootFatalErrored:
                 throw Error("Root did not complete. This is a bug in React.");
               case RootSuspendedWithDelay:
-                if ((lanes & 4194048) !== lanes) break;
+                if ((lanes & 4194176) !== lanes) break;
               case RootSuspendedAtTheShell:
                 setCurrentTrackFromLanes(lanes);
                 logSuspendedRenderPhase(renderStartTime, startTime, lanes);
                 finalizeRender(lanes, startTime);
                 yieldEndTime = lanes;
-                0 !== (yieldEndTime & 3) || 0 !== (yieldEndTime & 124)
+                0 !== (yieldEndTime & 3) || 0 !== (yieldEndTime & 60)
                   ? (blockingSuspendedTime = startTime)
-                  : 0 !== (yieldEndTime & 4194048) &&
+                  : 0 !== (yieldEndTime & 4194176) &&
                     (transitionSuspendedTime = startTime);
                 markRootSuspended(
                   forceSync,
@@ -16194,6 +15972,7 @@
                 lanes,
                 workInProgressRootRecoverableErrors,
                 workInProgressTransitions,
+                workInProgressAppearingViewTransitions,
                 workInProgressRootDidIncludeRecursiveRenderUpdate,
                 workInProgressDeferredLane,
                 workInProgressRootInterleavedUpdatedLanes,
@@ -16226,6 +16005,7 @@
                     yieldEndTime,
                     workInProgressRootRecoverableErrors,
                     workInProgressTransitions,
+                    workInProgressAppearingViewTransitions,
                     workInProgressRootDidIncludeRecursiveRenderUpdate,
                     lanes,
                     workInProgressDeferredLane,
@@ -16246,6 +16026,7 @@
                 yieldEndTime,
                 workInProgressRootRecoverableErrors,
                 workInProgressTransitions,
+                workInProgressAppearingViewTransitions,
                 workInProgressRootDidIncludeRecursiveRenderUpdate,
                 lanes,
                 workInProgressDeferredLane,
@@ -16269,6 +16050,7 @@
       finishedWork,
       recoverableErrors,
       transitions,
+      appearingViewTransitions,
       didIncludeRenderPhaseUpdate,
       lanes,
       spawnedLane,
@@ -16282,40 +16064,37 @@
     ) {
       root.timeoutHandle = noTimeout;
       var subtreeFlags = finishedWork.subtreeFlags,
-        isViewTransitionEligible = (lanes & 335544064) === lanes,
-        isGestureTransition = 64 === lanes;
-      if (
-        isViewTransitionEligible ||
-        subtreeFlags & 8192 ||
-        16785408 === (subtreeFlags & 16785408) ||
-        isGestureTransition
-      ) {
+        isViewTransitionEligible = (lanes & 335544192) === lanes;
+      subtreeFlags =
+        subtreeFlags & 8192 || 16785408 === (subtreeFlags & 16785408);
+      if (isViewTransitionEligible || subtreeFlags) {
         suspendedState = { stylesheets: null, count: 0, unsuspend: noop };
-        appearingViewTransitions = null;
-        accumulateSuspenseyCommitOnFiber(finishedWork);
-        if (
-          (isViewTransitionEligible || isGestureTransition) &&
-          null === root.stoppingGestures
-        ) {
-          isViewTransitionEligible = root.containerInfo;
+        subtreeFlags && accumulateSuspenseyCommitOnFiber(finishedWork);
+        if (isViewTransitionEligible) {
+          subtreeFlags = root.containerInfo;
           if (null === suspendedState)
             throw Error(
               "Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug."
             );
-          subtreeFlags = suspendedState;
-          isViewTransitionEligible = (
-            9 === isViewTransitionEligible.nodeType
-              ? isViewTransitionEligible
-              : isViewTransitionEligible.ownerDocument
+          isViewTransitionEligible = suspendedState;
+          subtreeFlags = (
+            9 === subtreeFlags.nodeType
+              ? subtreeFlags
+              : subtreeFlags.ownerDocument
           ).__reactViewTransition;
-          null != isViewTransitionEligible &&
-            (subtreeFlags.count++,
-            (subtreeFlags = onUnsuspend.bind(subtreeFlags)),
-            isViewTransitionEligible.finished.then(subtreeFlags, subtreeFlags));
+          null != subtreeFlags &&
+            (isViewTransitionEligible.count++,
+            (isViewTransitionEligible = onUnsuspend.bind(
+              isViewTransitionEligible
+            )),
+            subtreeFlags.finished.then(
+              isViewTransitionEligible,
+              isViewTransitionEligible
+            ));
         }
-        subtreeFlags = waitForCommitToBeReady();
-        if (null !== subtreeFlags) {
-          root.cancelPendingCommit = subtreeFlags(
+        isViewTransitionEligible = waitForCommitToBeReady();
+        if (null !== isViewTransitionEligible) {
+          root.cancelPendingCommit = isViewTransitionEligible(
             commitRoot.bind(
               null,
               root,
@@ -16323,6 +16102,7 @@
               lanes,
               recoverableErrors,
               transitions,
+              appearingViewTransitions,
               didIncludeRenderPhaseUpdate,
               spawnedLane,
               updatedLanes,
@@ -16348,6 +16128,7 @@
         lanes,
         recoverableErrors,
         transitions,
+        appearingViewTransitions,
         didIncludeRenderPhaseUpdate,
         spawnedLane,
         updatedLanes,
@@ -16436,9 +16217,9 @@
       }
     }
     function finalizeRender(lanes, finalizationTime) {
-      if (0 !== (lanes & 3) || 0 !== (lanes & 124))
+      if (0 !== (lanes & 3) || 0 !== (lanes & 60))
         blockingClampTime = finalizationTime;
-      0 !== (lanes & 4194048) && (transitionClampTime = finalizationTime);
+      0 !== (lanes & 4194176) && (transitionClampTime = finalizationTime);
     }
     function prepareFreshStack(root, lanes) {
       supportsUserTiming &&
@@ -16463,13 +16244,13 @@
           var endTime = renderStartTime;
           supportsUserTiming &&
             ((reusableLaneDevToolDetails.color =
-              (lanes & 738197653) === lanes ? "tertiary-dark" : "primary-dark"),
+              (lanes & 738197589) === lanes ? "tertiary-dark" : "primary-dark"),
             (reusableLaneOptions.start = previousRenderStartTime),
             (reusableLaneOptions.end = endTime),
             performance.measure(
               (lanes & 536870912) === lanes
                 ? "Prewarm"
-                : (lanes & 201326741) === lanes
+                : (lanes & 201326677) === lanes
                   ? "Interrupted Hydration"
                   : "Interrupted Render",
               reusableLaneOptions
@@ -16477,7 +16258,7 @@
         }
         finalizeRender(workInProgressRootRenderLanes, renderStartTime);
       }
-      if (0 !== (lanes & 3) || 0 !== (lanes & 124)) {
+      if (0 !== (lanes & 3) || 0 !== (lanes & 60)) {
         previousRenderStartTime =
           0 <= blockingUpdateTime && blockingUpdateTime < blockingClampTime
             ? blockingClampTime
@@ -16520,7 +16301,7 @@
           0 < previousRenderStartTime &&
             ((reusableLaneDevToolDetails.color = isSpawnedUpdate
               ? "error"
-              : (lanes & 738197653) === lanes
+              : (lanes & 738197589) === lanes
                 ? "tertiary-light"
                 : "primary-light"),
             (reusableLaneOptions.start = previousRenderStartTime),
@@ -16533,7 +16314,7 @@
         blockingEventIsRepeat = !0;
         blockingSpawnedUpdate = !1;
       }
-      0 !== (lanes & 4194048) &&
+      0 !== (lanes & 4194176) &&
         ((previousRenderStartTime =
           0 <= transitionStartTime && transitionStartTime < transitionClampTime
             ? transitionClampTime
@@ -16624,6 +16405,7 @@
       workInProgressRootRecoverableErrors = workInProgressRootConcurrentErrors =
         null;
       workInProgressRootDidIncludeRecursiveRenderUpdate = !1;
+      workInProgressAppearingViewTransitions = null;
       0 !== (lanes & 8) && (lanes |= lanes & 32);
       endTime = root.entangledLanes;
       if (0 !== endTime)
@@ -16682,7 +16464,7 @@
     function renderDidSuspendDelayIfPossible() {
       workInProgressRootExitStatus = RootSuspendedWithDelay;
       workInProgressRootDidSkipSuspendedSiblings ||
-        ((workInProgressRootRenderLanes & 4194048) !==
+        ((workInProgressRootRenderLanes & 4194176) !==
           workInProgressRootRenderLanes &&
           null !== suspenseHandlerStackCursor.current) ||
         (workInProgressRootIsPrerendering = !0);
@@ -16701,6 +16483,18 @@
         ? (workInProgressRootConcurrentErrors = [error])
         : workInProgressRootConcurrentErrors.push(error);
     }
+    function trackAppearingViewTransition(instance, name) {
+      if (null === workInProgressAppearingViewTransitions) {
+        if (
+          (workInProgressRootRenderLanes & 335544192) !==
+          workInProgressRootRenderLanes
+        )
+          return;
+        workInProgressAppearingViewTransitions = new Map();
+      }
+      instance.paired = null;
+      workInProgressAppearingViewTransitions.set(name, instance);
+    }
     function renderRootSync(root, lanes, shouldYieldForPrerendering) {
       var prevExecutionContext = executionContext;
       executionContext |= RenderContext;
@@ -17143,6 +16937,7 @@
       lanes,
       recoverableErrors,
       transitions,
+      appearingViewTransitions,
       didIncludeRenderPhaseUpdate,
       spawnedLane,
       updatedLanes,
@@ -17181,9 +16976,7 @@
               completedRenderEndTime,
               lanes
             );
-      if (null === finishedWork)
-        null !== root.stoppingGestures && stopCompletedGestures(root);
-      else {
+      if (null !== finishedWork) {
         0 === lanes &&
           console.error(
             "finishedLanes should not be empty during a commit. This is a bug in React."
@@ -17195,7 +16988,6 @@
         didIncludeRenderPhaseUpdate =
           finishedWork.lanes | finishedWork.childLanes;
         didIncludeRenderPhaseUpdate |= concurrentlyUpdatedLanes;
-        null === root.pendingGestures && (didIncludeRenderPhaseUpdate &= -65);
         markRootFinished(
           root,
           lanes,
@@ -17213,68 +17005,62 @@
         pendingEffectsRemainingLanes = didIncludeRenderPhaseUpdate;
         pendingPassiveTransitions = transitions;
         pendingRecoverableErrors = recoverableErrors;
+        pendingViewTransitionEvents = null;
         pendingEffectsRenderEndTime = completedRenderEndTime;
         pendingSuspendedCommitReason = suspendedCommitReason;
-        if (64 === lanes) commitGestureOnRoot(root, finishedWork);
-        else {
-          pendingViewTransitionEvents = null;
-          (lanes & 335544064) === lanes
-            ? ((pendingTransitionTypes = ReactSharedInternals.V),
-              (ReactSharedInternals.V = null),
-              (recoverableErrors = 10262))
-            : ((pendingTransitionTypes = null), (recoverableErrors = 10256));
-          0 !== finishedWork.actualDuration ||
-          0 !== (finishedWork.subtreeFlags & recoverableErrors) ||
-          0 !== (finishedWork.flags & recoverableErrors)
-            ? ((root.callbackNode = null),
-              (root.callbackPriority = 0),
-              scheduleCallback$1(NormalPriority$1, function () {
-                schedulerEvent = window.event;
-                flushPassiveEffects(!0);
-                return null;
-              }))
-            : ((root.callbackNode = null), (root.callbackPriority = 0));
-          commitErrors = null;
-          commitStartTime = now();
-          suspendedCommitReason === SUSPENDED_COMMIT
-            ? logSuspendedCommitPhase(completedRenderEndTime, commitStartTime)
-            : suspendedCommitReason === THROTTLED_COMMIT &&
-              logSuspenseThrottlePhase(completedRenderEndTime, commitStartTime);
-          suspendedCommitReason = 0 !== (finishedWork.flags & 13878);
-          if (
-            0 !== (finishedWork.subtreeFlags & 13878) ||
-            suspendedCommitReason
-          ) {
-            suspendedCommitReason = ReactSharedInternals.T;
-            ReactSharedInternals.T = null;
-            completedRenderEndTime = ReactDOMSharedInternals.p;
-            ReactDOMSharedInternals.p = DiscreteEventPriority;
-            recoverableErrors = executionContext;
-            executionContext |= CommitContext;
-            try {
-              commitBeforeMutationEffects(root, finishedWork, lanes);
-            } finally {
-              (executionContext = recoverableErrors),
-                (ReactDOMSharedInternals.p = completedRenderEndTime),
-                (ReactSharedInternals.T = suspendedCommitReason);
-            }
+        recoverableErrors = (lanes & 335544192) === lanes ? 10262 : 10256;
+        0 !== finishedWork.actualDuration ||
+        0 !== (finishedWork.subtreeFlags & recoverableErrors) ||
+        0 !== (finishedWork.flags & recoverableErrors)
+          ? ((root.callbackNode = null),
+            (root.callbackPriority = 0),
+            scheduleCallback$1(NormalPriority$1, function () {
+              schedulerEvent = window.event;
+              flushPassiveEffects(!0);
+              return null;
+            }))
+          : ((root.callbackNode = null), (root.callbackPriority = 0));
+        commitErrors = null;
+        commitStartTime = now();
+        suspendedCommitReason === SUSPENDED_COMMIT
+          ? logSuspendedCommitPhase(completedRenderEndTime, commitStartTime)
+          : suspendedCommitReason === THROTTLED_COMMIT &&
+            logSuspenseThrottlePhase(completedRenderEndTime, commitStartTime);
+        suspendedCommitReason = 0 !== (finishedWork.flags & 13878);
+        if (
+          0 !== (finishedWork.subtreeFlags & 13878) ||
+          suspendedCommitReason
+        ) {
+          suspendedCommitReason = ReactSharedInternals.T;
+          ReactSharedInternals.T = null;
+          completedRenderEndTime = ReactDOMSharedInternals.p;
+          ReactDOMSharedInternals.p = DiscreteEventPriority;
+          recoverableErrors = executionContext;
+          executionContext |= CommitContext;
+          try {
+            commitBeforeMutationEffects(
+              root,
+              finishedWork,
+              lanes,
+              appearingViewTransitions
+            );
+          } finally {
+            (executionContext = recoverableErrors),
+              (ReactDOMSharedInternals.p = completedRenderEndTime),
+              (ReactSharedInternals.T = suspendedCommitReason);
           }
-          finishedWork = shouldStartViewTransition;
-          null !== root.stoppingGestures &&
-            (stopCompletedGestures(root), (finishedWork = !1));
-          pendingEffectsStatus = PENDING_MUTATION_PHASE;
-          (finishedWork &&
-            startViewTransition(
-              root.containerInfo,
-              pendingTransitionTypes,
-              flushMutationEffects,
-              flushLayoutEffects,
-              flushAfterMutationEffects,
-              flushSpawnedWork,
-              flushPassiveEffects
-            )) ||
-            (flushMutationEffects(), flushLayoutEffects(), flushSpawnedWork());
         }
+        pendingEffectsStatus = PENDING_MUTATION_PHASE;
+        (shouldStartViewTransition &&
+          startViewTransition(
+            root.containerInfo,
+            flushMutationEffects,
+            flushLayoutEffects,
+            flushAfterMutationEffects,
+            flushSpawnedWork,
+            flushPassiveEffects
+          )) ||
+          (flushMutationEffects(), flushLayoutEffects(), flushSpawnedWork());
       }
     }
     function flushAfterMutationEffects() {
@@ -17483,14 +17269,14 @@
             (reusableLaneOptions.start = completedRenderEndTime),
             (reusableLaneOptions.end = suspendedCommitReason),
             performance.measure("Commit", reusableLaneOptions));
-        completedRenderEndTime = (lanes & 335544064) === lanes ? 10262 : 10256;
+        completedRenderEndTime = (lanes & 335544192) === lanes ? 10262 : 10256;
         (completedRenderEndTime =
           0 !== finishedWork.actualDuration ||
           0 !== (finishedWork.subtreeFlags & completedRenderEndTime) ||
           0 !== (finishedWork.flags & completedRenderEndTime))
           ? (pendingEffectsStatus = PENDING_PASSIVE_PHASE)
           : ((pendingEffectsStatus = NO_PENDING_EFFECTS),
-            (pendingFinishedWork = pendingEffectsRoot = null),
+            (pendingEffectsRoot = null),
             releaseRootPooledCache(root, root.pendingLanes),
             (nestedPassiveUpdateCount = 0),
             (rootWithPassiveNestedUpdates = null));
@@ -17565,21 +17351,17 @@
           }
         }
         recoverableErrors = pendingViewTransitionEvents;
-        onRecoverableError = pendingTransitionTypes;
-        pendingTransitionTypes = null;
         if (null !== recoverableErrors)
           for (
-            pendingViewTransitionEvents = null,
-              null === onRecoverableError && (onRecoverableError = []),
-              recoverableError = 0;
-            recoverableError < recoverableErrors.length;
-            recoverableError++
+            pendingViewTransitionEvents = null, onRecoverableError = 0;
+            onRecoverableError < recoverableErrors.length;
+            onRecoverableError++
           )
-            (0, recoverableErrors[recoverableError])(onRecoverableError);
+            (0, recoverableErrors[onRecoverableError])();
         0 !== (pendingEffectsLanes & 3) && flushPendingEffects();
         ensureRootIsScheduled(root);
         suspendedCommitReason = root.pendingLanes;
-        0 !== (lanes & 4194090) && 0 !== (suspendedCommitReason & 42)
+        0 !== (lanes & 4194218) && 0 !== (suspendedCommitReason & 42)
           ? ((nestedUpdateScheduled = !0),
             root === rootWithNestedUpdates
               ? nestedUpdateCount++
@@ -17589,71 +17371,6 @@
         flushSyncWorkAcrossRoots_impl(0, !1);
       }
     }
-    function commitGestureOnRoot(root) {
-      var finishedGesture = root.pendingGestures;
-      if (null === finishedGesture) ensureRootIsScheduled(root);
-      else {
-        deleteScheduledGesture(root, finishedGesture);
-        var prevTransition = ReactSharedInternals.T,
-          previousPriority = ReactDOMSharedInternals.p,
-          prevExecutionContext = executionContext;
-        executionContext |= CommitContext;
-        executionContext = prevExecutionContext;
-        ReactDOMSharedInternals.p = previousPriority;
-        ReactSharedInternals.T = prevTransition;
-        pendingTransitionTypes = null;
-        pendingEffectsStatus = PENDING_GESTURE_MUTATION_PHASE;
-        finishedGesture.running = startGestureTransition(
-          root.containerInfo,
-          pendingTransitionTypes,
-          flushGestureMutations,
-          flushGestureAnimations
-        );
-      }
-    }
-    function flushGestureMutations() {
-      if (pendingEffectsStatus === PENDING_GESTURE_MUTATION_PHASE) {
-        pendingEffectsStatus = NO_PENDING_EFFECTS;
-        var root = pendingEffectsRoot,
-          prevTransition = ReactSharedInternals.T;
-        ReactSharedInternals.T = null;
-        var previousPriority = ReactDOMSharedInternals.p;
-        ReactDOMSharedInternals.p = DiscreteEventPriority;
-        var prevExecutionContext = executionContext;
-        executionContext |= CommitContext;
-        try {
-          cancelRootViewTransitionName(root.containerInfo);
-        } finally {
-          (executionContext = prevExecutionContext),
-            (ReactDOMSharedInternals.p = previousPriority),
-            (ReactSharedInternals.T = prevTransition);
-        }
-        pendingEffectsStatus = PENDING_GESTURE_ANIMATION_PHASE;
-      }
-    }
-    function flushGestureAnimations() {
-      flushGestureMutations();
-      if (pendingEffectsStatus === PENDING_GESTURE_ANIMATION_PHASE) {
-        pendingEffectsStatus = NO_PENDING_EFFECTS;
-        var root = pendingEffectsRoot;
-        pendingFinishedWork = pendingEffectsRoot = null;
-        pendingEffectsLanes = 0;
-        var prevTransition = ReactSharedInternals.T;
-        ReactSharedInternals.T = null;
-        var previousPriority = ReactDOMSharedInternals.p;
-        ReactDOMSharedInternals.p = DiscreteEventPriority;
-        var prevExecutionContext = executionContext;
-        executionContext |= CommitContext;
-        try {
-          restoreRootViewTransitionName(root.containerInfo);
-        } finally {
-          (executionContext = prevExecutionContext),
-            (ReactDOMSharedInternals.p = previousPriority),
-            (ReactSharedInternals.T = prevTransition);
-        }
-        ensureRootIsScheduled(root);
-      }
-    }
     function makeErrorInfo(componentStack) {
       componentStack = { componentStack: componentStack };
       Object.defineProperty(componentStack, "digest", {
@@ -17672,8 +17389,6 @@
           ((root.pooledCache = null), releaseCache(remainingLanes)));
     }
     function flushPendingEffects(wasDelayedCommit) {
-      flushGestureMutations();
-      flushGestureAnimations();
       flushMutationEffects();
       flushLayoutEffects();
       flushSpawnedWork();
@@ -17699,7 +17414,7 @@
         priority = pendingEffectsRoot;
         var lanes = pendingEffectsLanes;
         pendingEffectsStatus = NO_PENDING_EFFECTS;
-        pendingFinishedWork = pendingEffectsRoot = null;
+        pendingEffectsRoot = null;
         pendingEffectsLanes = 0;
         if ((executionContext & (RenderContext | CommitContext)) !== NoContext)
           throw Error("Cannot flush passive effects while already rendering.");
@@ -17865,10 +17580,10 @@
       null !== pingCache && pingCache.delete(wakeable);
       root.pingedLanes |= root.suspendedLanes & pingedLanes;
       root.warmLanes &= ~pingedLanes;
-      0 !== (pingedLanes & 3) || 0 !== (pingedLanes & 124)
+      0 !== (pingedLanes & 3) || 0 !== (pingedLanes & 60)
         ? 0 > blockingUpdateTime &&
           (blockingClampTime = blockingUpdateTime = now())
-        : 0 !== (pingedLanes & 4194048) &&
+        : 0 !== (pingedLanes & 4194176) &&
           0 > transitionUpdateTime &&
           (transitionClampTime = transitionUpdateTime = now());
       isConcurrentActEnvironment() &&
@@ -18070,8 +17785,8 @@
                     (1 << (31 - clz32(42 | syncTransitionLanes) + 1)) - 1;
                   nextLanes &= pendingLanes & ~(suspendedLanes & ~pingedLanes);
                   nextLanes =
-                    nextLanes & 201326741
-                      ? (nextLanes & 201326741) | 1
+                    nextLanes & 201326677
+                      ? (nextLanes & 201326677) | 1
                       : nextLanes
                         ? nextLanes | 2
                         : 0;
@@ -18087,7 +17802,7 @@
                     null !== root.cancelPendingCommit ||
                       root.timeoutHandle !== noTimeout
                   )),
-                  (0 === (nextLanes & 3) && 64 !== nextLanes) ||
+                  0 === (nextLanes & 3) ||
                     checkIfRootIsPrerendering(root, nextLanes) ||
                     ((didPerformSomeWork = !0),
                     performSyncWorkOnRoot(root, nextLanes));
@@ -18123,10 +17838,7 @@
             null === prev ? (firstScheduledRoot = next) : (prev.next = next),
             null === next && (lastScheduledRoot = prev);
         else if (
-          ((prev = root),
-          0 !== syncTransitionLanes ||
-            0 !== (nextLanes & 3) ||
-            64 === nextLanes)
+          ((prev = root), 0 !== syncTransitionLanes || 0 !== (nextLanes & 3))
         )
           mightHavePendingSyncWork = !0;
         root = next;
@@ -18560,15 +18272,23 @@
           var nodeTag = targetInst$jscomp$0.tag;
           if (3 === nodeTag || 4 === nodeTag) {
             var container = targetInst$jscomp$0.stateNode.containerInfo;
-            if (container === targetContainer) break;
+            if (
+              container === targetContainer ||
+              (8 === container.nodeType &&
+                container.parentNode === targetContainer)
+            )
+              break;
             if (4 === nodeTag)
               for (nodeTag = targetInst$jscomp$0.return; null !== nodeTag; ) {
                 var grandTag = nodeTag.tag;
-                if (
-                  (3 === grandTag || 4 === grandTag) &&
-                  nodeTag.stateNode.containerInfo === targetContainer
-                )
-                  return;
+                if (3 === grandTag || 4 === grandTag)
+                  if (
+                    ((grandTag = nodeTag.stateNode.containerInfo),
+                    grandTag === targetContainer ||
+                      (8 === grandTag.nodeType &&
+                        grandTag.parentNode === targetContainer))
+                  )
+                    return;
                 nodeTag = nodeTag.return;
               }
             for (; null !== container; ) {
@@ -19212,12 +18932,12 @@
       switch (key) {
         case "children":
           if ("string" === typeof value)
-            validateTextNesting(value, tag, !1),
+            validateTextNesting(value, tag),
               "body" === tag ||
                 ("textarea" === tag && "" === value) ||
                 setTextContent(domElement, value);
           else if ("number" === typeof value || "bigint" === typeof value)
-            validateTextNesting("" + value, tag, !1),
+            validateTextNesting("" + value, tag),
               "body" !== tag && setTextContent(domElement, "" + value);
           else return;
           break;
@@ -21402,58 +21122,22 @@
     function commitTextUpdate(textInstance, oldText, newText) {
       textInstance.nodeValue = newText;
     }
-    function isSingletonScope(type) {
-      return "head" === type;
-    }
     function removeChild(parentInstance, child) {
       parentInstance.removeChild(child);
     }
     function removeChildFromContainer(container, child) {
-      (9 === container.nodeType
-        ? container.body
-        : "HTML" === container.nodeName
-          ? container.ownerDocument.body
-          : container
-      ).removeChild(child);
+      8 === container.nodeType
+        ? container.parentNode.removeChild(child)
+        : container.removeChild(child);
     }
     function clearSuspenseBoundary(parentInstance, suspenseInstance) {
       var node = suspenseInstance,
-        possiblePreambleContribution = 0,
         depth = 0;
       do {
         var nextNode = node.nextSibling;
         parentInstance.removeChild(node);
         if (nextNode && 8 === nextNode.nodeType)
           if (((node = nextNode.data), node === SUSPENSE_END_DATA)) {
-            if (
-              0 < possiblePreambleContribution &&
-              8 > possiblePreambleContribution
-            ) {
-              node = possiblePreambleContribution;
-              var ownerDocument = parentInstance.ownerDocument;
-              node & PREAMBLE_CONTRIBUTION_HTML &&
-                releaseSingletonInstance(ownerDocument.documentElement);
-              node & PREAMBLE_CONTRIBUTION_BODY &&
-                releaseSingletonInstance(ownerDocument.body);
-              if (node & PREAMBLE_CONTRIBUTION_HEAD)
-                for (
-                  node = ownerDocument.head,
-                    releaseSingletonInstance(node),
-                    ownerDocument = node.firstChild;
-                  ownerDocument;
-
-                ) {
-                  var nextNode$jscomp$0 = ownerDocument.nextSibling,
-                    nodeName = ownerDocument.nodeName;
-                  ownerDocument[internalHoistableMarker] ||
-                    "SCRIPT" === nodeName ||
-                    "STYLE" === nodeName ||
-                    ("LINK" === nodeName &&
-                      "stylesheet" === ownerDocument.rel.toLowerCase()) ||
-                    node.removeChild(ownerDocument);
-                  ownerDocument = nextNode$jscomp$0;
-                }
-            }
             if (0 === depth) {
               parentInstance.removeChild(nextNode);
               retryIfBlockedOn(suspenseInstance);
@@ -21461,12 +21145,10 @@
             }
             depth--;
           } else
-            node === SUSPENSE_START_DATA ||
-            node === SUSPENSE_PENDING_START_DATA ||
-            node === SUSPENSE_FALLBACK_START_DATA
-              ? depth++
-              : (possiblePreambleContribution = node.charCodeAt(0) - 48);
-        else possiblePreambleContribution = 0;
+            (node !== SUSPENSE_START_DATA &&
+              node !== SUSPENSE_PENDING_START_DATA &&
+              node !== SUSPENSE_FALLBACK_START_DATA) ||
+              depth++;
         node = nextNode;
       } while (node);
       retryIfBlockedOn(suspenseInstance);
@@ -21517,36 +21199,6 @@
       instance.style.viewTransitionClass =
         null == props || "boolean" === typeof props ? "" : ("" + props).trim();
     }
-    function cancelRootViewTransitionName(rootContainer) {
-      rootContainer =
-        9 === rootContainer.nodeType
-          ? rootContainer.documentElement
-          : rootContainer.ownerDocument.documentElement;
-      null !== rootContainer &&
-        "" === rootContainer.style.viewTransitionName &&
-        ((rootContainer.style.viewTransitionName = "none"),
-        rootContainer.animate(
-          { opacity: [0, 0], pointerEvents: ["none", "none"] },
-          {
-            duration: 0,
-            fill: "forwards",
-            pseudoElement: "::view-transition-group(root)"
-          }
-        ),
-        rootContainer.animate(
-          { width: [0, 0], height: [0, 0] },
-          { duration: 0, fill: "forwards", pseudoElement: "::view-transition" }
-        ));
-    }
-    function restoreRootViewTransitionName(rootContainer) {
-      rootContainer =
-        9 === rootContainer.nodeType
-          ? rootContainer.documentElement
-          : rootContainer.ownerDocument.documentElement;
-      null !== rootContainer &&
-        "none" === rootContainer.style.viewTransitionName &&
-        (rootContainer.style.viewTransitionName = "");
-    }
     function measureInstance(instance) {
       var ownerWindow = instance.ownerDocument.defaultView,
         rect = instance.getBoundingClientRect();
@@ -21570,7 +21222,6 @@
     }
     function startViewTransition(
       rootContainer,
-      transitionTypes,
       mutationCallback,
       layoutCallback,
       afterMutationCallback,
@@ -21617,7 +21268,7 @@
               );
             afterMutationCallback();
           },
-          types: transitionTypes
+          types: null
         });
         ownerDocument.__reactViewTransition = transition;
         transition.ready.then(void 0, function (reason) {
@@ -21630,8 +21281,7 @@
         });
         transition.ready.then(spawnedWorkCallback, spawnedWorkCallback);
         transition.finished.then(function () {
-          ownerDocument.__reactViewTransition === transition &&
-            (ownerDocument.__reactViewTransition = null);
+          ownerDocument.__reactViewTransition = null;
           passiveCallback();
         });
         return !0;
@@ -21639,42 +21289,6 @@
         return !1;
       }
     }
-    function startGestureTransition(
-      rootContainer,
-      transitionTypes,
-      mutationCallback,
-      animateCallback
-    ) {
-      var ownerDocument =
-        9 === rootContainer.nodeType
-          ? rootContainer
-          : rootContainer.ownerDocument;
-      try {
-        var transition = ownerDocument.startViewTransition({
-          update: mutationCallback,
-          types: transitionTypes
-        });
-        ownerDocument.__reactViewTransition = transition;
-        var blockingAnim = null;
-        rootContainer = function () {
-          blockingAnim = ownerDocument.documentElement.animate([{}, {}], {
-            pseudoElement: "::view-transition",
-            duration: 1
-          });
-          blockingAnim.pause();
-          animateCallback();
-        };
-        transition.ready.then(rootContainer, rootContainer);
-        transition.finished.then(function () {
-          null !== blockingAnim && blockingAnim.cancel();
-          ownerDocument.__reactViewTransition === transition &&
-            (ownerDocument.__reactViewTransition = null);
-        });
-        return transition;
-      } catch (x) {
-        return mutationCallback(), animateCallback(), null;
-      }
-    }
     function ViewTransitionPseudoElement(pseudo, name) {
       this._scope = document.documentElement;
       this._selector = "::view-transition-" + pseudo + "(" + name + ")";
@@ -21688,50 +21302,6 @@
         new: new ViewTransitionPseudoElement("new", name)
       };
     }
-    function getCurrentGestureOffset(provider) {
-      provider = provider.currentTime;
-      if (null === provider)
-        throw Error(
-          "Cannot start a gesture with a disconnected AnimationTimeline."
-        );
-      return "number" === typeof provider ? provider : provider.value;
-    }
-    function subscribeToGestureDirection(
-      provider,
-      currentOffset,
-      directionCallback
-    ) {
-      function rafCallback() {
-        var newTime = provider.currentTime;
-        null !== newTime &&
-          ((newTime = "number" === typeof newTime ? newTime : newTime.value),
-          newTime !== currentOffset &&
-            directionCallback(newTime > currentOffset));
-        callbackID = requestAnimationFrame(rafCallback);
-      }
-      if (
-        "function" === typeof ScrollTimeline &&
-        provider instanceof ScrollTimeline
-      ) {
-        var element = provider.source,
-          scrollCallback = function () {
-            var newTime = provider.currentTime;
-            null !== newTime &&
-              ((newTime =
-                "number" === typeof newTime ? newTime : newTime.value),
-              newTime !== currentOffset &&
-                directionCallback(newTime > currentOffset));
-          };
-        element.addEventListener("scroll", scrollCallback, !1);
-        return function () {
-          element.removeEventListener("scroll", scrollCallback, !1);
-        };
-      }
-      var callbackID = requestAnimationFrame(rafCallback);
-      return function () {
-        cancelAnimationFrame(callbackID);
-      };
-    }
     function clearContainerSparingly(container) {
       var nextNode = container.firstChild;
       nextNode && 10 === nextNode.nodeType && (nextNode = nextNode.nextSibling);
@@ -22007,10 +21577,7 @@
       instance,
       internalInstanceHandle
     ) {
-      if (
-        !instance[internalContainerInstanceKey] &&
-        getInstanceFromNode(instance)
-      ) {
+      if (getInstanceFromNode(instance)) {
         var tagName = instance.tagName.toLowerCase();
         console.error(
           "You are mounting a new %s component when a previous one has not first unmounted. It is an error to render more than one %s component at a time and attributes and children of these components will likely fail in unpredictable ways. Please only render a single instance of <%s> and if you need to mount a new one, ensure any previous ones have unmounted first.",
@@ -22035,17 +21602,10 @@
       instance[internalInstanceKey] = internalInstanceHandle;
       instance[internalPropsKey] = props;
     }
-    function releaseSingletonInstance(instance) {
-      for (var attributes = instance.attributes; attributes.length; )
-        instance.removeAttributeNode(attributes[0]);
-      detachDeletedInstance(instance);
-    }
     function getHoistableRoot(container) {
       return "function" === typeof container.getRootNode
         ? container.getRootNode()
-        : 9 === container.nodeType
-          ? container
-          : container.ownerDocument;
+        : container.ownerDocument;
     }
     function preconnectAs(rel, href, crossOrigin) {
       var ownerDocument = globalDocument;
@@ -22767,7 +22327,6 @@
       this.pooledCache = null;
       this.pooledCacheLanes = 0;
       this.formState = formState;
-      this.stoppingGestures = this.pendingGestures = null;
       this.incompleteTransitions = new Map();
       this.passiveEffectDuration = this.effectDuration = -0;
       this.memoizedUpdaters = new Set();
@@ -23549,7 +23108,7 @@
       clz32 = Math.clz32 ? Math.clz32 : clz32Fallback,
       log = Math.log,
       LN2 = Math.LN2,
-      nextTransitionLane = 256,
+      nextTransitionLane = 128,
       nextRetryLane = 4194304,
       DiscreteEventPriority = 2,
       ContinuousEventPriority = 8,
@@ -23628,8 +23187,7 @@
         pTagInButtonScope: null,
         listItemTagAutoclosing: null,
         dlItemTagAutoclosing: null,
-        containerTagInScope: null,
-        implicitRootScope: !1
+        containerTagInScope: null
       },
       didWarn = {},
       shorthandToLonghand = {
@@ -25276,7 +24834,6 @@
         useCacheRefresh: throwInvalidHookError
       };
     ContextOnlyDispatcher.useEffectEvent = throwInvalidHookError;
-    ContextOnlyDispatcher.useSwipeTransition = throwInvalidHookError;
     var HooksDispatcherOnMountInDEV = null,
       HooksDispatcherOnMountWithHookTypesInDEV = null,
       HooksDispatcherOnUpdateInDEV = null,
@@ -25300,11 +24857,11 @@
         mountHookTypesDev();
         return readContext(context);
       },
-      useEffect: function (create, createDeps) {
+      useEffect: function (create, deps) {
         currentHookNameInDev = "useEffect";
         mountHookTypesDev();
-        checkDepsAreArrayDev(createDeps);
-        return mountEffect(create, createDeps);
+        checkDepsAreArrayDev(deps);
+        return mountEffect(create, deps);
       },
       useImperativeHandle: function (ref, create, deps) {
         currentHookNameInDev = "useImperativeHandle";
@@ -25422,11 +24979,6 @@
         currentHookNameInDev = "useEffectEvent";
         mountHookTypesDev();
         return mountEvent(callback);
-      },
-      useSwipeTransition: function (previous, current) {
-        currentHookNameInDev = "useSwipeTransition";
-        mountHookTypesDev();
-        return mountSwipeTransition(previous, current);
       }
     };
     HooksDispatcherOnMountWithHookTypesInDEV = {
@@ -25444,10 +24996,10 @@
         updateHookTypesDev();
         return readContext(context);
       },
-      useEffect: function (create, createDeps) {
+      useEffect: function (create, deps) {
         currentHookNameInDev = "useEffect";
         updateHookTypesDev();
-        return mountEffect(create, createDeps);
+        return mountEffect(create, deps);
       },
       useImperativeHandle: function (ref, create, deps) {
         currentHookNameInDev = "useImperativeHandle";
@@ -25561,11 +25113,6 @@
         currentHookNameInDev = "useEffectEvent";
         updateHookTypesDev();
         return mountEvent(callback);
-      },
-      useSwipeTransition: function (previous, current, next) {
-        currentHookNameInDev = "useSwipeTransition";
-        updateHookTypesDev();
-        return updateSwipeTransition(previous, current, next);
       }
     };
     HooksDispatcherOnUpdateInDEV = {
@@ -25583,10 +25130,10 @@
         updateHookTypesDev();
         return readContext(context);
       },
-      useEffect: function (create, createDeps) {
+      useEffect: function (create, deps) {
         currentHookNameInDev = "useEffect";
         updateHookTypesDev();
-        updateEffectImpl(2048, Passive, create, createDeps);
+        updateEffectImpl(2048, Passive, create, deps);
       },
       useImperativeHandle: function (ref, create, deps) {
         currentHookNameInDev = "useImperativeHandle";
@@ -25700,11 +25247,6 @@
         currentHookNameInDev = "useEffectEvent";
         updateHookTypesDev();
         return updateEvent(callback);
-      },
-      useSwipeTransition: function (previous, current, next) {
-        currentHookNameInDev = "useSwipeTransition";
-        updateHookTypesDev();
-        return updateSwipeTransition(previous, current, next);
       }
     };
     HooksDispatcherOnRerenderInDEV = {
@@ -25722,10 +25264,10 @@
         updateHookTypesDev();
         return readContext(context);
       },
-      useEffect: function (create, createDeps) {
+      useEffect: function (create, deps) {
         currentHookNameInDev = "useEffect";
         updateHookTypesDev();
-        updateEffectImpl(2048, Passive, create, createDeps);
+        updateEffectImpl(2048, Passive, create, deps);
       },
       useImperativeHandle: function (ref, create, deps) {
         currentHookNameInDev = "useImperativeHandle";
@@ -25839,11 +25381,6 @@
         currentHookNameInDev = "useEffectEvent";
         updateHookTypesDev();
         return updateEvent(callback);
-      },
-      useSwipeTransition: function (previous, current, next) {
-        currentHookNameInDev = "useSwipeTransition";
-        updateHookTypesDev();
-        return updateSwipeTransition(previous, current, next);
       }
     };
     InvalidNestedHooksDispatcherOnMountInDEV = {
@@ -25867,11 +25404,11 @@
         mountHookTypesDev();
         return readContext(context);
       },
-      useEffect: function (create, createDeps) {
+      useEffect: function (create, deps) {
         currentHookNameInDev = "useEffect";
         warnInvalidHookAccess();
         mountHookTypesDev();
-        return mountEffect(create, createDeps);
+        return mountEffect(create, deps);
       },
       useImperativeHandle: function (ref, create, deps) {
         currentHookNameInDev = "useImperativeHandle";
@@ -26003,12 +25540,6 @@
         warnInvalidHookAccess();
         mountHookTypesDev();
         return mountEvent(callback);
-      },
-      useSwipeTransition: function (previous, current) {
-        currentHookNameInDev = "useSwipeTransition";
-        warnInvalidHookAccess();
-        mountHookTypesDev();
-        return mountSwipeTransition(previous, current);
       }
     };
     InvalidNestedHooksDispatcherOnUpdateInDEV = {
@@ -26032,11 +25563,11 @@
         updateHookTypesDev();
         return readContext(context);
       },
-      useEffect: function (create, createDeps) {
+      useEffect: function (create, deps) {
         currentHookNameInDev = "useEffect";
         warnInvalidHookAccess();
         updateHookTypesDev();
-        updateEffectImpl(2048, Passive, create, createDeps);
+        updateEffectImpl(2048, Passive, create, deps);
       },
       useImperativeHandle: function (ref, create, deps) {
         currentHookNameInDev = "useImperativeHandle";
@@ -26168,12 +25699,6 @@
         warnInvalidHookAccess();
         updateHookTypesDev();
         return updateEvent(callback);
-      },
-      useSwipeTransition: function (previous, current, next) {
-        currentHookNameInDev = "useSwipeTransition";
-        warnInvalidHookAccess();
-        updateHookTypesDev();
-        return updateSwipeTransition(previous, current, next);
       }
     };
     InvalidNestedHooksDispatcherOnRerenderInDEV = {
@@ -26197,11 +25722,11 @@
         updateHookTypesDev();
         return readContext(context);
       },
-      useEffect: function (create, createDeps) {
+      useEffect: function (create, deps) {
         currentHookNameInDev = "useEffect";
         warnInvalidHookAccess();
         updateHookTypesDev();
-        updateEffectImpl(2048, Passive, create, createDeps);
+        updateEffectImpl(2048, Passive, create, deps);
       },
       useImperativeHandle: function (ref, create, deps) {
         currentHookNameInDev = "useImperativeHandle";
@@ -26333,12 +25858,6 @@
         warnInvalidHookAccess();
         updateHookTypesDev();
         return updateEvent(callback);
-      },
-      useSwipeTransition: function (previous, current, next) {
-        currentHookNameInDev = "useSwipeTransition";
-        warnInvalidHookAccess();
-        updateHookTypesDev();
-        return updateSwipeTransition(previous, current, next);
       }
     };
     var callComponent = {
@@ -26427,7 +25946,7 @@
         "react-stack-bottom-frame": function (effect) {
           null != effect.resourceKind &&
             console.error(
-              "Expected only SimpleEffects when enableUseEffectCRUDOverload is disabled, got %s",
+              "Expected only SimpleEffects when enableUseResourceEffectHook is disabled, got %s",
               effect.resourceKind
             );
           var create = effect.create;
@@ -26577,18 +26096,17 @@
       hasWarnedAboutUsingNoValuePropOnContextProvider = !1,
       didWarnAboutUndefinedSnapshotBeforeUpdate = null;
     didWarnAboutUndefinedSnapshotBeforeUpdate = new Set();
-    var shouldStartViewTransition = !1,
-      appearingViewTransitions = null,
-      viewTransitionCancelableChildren = null,
-      viewTransitionHostInstanceIdx = 0,
-      offscreenSubtreeIsHidden = !1,
+    var offscreenSubtreeIsHidden = !1,
       offscreenSubtreeWasHidden = !1,
       needsFormReset = !1,
       PossiblyWeakSet = "function" === typeof WeakSet ? WeakSet : Set,
       nextEffect = null,
       inProgressLanes = null,
       inProgressRoot = null,
+      shouldStartViewTransition = !1,
       viewTransitionContextChanged = !1,
+      viewTransitionCancelableChildren = null,
+      viewTransitionHostInstanceIdx = 0,
       hostParent = null,
       hostParentIsContainer = !1,
       currentHoistableRoot = null,
@@ -26674,6 +26192,7 @@
       workInProgressSuspendedRetryLanes = 0,
       workInProgressRootConcurrentErrors = null,
       workInProgressRootRecoverableErrors = null,
+      workInProgressAppearingViewTransitions = null,
       workInProgressRootDidIncludeRecursiveRenderUpdate = !1,
       globalMostRecentFallbackTime = 0,
       FALLBACK_THROTTLE_MS = 300,
@@ -26690,8 +26209,6 @@
       PENDING_AFTER_MUTATION_PHASE = 3,
       PENDING_SPAWNED_WORK = 4,
       PENDING_PASSIVE_PHASE = 5,
-      PENDING_GESTURE_MUTATION_PHASE = 6,
-      PENDING_GESTURE_ANIMATION_PHASE = 7,
       pendingEffectsStatus = 0,
       pendingEffectsRoot = null,
       pendingFinishedWork = null,
@@ -26701,7 +26218,6 @@
       pendingPassiveTransitions = null,
       pendingRecoverableErrors = null,
       pendingViewTransitionEvents = null,
-      pendingTransitionTypes = null,
       pendingSuspendedCommitReason = IMMEDIATE_COMMIT,
       NESTED_UPDATE_LIMIT = 50,
       nestedUpdateCount = 0,
@@ -26805,9 +26321,6 @@
       SUSPENSE_END_DATA = "/$",
       SUSPENSE_PENDING_START_DATA = "$?",
       SUSPENSE_FALLBACK_START_DATA = "$!",
-      PREAMBLE_CONTRIBUTION_HTML = 1,
-      PREAMBLE_CONTRIBUTION_BODY = 2,
-      PREAMBLE_CONTRIBUTION_HEAD = 4,
       FORM_STATE_IS_MATCHING = "F!",
       FORM_STATE_IS_NOT_MATCHING = "F",
       DOCUMENT_READY_STATE_COMPLETE = "complete",
@@ -26866,8 +26379,7 @@
       }
       return result;
     };
-    var previousHydratableOnEnteringScopedSingleton = null,
-      NotLoaded = 0,
+    var NotLoaded = 0,
       Loaded = 1,
       Errored = 2,
       Settled = 3,
@@ -27282,11 +26794,11 @@
     };
     (function () {
       var isomorphicReactPackageVersion = React.version;
-      if ("19.1.0-experimental-d55cc79b-20250228" !== isomorphicReactPackageVersion)
+      if ("19.1.0-experimental-b3a95caf-20250113" !== isomorphicReactPackageVersion)
         throw Error(
           'Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:\n  - react:      ' +
             (isomorphicReactPackageVersion +
-              "\n  - react-dom:  19.1.0-experimental-d55cc79b-20250228\nLearn more: https://react.dev/warnings/version-mismatch")
+              "\n  - react-dom:  19.1.0-experimental-b3a95caf-20250113\nLearn more: https://react.dev/warnings/version-mismatch")
         );
     })();
     ("function" === typeof Map &&
@@ -27323,10 +26835,10 @@
       !(function () {
         var internals = {
           bundleType: 1,
-          version: "19.1.0-experimental-d55cc79b-20250228",
+          version: "19.1.0-experimental-b3a95caf-20250113",
           rendererPackageName: "react-dom",
           currentDispatcherRef: ReactSharedInternals,
-          reconcilerVersion: "19.1.0-experimental-d55cc79b-20250228"
+          reconcilerVersion: "19.1.0-experimental-b3a95caf-20250113"
         };
         internals.overrideHookState = overrideHookState;
         internals.overrideHookStateDeletePath = overrideHookStateDeletePath;
@@ -27407,7 +26919,9 @@
         null
       );
       container[internalContainerInstanceKey] = options.current;
-      listenToAllSupportedEvents(container);
+      listenToAllSupportedEvents(
+        8 === container.nodeType ? container.parentNode : container
+      );
       return new ReactDOMRoot(options);
     };
     exports.hydrateRoot = function (container, initialChildren, options) {
@@ -27468,7 +26982,7 @@
       listenToAllSupportedEvents(container);
       return new ReactDOMHydrationRoot(initialChildren);
     };
-    exports.version = "19.1.0-experimental-d55cc79b-20250228";
+    exports.version = "19.1.0-experimental-b3a95caf-20250113";
     "undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&
       "function" ===
         typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&
diff --git a/node_modules/react-dom/cjs/react-dom-client.production.js b/node_modules/react-dom/cjs/react-dom-client.production.js
index 791f93f..8dddd06 100644
--- a/node_modules/react-dom/cjs/react-dom-client.production.js
+++ b/node_modules/react-dom/cjs/react-dom-client.production.js
@@ -259,36 +259,38 @@ function pushHostContainer(fiber, nextRootInstance) {
   push(rootInstanceStackCursor, nextRootInstance);
   push(contextFiberStackCursor, fiber);
   push(contextStackCursor, null);
-  switch (nextRootInstance.nodeType) {
+  fiber = nextRootInstance.nodeType;
+  switch (fiber) {
     case 9:
     case 11:
-      fiber = (fiber = nextRootInstance.documentElement)
-        ? (fiber = fiber.namespaceURI)
-          ? getOwnHostContext(fiber)
+      nextRootInstance = (nextRootInstance = nextRootInstance.documentElement)
+        ? (nextRootInstance = nextRootInstance.namespaceURI)
+          ? getOwnHostContext(nextRootInstance)
           : 0
         : 0;
       break;
     default:
       if (
-        ((fiber = nextRootInstance.tagName),
-        (nextRootInstance = nextRootInstance.namespaceURI))
+        ((fiber = 8 === fiber ? nextRootInstance.parentNode : nextRootInstance),
+        (nextRootInstance = fiber.tagName),
+        (fiber = fiber.namespaceURI))
       )
-        (nextRootInstance = getOwnHostContext(nextRootInstance)),
-          (fiber = getChildHostContextProd(nextRootInstance, fiber));
+        (fiber = getOwnHostContext(fiber)),
+          (nextRootInstance = getChildHostContextProd(fiber, nextRootInstance));
       else
-        switch (fiber) {
+        switch (nextRootInstance) {
           case "svg":
-            fiber = 1;
+            nextRootInstance = 1;
             break;
           case "math":
-            fiber = 2;
+            nextRootInstance = 2;
             break;
           default:
-            fiber = 0;
+            nextRootInstance = 0;
         }
   }
   pop(contextStackCursor);
-  push(contextStackCursor, fiber);
+  push(contextStackCursor, nextRootInstance);
 }
 function popHostContainer() {
   pop(contextStackCursor);
@@ -340,7 +342,7 @@ function clz32Fallback(x) {
   x >>>= 0;
   return 0 === x ? 32 : (31 - ((log(x) / LN2) | 0)) | 0;
 }
-var nextTransitionLane = 256,
+var nextTransitionLane = 128,
   nextRetryLane = 4194304;
 function getHighestPriorityLanes(lanes) {
   var pendingSyncLanes = lanes & 42;
@@ -361,7 +363,6 @@ function getHighestPriorityLanes(lanes) {
     case 64:
       return 64;
     case 128:
-      return 128;
     case 256:
     case 512:
     case 1024:
@@ -376,7 +377,7 @@ function getHighestPriorityLanes(lanes) {
     case 524288:
     case 1048576:
     case 2097152:
-      return lanes & 4194048;
+      return lanes & 4194176;
     case 4194304:
     case 8388608:
     case 16777216:
@@ -432,7 +433,7 @@ function getNextLanes(root, wipLanes, rootHasPendingCommit) {
         ((suspendedLanes = nextLanes & -nextLanes),
         (rootHasPendingCommit = wipLanes & -wipLanes),
         suspendedLanes >= rootHasPendingCommit ||
-          (32 === suspendedLanes && 0 !== (rootHasPendingCommit & 4194048)))
+          (32 === suspendedLanes && 0 !== (rootHasPendingCommit & 4194176)))
       ? wipLanes
       : nextLanes;
 }
@@ -450,10 +451,10 @@ function computeExpirationTime(lane, currentTime) {
     case 2:
     case 4:
     case 8:
-    case 64:
       return currentTime + 250;
     case 16:
     case 32:
+    case 64:
     case 128:
     case 256:
     case 512:
@@ -488,7 +489,7 @@ function computeExpirationTime(lane, currentTime) {
 function claimNextTransitionLane() {
   var lane = nextTransitionLane;
   nextTransitionLane <<= 1;
-  0 === (nextTransitionLane & 4194048) && (nextTransitionLane = 256);
+  0 === (nextTransitionLane & 4194176) && (nextTransitionLane = 128);
   return lane;
 }
 function claimNextRetryLane() {
@@ -562,7 +563,7 @@ function markSpawnedDeferredLane(root, spawnedLane, entangledLanes) {
   root.entanglements[spawnedLaneIndex] =
     root.entanglements[spawnedLaneIndex] |
     1073741824 |
-    (entangledLanes & 4194090);
+    (entangledLanes & 4194218);
 }
 function markRootEntangled(root, entangledLanes) {
   var rootEntangledLanes = (root.entangledLanes |= entangledLanes);
@@ -585,6 +586,7 @@ function getBumpedLaneForHydrationByLane(lane) {
     case 32:
       lane = 16;
       break;
+    case 128:
     case 256:
     case 512:
     case 1024:
@@ -603,7 +605,7 @@ function getBumpedLaneForHydrationByLane(lane) {
     case 8388608:
     case 16777216:
     case 33554432:
-      lane = 128;
+      lane = 64;
       break;
     case 268435456:
       lane = 134217728;
@@ -2021,19 +2023,19 @@ function getTargetInstForChangeEvent(domEventName, targetInst) {
 }
 var isInputEventSupported = !1;
 if (canUseDOM) {
-  var JSCompiler_inline_result$jscomp$288;
+  var JSCompiler_inline_result$jscomp$285;
   if (canUseDOM) {
-    var isSupported$jscomp$inline_426 = "oninput" in document;
-    if (!isSupported$jscomp$inline_426) {
-      var element$jscomp$inline_427 = document.createElement("div");
-      element$jscomp$inline_427.setAttribute("oninput", "return;");
-      isSupported$jscomp$inline_426 =
-        "function" === typeof element$jscomp$inline_427.oninput;
+    var isSupported$jscomp$inline_423 = "oninput" in document;
+    if (!isSupported$jscomp$inline_423) {
+      var element$jscomp$inline_424 = document.createElement("div");
+      element$jscomp$inline_424.setAttribute("oninput", "return;");
+      isSupported$jscomp$inline_423 =
+        "function" === typeof element$jscomp$inline_424.oninput;
     }
-    JSCompiler_inline_result$jscomp$288 = isSupported$jscomp$inline_426;
-  } else JSCompiler_inline_result$jscomp$288 = !1;
+    JSCompiler_inline_result$jscomp$285 = isSupported$jscomp$inline_423;
+  } else JSCompiler_inline_result$jscomp$285 = !1;
   isInputEventSupported =
-    JSCompiler_inline_result$jscomp$288 &&
+    JSCompiler_inline_result$jscomp$285 &&
     (!document.documentMode || 9 < document.documentMode);
 }
 function stopWatchingForValueChange() {
@@ -2345,11 +2347,6 @@ function enqueueConcurrentRenderForLane(fiber, lane) {
   enqueueUpdate$1(fiber, null, null, lane);
   return getRootForUpdatedFiber(fiber);
 }
-function enqueueGestureRender(fiber) {
-  fiber = markUpdateLaneFromFiberToRoot(fiber, null, 64);
-  null !== fiber && markRootUpdated$1(fiber, 64);
-  return fiber;
-}
 function markUpdateLaneFromFiberToRoot(sourceFiber, update, lane) {
   sourceFiber.lanes |= lane;
   var alternate = sourceFiber.alternate;
@@ -2363,19 +2360,17 @@ function markUpdateLaneFromFiberToRoot(sourceFiber, update, lane) {
         null === sourceFiber || sourceFiber._visibility & 1 || (isHidden = !0)),
       (sourceFiber = parent),
       (parent = parent.return);
-  return 3 === sourceFiber.tag
-    ? ((parent = sourceFiber.stateNode),
-      isHidden &&
-        null !== update &&
-        ((isHidden = 31 - clz32(lane)),
-        (sourceFiber = parent.hiddenUpdates),
-        (alternate = sourceFiber[isHidden]),
-        null === alternate
-          ? (sourceFiber[isHidden] = [update])
-          : alternate.push(update),
-        (update.lane = lane | 536870912)),
-      parent)
-    : null;
+  isHidden &&
+    null !== update &&
+    3 === sourceFiber.tag &&
+    ((parent = sourceFiber.stateNode),
+    (isHidden = 31 - clz32(lane)),
+    (parent = parent.hiddenUpdates),
+    (sourceFiber = parent[isHidden]),
+    null === sourceFiber
+      ? (parent[isHidden] = [update])
+      : sourceFiber.push(update),
+    (update.lane = lane | 536870912));
 }
 function getRootForUpdatedFiber(sourceFiber) {
   if (50 < nestedUpdateCount)
@@ -2659,7 +2654,7 @@ function enqueueUpdate(fiber, update, lane) {
 }
 function entangleTransitions(root, fiber, lane) {
   fiber = fiber.updateQueue;
-  if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194048))) {
+  if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194176))) {
     var queueLanes = fiber.lanes;
     queueLanes &= root.pendingLanes;
     lane |= queueLanes;
@@ -3190,76 +3185,6 @@ function getSuspendedCache() {
     ? null
     : { parent: CacheContext._currentValue, pool: cacheFromPool };
 }
-function scheduleGesture(
-  root,
-  provider,
-  initialDirection,
-  rangePrevious,
-  rangeCurrent,
-  rangeNext
-) {
-  for (var prev = root.pendingGestures; null !== prev; ) {
-    if (prev.provider === provider) return prev.count++, prev;
-    var next = prev.next;
-    if (null === next) break;
-    prev = next;
-  }
-  var isFlippedDirection = rangePrevious > rangeNext;
-  next = subscribeToGestureDirection(
-    provider,
-    rangeCurrent,
-    function (direction) {
-      isFlippedDirection && (direction = !direction);
-      gesture.direction !== direction &&
-        ((gesture.direction = direction),
-        null === gesture.prev &&
-          root.pendingGestures !== gesture &&
-          ((direction = root.pendingGestures),
-          (gesture.next = direction),
-          null !== direction && (direction.prev = gesture),
-          (root.pendingGestures = gesture),
-          (root.pendingLanes |= 64),
-          ensureRootIsScheduled(root)));
-    }
-  );
-  var gesture = {
-    provider: provider,
-    count: 1,
-    direction: initialDirection,
-    rangePrevious: rangePrevious,
-    rangeCurrent: rangeCurrent,
-    rangeNext: rangeNext,
-    cancel: next,
-    running: null,
-    prev: prev,
-    next: null
-  };
-  null === prev ? (root.pendingGestures = gesture) : (prev.next = gesture);
-  ensureRootIsScheduled(root);
-  return gesture;
-}
-function deleteScheduledGesture(root, gesture) {
-  null === gesture.prev
-    ? (root.pendingGestures === gesture &&
-        ((root.pendingGestures = gesture.next),
-        null === root.pendingGestures && (root.pendingLanes &= -65)),
-      root.stoppingGestures === gesture &&
-        (root.stoppingGestures = gesture.next))
-    : ((gesture.prev.next = gesture.next),
-      null !== gesture.next && (gesture.next.prev = gesture.prev),
-      (gesture.prev = null),
-      (gesture.next = null));
-}
-function stopCompletedGestures(root) {
-  var gesture = root.stoppingGestures;
-  for (root.stoppingGestures = null; null !== gesture; )
-    null !== gesture.running &&
-      (gesture.running.skipTransition(), (gesture.running = null)),
-      (root = gesture.next),
-      (gesture.next = null),
-      (gesture.prev = null),
-      (gesture = root);
-}
 var renderLanes = 0,
   currentlyRenderingFiber = null,
   currentHook = null,
@@ -3644,8 +3569,9 @@ function updateSyncExternalStore(subscribe, getSnapshot, getServerSnapshot) {
   snapshotChanged &&
     ((hook.memoizedState = getServerSnapshot), (didReceiveUpdate = !0));
   hook = hook.queue;
-  var create = subscribeToStore.bind(null, fiber, hook, subscribe);
-  updateEffectImpl(2048, 8, create, [subscribe]);
+  updateEffect(subscribeToStore.bind(null, fiber, hook, subscribe), [
+    subscribe
+  ]);
   if (
     hook.getSnapshot !== getSnapshot ||
     snapshotChanged ||
@@ -3666,7 +3592,7 @@ function updateSyncExternalStore(subscribe, getSnapshot, getServerSnapshot) {
     );
     if (null === workInProgressRoot) throw Error(formatProdErrorMessage(349));
     isHydrating$jscomp$0 ||
-      0 !== (renderLanes & 124) ||
+      0 !== (renderLanes & 60) ||
       pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);
   }
   return getServerSnapshot;
@@ -3993,8 +3919,8 @@ function rerenderActionState(action) {
   currentStateHook.memoizedState = action;
   return [stateHook, dispatch, !1];
 }
-function pushSimpleEffect(tag, inst, create, createDeps) {
-  tag = { tag: tag, create: create, deps: createDeps, inst: inst, next: null };
+function pushSimpleEffect(tag, inst, create, deps) {
+  tag = { tag: tag, create: create, deps: deps, inst: inst, next: null };
   inst = currentlyRenderingFiber.updateQueue;
   null === inst &&
     ((inst = createFunctionComponentUpdateQueue()),
@@ -4002,9 +3928,9 @@ function pushSimpleEffect(tag, inst, create, createDeps) {
   create = inst.lastEffect;
   null === create
     ? (inst.lastEffect = tag.next = tag)
-    : ((createDeps = create.next),
+    : ((deps = create.next),
       (create.next = tag),
-      (tag.next = createDeps),
+      (tag.next = deps),
       (inst.lastEffect = tag));
   return tag;
 }
@@ -4014,15 +3940,15 @@ function createEffectInstance() {
 function updateRef() {
   return updateWorkInProgressHook().memoizedState;
 }
-function mountEffectImpl(fiberFlags, hookFlags, create, createDeps) {
+function mountEffectImpl(fiberFlags, hookFlags, create, deps) {
   var hook = mountWorkInProgressHook();
-  createDeps = void 0 === createDeps ? null : createDeps;
+  deps = void 0 === deps ? null : deps;
   currentlyRenderingFiber.flags |= fiberFlags;
   hook.memoizedState = pushSimpleEffect(
     1 | hookFlags,
     createEffectInstance(),
     create,
-    createDeps
+    deps
   );
 }
 function updateEffectImpl(fiberFlags, hookFlags, create, deps) {
@@ -4041,11 +3967,11 @@ function updateEffectImpl(fiberFlags, hookFlags, create, deps) {
         deps
       )));
 }
-function mountEffect(create, createDeps) {
-  mountEffectImpl(8390656, 8, create, createDeps);
+function mountEffect(create, deps) {
+  mountEffectImpl(8390656, 8, create, deps);
 }
-function updateEffect(create, createDeps) {
-  updateEffectImpl(2048, 8, create, createDeps);
+function updateEffect(create, deps) {
+  updateEffectImpl(2048, 8, create, deps);
 }
 function useEffectEventImpl(payload) {
   currentlyRenderingFiber.flags |= 4;
@@ -4382,7 +4308,7 @@ function enqueueRenderPhaseUpdate(queue, update) {
   queue.pending = update;
 }
 function entangleTransitionUpdate(root, queue, lane) {
-  if (0 !== (lane & 4194048)) {
+  if (0 !== (lane & 4194176)) {
     var queueLanes = queue.lanes;
     queueLanes &= root.pendingLanes;
     lane |= queueLanes;
@@ -4390,93 +4316,6 @@ function entangleTransitionUpdate(root, queue, lane) {
     markRootEntangled(root, lane);
   }
 }
-function startGesture(fiber, queue, gestureProvider, gestureOptions) {
-  var root = enqueueGestureRender(fiber);
-  if (null === root) return function () {};
-  fiber = getCurrentGestureOffset(gestureProvider);
-  var range = gestureOptions && gestureOptions.range,
-    rangePrevious = range ? range[0] : 0,
-    rangeCurrent = range ? range[1] : fiber;
-  range = range ? range[2] : 100;
-  var isFlippedDirection = rangePrevious > range,
-    update = {
-      gesture: scheduleGesture(
-        root,
-        gestureProvider,
-        fiber < rangeCurrent
-          ? isFlippedDirection
-          : fiber > rangeCurrent
-            ? !isFlippedDirection
-            : gestureOptions && "next" === gestureOptions.direction
-              ? !0
-              : gestureOptions && "previous" === gestureOptions.direction
-                ? !1
-                : queue.initialDirection,
-        rangePrevious,
-        rangeCurrent,
-        range
-      ),
-      prev: null,
-      next: queue.pending
-    };
-  null !== queue.pending && (queue.pending.prev = update);
-  queue.pending = update;
-  return function () {
-    if (null === update.prev)
-      if (queue.pending === update) queue.pending = update.next;
-      else return;
-    else
-      (update.prev.next = update.next),
-        null !== update.next && (update.next.prev = update.prev),
-        (update.prev = null),
-        (update.next = null);
-    var cancelledGestured = update.gesture;
-    cancelledGestured.count--;
-    if (0 === cancelledGestured.count) {
-      var cancelDirectionSubscription = cancelledGestured.cancel;
-      cancelDirectionSubscription();
-      deleteScheduledGesture(root, cancelledGestured);
-      cancelDirectionSubscription = cancelledGestured.running;
-      if (null !== cancelDirectionSubscription) {
-        var pendingLanesExcludingGestureLane = root.pendingLanes & -65;
-        0 !== (pendingLanesExcludingGestureLane & 124) ||
-        0 !== (pendingLanesExcludingGestureLane & 4194048)
-          ? ((cancelDirectionSubscription = root.stoppingGestures),
-            null !== cancelDirectionSubscription &&
-              ((cancelledGestured.next = cancelDirectionSubscription),
-              (cancelDirectionSubscription.prev = cancelledGestured)),
-            (root.stoppingGestures = cancelledGestured))
-          : ((cancelledGestured.running = null),
-            cancelDirectionSubscription.skipTransition());
-      }
-    }
-  };
-}
-function updateSwipeTransition(previous, current, next) {
-  var queue = updateWorkInProgressHook().queue,
-    startGestureOnHook = queue.dispatch,
-    rootRenderLanes = workInProgressRootRenderLanes,
-    value = current;
-  if (null !== queue.pending) {
-    if (64 === rootRenderLanes) {
-      rootRenderLanes = workInProgressRoot;
-      if (null === rootRenderLanes) throw Error(formatProdErrorMessage(349));
-      rootRenderLanes = rootRenderLanes.pendingGestures;
-      if (null !== rootRenderLanes)
-        for (var update = queue.pending; null !== update; ) {
-          if (rootRenderLanes === update.gesture) {
-            value = rootRenderLanes.direction ? next : previous;
-            break;
-          }
-          update = update.next;
-        }
-      didReceiveUpdate = !0;
-    }
-    currentlyRenderingFiber.lanes |= 64;
-  }
-  queue.initialDirection = previous === current;
-  return [value, startGestureOnHook];
-}
 var ContextOnlyDispatcher = {
   readContext: readContext,
   use: use,
@@ -4503,7 +4342,6 @@ var ContextOnlyDispatcher = {
   useCacheRefresh: throwInvalidHookError
 };
 ContextOnlyDispatcher.useEffectEvent = throwInvalidHookError;
-ContextOnlyDispatcher.useSwipeTransition = throwInvalidHookError;
 var HooksDispatcherOnMount = {
     readContext: readContext,
     use: use,
@@ -4615,7 +4453,7 @@ var HooksDispatcherOnMount = {
         getServerSnapshot = getSnapshot();
         if (null === workInProgressRoot)
           throw Error(formatProdErrorMessage(349));
-        0 !== (workInProgressRootRenderLanes & 124) ||
+        0 !== (workInProgressRootRenderLanes & 60) ||
           pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);
       }
       hook.memoizedState = getServerSnapshot;
@@ -4644,14 +4482,14 @@ var HooksDispatcherOnMount = {
         identifierPrefix = workInProgressRoot.identifierPrefix;
       if (isHydrating) {
         var treeId = getTreeId();
-        identifierPrefix = "\u00ab" + identifierPrefix + "R" + treeId;
+        identifierPrefix = ":" + identifierPrefix + "R" + treeId;
         treeId = localIdCounter++;
         0 < treeId && (identifierPrefix += "H" + treeId.toString(32));
-        identifierPrefix += "\u00bb";
+        identifierPrefix += ":";
       } else
         (treeId = globalClientIdCounter$1++),
           (identifierPrefix =
-            "\u00ab" + identifierPrefix + "r" + treeId.toString(32) + "\u00bb");
+            ":" + identifierPrefix + "r" + treeId.toString(32) + ":");
       return (hook.memoizedState = identifierPrefix);
     },
     useHostTransitionStatus: useHostTransitionStatus,
@@ -4693,20 +4531,6 @@ var HooksDispatcherOnMount = {
           throw Error(formatProdErrorMessage(440));
         return ref.impl.apply(void 0, arguments);
       };
-    },
-    useSwipeTransition: function (previous, current) {
-      previous = {
-        pending: null,
-        dispatch: null,
-        initialDirection: previous === current
-      };
-      var startGestureOnHook = (previous.dispatch = startGesture.bind(
-        null,
-        currentlyRenderingFiber,
-        previous
-      ));
-      mountWorkInProgressHook().queue = previous;
-      return [current, startGestureOnHook];
     }
   },
   HooksDispatcherOnUpdate = {
@@ -4757,7 +4581,6 @@ var HooksDispatcherOnMount = {
     useCacheRefresh: updateRefresh
   };
 HooksDispatcherOnUpdate.useEffectEvent = updateEvent;
-HooksDispatcherOnUpdate.useSwipeTransition = updateSwipeTransition;
 var HooksDispatcherOnRerender = {
   readContext: readContext,
   use: use,
@@ -4811,7 +4634,6 @@ var HooksDispatcherOnRerender = {
   useCacheRefresh: updateRefresh
 };
 HooksDispatcherOnRerender.useEffectEvent = updateEvent;
-HooksDispatcherOnRerender.useSwipeTransition = updateSwipeTransition;
 var thenableState = null,
   thenableIndexCounter = 0;
 function unwrapThenable(thenable) {
@@ -5666,9 +5488,9 @@ function logUncaughtError(root, errorInfo) {
   try {
     var onUncaughtError = root.onUncaughtError;
     onUncaughtError(errorInfo.value, { componentStack: errorInfo.stack });
-  } catch (e$76) {
+  } catch (e$75) {
     setTimeout(function () {
-      throw e$76;
+      throw e$75;
     });
   }
 }
@@ -5679,9 +5501,9 @@ function logCaughtError(root, boundary, errorInfo) {
       componentStack: errorInfo.stack,
       errorBoundary: 1 === boundary.tag ? boundary.stateNode : null
     });
-  } catch (e$77) {
+  } catch (e$76) {
     setTimeout(function () {
-      throw e$77;
+      throw e$76;
     });
   }
 }
@@ -7201,15 +7023,15 @@ function beginWork(current, workInProgress, renderLanes) {
           workInProgress.stateNode.containerInfo
         );
         if (null === current) throw Error(formatProdErrorMessage(387));
-        lazyComponent = workInProgress.pendingProps;
-        var prevState = workInProgress.memoizedState;
-        init = prevState.element;
+        var nextProps = workInProgress.pendingProps;
+        init = workInProgress.memoizedState;
+        lazyComponent = init.element;
         cloneUpdateQueue(current, workInProgress);
-        processUpdateQueue(workInProgress, lazyComponent, null, renderLanes);
+        processUpdateQueue(workInProgress, nextProps, null, renderLanes);
         var nextState = workInProgress.memoizedState;
-        lazyComponent = nextState.cache;
-        pushProvider(workInProgress, CacheContext, lazyComponent);
-        lazyComponent !== prevState.cache &&
+        nextProps = nextState.cache;
+        pushProvider(workInProgress, CacheContext, nextProps);
+        nextProps !== init.cache &&
           propagateContextChanges(
             workInProgress,
             [CacheContext],
@@ -7217,68 +7039,62 @@ function beginWork(current, workInProgress, renderLanes) {
             !0
           );
         suspendIfUpdateReadFromEntangledAsyncAction();
-        lazyComponent = nextState.element;
-        if (prevState.isDehydrated)
+        nextProps = nextState.element;
+        if (init.isDehydrated)
           if (
-            ((prevState = {
-              element: lazyComponent,
+            ((init = {
+              element: nextProps,
               isDehydrated: !1,
               cache: nextState.cache
             }),
-            (workInProgress.updateQueue.baseState = prevState),
-            (workInProgress.memoizedState = prevState),
+            (workInProgress.updateQueue.baseState = init),
+            (workInProgress.memoizedState = init),
             workInProgress.flags & 256)
           ) {
             workInProgress = mountHostRootWithoutHydrating(
               current,
               workInProgress,
-              lazyComponent,
+              nextProps,
               renderLanes
             );
             break a;
-          } else if (lazyComponent !== init) {
-            init = createCapturedValueAtFiber(
+          } else if (nextProps !== lazyComponent) {
+            lazyComponent = createCapturedValueAtFiber(
               Error(formatProdErrorMessage(424)),
               workInProgress
             );
-            queueHydrationError(init);
+            queueHydrationError(lazyComponent);
             workInProgress = mountHostRootWithoutHydrating(
               current,
               workInProgress,
-              lazyComponent,
+              nextProps,
               renderLanes
             );
             break a;
-          } else {
-            current = workInProgress.stateNode.containerInfo;
-            switch (current.nodeType) {
-              case 9:
-                current = current.body;
-                break;
-              default:
-                current =
-                  "HTML" === current.nodeName
-                    ? current.ownerDocument.body
-                    : current;
-            }
-            nextHydratableInstance = getNextHydratable(current.firstChild);
-            hydrationParentFiber = workInProgress;
-            isHydrating = !0;
-            hydrationErrors = null;
-            rootOrSingletonContext = !0;
-            renderLanes = mountChildFibers(
-              workInProgress,
-              null,
-              lazyComponent,
-              renderLanes
-            );
-            for (workInProgress.child = renderLanes; renderLanes; )
+          } else
+            for (
+              nextHydratableInstance = getNextHydratable(
+                workInProgress.stateNode.containerInfo.firstChild
+              ),
+                hydrationParentFiber = workInProgress,
+                isHydrating = !0,
+                hydrationErrors = null,
+                rootOrSingletonContext = !0,
+                renderLanes = mountChildFibers(
+                  workInProgress,
+                  null,
+                  nextProps,
+                  renderLanes
+                ),
+                workInProgress.child = renderLanes;
+              renderLanes;
+
+            )
               (renderLanes.flags = (renderLanes.flags & -3) | 4096),
                 (renderLanes = renderLanes.sibling);
-          }
         else {
           resetHydrationState();
-          if (lazyComponent === init) {
+          if (nextProps === lazyComponent) {
             workInProgress = bailoutOnAlreadyFinishedWork(
               current,
               workInProgress,
@@ -7286,12 +7102,7 @@ function beginWork(current, workInProgress, renderLanes) {
             );
             break a;
           }
-          reconcileChildren(
-            current,
-            workInProgress,
-            lazyComponent,
-            renderLanes
-          );
+          reconcileChildren(current, workInProgress, nextProps, renderLanes);
         }
         workInProgress = workInProgress.child;
       }
@@ -7339,21 +7150,24 @@ function beginWork(current, workInProgress, renderLanes) {
             )),
           (hydrationParentFiber = workInProgress),
           (rootOrSingletonContext = !0),
-          (init = nextHydratableInstance),
-          isSingletonScope(workInProgress.type)
-            ? ((previousHydratableOnEnteringScopedSingleton = init),
-              (nextHydratableInstance = getNextHydratable(
-                lazyComponent.firstChild
-              )))
-            : (nextHydratableInstance = init)),
-        reconcileChildren(
-          current,
-          workInProgress,
-          workInProgress.pendingProps.children,
-          renderLanes
-        ),
+          (nextHydratableInstance = getNextHydratable(
+            lazyComponent.firstChild
+          ))),
+        (lazyComponent = workInProgress.pendingProps.children),
+        null !== current || isHydrating
+          ? reconcileChildren(
+              current,
+              workInProgress,
+              lazyComponent,
+              renderLanes
+            )
+          : (workInProgress.child = reconcileChildFibers(
+              workInProgress,
+              null,
+              lazyComponent,
+              renderLanes
+            )),
         markRef(current, workInProgress),
-        null === current && (workInProgress.flags |= 4194304),
         workInProgress.child
       );
     case 5:
@@ -7381,10 +7195,10 @@ function beginWork(current, workInProgress, renderLanes) {
           init && throwOnHydrationMismatch(workInProgress)),
         pushHostContext(workInProgress),
         (init = workInProgress.type),
-        (prevState = workInProgress.pendingProps),
+        (nextProps = workInProgress.pendingProps),
         (nextState = null !== current ? current.memoizedProps : null),
-        (lazyComponent = prevState.children),
-        shouldSetTextContent(init, prevState)
+        (lazyComponent = nextProps.children),
+        shouldSetTextContent(init, nextProps)
           ? (lazyComponent = null)
           : null !== nextState &&
             shouldSetTextContent(init, nextState) &&
@@ -7537,11 +7351,11 @@ function beginWork(current, workInProgress, renderLanes) {
           ? ((init = peekCacheFromPool()),
             null === init &&
               ((init = workInProgressRoot),
-              (prevState = createCache()),
-              (init.pooledCache = prevState),
-              prevState.refCount++,
-              null !== prevState && (init.pooledCacheLanes |= renderLanes),
-              (init = prevState)),
+              (nextProps = createCache()),
+              (init.pooledCache = nextProps),
+              nextProps.refCount++,
+              null !== nextProps && (init.pooledCacheLanes |= renderLanes),
+              (init = nextProps)),
             (workInProgress.memoizedState = {
               parent: lazyComponent,
               cache: init
@@ -7553,7 +7367,7 @@ function beginWork(current, workInProgress, renderLanes) {
               processUpdateQueue(workInProgress, null, null, renderLanes),
               suspendIfUpdateReadFromEntangledAsyncAction()),
             (init = current.memoizedState),
-            (prevState = workInProgress.memoizedState),
+            (nextProps = workInProgress.memoizedState),
             init.parent !== lazyComponent
               ? ((init = { parent: lazyComponent, cache: lazyComponent }),
                 (workInProgress.memoizedState = init),
@@ -7562,7 +7376,7 @@ function beginWork(current, workInProgress, renderLanes) {
                     workInProgress.updateQueue.baseState =
                       init),
                 pushProvider(workInProgress, CacheContext, lazyComponent))
-              : ((lazyComponent = prevState.cache),
+              : ((lazyComponent = nextProps.cache),
                 pushProvider(workInProgress, CacheContext, lazyComponent),
                 lazyComponent !== init.cache &&
                   propagateContextChanges(
@@ -7584,20 +7398,22 @@ function beginWork(current, workInProgress, renderLanes) {
         (lazyComponent = workInProgress.pendingProps),
         (init = workInProgress.stateNode),
         null != lazyComponent.name && "auto" !== lazyComponent.name
-          ? (workInProgress.flags |= null === current ? 18882560 : 18874368)
+          ? ((workInProgress.flags |= 2097152),
+            null === current &&
+              trackAppearingViewTransition(init, lazyComponent.name))
           : null === init.autoName &&
-            ((prevState = workInProgressRoot.identifierPrefix),
+            ((nextProps = workInProgressRoot.identifierPrefix),
             isHydrating
               ? ((nextState = getTreeId()),
-                (prevState = "\u00ab" + prevState + "T" + nextState + "\u00bb"))
+                (nextProps = "\u00ab" + nextProps + "T" + nextState + "\u00bb"))
               : ((nextState = globalClientIdCounter++),
-                (prevState =
+                (nextProps =
                   "\u00ab" +
-                  prevState +
+                  nextProps +
                   "t" +
                   nextState.toString(32) +
                   "\u00bb")),
-            (init.autoName = prevState)),
+            (init.autoName = nextProps)),
         null !== current && current.memoizedProps.name !== lazyComponent.name
           ? (workInProgress.flags |= 4194816)
           : markRef(current, workInProgress),
@@ -7654,10 +7470,9 @@ function commitHookEffectListUnmount(
           if (void 0 !== destroy) {
             inst.destroy = void 0;
             lastEffect = finishedWork;
-            var nearestMountedAncestor = nearestMountedAncestor$jscomp$0,
-              destroy_ = destroy;
+            var nearestMountedAncestor = nearestMountedAncestor$jscomp$0;
             try {
-              destroy_();
+              destroy();
             } catch (error) {
               captureCommitPhaseError(
                 lastEffect,
@@ -7746,8 +7561,8 @@ function safelyDetachRef(current, nearestMountedAncestor) {
     else if ("function" === typeof ref)
       try {
         ref(null);
-      } catch (error$116) {
-        captureCommitPhaseError(current, nearestMountedAncestor, error$116);
+      } catch (error$115) {
+        captureCommitPhaseError(current, nearestMountedAncestor, error$115);
       }
     else ref.current = null;
 }
@@ -7786,7 +7601,7 @@ function isHostParent(fiber) {
     5 === fiber.tag ||
     3 === fiber.tag ||
     26 === fiber.tag ||
-    (27 === fiber.tag && isSingletonScope(fiber.type)) ||
+    27 === fiber.tag ||
     4 === fiber.tag
   );
 }
@@ -7799,10 +7614,12 @@ function getHostSibling(fiber) {
     fiber.sibling.return = fiber.return;
     for (
       fiber = fiber.sibling;
-      5 !== fiber.tag && 6 !== fiber.tag && 18 !== fiber.tag;
+      5 !== fiber.tag &&
+      6 !== fiber.tag &&
+      27 !== fiber.tag &&
+      18 !== fiber.tag;
 
     ) {
-      if (27 === fiber.tag && isSingletonScope(fiber.type)) continue a;
       if (fiber.flags & 2) continue a;
       if (null === fiber.child || 4 === fiber.tag) continue a;
       else (fiber.child.return = fiber), (fiber = fiber.child);
@@ -7815,32 +7632,18 @@ function insertOrAppendPlacementNodeIntoContainer(node, before, parent) {
   if (5 === tag || 6 === tag)
     (node = node.stateNode),
       before
-        ? (9 === parent.nodeType
-            ? parent.body
-            : "HTML" === parent.nodeName
-              ? parent.ownerDocument.body
-              : parent
-          ).insertBefore(node, before)
-        : ((before =
-            9 === parent.nodeType
-              ? parent.body
-              : "HTML" === parent.nodeName
-                ? parent.ownerDocument.body
-                : parent),
-          before.appendChild(node),
+        ? 8 === parent.nodeType
+          ? parent.parentNode.insertBefore(node, before)
+          : parent.insertBefore(node, before)
+        : (8 === parent.nodeType
+            ? ((before = parent.parentNode), before.insertBefore(node, parent))
+            : ((before = parent), before.appendChild(node)),
           (parent = parent._reactRootContainer),
           (null !== parent && void 0 !== parent) ||
             null !== before.onclick ||
             (before.onclick = noop$1)),
       (viewTransitionMutationContext = !0);
-  else if (
-    4 !== tag &&
-    (27 === tag &&
-      isSingletonScope(node.type) &&
-      ((parent = node.stateNode), (before = null)),
-    (node = node.child),
-    null !== node)
-  )
+  else if (4 !== tag && 27 !== tag && ((node = node.child), null !== node))
     for (
       insertOrAppendPlacementNodeIntoContainer(node, before, parent),
         node = node.sibling;
@@ -7856,12 +7659,7 @@ function insertOrAppendPlacementNode(node, before, parent) {
     (node = node.stateNode),
       before ? parent.insertBefore(node, before) : parent.appendChild(node),
       (viewTransitionMutationContext = !0);
-  else if (
-    4 !== tag &&
-    (27 === tag && isSingletonScope(node.type) && (parent = node.stateNode),
-    (node = node.child),
-    null !== node)
-  )
+  else if (4 !== tag && 27 !== tag && ((node = node.child), null !== node))
     for (
       insertOrAppendPlacementNode(node, before, parent), node = node.sibling;
       null !== node;
@@ -7869,70 +7667,304 @@ function insertOrAppendPlacementNode(node, before, parent) {
     )
       insertOrAppendPlacementNode(node, before, parent), (node = node.sibling);
 }
-function commitHostSingletonAcquisition(finishedWork) {
-  var singleton = finishedWork.stateNode,
-    props = finishedWork.memoizedProps;
-  try {
-    for (
-      var type = finishedWork.type, attributes = singleton.attributes;
-      attributes.length;
-
-    )
-      singleton.removeAttributeNode(attributes[0]);
-    setInitialProperties(singleton, type, props);
-    singleton[internalInstanceKey] = finishedWork;
-    singleton[internalPropsKey] = props;
-  } catch (error) {
-    captureCommitPhaseError(finishedWork, finishedWork.return, error);
-  }
-}
-var shouldStartViewTransition = !1,
-  appearingViewTransitions = null,
-  viewTransitionCancelableChildren = null,
-  viewTransitionHostInstanceIdx = 0;
-function applyViewTransitionToHostInstances(
-  child,
-  name,
-  className,
-  collectMeasurements,
-  stopAtNestedViewTransitions
+var offscreenSubtreeIsHidden = !1,
+  offscreenSubtreeWasHidden = !1,
+  needsFormReset = !1,
+  PossiblyWeakSet = "function" === typeof WeakSet ? WeakSet : Set,
+  nextEffect = null,
+  shouldStartViewTransition = !1,
+  viewTransitionContextChanged = !1,
+  viewTransitionCancelableChildren = null;
+function commitBeforeMutationEffects(
+  root,
+  firstChild,
+  committedLanes,
+  appearingViewTransitions
 ) {
-  for (var inViewport = !1; null !== child; ) {
-    if (5 === child.tag) {
-      shouldStartViewTransition = !0;
-      var instance = child.stateNode;
-      if (null !== collectMeasurements) {
-        var measurement = measureInstance(instance);
-        collectMeasurements.push(measurement);
-        measurement.view && (inViewport = !0);
-      } else
-        inViewport || (measureInstance(instance).view && (inViewport = !0));
-      measurement = className;
-      instance.style.viewTransitionName =
-        0 === viewTransitionHostInstanceIdx
-          ? name
-          : name + "_" + viewTransitionHostInstanceIdx;
-      null != measurement && (instance.style.viewTransitionClass = measurement);
-      viewTransitionHostInstanceIdx++;
-    } else if (22 !== child.tag || null === child.memoizedState)
-      (30 === child.tag && stopAtNestedViewTransitions) ||
-        (applyViewTransitionToHostInstances(
-          child.child,
-          name,
-          className,
-          collectMeasurements,
-          stopAtNestedViewTransitions
-        ) &&
-          (inViewport = !0));
-    child = child.sibling;
+  root = root.containerInfo;
+  eventsEnabled = _enabled;
+  root = getActiveElementDeep(root);
+  if (hasSelectionCapabilities(root)) {
+    if ("selectionStart" in root)
+      var JSCompiler_temp = {
+        start: root.selectionStart,
+        end: root.selectionEnd
+      };
+    else
+      a: {
+        JSCompiler_temp =
+          ((JSCompiler_temp = root.ownerDocument) &&
+            JSCompiler_temp.defaultView) ||
+          window;
+        var selection =
+          JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();
+        if (selection && 0 !== selection.rangeCount) {
+          JSCompiler_temp = selection.anchorNode;
+          var anchorOffset = selection.anchorOffset,
+            focusNode = selection.focusNode;
+          selection = selection.focusOffset;
+          try {
+            JSCompiler_temp.nodeType, focusNode.nodeType;
+          } catch (e$20) {
+            JSCompiler_temp = null;
+            break a;
+          }
+          var length = 0,
+            start = -1,
+            end = -1,
+            indexWithinAnchor = 0,
+            indexWithinFocus = 0,
+            node = root,
+            parentNode = null;
+          b: for (;;) {
+            for (var next; ; ) {
+              node !== JSCompiler_temp ||
+                (0 !== anchorOffset && 3 !== node.nodeType) ||
+                (start = length + anchorOffset);
+              node !== focusNode ||
+                (0 !== selection && 3 !== node.nodeType) ||
+                (end = length + selection);
+              3 === node.nodeType && (length += node.nodeValue.length);
+              if (null === (next = node.firstChild)) break;
+              parentNode = node;
+              node = next;
+            }
+            for (;;) {
+              if (node === root) break b;
+              parentNode === JSCompiler_temp &&
+                ++indexWithinAnchor === anchorOffset &&
+                (start = length);
+              parentNode === focusNode &&
+                ++indexWithinFocus === selection &&
+                (end = length);
+              if (null !== (next = node.nextSibling)) break;
+              node = parentNode;
+              parentNode = node.parentNode;
+            }
+            node = next;
+          }
+          JSCompiler_temp =
+            -1 === start || -1 === end ? null : { start: start, end: end };
+        } else JSCompiler_temp = null;
+      }
+    JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };
+  } else JSCompiler_temp = null;
+  selectionInformation = { focusedElem: root, selectionRange: JSCompiler_temp };
+  shouldStartViewTransition = _enabled = !1;
+  committedLanes = (committedLanes & 335544192) === committedLanes;
+  nextEffect = firstChild;
+  for (firstChild = committedLanes ? 9238 : 1028; null !== nextEffect; ) {
+    root = nextEffect;
+    if (
+      committedLanes &&
+      ((JSCompiler_temp = root.deletions), null !== JSCompiler_temp)
+    )
+      for (
+        anchorOffset = 0;
+        anchorOffset < JSCompiler_temp.length;
+        anchorOffset++
+      )
+        committedLanes &&
+          commitExitViewTransitions(
+            JSCompiler_temp[anchorOffset],
+            appearingViewTransitions
+          );
+    if (null === root.alternate && 0 !== (root.flags & 2))
+      commitBeforeMutationEffects_complete(committedLanes);
+    else {
+      if (22 === root.tag)
+        if (((JSCompiler_temp = root.alternate), null !== root.memoizedState)) {
+          null !== JSCompiler_temp &&
+            null === JSCompiler_temp.memoizedState &&
+            committedLanes &&
+            commitExitViewTransitions(
+              JSCompiler_temp,
+              appearingViewTransitions
+            );
+          commitBeforeMutationEffects_complete(committedLanes);
+          continue;
+        } else if (
+          null !== JSCompiler_temp &&
+          null !== JSCompiler_temp.memoizedState
+        ) {
+          commitBeforeMutationEffects_complete(committedLanes);
+          continue;
+        }
+      JSCompiler_temp = root.child;
+      0 !== (root.subtreeFlags & firstChild) && null !== JSCompiler_temp
+        ? ((JSCompiler_temp.return = root), (nextEffect = JSCompiler_temp))
+        : (committedLanes && commitNestedViewTransitions(root),
+          commitBeforeMutationEffects_complete(committedLanes));
+    }
   }
-  return inViewport;
 }
-function restoreViewTransitionOnHostInstances(
-  child,
-  stopAtNestedViewTransitions
+function commitBeforeMutationEffects_complete(
+  isViewTransitionEligible$jscomp$0
 ) {
-  for (; null !== child; ) {
+  for (; null !== nextEffect; ) {
+    var fiber = nextEffect,
+      isViewTransitionEligible = isViewTransitionEligible$jscomp$0,
+      current = fiber.alternate,
+      flags = fiber.flags;
+    switch (fiber.tag) {
+      case 0:
+        if (
+          0 !== (flags & 4) &&
+          ((current = fiber.updateQueue),
+          (current = null !== current ? current.events : null),
+          null !== current)
+        )
+          for (
+            isViewTransitionEligible = 0;
+            isViewTransitionEligible < current.length;
+            isViewTransitionEligible++
+          )
+            (flags = current[isViewTransitionEligible]),
+              (flags.ref.impl = flags.nextImpl);
+        break;
+      case 11:
+      case 15:
+        break;
+      case 1:
+        if (0 !== (flags & 1024) && null !== current) {
+          isViewTransitionEligible = void 0;
+          flags = current.memoizedProps;
+          current = current.memoizedState;
+          var instance = fiber.stateNode;
+          try {
+            var resolvedPrevProps = resolveClassComponentProps(
+              fiber.type,
+              flags,
+              fiber.elementType === fiber.type
+            );
+            isViewTransitionEligible = instance.getSnapshotBeforeUpdate(
+              resolvedPrevProps,
+              current
+            );
+            instance.__reactInternalSnapshotBeforeUpdate =
+              isViewTransitionEligible;
+          } catch (error) {
+            captureCommitPhaseError(fiber, fiber.return, error);
+          }
+        }
+        break;
+      case 3:
+        if (0 !== (flags & 1024))
+          if (
+            ((current = fiber.stateNode.containerInfo),
+            (isViewTransitionEligible = current.nodeType),
+            9 === isViewTransitionEligible)
+          )
+            clearContainerSparingly(current);
+          else if (1 === isViewTransitionEligible)
+            switch (current.nodeName) {
+              case "HEAD":
+              case "HTML":
+              case "BODY":
+                clearContainerSparingly(current);
+                break;
+              default:
+                current.textContent = "";
+            }
+        break;
+      case 5:
+      case 26:
+      case 27:
+      case 6:
+      case 4:
+      case 17:
+        break;
+      case 30:
+        if (
+          isViewTransitionEligible &&
+          null !== current &&
+          0 !== (fiber.subtreeFlags & 8246)
+        )
+          a: {
+            isViewTransitionEligible = getViewTransitionName(
+              current.memoizedProps,
+              current.stateNode
+            );
+            flags = fiber.memoizedProps;
+            instance = getViewTransitionClassName(
+              flags.className,
+              flags.update
+            );
+            if (
+              "none" === instance &&
+              ((instance = getViewTransitionClassName(
+                flags.className,
+                flags.layout
+              )),
+              "none" === instance)
+            )
+              break a;
+            viewTransitionHostInstanceIdx = 0;
+            applyViewTransitionToHostInstances(
+              current.child,
+              isViewTransitionEligible,
+              instance,
+              (current.memoizedState = []),
+              !0
+            );
+          }
+        break;
+      default:
+        if (0 !== (flags & 1024)) throw Error(formatProdErrorMessage(163));
+    }
+    current = fiber.sibling;
+    if (null !== current) {
+      current.return = fiber.return;
+      nextEffect = current;
+      break;
+    }
+    nextEffect = fiber.return;
+  }
+}
+var viewTransitionHostInstanceIdx = 0;
+function applyViewTransitionToHostInstances(
+  child,
+  name,
+  className,
+  collectMeasurements,
+  stopAtNestedViewTransitions
+) {
+  for (var inViewport = !1; null !== child; ) {
+    if (5 === child.tag) {
+      shouldStartViewTransition = !0;
+      var instance = child.stateNode;
+      if (null !== collectMeasurements) {
+        var measurement = measureInstance(instance);
+        collectMeasurements.push(measurement);
+        measurement.view && (inViewport = !0);
+      } else
+        inViewport || (measureInstance(instance).view && (inViewport = !0));
+      measurement = className;
+      instance.style.viewTransitionName =
+        0 === viewTransitionHostInstanceIdx
+          ? name
+          : name + "_" + viewTransitionHostInstanceIdx;
+      null != measurement && (instance.style.viewTransitionClass = measurement);
+      viewTransitionHostInstanceIdx++;
+    } else if (22 !== child.tag || null === child.memoizedState)
+      (30 === child.tag && stopAtNestedViewTransitions) ||
+        (applyViewTransitionToHostInstances(
+          child.child,
+          name,
+          className,
+          collectMeasurements,
+          stopAtNestedViewTransitions
+        ) &&
+          (inViewport = !0));
+    child = child.sibling;
+  }
+  return inViewport;
+}
+function restoreViewTransitionOnHostInstances(
+  child,
+  stopAtNestedViewTransitions
+) {
+  for (; null !== child; ) {
     if (5 === child.tag)
       restoreViewTransitionName(child.stateNode, child.memoizedProps);
     else if (22 !== child.tag || null === child.memoizedState)
@@ -7945,13 +7977,13 @@ function restoreViewTransitionOnHostInstances(
   }
 }
 function commitAppearingPairViewTransitions(placement) {
-  if (0 !== (placement.subtreeFlags & 18874368))
+  if (0 !== (placement.subtreeFlags & 2097152))
     for (placement = placement.child; null !== placement; ) {
       if (22 !== placement.tag || null !== placement.memoizedState)
         if (
           (commitAppearingPairViewTransitions(placement),
           30 === placement.tag &&
-            0 !== (placement.flags & 18874368) &&
+            0 !== (placement.flags & 2097152) &&
             placement.stateNode.paired)
         ) {
           var props = placement.memoizedProps;
@@ -8000,49 +8032,46 @@ function commitEnterViewTransitions(placement) {
       commitEnterViewTransitions(placement), (placement = placement.sibling);
   else commitAppearingPairViewTransitions(placement);
 }
-function commitDeletedPairViewTransitions(deletion) {
+function commitDeletedPairViewTransitions(deletion, appearingViewTransitions) {
   if (
-    null !== appearingViewTransitions &&
-    0 !== appearingViewTransitions.size
-  ) {
-    var pairs = appearingViewTransitions;
-    if (0 !== (deletion.subtreeFlags & 18874368))
-      for (deletion = deletion.child; null !== deletion; ) {
-        if (22 !== deletion.tag || null !== deletion.memoizedState) {
-          if (30 === deletion.tag && 0 !== (deletion.flags & 18874368)) {
-            var props = deletion.memoizedProps,
-              name = props.name;
-            if (null != name && "auto" !== name) {
-              var pair = pairs.get(name);
-              if (void 0 !== pair) {
-                var className = getViewTransitionClassName(
-                  props.className,
-                  props.share
-                );
-                "none" !== className &&
-                  ((viewTransitionHostInstanceIdx = 0),
-                  applyViewTransitionToHostInstances(
-                    deletion.child,
-                    name,
-                    className,
-                    null,
-                    !1
-                  )
-                    ? ((pair.paired = deletion.stateNode),
-                      scheduleViewTransitionEvent(deletion, props.onShare))
-                    : restoreViewTransitionOnHostInstances(deletion.child, !1));
-                pairs.delete(name);
-                if (0 === pairs.size) break;
-              }
+    0 !== appearingViewTransitions.size &&
+    0 !== (deletion.subtreeFlags & 2097152)
+  )
+    for (deletion = deletion.child; null !== deletion; ) {
+      if (22 !== deletion.tag || null !== deletion.memoizedState) {
+        if (30 === deletion.tag && 0 !== (deletion.flags & 2097152)) {
+          var props = deletion.memoizedProps,
+            name = props.name;
+          if (null != name && "auto" !== name) {
+            var pair = appearingViewTransitions.get(name);
+            if (void 0 !== pair) {
+              var className = getViewTransitionClassName(
+                props.className,
+                props.share
+              );
+              "none" !== className &&
+                ((viewTransitionHostInstanceIdx = 0),
+                applyViewTransitionToHostInstances(
+                  deletion.child,
+                  name,
+                  className,
+                  null,
+                  !1
+                )
+                  ? ((pair.paired = deletion.stateNode),
+                    scheduleViewTransitionEvent(deletion, props.onShare))
+                  : restoreViewTransitionOnHostInstances(deletion.child, !1));
+              appearingViewTransitions.delete(name);
+              if (0 === appearingViewTransitions.size) break;
             }
           }
-          commitDeletedPairViewTransitions(deletion);
         }
-        deletion = deletion.sibling;
+        commitDeletedPairViewTransitions(deletion, appearingViewTransitions);
       }
-  }
+      deletion = deletion.sibling;
+    }
 }
-function commitExitViewTransitions(deletion) {
+function commitExitViewTransitions(deletion, appearingViewTransitions) {
   if (30 === deletion.tag) {
     var props = deletion.memoizedProps,
       name = getViewTransitionName(props, deletion.stateNode),
@@ -8070,13 +8099,14 @@ function commitExitViewTransitions(deletion) {
           : scheduleViewTransitionEvent(deletion, props.onExit)
         : restoreViewTransitionOnHostInstances(deletion.child, !1));
     null !== appearingViewTransitions &&
-      commitDeletedPairViewTransitions(deletion);
+      commitDeletedPairViewTransitions(deletion, appearingViewTransitions);
   } else if (0 !== (deletion.subtreeFlags & 33554432))
     for (deletion = deletion.child; null !== deletion; )
-      commitExitViewTransitions(deletion), (deletion = deletion.sibling);
+      commitExitViewTransitions(deletion, appearingViewTransitions),
+        (deletion = deletion.sibling);
   else
     null !== appearingViewTransitions &&
-      commitDeletedPairViewTransitions(deletion);
+      commitDeletedPairViewTransitions(deletion, appearingViewTransitions);
 }
 function commitNestedViewTransitions(changedParent) {
   for (changedParent = changedParent.child; null !== changedParent; ) {
@@ -8100,10 +8130,10 @@ function commitNestedViewTransitions(changedParent) {
   }
 }
 function restorePairedViewTransitions(parent) {
-  if (0 !== (parent.subtreeFlags & 18874368))
+  if (0 !== (parent.subtreeFlags & 2097152))
     for (parent = parent.child; null !== parent; ) {
       if (22 !== parent.tag || null !== parent.memoizedState) {
-        if (30 === parent.tag && 0 !== (parent.flags & 18874368)) {
+        if (30 === parent.tag && 0 !== (parent.flags & 2097152)) {
           var instance = parent.stateNode;
           null !== instance.paired &&
             ((instance.paired = null),
@@ -8244,283 +8274,41 @@ function measureViewTransitionHostInstances(
             currentViewTransition,
             parentViewTransition,
             child.child,
-            name,
-            className,
-            previousMeasurements,
-            stopAtNestedViewTransitions
-          ) && (inViewport = !0);
-    child = child.sibling;
-  }
-  return inViewport;
-}
-function measureNestedViewTransitions(changedParent) {
-  for (changedParent = changedParent.child; null !== changedParent; ) {
-    if (30 === changedParent.tag) {
-      var current = changedParent.alternate;
-      if (null !== current) {
-        var props = changedParent.memoizedProps,
-          name = getViewTransitionName(props, changedParent.stateNode),
-          className = getViewTransitionClassName(props.className, props.layout);
-        viewTransitionHostInstanceIdx = 0;
-        current = measureViewTransitionHostInstances(
-          current,
-          changedParent,
-          changedParent.child,
-          name,
-          className,
-          changedParent.memoizedState,
-          !1
-        );
-        0 !== (changedParent.flags & 4) &&
-          current &&
-          scheduleViewTransitionEvent(changedParent, props.onLayout);
-      }
-    } else
-      0 !== (changedParent.subtreeFlags & 33554432) &&
-        measureNestedViewTransitions(changedParent);
-    changedParent = changedParent.sibling;
-  }
-}
-var offscreenSubtreeIsHidden = !1,
-  offscreenSubtreeWasHidden = !1,
-  needsFormReset = !1,
-  PossiblyWeakSet = "function" === typeof WeakSet ? WeakSet : Set,
-  nextEffect = null,
-  viewTransitionContextChanged = !1;
-function commitBeforeMutationEffects(root, firstChild, committedLanes) {
-  root = root.containerInfo;
-  eventsEnabled = _enabled;
-  root = getActiveElementDeep(root);
-  if (hasSelectionCapabilities(root)) {
-    if ("selectionStart" in root)
-      var JSCompiler_temp = {
-        start: root.selectionStart,
-        end: root.selectionEnd
-      };
-    else
-      a: {
-        JSCompiler_temp =
-          ((JSCompiler_temp = root.ownerDocument) &&
-            JSCompiler_temp.defaultView) ||
-          window;
-        var selection =
-          JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();
-        if (selection && 0 !== selection.rangeCount) {
-          JSCompiler_temp = selection.anchorNode;
-          var anchorOffset = selection.anchorOffset,
-            focusNode = selection.focusNode;
-          selection = selection.focusOffset;
-          try {
-            JSCompiler_temp.nodeType, focusNode.nodeType;
-          } catch (e$20) {
-            JSCompiler_temp = null;
-            break a;
-          }
-          var length = 0,
-            start = -1,
-            end = -1,
-            indexWithinAnchor = 0,
-            indexWithinFocus = 0,
-            node = root,
-            parentNode = null;
-          b: for (;;) {
-            for (var next; ; ) {
-              node !== JSCompiler_temp ||
-                (0 !== anchorOffset && 3 !== node.nodeType) ||
-                (start = length + anchorOffset);
-              node !== focusNode ||
-                (0 !== selection && 3 !== node.nodeType) ||
-                (end = length + selection);
-              3 === node.nodeType && (length += node.nodeValue.length);
-              if (null === (next = node.firstChild)) break;
-              parentNode = node;
-              node = next;
-            }
-            for (;;) {
-              if (node === root) break b;
-              parentNode === JSCompiler_temp &&
-                ++indexWithinAnchor === anchorOffset &&
-                (start = length);
-              parentNode === focusNode &&
-                ++indexWithinFocus === selection &&
-                (end = length);
-              if (null !== (next = node.nextSibling)) break;
-              node = parentNode;
-              parentNode = node.parentNode;
-            }
-            node = next;
-          }
-          JSCompiler_temp =
-            -1 === start || -1 === end ? null : { start: start, end: end };
-        } else JSCompiler_temp = null;
-      }
-    JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };
-  } else JSCompiler_temp = null;
-  selectionInformation = { focusedElem: root, selectionRange: JSCompiler_temp };
-  shouldStartViewTransition = _enabled = !1;
-  committedLanes = (committedLanes & 335544064) === committedLanes;
-  nextEffect = firstChild;
-  for (firstChild = committedLanes ? 9238 : 1028; null !== nextEffect; ) {
-    root = nextEffect;
-    if (
-      committedLanes &&
-      ((JSCompiler_temp = root.deletions), null !== JSCompiler_temp)
-    )
-      for (
-        anchorOffset = 0;
-        anchorOffset < JSCompiler_temp.length;
-        anchorOffset++
-      )
-        committedLanes &&
-          commitExitViewTransitions(JSCompiler_temp[anchorOffset]);
-    if (null === root.alternate && 0 !== (root.flags & 2))
-      commitBeforeMutationEffects_complete(committedLanes);
-    else {
-      if (22 === root.tag)
-        if (((JSCompiler_temp = root.alternate), null !== root.memoizedState)) {
-          null !== JSCompiler_temp &&
-            null === JSCompiler_temp.memoizedState &&
-            committedLanes &&
-            commitExitViewTransitions(JSCompiler_temp);
-          commitBeforeMutationEffects_complete(committedLanes);
-          continue;
-        } else if (
-          null !== JSCompiler_temp &&
-          null !== JSCompiler_temp.memoizedState
-        ) {
-          commitBeforeMutationEffects_complete(committedLanes);
-          continue;
-        }
-      JSCompiler_temp = root.child;
-      0 !== (root.subtreeFlags & firstChild) && null !== JSCompiler_temp
-        ? ((JSCompiler_temp.return = root), (nextEffect = JSCompiler_temp))
-        : (committedLanes && commitNestedViewTransitions(root),
-          commitBeforeMutationEffects_complete(committedLanes));
-    }
-  }
-  appearingViewTransitions = null;
-}
-function commitBeforeMutationEffects_complete(
-  isViewTransitionEligible$jscomp$0
-) {
-  for (; null !== nextEffect; ) {
-    var fiber = nextEffect,
-      isViewTransitionEligible = isViewTransitionEligible$jscomp$0,
-      current = fiber.alternate,
-      flags = fiber.flags;
-    switch (fiber.tag) {
-      case 0:
-        if (
-          0 !== (flags & 4) &&
-          ((current = fiber.updateQueue),
-          (current = null !== current ? current.events : null),
-          null !== current)
-        )
-          for (
-            isViewTransitionEligible = 0;
-            isViewTransitionEligible < current.length;
-            isViewTransitionEligible++
-          )
-            (flags = current[isViewTransitionEligible]),
-              (flags.ref.impl = flags.nextImpl);
-        break;
-      case 11:
-      case 15:
-        break;
-      case 1:
-        if (0 !== (flags & 1024) && null !== current) {
-          isViewTransitionEligible = void 0;
-          flags = current.memoizedProps;
-          current = current.memoizedState;
-          var instance = fiber.stateNode;
-          try {
-            var resolvedPrevProps = resolveClassComponentProps(
-              fiber.type,
-              flags,
-              fiber.elementType === fiber.type
-            );
-            isViewTransitionEligible = instance.getSnapshotBeforeUpdate(
-              resolvedPrevProps,
-              current
-            );
-            instance.__reactInternalSnapshotBeforeUpdate =
-              isViewTransitionEligible;
-          } catch (error) {
-            captureCommitPhaseError(fiber, fiber.return, error);
-          }
-        }
-        break;
-      case 3:
-        if (0 !== (flags & 1024))
-          if (
-            ((current = fiber.stateNode.containerInfo),
-            (isViewTransitionEligible = current.nodeType),
-            9 === isViewTransitionEligible)
-          )
-            clearContainerSparingly(current);
-          else if (1 === isViewTransitionEligible)
-            switch (current.nodeName) {
-              case "HEAD":
-              case "HTML":
-              case "BODY":
-                clearContainerSparingly(current);
-                break;
-              default:
-                current.textContent = "";
-            }
-        break;
-      case 5:
-      case 26:
-      case 27:
-      case 6:
-      case 4:
-      case 17:
-        break;
-      case 30:
-        if (
-          isViewTransitionEligible &&
-          null !== current &&
-          0 !== (fiber.subtreeFlags & 8246)
-        )
-          a: {
-            isViewTransitionEligible = getViewTransitionName(
-              current.memoizedProps,
-              current.stateNode
-            );
-            flags = fiber.memoizedProps;
-            instance = getViewTransitionClassName(
-              flags.className,
-              flags.update
-            );
-            if (
-              "none" === instance &&
-              ((instance = getViewTransitionClassName(
-                flags.className,
-                flags.layout
-              )),
-              "none" === instance)
-            )
-              break a;
-            viewTransitionHostInstanceIdx = 0;
-            applyViewTransitionToHostInstances(
-              current.child,
-              isViewTransitionEligible,
-              instance,
-              (current.memoizedState = []),
-              !0
-            );
-          }
-        break;
-      default:
-        if (0 !== (flags & 1024)) throw Error(formatProdErrorMessage(163));
-    }
-    current = fiber.sibling;
-    if (null !== current) {
-      current.return = fiber.return;
-      nextEffect = current;
-      break;
-    }
-    nextEffect = fiber.return;
+            name,
+            className,
+            previousMeasurements,
+            stopAtNestedViewTransitions
+          ) && (inViewport = !0);
+    child = child.sibling;
+  }
+  return inViewport;
+}
+function measureNestedViewTransitions(changedParent) {
+  for (changedParent = changedParent.child; null !== changedParent; ) {
+    if (30 === changedParent.tag) {
+      var current = changedParent.alternate;
+      if (null !== current) {
+        var props = changedParent.memoizedProps,
+          name = getViewTransitionName(props, changedParent.stateNode),
+          className = getViewTransitionClassName(props.className, props.layout);
+        viewTransitionHostInstanceIdx = 0;
+        current = measureViewTransitionHostInstances(
+          current,
+          changedParent,
+          changedParent.child,
+          name,
+          className,
+          changedParent.memoizedState,
+          !1
+        );
+        0 !== (changedParent.flags & 4) &&
+          current &&
+          scheduleViewTransitionEvent(changedParent, props.onLayout);
+      }
+    } else
+      0 !== (changedParent.subtreeFlags & 33554432) &&
+        measureNestedViewTransitions(changedParent);
+    changedParent = changedParent.sibling;
   }
 }
 function commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {
@@ -8553,11 +8341,11 @@ function commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {
               current,
               finishedRoot.__reactInternalSnapshotBeforeUpdate
             );
-          } catch (error$115) {
+          } catch (error$114) {
             captureCommitPhaseError(
               finishedWork,
               finishedWork.return,
-              error$115
+              error$114
             );
           }
         }
@@ -8584,11 +8372,11 @@ function commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {
         }
       }
       break;
-    case 27:
-      null === current &&
-        flags & 4 &&
-        commitHostSingletonAcquisition(finishedWork);
     case 26:
+      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);
+      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);
+      break;
+    case 27:
     case 5:
       recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);
       null === current && flags & 4 && commitHostMount(finishedWork);
@@ -8703,14 +8491,20 @@ function commitDeletionEffectsOnFiber(
         safelyDetachRef(deletedFiber, nearestMountedAncestor);
       var prevHostParent = hostParent,
         prevHostParentIsContainer = hostParentIsContainer;
-      isSingletonScope(deletedFiber.type) &&
-        ((hostParent = deletedFiber.stateNode), (hostParentIsContainer = !1));
+      hostParent = deletedFiber.stateNode;
       recursivelyTraverseDeletionEffects(
         finishedRoot,
         nearestMountedAncestor,
         deletedFiber
       );
-      releaseSingletonInstance(deletedFiber.stateNode);
+      deletedFiber = deletedFiber.stateNode;
+      for (
+        nearestMountedAncestor = deletedFiber.attributes;
+        nearestMountedAncestor.length;
+
+      )
+        deletedFiber.removeAttributeNode(nearestMountedAncestor[0]);
+      detachDeletedInstance(deletedFiber);
       hostParent = prevHostParent;
       hostParentIsContainer = prevHostParentIsContainer;
       break;
@@ -8718,25 +8512,24 @@ function commitDeletionEffectsOnFiber(
       offscreenSubtreeWasHidden ||
         safelyDetachRef(deletedFiber, nearestMountedAncestor);
     case 6:
-      prevHostParent = hostParent;
-      prevHostParentIsContainer = hostParentIsContainer;
+      prevHostParentIsContainer = hostParent;
+      var prevHostParentIsContainer$122 = hostParentIsContainer;
       hostParent = null;
       recursivelyTraverseDeletionEffects(
         finishedRoot,
         nearestMountedAncestor,
         deletedFiber
       );
-      hostParent = prevHostParent;
-      hostParentIsContainer = prevHostParentIsContainer;
+      hostParent = prevHostParentIsContainer;
+      hostParentIsContainer = prevHostParentIsContainer$122;
       if (null !== hostParent)
         if (hostParentIsContainer)
           try {
-            (9 === hostParent.nodeType
-              ? hostParent.body
-              : "HTML" === hostParent.nodeName
-                ? hostParent.ownerDocument.body
-                : hostParent
-            ).removeChild(deletedFiber.stateNode),
+            (finishedRoot = hostParent),
+              (prevHostParent = deletedFiber.stateNode),
+              8 === finishedRoot.nodeType
+                ? finishedRoot.parentNode.removeChild(prevHostParent)
+                : finishedRoot.removeChild(prevHostParent),
               (viewTransitionMutationContext = !0);
           } catch (error) {
             captureCommitPhaseError(
@@ -8760,16 +8553,16 @@ function commitDeletionEffectsOnFiber(
     case 18:
       null !== hostParent &&
         (hostParentIsContainer
-          ? ((finishedRoot = hostParent),
-            clearSuspenseBoundary(
-              9 === finishedRoot.nodeType
-                ? finishedRoot.body
-                : "HTML" === finishedRoot.nodeName
-                  ? finishedRoot.ownerDocument.body
-                  : finishedRoot,
-              deletedFiber.stateNode
-            ),
-            retryIfBlockedOn(finishedRoot))
+          ? ((nearestMountedAncestor = hostParent),
+            (deletedFiber = deletedFiber.stateNode),
+            8 === nearestMountedAncestor.nodeType
+              ? clearSuspenseBoundary(
+                  nearestMountedAncestor.parentNode,
+                  deletedFiber
+                )
+              : 1 === nearestMountedAncestor.nodeType &&
+                clearSuspenseBoundary(nearestMountedAncestor, deletedFiber),
+            retryIfBlockedOn(nearestMountedAncestor))
           : clearSuspenseBoundary(hostParent, deletedFiber.stateNode));
       break;
     case 4:
@@ -8897,17 +8690,14 @@ function recursivelyTraverseMutationEffects(root$jscomp$0, parentFiber, lanes) {
       a: for (; null !== parent; ) {
         switch (parent.tag) {
           case 27:
-            if (isSingletonScope(parent.type)) {
-              hostParent = parent.stateNode;
-              hostParentIsContainer = !1;
-              break a;
-            }
-            break;
           case 5:
             hostParent = parent.stateNode;
             hostParentIsContainer = !1;
             break a;
           case 3:
+            hostParent = parent.stateNode.containerInfo;
+            hostParentIsContainer = !0;
+            break a;
           case 4:
             hostParent = parent.stateNode.containerInfo;
             hostParentIsContainer = !0;
@@ -8969,111 +8759,112 @@ function commitMutationEffectsOnFiber(finishedWork, root, lanes) {
         (offscreenSubtreeWasHidden ||
           null === current ||
           safelyDetachRef(current, current.return));
-      if (flags & 4) {
-        var currentResource = null !== current ? current.memoizedState : null;
-        flags = finishedWork.memoizedState;
-        if (null === current)
+      if (flags & 4)
+        if (
+          ((root = null !== current ? current.memoizedState : null),
+          (flags = finishedWork.memoizedState),
+          null === current)
+        )
           if (null === flags)
             if (null === finishedWork.stateNode) {
               a: {
                 flags = finishedWork.type;
                 current = finishedWork.memoizedProps;
-                hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;
+                root = hoistableRoot.ownerDocument || hoistableRoot;
                 b: switch (flags) {
                   case "title":
-                    currentResource =
-                      hoistableRoot.getElementsByTagName("title")[0];
+                    lanes = root.getElementsByTagName("title")[0];
                     if (
-                      !currentResource ||
-                      currentResource[internalHoistableMarker] ||
-                      currentResource[internalInstanceKey] ||
-                      "http://www.w3.org/2000/svg" ===
-                        currentResource.namespaceURI ||
-                      currentResource.hasAttribute("itemprop")
+                      !lanes ||
+                      lanes[internalHoistableMarker] ||
+                      lanes[internalInstanceKey] ||
+                      "http://www.w3.org/2000/svg" === lanes.namespaceURI ||
+                      lanes.hasAttribute("itemprop")
                     )
-                      (currentResource = hoistableRoot.createElement(flags)),
-                        hoistableRoot.head.insertBefore(
-                          currentResource,
-                          hoistableRoot.querySelector("head > title")
+                      (lanes = root.createElement(flags)),
+                        root.head.insertBefore(
+                          lanes,
+                          root.querySelector("head > title")
                         );
-                    setInitialProperties(currentResource, flags, current);
-                    currentResource[internalInstanceKey] = finishedWork;
-                    markNodeAsHoistable(currentResource);
-                    flags = currentResource;
+                    setInitialProperties(lanes, flags, current);
+                    lanes[internalInstanceKey] = finishedWork;
+                    markNodeAsHoistable(lanes);
+                    flags = lanes;
                     break a;
                   case "link":
-                    var maybeNodes = getHydratableHoistableCache(
-                      "link",
-                      "href",
-                      hoistableRoot
-                    ).get(flags + (current.href || ""));
-                    if (maybeNodes)
-                      for (var i = 0; i < maybeNodes.length; i++)
+                    if (
+                      (hoistableRoot = getHydratableHoistableCache(
+                        "link",
+                        "href",
+                        root
+                      ).get(flags + (current.href || "")))
+                    )
+                      for (var i = 0; i < hoistableRoot.length; i++)
                         if (
-                          ((currentResource = maybeNodes[i]),
-                          currentResource.getAttribute("href") ===
+                          ((lanes = hoistableRoot[i]),
+                          lanes.getAttribute("href") ===
                             (null == current.href || "" === current.href
                               ? null
                               : current.href) &&
-                            currentResource.getAttribute("rel") ===
+                            lanes.getAttribute("rel") ===
                               (null == current.rel ? null : current.rel) &&
-                            currentResource.getAttribute("title") ===
+                            lanes.getAttribute("title") ===
                               (null == current.title ? null : current.title) &&
-                            currentResource.getAttribute("crossorigin") ===
+                            lanes.getAttribute("crossorigin") ===
                               (null == current.crossOrigin
                                 ? null
                                 : current.crossOrigin))
                         ) {
-                          maybeNodes.splice(i, 1);
+                          hoistableRoot.splice(i, 1);
                           break b;
                         }
-                    currentResource = hoistableRoot.createElement(flags);
-                    setInitialProperties(currentResource, flags, current);
-                    hoistableRoot.head.appendChild(currentResource);
+                    lanes = root.createElement(flags);
+                    setInitialProperties(lanes, flags, current);
+                    root.head.appendChild(lanes);
                     break;
                   case "meta":
                     if (
-                      (maybeNodes = getHydratableHoistableCache(
+                      (hoistableRoot = getHydratableHoistableCache(
                         "meta",
                         "content",
-                        hoistableRoot
+                        root
                       ).get(flags + (current.content || "")))
                     )
-                      for (i = 0; i < maybeNodes.length; i++)
+                      for (i = 0; i < hoistableRoot.length; i++)
                         if (
-                          ((currentResource = maybeNodes[i]),
-                          currentResource.getAttribute("content") ===
+                          ((lanes = hoistableRoot[i]),
+                          lanes.getAttribute("content") ===
                             (null == current.content
                               ? null
                               : "" + current.content) &&
-                            currentResource.getAttribute("name") ===
+                            lanes.getAttribute("name") ===
                               (null == current.name ? null : current.name) &&
-                            currentResource.getAttribute("property") ===
+                            lanes.getAttribute("property") ===
                               (null == current.property
                                 ? null
                                 : current.property) &&
-                            currentResource.getAttribute("http-equiv") ===
+                            lanes.getAttribute("http-equiv") ===
                               (null == current.httpEquiv
                                 ? null
                                 : current.httpEquiv) &&
-                            currentResource.getAttribute("charset") ===
+                            lanes.getAttribute("charset") ===
                               (null == current.charSet
                                 ? null
                                 : current.charSet))
                         ) {
-                          maybeNodes.splice(i, 1);
+                          hoistableRoot.splice(i, 1);
                           break b;
                         }
-                    currentResource = hoistableRoot.createElement(flags);
-                    setInitialProperties(currentResource, flags, current);
-                    hoistableRoot.head.appendChild(currentResource);
+                    lanes = root.createElement(flags);
+                    setInitialProperties(lanes, flags, current);
+                    root.head.appendChild(lanes);
                     break;
                   default:
                     throw Error(formatProdErrorMessage(468, flags));
                 }
-                currentResource[internalInstanceKey] = finishedWork;
-                markNodeAsHoistable(currentResource);
-                flags = currentResource;
+                lanes[internalInstanceKey] = finishedWork;
+                markNodeAsHoistable(lanes);
+                flags = lanes;
               }
               finishedWork.stateNode = flags;
             } else
@@ -9089,12 +8880,12 @@ function commitMutationEffectsOnFiber(finishedWork, root, lanes) {
               finishedWork.memoizedProps
             );
         else
-          currentResource !== flags
-            ? (null === currentResource
+          root !== flags
+            ? (null === root
                 ? null !== current.stateNode &&
                   ((current = current.stateNode),
                   current.parentNode.removeChild(current))
-                : currentResource.count--,
+                : root.count--,
               null === flags
                 ? mountHoistable(
                     hoistableRoot,
@@ -9113,23 +8904,38 @@ function commitMutationEffectsOnFiber(finishedWork, root, lanes) {
                 finishedWork.memoizedProps,
                 current.memoizedProps
               );
-      }
       break;
     case 27:
-      recursivelyTraverseMutationEffects(root, finishedWork, lanes);
-      commitReconciliationEffects(finishedWork);
-      flags & 512 &&
-        (offscreenSubtreeWasHidden ||
-          null === current ||
-          safelyDetachRef(current, current.return));
-      null !== current &&
-        flags & 4 &&
-        commitHostUpdate(
-          finishedWork,
-          finishedWork.memoizedProps,
-          current.memoizedProps
-        );
-      break;
+      if (flags & 4 && null === finishedWork.alternate) {
+        hoistableRoot = finishedWork.stateNode;
+        i = finishedWork.memoizedProps;
+        try {
+          for (var node = hoistableRoot.firstChild; node; ) {
+            var nextNode = node.nextSibling,
+              nodeName = node.nodeName;
+            node[internalHoistableMarker] ||
+              "HEAD" === nodeName ||
+              "BODY" === nodeName ||
+              "SCRIPT" === nodeName ||
+              "STYLE" === nodeName ||
+              ("LINK" === nodeName &&
+                "stylesheet" === node.rel.toLowerCase()) ||
+              hoistableRoot.removeChild(node);
+            node = nextNode;
+          }
+          for (
+            var type = finishedWork.type, attributes = hoistableRoot.attributes;
+            attributes.length;
+
+          )
+            hoistableRoot.removeAttributeNode(attributes[0]);
+          setInitialProperties(hoistableRoot, type, i);
+          hoistableRoot[internalInstanceKey] = finishedWork;
+          hoistableRoot[internalPropsKey] = i;
+        } catch (error) {
+          captureCommitPhaseError(finishedWork, finishedWork.return, error);
+        }
+      }
     case 5:
       recursivelyTraverseMutationEffects(root, finishedWork, lanes);
       commitReconciliationEffects(finishedWork);
@@ -9138,21 +8944,20 @@ function commitMutationEffectsOnFiber(finishedWork, root, lanes) {
           null === current ||
           safelyDetachRef(current, current.return));
       if (finishedWork.flags & 32) {
-        hoistableRoot = finishedWork.stateNode;
+        root = finishedWork.stateNode;
         try {
-          setTextContent(hoistableRoot, ""),
-            (viewTransitionMutationContext = !0);
+          setTextContent(root, ""), (viewTransitionMutationContext = !0);
         } catch (error) {
           captureCommitPhaseError(finishedWork, finishedWork.return, error);
         }
       }
       flags & 4 &&
         null != finishedWork.stateNode &&
-        ((hoistableRoot = finishedWork.memoizedProps),
+        ((root = finishedWork.memoizedProps),
         commitHostUpdate(
           finishedWork,
-          hoistableRoot,
-          null !== current ? current.memoizedProps : hoistableRoot
+          root,
+          null !== current ? current.memoizedProps : root
         ));
       flags & 1024 && (needsFormReset = !0);
       break;
@@ -9218,15 +9023,15 @@ function commitMutationEffectsOnFiber(finishedWork, root, lanes) {
         (offscreenSubtreeWasHidden ||
           null === current ||
           safelyDetachRef(current, current.return));
-      hoistableRoot = null !== finishedWork.memoizedState;
-      var wasHidden = null !== current && null !== current.memoizedState,
-        prevOffscreenSubtreeIsHidden = offscreenSubtreeIsHidden,
-        prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;
-      offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden || hoistableRoot;
-      offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden || wasHidden;
+      node = null !== finishedWork.memoizedState;
+      nextNode = null !== current && null !== current.memoizedState;
+      nodeName = offscreenSubtreeIsHidden;
+      type = offscreenSubtreeWasHidden;
+      offscreenSubtreeIsHidden = nodeName || node;
+      offscreenSubtreeWasHidden = type || nextNode;
       recursivelyTraverseMutationEffects(root, finishedWork, lanes);
-      offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;
-      offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden;
+      offscreenSubtreeWasHidden = type;
+      offscreenSubtreeIsHidden = nodeName;
       commitReconciliationEffects(finishedWork);
       root = finishedWork.stateNode;
       root._current = finishedWork;
@@ -9234,38 +9039,38 @@ function commitMutationEffectsOnFiber(finishedWork, root, lanes) {
       root._visibility |= root._pendingVisibility & 2;
       if (
         flags & 8192 &&
-        ((root._visibility = hoistableRoot
+        ((root._visibility = node
           ? root._visibility & -2
           : root._visibility | 1),
-        hoistableRoot &&
-          (null === current ||
-            wasHidden ||
-            offscreenSubtreeIsHidden ||
-            offscreenSubtreeWasHidden ||
+        node &&
+          ((root = offscreenSubtreeIsHidden || offscreenSubtreeWasHidden),
+          null === current ||
+            nextNode ||
+            root ||
             recursivelyTraverseDisappearLayoutEffects(finishedWork)),
         null === finishedWork.memoizedProps ||
           "manual" !== finishedWork.memoizedProps.mode)
       )
         a: for (current = null, root = finishedWork; ; ) {
-          if (5 === root.tag || 26 === root.tag) {
+          if (5 === root.tag || 26 === root.tag || 27 === root.tag) {
             if (null === current) {
               lanes = current = root;
               try {
-                if (((currentResource = lanes.stateNode), hoistableRoot))
-                  (maybeNodes = currentResource.style),
-                    "function" === typeof maybeNodes.setProperty
-                      ? maybeNodes.setProperty("display", "none", "important")
-                      : (maybeNodes.display = "none");
+                if (((hoistableRoot = lanes.stateNode), node))
+                  (i = hoistableRoot.style),
+                    "function" === typeof i.setProperty
+                      ? i.setProperty("display", "none", "important")
+                      : (i.display = "none");
                 else {
-                  i = lanes.stateNode;
-                  var styleProp = lanes.memoizedProps.style,
+                  var instance = lanes.stateNode,
+                    styleProp = lanes.memoizedProps.style,
                     display =
                       void 0 !== styleProp &&
                       null !== styleProp &&
                       styleProp.hasOwnProperty("display")
                         ? styleProp.display
                         : null;
-                  i.style.display =
+                  instance.style.display =
                     null == display || "boolean" === typeof display
                       ? ""
                       : ("" + display).trim();
@@ -9278,9 +9083,7 @@ function commitMutationEffectsOnFiber(finishedWork, root, lanes) {
             if (null === current) {
               lanes = root;
               try {
-                lanes.stateNode.nodeValue = hoistableRoot
-                  ? ""
-                  : lanes.memoizedProps;
+                lanes.stateNode.nodeValue = node ? "" : lanes.memoizedProps;
               } catch (error) {
                 captureCommitPhaseError(lanes, lanes.return, error);
               }
@@ -9331,7 +9134,7 @@ function commitMutationEffectsOnFiber(finishedWork, root, lanes) {
       viewTransitionMutationContext = !1;
       recursivelyTraverseMutationEffects(root, finishedWork, lanes);
       commitReconciliationEffects(finishedWork);
-      (lanes & 335544064) === lanes &&
+      (lanes & 335544192) === lanes &&
         null !== current &&
         viewTransitionMutationContext &&
         (finishedWork.flags |= 4);
@@ -9348,42 +9151,44 @@ function commitReconciliationEffects(finishedWork) {
   var flags = finishedWork.flags;
   if (flags & 2) {
     try {
-      a: {
-        for (var parent = finishedWork.return; null !== parent; ) {
-          if (isHostParent(parent)) {
-            var JSCompiler_inline_result = parent;
-            break a;
+      if (27 !== finishedWork.tag) {
+        a: {
+          for (var parent = finishedWork.return; null !== parent; ) {
+            if (isHostParent(parent)) {
+              var JSCompiler_inline_result = parent;
+              break a;
+            }
+            parent = parent.return;
           }
-          parent = parent.return;
+          throw Error(formatProdErrorMessage(160));
+        }
+        switch (JSCompiler_inline_result.tag) {
+          case 27:
+            var parent$jscomp$0 = JSCompiler_inline_result.stateNode,
+              before = getHostSibling(finishedWork);
+            insertOrAppendPlacementNode(finishedWork, before, parent$jscomp$0);
+            break;
+          case 5:
+            var parent$116 = JSCompiler_inline_result.stateNode;
+            JSCompiler_inline_result.flags & 32 &&
+              (setTextContent(parent$116, ""),
+              (JSCompiler_inline_result.flags &= -33));
+            var before$117 = getHostSibling(finishedWork);
+            insertOrAppendPlacementNode(finishedWork, before$117, parent$116);
+            break;
+          case 3:
+          case 4:
+            var parent$118 = JSCompiler_inline_result.stateNode.containerInfo,
+              before$119 = getHostSibling(finishedWork);
+            insertOrAppendPlacementNodeIntoContainer(
+              finishedWork,
+              before$119,
+              parent$118
+            );
+            break;
+          default:
+            throw Error(formatProdErrorMessage(161));
         }
-        throw Error(formatProdErrorMessage(160));
-      }
-      switch (JSCompiler_inline_result.tag) {
-        case 27:
-          var parent$jscomp$0 = JSCompiler_inline_result.stateNode,
-            before = getHostSibling(finishedWork);
-          insertOrAppendPlacementNode(finishedWork, before, parent$jscomp$0);
-          break;
-        case 5:
-          var parent$117 = JSCompiler_inline_result.stateNode;
-          JSCompiler_inline_result.flags & 32 &&
-            (setTextContent(parent$117, ""),
-            (JSCompiler_inline_result.flags &= -33));
-          var before$118 = getHostSibling(finishedWork);
-          insertOrAppendPlacementNode(finishedWork, before$118, parent$117);
-          break;
-        case 3:
-        case 4:
-          var parent$119 = JSCompiler_inline_result.stateNode.containerInfo,
-            before$120 = getHostSibling(finishedWork);
-          insertOrAppendPlacementNodeIntoContainer(
-            finishedWork,
-            before$120,
-            parent$119
-          );
-          break;
-        default:
-          throw Error(formatProdErrorMessage(161));
       }
     } catch (error) {
       captureCommitPhaseError(finishedWork, finishedWork.return, error);
@@ -9436,7 +9241,30 @@ function commitAfterMutationEffectsOnFiber(finishedWork, root) {
                   }
                 );
             }
-          cancelRootViewTransitionName(root.containerInfo);
+          finishedWork = root.containerInfo;
+          finishedWork =
+            9 === finishedWork.nodeType
+              ? finishedWork.documentElement
+              : finishedWork.ownerDocument.documentElement;
+          null !== finishedWork &&
+            "" === finishedWork.style.viewTransitionName &&
+            ((finishedWork.style.viewTransitionName = "none"),
+            finishedWork.animate(
+              { opacity: [0, 0], pointerEvents: ["none", "none"] },
+              {
+                duration: 0,
+                fill: "forwards",
+                pseudoElement: "::view-transition-group(root)"
+              }
+            ),
+            finishedWork.animate(
+              { width: [0, 0], height: [0, 0] },
+              {
+                duration: 0,
+                fill: "forwards",
+                pseudoElement: "::view-transition"
+              }
+            ));
         }
         break;
       case 5:
@@ -9465,7 +9293,7 @@ function commitAfterMutationEffectsOnFiber(finishedWork, root) {
               ),
               layoutClassName = getViewTransitionClassName(
                 root.className,
-                root.layout
+                root.update
               );
             if ("none" === updateClassName) {
               if ("none" === layoutClassName) {
@@ -9553,9 +9381,8 @@ function recursivelyTraverseDisappearLayoutEffects(parentFiber) {
           );
         recursivelyTraverseDisappearLayoutEffects(finishedWork);
         break;
-      case 27:
-        releaseSingletonInstance(finishedWork.stateNode);
       case 26:
+      case 27:
       case 5:
         safelyDetachRef(finishedWork, finishedWork.return);
         recursivelyTraverseDisappearLayoutEffects(finishedWork);
@@ -9632,9 +9459,8 @@ function recursivelyTraverseReappearLayoutEffects(
           commitClassCallbacks(finishedWork);
         safelyAttachRef(finishedWork, finishedWork.return);
         break;
-      case 27:
-        commitHostSingletonAcquisition(finishedWork);
       case 26:
+      case 27:
       case 5:
         recursivelyTraverseReappearLayoutEffects(
           finishedRoot,
@@ -9720,7 +9546,7 @@ function recursivelyTraversePassiveMountEffects(
   committedTransitions
 ) {
   var isViewTransitionEligible =
-    (committedLanes & 335544064) === committedLanes;
+    (committedLanes & 335544192) === committedLanes;
   if (parentFiber.subtreeFlags & (isViewTransitionEligible ? 10262 : 10256))
     for (parentFiber = parentFiber.child; null !== parentFiber; )
       commitPassiveMountOnFiber(
@@ -9739,7 +9565,7 @@ function commitPassiveMountOnFiber(
   committedTransitions
 ) {
   var isViewTransitionEligible =
-    (committedLanes & 335544064) === committedLanes;
+    (committedLanes & 335544192) === committedLanes;
   isViewTransitionEligible &&
     null === finishedWork.alternate &&
     null !== finishedWork.return &&
@@ -9774,15 +9600,21 @@ function commitPassiveMountOnFiber(
         committedTransitions
       );
       isViewTransitionEligible &&
-        restoreRootViewTransitionName(finishedRoot.containerInfo);
+        ((finishedRoot = finishedRoot.containerInfo),
+        (finishedRoot =
+          9 === finishedRoot.nodeType
+            ? finishedRoot.documentElement
+            : finishedRoot.ownerDocument.documentElement),
+        null !== finishedRoot &&
+          "none" === finishedRoot.style.viewTransitionName &&
+          (finishedRoot.style.viewTransitionName = ""));
       flags & 2048 &&
-        ((finishedRoot = null),
+        ((flags = null),
         null !== finishedWork.alternate &&
-          (finishedRoot = finishedWork.alternate.memoizedState.cache),
+          (flags = finishedWork.alternate.memoizedState.cache),
         (finishedWork = finishedWork.memoizedState.cache),
-        finishedWork !== finishedRoot &&
-          (finishedWork.refCount++,
-          null != finishedRoot && releaseCache(finishedRoot)));
+        finishedWork !== flags &&
+          (finishedWork.refCount++, null != flags && releaseCache(flags)));
       break;
     case 12:
       if (flags & 2048) {
@@ -9792,7 +9624,7 @@ function commitPassiveMountOnFiber(
           committedLanes,
           committedTransitions
         );
-        finishedRoot = finishedWork.stateNode;
+        flags = finishedWork.stateNode;
         try {
           var _finishedWork$memoize2 = finishedWork.memoizedProps,
             id = _finishedWork$memoize2.id,
@@ -9801,7 +9633,7 @@ function commitPassiveMountOnFiber(
             onPostCommit(
               id,
               null === finishedWork.alternate ? "mount" : "update",
-              finishedRoot.passiveEffectDuration,
+              flags.passiveEffectDuration,
               -0
             );
         } catch (error) {
@@ -9877,14 +9709,11 @@ function commitPassiveMountOnFiber(
       break;
     case 30:
       isViewTransitionEligible &&
-        ((isViewTransitionEligible = finishedWork.alternate),
-        null !== isViewTransitionEligible &&
+        ((flags = finishedWork.alternate),
+        null !== flags &&
           0 !== (finishedWork.subtreeFlags & 8246) &&
           ((finishedWork.memoizedState = null),
-          restoreViewTransitionOnHostInstances(
-            isViewTransitionEligible.child,
-            !0
-          ),
+          restoreViewTransitionOnHostInstances(flags.child, !0),
           restoreViewTransitionOnHostInstances(finishedWork.child, !0)));
       recursivelyTraversePassiveMountEffects(
         finishedRoot,
@@ -10055,20 +9884,6 @@ function accumulateSuspenseyCommitOnFiber(fiber) {
             (suspenseyCommitFlag = previousHoistableRoot))
           : recursivelyAccumulateSuspenseyCommit(fiber));
       break;
-    case 30:
-      if (
-        0 !== (fiber.flags & suspenseyCommitFlag) &&
-        ((previousHoistableRoot = fiber.memoizedProps.name),
-        null != previousHoistableRoot && "auto" !== previousHoistableRoot)
-      ) {
-        var state = fiber.stateNode;
-        state.paired = null;
-        null === appearingViewTransitions &&
-          (appearingViewTransitions = new Map());
-        appearingViewTransitions.set(previousHoistableRoot, state);
-      }
-      recursivelyAccumulateSuspenseyCommit(fiber);
-      break;
     default:
       recursivelyAccumulateSuspenseyCommit(fiber);
   }
@@ -10556,14 +10371,14 @@ function prepareToHydrateHostInstance(fiber) {
 function popToNextHostParent(fiber) {
   for (hydrationParentFiber = fiber.return; hydrationParentFiber; )
     switch (hydrationParentFiber.tag) {
+      case 3:
+      case 27:
+        rootOrSingletonContext = !0;
+        return;
       case 5:
       case 13:
         rootOrSingletonContext = !1;
         return;
-      case 27:
-      case 3:
-        rootOrSingletonContext = !0;
-        return;
       default:
         hydrationParentFiber = hydrationParentFiber.return;
     }
@@ -10571,52 +10386,46 @@ function popToNextHostParent(fiber) {
 function popHydrationState(fiber) {
   if (fiber !== hydrationParentFiber) return !1;
   if (!isHydrating) return popToNextHostParent(fiber), (isHydrating = !0), !1;
-  var tag = fiber.tag,
+  var shouldClear = !1,
     JSCompiler_temp;
-  if ((JSCompiler_temp = 3 !== tag && 27 !== tag)) {
-    if ((JSCompiler_temp = 5 === tag))
+  if ((JSCompiler_temp = 3 !== fiber.tag && 27 !== fiber.tag)) {
+    if ((JSCompiler_temp = 5 === fiber.tag))
       (JSCompiler_temp = fiber.type),
         (JSCompiler_temp =
           !("form" !== JSCompiler_temp && "button" !== JSCompiler_temp) ||
           shouldSetTextContent(fiber.type, fiber.memoizedProps));
     JSCompiler_temp = !JSCompiler_temp;
   }
-  JSCompiler_temp && nextHydratableInstance && throwOnHydrationMismatch(fiber);
+  JSCompiler_temp && (shouldClear = !0);
+  shouldClear && nextHydratableInstance && throwOnHydrationMismatch(fiber);
   popToNextHostParent(fiber);
-  if (13 === tag) {
+  if (13 === fiber.tag) {
     fiber = fiber.memoizedState;
     fiber = null !== fiber ? fiber.dehydrated : null;
     if (!fiber) throw Error(formatProdErrorMessage(317));
     a: {
       fiber = fiber.nextSibling;
-      for (tag = 0; fiber; ) {
+      for (shouldClear = 0; fiber; ) {
         if (8 === fiber.nodeType)
           if (((JSCompiler_temp = fiber.data), "/$" === JSCompiler_temp)) {
-            if (0 === tag) {
+            if (0 === shouldClear) {
               nextHydratableInstance = getNextHydratable(fiber.nextSibling);
               break a;
             }
-            tag--;
+            shouldClear--;
           } else
             ("$" !== JSCompiler_temp &&
               "$!" !== JSCompiler_temp &&
               "$?" !== JSCompiler_temp) ||
-              tag++;
+              shouldClear++;
         fiber = fiber.nextSibling;
       }
       nextHydratableInstance = null;
     }
   } else
-    27 === tag
-      ? ((tag = nextHydratableInstance),
-        isSingletonScope(fiber.type)
-          ? ((fiber = previousHydratableOnEnteringScopedSingleton),
-            (previousHydratableOnEnteringScopedSingleton = null),
-            (nextHydratableInstance = fiber))
-          : (nextHydratableInstance = tag))
-      : (nextHydratableInstance = hydrationParentFiber
-          ? getNextHydratable(fiber.stateNode.nextSibling)
-          : null);
+    nextHydratableInstance = hydrationParentFiber
+      ? getNextHydratable(fiber.stateNode.nextSibling)
+      : null;
   return !0;
 }
 function resetHydrationState() {
@@ -10646,31 +10455,14 @@ function getViewTransitionName(props, instance) {
     ? props.name
     : instance.autoName;
 }
-function getClassNameByType(classByType) {
-  if (null == classByType || "string" === typeof classByType)
-    return classByType;
-  var className = null,
-    activeTypes = pendingTransitionTypes;
-  if (null !== activeTypes)
-    for (var i = 0; i < activeTypes.length; i++) {
-      var match = classByType[activeTypes[i]];
-      if (null != match) {
-        if ("none" === match) return "none";
-        className = null == className ? match : className + (" " + match);
-      }
-    }
-  return null == className ? classByType.default : className;
-}
-function getViewTransitionClassName(defaultClass, eventClass) {
-  defaultClass = getClassNameByType(defaultClass);
-  eventClass = getClassNameByType(eventClass);
-  return null == eventClass
-    ? defaultClass
-    : "none" === eventClass
-      ? eventClass
-      : null != defaultClass && "none" !== defaultClass
-        ? defaultClass + " " + eventClass
-        : eventClass;
+function getViewTransitionClassName(className, eventClassName) {
+  return null == eventClassName
+    ? className
+    : "none" === eventClassName
+      ? eventClassName
+      : null != className
+        ? className + " " + eventClassName
+        : eventClassName;
 }
 function markUpdate(workInProgress) {
   workInProgress.flags |= 4;
@@ -10682,7 +10474,7 @@ function preloadResourceAndSuspendIfNeeded(workInProgress, resource) {
     resource = suspenseHandlerStackCursor.current;
     if (
       null !== resource &&
-      ((workInProgressRootRenderLanes & 4194048) ===
+      ((workInProgressRootRenderLanes & 4194176) ===
       workInProgressRootRenderLanes
         ? null !== shellBoundary
         : ((workInProgressRootRenderLanes & 62914560) !==
@@ -10720,14 +10512,14 @@ function cutOffTailIfNeeded(renderState, hasRenderedATailFallback) {
         break;
       case "collapsed":
         lastTailNode = renderState.tail;
-        for (var lastTailNode$138 = null; null !== lastTailNode; )
-          null !== lastTailNode.alternate && (lastTailNode$138 = lastTailNode),
+        for (var lastTailNode$135 = null; null !== lastTailNode; )
+          null !== lastTailNode.alternate && (lastTailNode$135 = lastTailNode),
             (lastTailNode = lastTailNode.sibling);
-        null === lastTailNode$138
+        null === lastTailNode$135
           ? hasRenderedATailFallback || null === renderState.tail
             ? (renderState.tail = null)
             : (renderState.tail.sibling = null)
-          : (lastTailNode$138.sibling = null);
+          : (lastTailNode$135.sibling = null);
     }
 }
 function bubbleProperties(completedWork) {
@@ -10737,23 +10529,41 @@ function bubbleProperties(completedWork) {
     newChildLanes = 0,
     subtreeFlags = 0;
   if (didBailout)
-    for (var child$139 = completedWork.child; null !== child$139; )
-      (newChildLanes |= child$139.lanes | child$139.childLanes),
-        (subtreeFlags |= child$139.subtreeFlags & 65011712),
-        (subtreeFlags |= child$139.flags & 65011712),
-        (child$139.return = completedWork),
-        (child$139 = child$139.sibling);
+    for (var child$136 = completedWork.child; null !== child$136; )
+      (newChildLanes |= child$136.lanes | child$136.childLanes),
+        (subtreeFlags |= child$136.subtreeFlags & 65011712),
+        (subtreeFlags |= child$136.flags & 65011712),
+        (child$136.return = completedWork),
+        (child$136 = child$136.sibling);
   else
-    for (child$139 = completedWork.child; null !== child$139; )
-      (newChildLanes |= child$139.lanes | child$139.childLanes),
-        (subtreeFlags |= child$139.subtreeFlags),
-        (subtreeFlags |= child$139.flags),
-        (child$139.return = completedWork),
-        (child$139 = child$139.sibling);
+    for (child$136 = completedWork.child; null !== child$136; )
+      (newChildLanes |= child$136.lanes | child$136.childLanes),
+        (subtreeFlags |= child$136.subtreeFlags),
+        (subtreeFlags |= child$136.flags),
+        (child$136.return = completedWork),
+        (child$136 = child$136.sibling);
   completedWork.subtreeFlags |= subtreeFlags;
   completedWork.childLanes = newChildLanes;
   return didBailout;
 }
+function trackReappearingViewTransitions(workInProgress) {
+  if (0 !== (workInProgress.subtreeFlags & 2097152))
+    for (workInProgress = workInProgress.child; null !== workInProgress; ) {
+      if (22 !== workInProgress.tag || null !== workInProgress.memoizedState) {
+        if (
+          30 === workInProgress.tag &&
+          0 !== (workInProgress.flags & 2097152)
+        ) {
+          var props = workInProgress.memoizedProps;
+          null != props.name &&
+            "auto" !== props.name &&
+            trackAppearingViewTransition(workInProgress.stateNode, props.name);
+        }
+        trackReappearingViewTransitions(workInProgress);
+      }
+      workInProgress = workInProgress.sibling;
+    }
+}
 function completeWork(current, workInProgress, renderLanes) {
   var newProps = workInProgress.pendingProps;
   popTreeContext(workInProgress);
@@ -11030,11 +10840,11 @@ function completeWork(current, workInProgress, renderLanes) {
           null !== newProps.alternate.memoizedState &&
           null !== newProps.alternate.memoizedState.cachePool &&
           (type = newProps.alternate.memoizedState.cachePool.pool);
-        var cache$152 = null;
+        var cache$149 = null;
         null !== newProps.memoizedState &&
           null !== newProps.memoizedState.cachePool &&
-          (cache$152 = newProps.memoizedState.cachePool.pool);
-        cache$152 !== type && (newProps.flags |= 2048);
+          (cache$149 = newProps.memoizedState.cachePool.pool);
+        cache$149 !== type && (newProps.flags |= 2048);
       }
       renderLanes !== current &&
         renderLanes &&
@@ -11059,8 +10869,8 @@ function completeWork(current, workInProgress, renderLanes) {
       type = workInProgress.memoizedState;
       if (null === type) return bubbleProperties(workInProgress), null;
       newProps = 0 !== (workInProgress.flags & 128);
-      cache$152 = type.rendering;
-      if (null === cache$152)
+      cache$149 = type.rendering;
+      if (null === cache$149)
         if (newProps) cutOffTailIfNeeded(type, !1);
         else {
           if (
@@ -11068,11 +10878,11 @@ function completeWork(current, workInProgress, renderLanes) {
             (null !== current && 0 !== (current.flags & 128))
           )
             for (current = workInProgress.child; null !== current; ) {
-              cache$152 = findFirstSuspended(current);
-              if (null !== cache$152) {
+              cache$149 = findFirstSuspended(current);
+              if (null !== cache$149) {
                 workInProgress.flags |= 128;
                 cutOffTailIfNeeded(type, !1);
-                current = cache$152.updateQueue;
+                current = cache$149.updateQueue;
                 workInProgress.updateQueue = current;
                 scheduleRetryEffect(workInProgress, current);
                 workInProgress.subtreeFlags = 0;
@@ -11097,7 +10907,7 @@ function completeWork(current, workInProgress, renderLanes) {
         }
       else {
         if (!newProps)
-          if (((current = findFirstSuspended(cache$152)), null !== current)) {
+          if (((current = findFirstSuspended(cache$149)), null !== current)) {
             if (
               ((workInProgress.flags |= 128),
               (newProps = !0),
@@ -11107,7 +10917,7 @@ function completeWork(current, workInProgress, renderLanes) {
               cutOffTailIfNeeded(type, !0),
               null === type.tail &&
                 "hidden" === type.tailMode &&
-                !cache$152.alternate &&
+                !cache$149.alternate &&
                 !isHydrating)
             )
               return bubbleProperties(workInProgress), null;
@@ -11120,13 +10930,13 @@ function completeWork(current, workInProgress, renderLanes) {
               cutOffTailIfNeeded(type, !1),
               (workInProgress.lanes = 4194304));
         type.isBackwards
-          ? ((cache$152.sibling = workInProgress.child),
-            (workInProgress.child = cache$152))
+          ? ((cache$149.sibling = workInProgress.child),
+            (workInProgress.child = cache$149))
           : ((current = type.last),
             null !== current
-              ? (current.sibling = cache$152)
-              : (workInProgress.child = cache$152),
-            (type.last = cache$152));
+              ? (current.sibling = cache$149)
+              : (workInProgress.child = cache$149),
+            (type.last = cache$149));
       }
       if (null !== type.tail)
         return (
@@ -11149,7 +10959,8 @@ function completeWork(current, workInProgress, renderLanes) {
         (newProps = null !== workInProgress.memoizedState),
         null !== current
           ? (null !== current.memoizedState) !== newProps &&
-            (workInProgress.flags |= 8192)
+            ((workInProgress.flags |= 8192),
+            newProps || trackReappearingViewTransitions(workInProgress))
           : newProps && (workInProgress.flags |= 8192),
         newProps
           ? 0 !== (renderLanes & 536870912) &&
@@ -11317,6 +11128,7 @@ var DefaultAsyncDispatcher = {
   workInProgressSuspendedRetryLanes = 0,
   workInProgressRootConcurrentErrors = null,
   workInProgressRootRecoverableErrors = null,
+  workInProgressAppearingViewTransitions = null,
   workInProgressRootDidIncludeRecursiveRenderUpdate = !1,
   globalMostRecentFallbackTime = 0,
   workInProgressRootRenderTargetTime = Infinity,
@@ -11330,7 +11142,6 @@ var DefaultAsyncDispatcher = {
   pendingPassiveTransitions = null,
   pendingRecoverableErrors = null,
   pendingViewTransitionEvents = null,
-  pendingTransitionTypes = null,
   nestedUpdateCount = 0,
   rootWithNestedUpdates = null;
 function requestUpdateLane() {
@@ -11397,7 +11208,7 @@ function performWorkOnRoot(root$jscomp$0, lanes, forceSync) {
   if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));
   var shouldTimeSlice =
       (!forceSync &&
-        0 === (lanes & 124) &&
+        0 === (lanes & 60) &&
         0 === (lanes & root$jscomp$0.expiredLanes)) ||
       checkIfRootIsPrerendering(root$jscomp$0, lanes),
     exitStatus = shouldTimeSlice
@@ -11485,7 +11296,7 @@ function performWorkOnRoot(root$jscomp$0, lanes, forceSync) {
           case 1:
             throw Error(formatProdErrorMessage(345));
           case 4:
-            if ((lanes & 4194048) !== lanes) break;
+            if ((lanes & 4194176) !== lanes) break;
           case 6:
             markRootSuspended(
               shouldTimeSlice,
@@ -11522,6 +11333,7 @@ function performWorkOnRoot(root$jscomp$0, lanes, forceSync) {
               forceSync,
               workInProgressRootRecoverableErrors,
               workInProgressTransitions,
+              workInProgressAppearingViewTransitions,
               workInProgressRootDidIncludeRecursiveRenderUpdate,
               lanes,
               workInProgressDeferredLane,
@@ -11542,6 +11354,7 @@ function performWorkOnRoot(root$jscomp$0, lanes, forceSync) {
           forceSync,
           workInProgressRootRecoverableErrors,
           workInProgressTransitions,
+          workInProgressAppearingViewTransitions,
           workInProgressRootDidIncludeRecursiveRenderUpdate,
           lanes,
           workInProgressDeferredLane,
@@ -11564,6 +11377,7 @@ function commitRootWhenReady(
   finishedWork,
   recoverableErrors,
   transitions,
+  appearingViewTransitions,
   didIncludeRenderPhaseUpdate,
   lanes,
   spawnedLane,
@@ -11576,34 +11390,23 @@ function commitRootWhenReady(
   completedRenderEndTime
 ) {
   root.timeoutHandle = -1;
-  suspendedCommitReason = finishedWork.subtreeFlags;
-  var isViewTransitionEligible = (lanes & 335544064) === lanes,
-    isGestureTransition = 64 === lanes;
-  if (
-    isViewTransitionEligible ||
-    suspendedCommitReason & 8192 ||
-    16785408 === (suspendedCommitReason & 16785408) ||
-    isGestureTransition
-  ) {
+  var subtreeFlags = finishedWork.subtreeFlags;
+  suspendedCommitReason = (lanes & 335544192) === lanes;
+  subtreeFlags = subtreeFlags & 8192 || 16785408 === (subtreeFlags & 16785408);
+  if (suspendedCommitReason || subtreeFlags) {
     suspendedState = { stylesheets: null, count: 0, unsuspend: noop };
-    appearingViewTransitions = null;
-    accumulateSuspenseyCommitOnFiber(finishedWork);
-    if (
-      (isViewTransitionEligible || isGestureTransition) &&
-      null === root.stoppingGestures
-    ) {
-      isViewTransitionEligible = root.containerInfo;
+    subtreeFlags && accumulateSuspenseyCommitOnFiber(finishedWork);
+    if (suspendedCommitReason) {
+      subtreeFlags = root.containerInfo;
       if (null === suspendedState) throw Error(formatProdErrorMessage(475));
       suspendedCommitReason = suspendedState;
-      isViewTransitionEligible = (
-        9 === isViewTransitionEligible.nodeType
-          ? isViewTransitionEligible
-          : isViewTransitionEligible.ownerDocument
+      subtreeFlags = (
+        9 === subtreeFlags.nodeType ? subtreeFlags : subtreeFlags.ownerDocument
       ).__reactViewTransition;
-      null != isViewTransitionEligible &&
+      null != subtreeFlags &&
         (suspendedCommitReason.count++,
         (suspendedCommitReason = onUnsuspend.bind(suspendedCommitReason)),
-        isViewTransitionEligible.finished.then(
+        subtreeFlags.finished.then(
           suspendedCommitReason,
           suspendedCommitReason
         ));
@@ -11618,6 +11421,7 @@ function commitRootWhenReady(
           lanes,
           recoverableErrors,
           transitions,
+          appearingViewTransitions,
           didIncludeRenderPhaseUpdate,
           spawnedLane,
           updatedLanes,
@@ -11638,6 +11442,7 @@ function commitRootWhenReady(
     lanes,
     recoverableErrors,
     transitions,
+    appearingViewTransitions,
     didIncludeRenderPhaseUpdate,
     spawnedLane,
     updatedLanes,
@@ -11747,6 +11552,7 @@ function prepareFreshStack(root, lanes) {
   workInProgressRootRecoverableErrors = workInProgressRootConcurrentErrors =
     null;
   workInProgressRootDidIncludeRecursiveRenderUpdate = !1;
+  workInProgressAppearingViewTransitions = null;
   0 !== (lanes & 8) && (lanes |= lanes & 32);
   var allEntangledLanes = root.entangledLanes;
   if (0 !== allEntangledLanes)
@@ -11802,7 +11608,7 @@ function pushAsyncDispatcher() {
 function renderDidSuspendDelayIfPossible() {
   workInProgressRootExitStatus = 4;
   workInProgressRootDidSkipSuspendedSiblings ||
-    ((workInProgressRootRenderLanes & 4194048) !==
+    ((workInProgressRootRenderLanes & 4194176) !==
       workInProgressRootRenderLanes &&
       null !== suspenseHandlerStackCursor.current) ||
     (workInProgressRootIsPrerendering = !0);
@@ -11821,6 +11627,18 @@ function queueConcurrentError(error) {
     ? (workInProgressRootConcurrentErrors = [error])
     : workInProgressRootConcurrentErrors.push(error);
 }
+function trackAppearingViewTransition(instance, name) {
+  if (null === workInProgressAppearingViewTransitions) {
+    if (
+      (workInProgressRootRenderLanes & 335544192) !==
+      workInProgressRootRenderLanes
+    )
+      return;
+    workInProgressAppearingViewTransitions = new Map();
+  }
+  instance.paired = null;
+  workInProgressAppearingViewTransitions.set(name, instance);
+}
 function renderRootSync(root, lanes, shouldYieldForPrerendering) {
   var prevExecutionContext = executionContext;
   executionContext |= 2;
@@ -11867,8 +11685,8 @@ function renderRootSync(root, lanes, shouldYieldForPrerendering) {
       workLoopSync();
       exitStatus = workInProgressRootExitStatus;
       break;
-    } catch (thrownValue$171) {
-      handleThrow(root, thrownValue$171);
+    } catch (thrownValue$168) {
+      handleThrow(root, thrownValue$168);
     }
   while (1);
   lanes && root.shellSuspendCounter++;
@@ -11983,8 +11801,8 @@ function renderRootConcurrent(root, lanes) {
       }
       workLoopConcurrentByScheduler();
       break;
-    } catch (thrownValue$173) {
-      handleThrow(root, thrownValue$173);
+    } catch (thrownValue$170) {
+      handleThrow(root, thrownValue$170);
     }
   while (1);
   lastContextDependency = currentlyRenderingFiber$1 = null;
@@ -12160,6 +11978,7 @@ function commitRoot(
   lanes,
   recoverableErrors,
   transitions,
+  appearingViewTransitions,
   didIncludeRenderPhaseUpdate,
   spawnedLane,
   updatedLanes,
@@ -12169,13 +11988,10 @@ function commitRoot(
   do flushPendingEffects();
   while (0 !== pendingEffectsStatus);
   if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));
-  if (null === finishedWork)
-    null !== root.stoppingGestures && stopCompletedGestures(root);
-  else {
+  if (null !== finishedWork) {
     if (finishedWork === root.current) throw Error(formatProdErrorMessage(177));
     didIncludeRenderPhaseUpdate = finishedWork.lanes | finishedWork.childLanes;
     didIncludeRenderPhaseUpdate |= concurrentlyUpdatedLanes;
-    null === root.pendingGestures && (didIncludeRenderPhaseUpdate &= -65);
     markRootFinished(
       root,
       lanes,
@@ -12193,55 +12009,49 @@ function commitRoot(
     pendingEffectsRemainingLanes = didIncludeRenderPhaseUpdate;
     pendingPassiveTransitions = transitions;
     pendingRecoverableErrors = recoverableErrors;
-    if (64 === lanes) commitGestureOnRoot(root, finishedWork);
-    else {
-      pendingViewTransitionEvents = null;
-      (lanes & 335544064) === lanes
-        ? ((pendingTransitionTypes = ReactSharedInternals.V),
-          (ReactSharedInternals.V = null),
-          (recoverableErrors = 10262))
-        : ((pendingTransitionTypes = null), (recoverableErrors = 10256));
-      0 !== (finishedWork.subtreeFlags & recoverableErrors) ||
-      0 !== (finishedWork.flags & recoverableErrors)
-        ? ((root.callbackNode = null),
-          (root.callbackPriority = 0),
-          scheduleCallback$1(NormalPriority$1, function () {
-            flushPassiveEffects(!0);
-            return null;
-          }))
-        : ((root.callbackNode = null), (root.callbackPriority = 0));
-      recoverableErrors = 0 !== (finishedWork.flags & 13878);
-      if (0 !== (finishedWork.subtreeFlags & 13878) || recoverableErrors) {
-        recoverableErrors = ReactSharedInternals.T;
-        ReactSharedInternals.T = null;
-        transitions = ReactDOMSharedInternals.p;
-        ReactDOMSharedInternals.p = 2;
-        spawnedLane = executionContext;
-        executionContext |= 4;
-        try {
-          commitBeforeMutationEffects(root, finishedWork, lanes);
-        } finally {
-          (executionContext = spawnedLane),
-            (ReactDOMSharedInternals.p = transitions),
-            (ReactSharedInternals.T = recoverableErrors);
-        }
+    pendingViewTransitionEvents = null;
+    recoverableErrors = (lanes & 335544192) === lanes ? 10262 : 10256;
+    0 !== (finishedWork.subtreeFlags & recoverableErrors) ||
+    0 !== (finishedWork.flags & recoverableErrors)
+      ? ((root.callbackNode = null),
+        (root.callbackPriority = 0),
+        scheduleCallback$1(NormalPriority$1, function () {
+          flushPassiveEffects(!0);
+          return null;
+        }))
+      : ((root.callbackNode = null), (root.callbackPriority = 0));
+    recoverableErrors = 0 !== (finishedWork.flags & 13878);
+    if (0 !== (finishedWork.subtreeFlags & 13878) || recoverableErrors) {
+      recoverableErrors = ReactSharedInternals.T;
+      ReactSharedInternals.T = null;
+      transitions = ReactDOMSharedInternals.p;
+      ReactDOMSharedInternals.p = 2;
+      spawnedLane = executionContext;
+      executionContext |= 4;
+      try {
+        commitBeforeMutationEffects(
+          root,
+          finishedWork,
+          lanes,
+          appearingViewTransitions
+        );
+      } finally {
+        (executionContext = spawnedLane),
+          (ReactDOMSharedInternals.p = transitions),
+          (ReactSharedInternals.T = recoverableErrors);
       }
-      finishedWork = shouldStartViewTransition;
-      null !== root.stoppingGestures &&
-        (stopCompletedGestures(root), (finishedWork = !1));
-      pendingEffectsStatus = 1;
-      (finishedWork &&
-        startViewTransition(
-          root.containerInfo,
-          pendingTransitionTypes,
-          flushMutationEffects,
-          flushLayoutEffects,
-          flushAfterMutationEffects,
-          flushSpawnedWork,
-          flushPassiveEffects
-        )) ||
-        (flushMutationEffects(), flushLayoutEffects(), flushSpawnedWork());
     }
+    pendingEffectsStatus = 1;
+    (shouldStartViewTransition &&
+      startViewTransition(
+        root.containerInfo,
+        flushMutationEffects,
+        flushLayoutEffects,
+        flushAfterMutationEffects,
+        flushSpawnedWork,
+        flushPassiveEffects
+      )) ||
+      (flushMutationEffects(), flushLayoutEffects(), flushSpawnedWork());
   }
 }
 function flushAfterMutationEffects() {
@@ -12405,12 +12215,12 @@ function flushSpawnedWork() {
       finishedWork = pendingFinishedWork,
       lanes = pendingEffectsLanes,
       recoverableErrors = pendingRecoverableErrors,
-      passiveSubtreeMask = (lanes & 335544064) === lanes ? 10262 : 10256;
+      passiveSubtreeMask = (lanes & 335544192) === lanes ? 10262 : 10256;
     0 !== (finishedWork.subtreeFlags & passiveSubtreeMask) ||
     0 !== (finishedWork.flags & passiveSubtreeMask)
       ? (pendingEffectsStatus = 5)
       : ((pendingEffectsStatus = 0),
-        (pendingFinishedWork = pendingEffectsRoot = null),
+        (pendingEffectsRoot = null),
         releaseRootPooledCache(root, root.pendingLanes));
     passiveSubtreeMask = root.pendingLanes;
     0 === passiveSubtreeMask && (legacyErrorBoundariesThatAlreadyFailed = null);
@@ -12447,21 +12257,17 @@ function flushSpawnedWork() {
       }
     }
     recoverableErrors = pendingViewTransitionEvents;
-    onRecoverableError = pendingTransitionTypes;
-    pendingTransitionTypes = null;
     if (null !== recoverableErrors)
       for (
-        pendingViewTransitionEvents = null,
-          null === onRecoverableError && (onRecoverableError = []),
-          recoverableError = 0;
-        recoverableError < recoverableErrors.length;
-        recoverableError++
+        pendingViewTransitionEvents = null, onRecoverableError = 0;
+        onRecoverableError < recoverableErrors.length;
+        onRecoverableError++
       )
-        (0, recoverableErrors[recoverableError])(onRecoverableError);
+        (0, recoverableErrors[onRecoverableError])();
     0 !== (pendingEffectsLanes & 3) && flushPendingEffects();
     ensureRootIsScheduled(root);
     passiveSubtreeMask = root.pendingLanes;
-    0 !== (lanes & 4194090) && 0 !== (passiveSubtreeMask & 42)
+    0 !== (lanes & 4194218) && 0 !== (passiveSubtreeMask & 42)
       ? root === rootWithNestedUpdates
         ? nestedUpdateCount++
         : ((nestedUpdateCount = 0), (rootWithNestedUpdates = root))
@@ -12469,71 +12275,6 @@ function flushSpawnedWork() {
     flushSyncWorkAcrossRoots_impl(0, !1);
   }
 }
-function commitGestureOnRoot(root) {
-  var finishedGesture = root.pendingGestures;
-  if (null === finishedGesture) ensureRootIsScheduled(root);
-  else {
-    deleteScheduledGesture(root, finishedGesture);
-    var prevTransition = ReactSharedInternals.T,
-      previousPriority = ReactDOMSharedInternals.p,
-      prevExecutionContext = executionContext;
-    executionContext |= 4;
-    executionContext = prevExecutionContext;
-    ReactDOMSharedInternals.p = previousPriority;
-    ReactSharedInternals.T = prevTransition;
-    pendingTransitionTypes = null;
-    pendingEffectsStatus = 6;
-    finishedGesture.running = startGestureTransition(
-      root.containerInfo,
-      pendingTransitionTypes,
-      flushGestureMutations,
-      flushGestureAnimations
-    );
-  }
-}
-function flushGestureMutations() {
-  if (6 === pendingEffectsStatus) {
-    pendingEffectsStatus = 0;
-    var root = pendingEffectsRoot,
-      prevTransition = ReactSharedInternals.T;
-    ReactSharedInternals.T = null;
-    var previousPriority = ReactDOMSharedInternals.p;
-    ReactDOMSharedInternals.p = 2;
-    var prevExecutionContext = executionContext;
-    executionContext |= 4;
-    try {
-      cancelRootViewTransitionName(root.containerInfo);
-    } finally {
-      (executionContext = prevExecutionContext),
-        (ReactDOMSharedInternals.p = previousPriority),
-        (ReactSharedInternals.T = prevTransition);
-    }
-    pendingEffectsStatus = 7;
-  }
-}
-function flushGestureAnimations() {
-  flushGestureMutations();
-  if (7 === pendingEffectsStatus) {
-    pendingEffectsStatus = 0;
-    var root = pendingEffectsRoot;
-    pendingFinishedWork = pendingEffectsRoot = null;
-    pendingEffectsLanes = 0;
-    var prevTransition = ReactSharedInternals.T;
-    ReactSharedInternals.T = null;
-    var previousPriority = ReactDOMSharedInternals.p;
-    ReactDOMSharedInternals.p = 2;
-    var prevExecutionContext = executionContext;
-    executionContext |= 4;
-    try {
-      restoreRootViewTransitionName(root.containerInfo);
-    } finally {
-      (executionContext = prevExecutionContext),
-        (ReactDOMSharedInternals.p = previousPriority),
-        (ReactSharedInternals.T = prevTransition);
-    }
-    ensureRootIsScheduled(root);
-  }
-}
 function releaseRootPooledCache(root, remainingLanes) {
   0 === (root.pooledCacheLanes &= remainingLanes) &&
     ((remainingLanes = root.pooledCache),
@@ -12541,8 +12282,6 @@ function releaseRootPooledCache(root, remainingLanes) {
       ((root.pooledCache = null), releaseCache(remainingLanes)));
 }
 function flushPendingEffects(wasDelayedCommit) {
-  flushGestureMutations();
-  flushGestureAnimations();
   flushMutationEffects();
   flushLayoutEffects();
   flushSpawnedWork();
@@ -12564,7 +12303,7 @@ function flushPassiveEffects() {
     var root$jscomp$0 = pendingEffectsRoot,
       lanes = pendingEffectsLanes;
     pendingEffectsStatus = 0;
-    pendingFinishedWork = pendingEffectsRoot = null;
+    pendingEffectsRoot = null;
     pendingEffectsLanes = 0;
     if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(331));
     var prevExecutionContext = executionContext;
@@ -12729,42 +12468,41 @@ function flushSyncWorkAcrossRoots_impl(syncTransitionLanes, onlyLegacy) {
     isFlushingWork = !0;
     do {
       var didPerformSomeWork = !1;
-      for (var root$179 = firstScheduledRoot; null !== root$179; ) {
+      for (var root$176 = firstScheduledRoot; null !== root$176; ) {
         if (!onlyLegacy)
           if (0 !== syncTransitionLanes) {
-            var pendingLanes = root$179.pendingLanes;
+            var pendingLanes = root$176.pendingLanes;
             if (0 === pendingLanes) var JSCompiler_inline_result = 0;
             else {
-              var suspendedLanes = root$179.suspendedLanes,
-                pingedLanes = root$179.pingedLanes;
+              var suspendedLanes = root$176.suspendedLanes,
+                pingedLanes = root$176.pingedLanes;
               JSCompiler_inline_result =
                 (1 << (31 - clz32(42 | syncTransitionLanes) + 1)) - 1;
               JSCompiler_inline_result &=
                 pendingLanes & ~(suspendedLanes & ~pingedLanes);
               JSCompiler_inline_result =
-                JSCompiler_inline_result & 201326741
-                  ? (JSCompiler_inline_result & 201326741) | 1
+                JSCompiler_inline_result & 201326677
+                  ? (JSCompiler_inline_result & 201326677) | 1
                   : JSCompiler_inline_result
                     ? JSCompiler_inline_result | 2
                     : 0;
             }
             0 !== JSCompiler_inline_result &&
               ((didPerformSomeWork = !0),
-              performSyncWorkOnRoot(root$179, JSCompiler_inline_result));
+              performSyncWorkOnRoot(root$176, JSCompiler_inline_result));
           } else
             (JSCompiler_inline_result = workInProgressRootRenderLanes),
               (JSCompiler_inline_result = getNextLanes(
-                root$179,
-                root$179 === workInProgressRoot ? JSCompiler_inline_result : 0,
-                null !== root$179.cancelPendingCommit ||
-                  -1 !== root$179.timeoutHandle
+                root$176,
+                root$176 === workInProgressRoot ? JSCompiler_inline_result : 0,
+                null !== root$176.cancelPendingCommit ||
+                  -1 !== root$176.timeoutHandle
               )),
-              (0 === (JSCompiler_inline_result & 3) &&
-                64 !== JSCompiler_inline_result) ||
-                checkIfRootIsPrerendering(root$179, JSCompiler_inline_result) ||
+              0 === (JSCompiler_inline_result & 3) ||
+                checkIfRootIsPrerendering(root$176, JSCompiler_inline_result) ||
                 ((didPerformSomeWork = !0),
-                performSyncWorkOnRoot(root$179, JSCompiler_inline_result));
-        root$179 = root$179.next;
+                performSyncWorkOnRoot(root$176, JSCompiler_inline_result));
+        root$176 = root$176.next;
       }
     } while (didPerformSomeWork);
     isFlushingWork = !1;
@@ -12792,8 +12530,7 @@ function processRootScheduleInMicrotask() {
         null === prev ? (firstScheduledRoot = next) : (prev.next = next),
         null === next && (lastScheduledRoot = prev);
     else if (
-      ((prev = root),
-      0 !== syncTransitionLanes || 0 !== (nextLanes & 3) || 64 === nextLanes)
+      ((prev = root), 0 !== syncTransitionLanes || 0 !== (nextLanes & 3))
     )
       mightHavePendingSyncWork = !0;
     root = next;
@@ -13005,20 +12742,20 @@ function extractEvents$1(
   }
 }
 for (
-  var i$jscomp$inline_1615 = 0;
-  i$jscomp$inline_1615 < simpleEventPluginEvents.length;
-  i$jscomp$inline_1615++
+  var i$jscomp$inline_1552 = 0;
+  i$jscomp$inline_1552 < simpleEventPluginEvents.length;
+  i$jscomp$inline_1552++
 ) {
-  var eventName$jscomp$inline_1616 =
-      simpleEventPluginEvents[i$jscomp$inline_1615],
-    domEventName$jscomp$inline_1617 =
-      eventName$jscomp$inline_1616.toLowerCase(),
-    capitalizedEvent$jscomp$inline_1618 =
-      eventName$jscomp$inline_1616[0].toUpperCase() +
-      eventName$jscomp$inline_1616.slice(1);
+  var eventName$jscomp$inline_1553 =
+      simpleEventPluginEvents[i$jscomp$inline_1552],
+    domEventName$jscomp$inline_1554 =
+      eventName$jscomp$inline_1553.toLowerCase(),
+    capitalizedEvent$jscomp$inline_1555 =
+      eventName$jscomp$inline_1553[0].toUpperCase() +
+      eventName$jscomp$inline_1553.slice(1);
   registerSimpleEvent(
-    domEventName$jscomp$inline_1617,
-    "on" + capitalizedEvent$jscomp$inline_1618
+    domEventName$jscomp$inline_1554,
+    "on" + capitalizedEvent$jscomp$inline_1555
   );
 }
 registerSimpleEvent(ANIMATION_END, "onAnimationEnd");
@@ -13226,15 +12963,22 @@ function dispatchEventForPluginEventSystem(
       var nodeTag = targetInst$jscomp$0.tag;
       if (3 === nodeTag || 4 === nodeTag) {
         var container = targetInst$jscomp$0.stateNode.containerInfo;
-        if (container === targetContainer) break;
+        if (
+          container === targetContainer ||
+          (8 === container.nodeType && container.parentNode === targetContainer)
+        )
+          break;
         if (4 === nodeTag)
           for (nodeTag = targetInst$jscomp$0.return; null !== nodeTag; ) {
             var grandTag = nodeTag.tag;
-            if (
-              (3 === grandTag || 4 === grandTag) &&
-              nodeTag.stateNode.containerInfo === targetContainer
-            )
-              return;
+            if (3 === grandTag || 4 === grandTag)
+              if (
+                ((grandTag = nodeTag.stateNode.containerInfo),
+                grandTag === targetContainer ||
+                  (8 === grandTag.nodeType &&
+                    grandTag.parentNode === targetContainer))
+              )
+                return;
             nodeTag = nodeTag.return;
           }
         for (; null !== container; ) {
@@ -14199,34 +13943,34 @@ function setInitialProperties(domElement, tag, props) {
         defaultChecked = null;
       for (hasSrc in props)
         if (props.hasOwnProperty(hasSrc)) {
-          var propValue$193 = props[hasSrc];
-          if (null != propValue$193)
+          var propValue$190 = props[hasSrc];
+          if (null != propValue$190)
             switch (hasSrc) {
               case "name":
-                hasSrcSet = propValue$193;
+                hasSrcSet = propValue$190;
                 break;
               case "type":
-                propValue = propValue$193;
+                propValue = propValue$190;
                 break;
               case "checked":
-                checked = propValue$193;
+                checked = propValue$190;
                 break;
               case "defaultChecked":
-                defaultChecked = propValue$193;
+                defaultChecked = propValue$190;
                 break;
               case "value":
-                propKey = propValue$193;
+                propKey = propValue$190;
                 break;
               case "defaultValue":
-                defaultValue = propValue$193;
+                defaultValue = propValue$190;
                 break;
               case "children":
               case "dangerouslySetInnerHTML":
-                if (null != propValue$193)
+                if (null != propValue$190)
                   throw Error(formatProdErrorMessage(137, tag));
                 break;
               default:
-                setProp(domElement, tag, hasSrc, propValue$193, props, null);
+                setProp(domElement, tag, hasSrc, propValue$190, props, null);
             }
         }
       initInput(
@@ -14363,14 +14107,14 @@ function setInitialProperties(domElement, tag, props) {
       return;
     default:
       if (isCustomElement(tag)) {
-        for (propValue$193 in props)
-          props.hasOwnProperty(propValue$193) &&
-            ((hasSrc = props[propValue$193]),
+        for (propValue$190 in props)
+          props.hasOwnProperty(propValue$190) &&
+            ((hasSrc = props[propValue$190]),
             void 0 !== hasSrc &&
               setPropOnCustomElement(
                 domElement,
                 tag,
-                propValue$193,
+                propValue$190,
                 hasSrc,
                 props,
                 void 0
@@ -14418,14 +14162,14 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
                 setProp(domElement, tag, propKey, null, nextProps, lastProp);
           }
       }
-      for (var propKey$210 in nextProps) {
-        var propKey = nextProps[propKey$210];
-        lastProp = lastProps[propKey$210];
+      for (var propKey$207 in nextProps) {
+        var propKey = nextProps[propKey$207];
+        lastProp = lastProps[propKey$207];
         if (
-          nextProps.hasOwnProperty(propKey$210) &&
+          nextProps.hasOwnProperty(propKey$207) &&
           (null != propKey || null != lastProp)
         )
-          switch (propKey$210) {
+          switch (propKey$207) {
             case "type":
               propKey !== lastProp && (viewTransitionMutationContext = !0);
               type = propKey;
@@ -14460,7 +14204,7 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
                 setProp(
                   domElement,
                   tag,
-                  propKey$210,
+                  propKey$207,
                   propKey,
                   nextProps,
                   lastProp
@@ -14479,7 +14223,7 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
       );
       return;
     case "select":
-      propKey = value = defaultValue = propKey$210 = null;
+      propKey = value = defaultValue = propKey$207 = null;
       for (type in lastProps)
         if (
           ((lastDefaultValue = lastProps[type]),
@@ -14511,7 +14255,7 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
           switch (name) {
             case "value":
               type !== lastDefaultValue && (viewTransitionMutationContext = !0);
-              propKey$210 = type;
+              propKey$207 = type;
               break;
             case "defaultValue":
               type !== lastDefaultValue && (viewTransitionMutationContext = !0);
@@ -14534,15 +14278,15 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
       tag = defaultValue;
       lastProps = value;
       nextProps = propKey;
-      null != propKey$210
-        ? updateOptions(domElement, !!lastProps, propKey$210, !1)
+      null != propKey$207
+        ? updateOptions(domElement, !!lastProps, propKey$207, !1)
         : !!nextProps !== !!lastProps &&
           (null != tag
             ? updateOptions(domElement, !!lastProps, tag, !0)
             : updateOptions(domElement, !!lastProps, lastProps ? [] : "", !1));
       return;
     case "textarea":
-      propKey = propKey$210 = null;
+      propKey = propKey$207 = null;
       for (defaultValue in lastProps)
         if (
           ((name = lastProps[defaultValue]),
@@ -14567,7 +14311,7 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
           switch (value) {
             case "value":
               name !== type && (viewTransitionMutationContext = !0);
-              propKey$210 = name;
+              propKey$207 = name;
               break;
             case "defaultValue":
               name !== type && (viewTransitionMutationContext = !0);
@@ -14582,17 +14326,17 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
               name !== type &&
                 setProp(domElement, tag, value, name, nextProps, type);
           }
-      updateTextarea(domElement, propKey$210, propKey);
+      updateTextarea(domElement, propKey$207, propKey);
       return;
     case "option":
-      for (var propKey$226 in lastProps)
+      for (var propKey$223 in lastProps)
         if (
-          ((propKey$210 = lastProps[propKey$226]),
-          lastProps.hasOwnProperty(propKey$226) &&
-            null != propKey$210 &&
-            !nextProps.hasOwnProperty(propKey$226))
+          ((propKey$207 = lastProps[propKey$223]),
+          lastProps.hasOwnProperty(propKey$223) &&
+            null != propKey$207 &&
+            !nextProps.hasOwnProperty(propKey$223))
         )
-          switch (propKey$226) {
+          switch (propKey$223) {
             case "selected":
               domElement.selected = !1;
               break;
@@ -14600,34 +14344,34 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
               setProp(
                 domElement,
                 tag,
-                propKey$226,
+                propKey$223,
                 null,
                 nextProps,
-                propKey$210
+                propKey$207
               );
           }
       for (lastDefaultValue in nextProps)
         if (
-          ((propKey$210 = nextProps[lastDefaultValue]),
+          ((propKey$207 = nextProps[lastDefaultValue]),
           (propKey = lastProps[lastDefaultValue]),
           nextProps.hasOwnProperty(lastDefaultValue) &&
-            propKey$210 !== propKey &&
-            (null != propKey$210 || null != propKey))
+            propKey$207 !== propKey &&
+            (null != propKey$207 || null != propKey))
         )
           switch (lastDefaultValue) {
             case "selected":
-              propKey$210 !== propKey && (viewTransitionMutationContext = !0);
+              propKey$207 !== propKey && (viewTransitionMutationContext = !0);
               domElement.selected =
-                propKey$210 &&
-                "function" !== typeof propKey$210 &&
-                "symbol" !== typeof propKey$210;
+                propKey$207 &&
+                "function" !== typeof propKey$207 &&
+                "symbol" !== typeof propKey$207;
               break;
             default:
               setProp(
                 domElement,
                 tag,
                 lastDefaultValue,
-                propKey$210,
+                propKey$207,
                 nextProps,
                 propKey
               );
@@ -14648,24 +14392,24 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
     case "track":
     case "wbr":
     case "menuitem":
-      for (var propKey$231 in lastProps)
-        (propKey$210 = lastProps[propKey$231]),
-          lastProps.hasOwnProperty(propKey$231) &&
-            null != propKey$210 &&
-            !nextProps.hasOwnProperty(propKey$231) &&
-            setProp(domElement, tag, propKey$231, null, nextProps, propKey$210);
+      for (var propKey$228 in lastProps)
+        (propKey$207 = lastProps[propKey$228]),
+          lastProps.hasOwnProperty(propKey$228) &&
+            null != propKey$207 &&
+            !nextProps.hasOwnProperty(propKey$228) &&
+            setProp(domElement, tag, propKey$228, null, nextProps, propKey$207);
       for (checked in nextProps)
         if (
-          ((propKey$210 = nextProps[checked]),
+          ((propKey$207 = nextProps[checked]),
           (propKey = lastProps[checked]),
           nextProps.hasOwnProperty(checked) &&
-            propKey$210 !== propKey &&
-            (null != propKey$210 || null != propKey))
+            propKey$207 !== propKey &&
+            (null != propKey$207 || null != propKey))
         )
           switch (checked) {
             case "children":
             case "dangerouslySetInnerHTML":
-              if (null != propKey$210)
+              if (null != propKey$207)
                 throw Error(formatProdErrorMessage(137, tag));
               break;
             default:
@@ -14673,7 +14417,7 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
                 domElement,
                 tag,
                 checked,
-                propKey$210,
+                propKey$207,
                 nextProps,
                 propKey
               );
@@ -14681,49 +14425,49 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
       return;
     default:
       if (isCustomElement(tag)) {
-        for (var propKey$236 in lastProps)
-          (propKey$210 = lastProps[propKey$236]),
-            lastProps.hasOwnProperty(propKey$236) &&
-              void 0 !== propKey$210 &&
-              !nextProps.hasOwnProperty(propKey$236) &&
+        for (var propKey$233 in lastProps)
+          (propKey$207 = lastProps[propKey$233]),
+            lastProps.hasOwnProperty(propKey$233) &&
+              void 0 !== propKey$207 &&
+              !nextProps.hasOwnProperty(propKey$233) &&
               setPropOnCustomElement(
                 domElement,
                 tag,
-                propKey$236,
+                propKey$233,
                 void 0,
                 nextProps,
-                propKey$210
+                propKey$207
               );
         for (defaultChecked in nextProps)
-          (propKey$210 = nextProps[defaultChecked]),
+          (propKey$207 = nextProps[defaultChecked]),
             (propKey = lastProps[defaultChecked]),
             !nextProps.hasOwnProperty(defaultChecked) ||
-              propKey$210 === propKey ||
-              (void 0 === propKey$210 && void 0 === propKey) ||
+              propKey$207 === propKey ||
+              (void 0 === propKey$207 && void 0 === propKey) ||
               setPropOnCustomElement(
                 domElement,
                 tag,
                 defaultChecked,
-                propKey$210,
+                propKey$207,
                 nextProps,
                 propKey
               );
         return;
       }
   }
-  for (var propKey$241 in lastProps)
-    (propKey$210 = lastProps[propKey$241]),
-      lastProps.hasOwnProperty(propKey$241) &&
-        null != propKey$210 &&
-        !nextProps.hasOwnProperty(propKey$241) &&
-        setProp(domElement, tag, propKey$241, null, nextProps, propKey$210);
+  for (var propKey$238 in lastProps)
+    (propKey$207 = lastProps[propKey$238]),
+      lastProps.hasOwnProperty(propKey$238) &&
+        null != propKey$207 &&
+        !nextProps.hasOwnProperty(propKey$238) &&
+        setProp(domElement, tag, propKey$238, null, nextProps, propKey$207);
   for (lastProp in nextProps)
-    (propKey$210 = nextProps[lastProp]),
+    (propKey$207 = nextProps[lastProp]),
       (propKey = lastProps[lastProp]),
       !nextProps.hasOwnProperty(lastProp) ||
-        propKey$210 === propKey ||
-        (null == propKey$210 && null == propKey) ||
-        setProp(domElement, tag, lastProp, propKey$210, nextProps, propKey);
+        propKey$207 === propKey ||
+        (null == propKey$207 && null == propKey) ||
+        setProp(domElement, tag, lastProp, propKey$207, nextProps, propKey);
 }
 var eventsEnabled = null,
   selectionInformation = null;
@@ -14798,56 +14542,21 @@ function handleErrorInNextTick(error) {
     throw error;
   });
 }
-function isSingletonScope(type) {
-  return "head" === type;
-}
 function clearSuspenseBoundary(parentInstance, suspenseInstance) {
   var node = suspenseInstance,
-    possiblePreambleContribution = 0,
     depth = 0;
   do {
     var nextNode = node.nextSibling;
     parentInstance.removeChild(node);
     if (nextNode && 8 === nextNode.nodeType)
       if (((node = nextNode.data), "/$" === node)) {
-        if (
-          0 < possiblePreambleContribution &&
-          8 > possiblePreambleContribution
-        ) {
-          node = possiblePreambleContribution;
-          var ownerDocument = parentInstance.ownerDocument;
-          node & 1 && releaseSingletonInstance(ownerDocument.documentElement);
-          node & 2 && releaseSingletonInstance(ownerDocument.body);
-          if (node & 4)
-            for (
-              node = ownerDocument.head,
-                releaseSingletonInstance(node),
-                ownerDocument = node.firstChild;
-              ownerDocument;
-
-            ) {
-              var nextNode$jscomp$0 = ownerDocument.nextSibling,
-                nodeName = ownerDocument.nodeName;
-              ownerDocument[internalHoistableMarker] ||
-                "SCRIPT" === nodeName ||
-                "STYLE" === nodeName ||
-                ("LINK" === nodeName &&
-                  "stylesheet" === ownerDocument.rel.toLowerCase()) ||
-                node.removeChild(ownerDocument);
-              ownerDocument = nextNode$jscomp$0;
-            }
-        }
         if (0 === depth) {
           parentInstance.removeChild(nextNode);
           retryIfBlockedOn(suspenseInstance);
           return;
         }
         depth--;
-      } else
-        "$" === node || "$?" === node || "$!" === node
-          ? depth++
-          : (possiblePreambleContribution = node.charCodeAt(0) - 48);
-    else possiblePreambleContribution = 0;
+      } else ("$" !== node && "$?" !== node && "$!" !== node) || depth++;
     node = nextNode;
   } while (node);
   retryIfBlockedOn(suspenseInstance);
@@ -14877,36 +14586,6 @@ function restoreViewTransitionName(instance, props) {
   instance.style.viewTransitionClass =
     null == props || "boolean" === typeof props ? "" : ("" + props).trim();
 }
-function cancelRootViewTransitionName(rootContainer) {
-  rootContainer =
-    9 === rootContainer.nodeType
-      ? rootContainer.documentElement
-      : rootContainer.ownerDocument.documentElement;
-  null !== rootContainer &&
-    "" === rootContainer.style.viewTransitionName &&
-    ((rootContainer.style.viewTransitionName = "none"),
-    rootContainer.animate(
-      { opacity: [0, 0], pointerEvents: ["none", "none"] },
-      {
-        duration: 0,
-        fill: "forwards",
-        pseudoElement: "::view-transition-group(root)"
-      }
-    ),
-    rootContainer.animate(
-      { width: [0, 0], height: [0, 0] },
-      { duration: 0, fill: "forwards", pseudoElement: "::view-transition" }
-    ));
-}
-function restoreRootViewTransitionName(rootContainer) {
-  rootContainer =
-    9 === rootContainer.nodeType
-      ? rootContainer.documentElement
-      : rootContainer.ownerDocument.documentElement;
-  null !== rootContainer &&
-    "none" === rootContainer.style.viewTransitionName &&
-    (rootContainer.style.viewTransitionName = "");
-}
 function measureInstance(instance) {
   var ownerWindow = instance.ownerDocument.defaultView,
     rect = instance.getBoundingClientRect();
@@ -14930,7 +14609,6 @@ function measureInstance(instance) {
 }
 function startViewTransition(
   rootContainer,
-  transitionTypes,
   mutationCallback,
   layoutCallback,
   afterMutationCallback,
@@ -14975,13 +14653,12 @@ function startViewTransition(
           );
         afterMutationCallback();
       },
-      types: transitionTypes
+      types: null
     });
     ownerDocument.__reactViewTransition = transition;
     transition.ready.then(spawnedWorkCallback, spawnedWorkCallback);
     transition.finished.then(function () {
-      ownerDocument.__reactViewTransition === transition &&
-        (ownerDocument.__reactViewTransition = null);
+      ownerDocument.__reactViewTransition = null;
       passiveCallback();
     });
     return !0;
@@ -14989,40 +14666,6 @@ function startViewTransition(
     return !1;
   }
 }
-function startGestureTransition(
-  rootContainer,
-  transitionTypes,
-  mutationCallback,
-  animateCallback
-) {
-  var ownerDocument =
-    9 === rootContainer.nodeType ? rootContainer : rootContainer.ownerDocument;
-  try {
-    var transition = ownerDocument.startViewTransition({
-      update: mutationCallback,
-      types: transitionTypes
-    });
-    ownerDocument.__reactViewTransition = transition;
-    var blockingAnim = null;
-    rootContainer = function () {
-      blockingAnim = ownerDocument.documentElement.animate([{}, {}], {
-        pseudoElement: "::view-transition",
-        duration: 1
-      });
-      blockingAnim.pause();
-      animateCallback();
-    };
-    transition.ready.then(rootContainer, rootContainer);
-    transition.finished.then(function () {
-      null !== blockingAnim && blockingAnim.cancel();
-      ownerDocument.__reactViewTransition === transition &&
-        (ownerDocument.__reactViewTransition = null);
-    });
-    return transition;
-  } catch (x) {
-    return mutationCallback(), animateCallback(), null;
-  }
-}
 function ViewTransitionPseudoElement(pseudo, name) {
   this._scope = document.documentElement;
   this._selector = "::view-transition-" + pseudo + "(" + name + ")";
@@ -15060,45 +14703,6 @@ function createViewTransitionInstance(name) {
     new: new ViewTransitionPseudoElement("new", name)
   };
 }
-function getCurrentGestureOffset(provider) {
-  provider = provider.currentTime;
-  if (null === provider) throw Error(formatProdErrorMessage(549));
-  return "number" === typeof provider ? provider : provider.value;
-}
-function subscribeToGestureDirection(
-  provider,
-  currentOffset,
-  directionCallback
-) {
-  function rafCallback() {
-    var newTime = provider.currentTime;
-    null !== newTime &&
-      ((newTime = "number" === typeof newTime ? newTime : newTime.value),
-      newTime !== currentOffset && directionCallback(newTime > currentOffset));
-    callbackID = requestAnimationFrame(rafCallback);
-  }
-  if (
-    "function" === typeof ScrollTimeline &&
-    provider instanceof ScrollTimeline
-  ) {
-    var element = provider.source,
-      scrollCallback = function () {
-        var newTime = provider.currentTime;
-        null !== newTime &&
-          ((newTime = "number" === typeof newTime ? newTime : newTime.value),
-          newTime !== currentOffset &&
-            directionCallback(newTime > currentOffset));
-      };
-    element.addEventListener("scroll", scrollCallback, !1);
-    return function () {
-      element.removeEventListener("scroll", scrollCallback, !1);
-    };
-  }
-  var callbackID = requestAnimationFrame(rafCallback);
-  return function () {
-    cancelAnimationFrame(callbackID);
-  };
-}
 function clearContainerSparingly(container) {
   var nextNode = container.firstChild;
   nextNode && 10 === nextNode.nodeType && (nextNode = nextNode.nextSibling);
@@ -15239,7 +14843,6 @@ function getNextHydratable(node) {
   }
   return node;
 }
-var previousHydratableOnEnteringScopedSingleton = null;
 function getParentSuspenseInstance(targetInstance) {
   targetInstance = targetInstance.previousSibling;
   for (var depth = 0; targetInstance; ) {
@@ -15273,19 +14876,12 @@ function resolveSingletonInstance(type, props, rootContainerInstance) {
       throw Error(formatProdErrorMessage(451));
   }
 }
-function releaseSingletonInstance(instance) {
-  for (var attributes = instance.attributes; attributes.length; )
-    instance.removeAttributeNode(attributes[0]);
-  detachDeletedInstance(instance);
-}
 var preloadPropsMap = new Map(),
   preconnectsSet = new Set();
 function getHoistableRoot(container) {
   return "function" === typeof container.getRootNode
     ? container.getRootNode()
-    : 9 === container.nodeType
-      ? container
-      : container.ownerDocument;
+    : container.ownerDocument;
 }
 var previousDispatcher = ReactDOMSharedInternals.d;
 ReactDOMSharedInternals.d = {
@@ -15579,26 +15175,26 @@ function getResource(type, currentProps, pendingProps, currentResource) {
         "string" === typeof pendingProps.precedence
       ) {
         type = getStyleKey(pendingProps.href);
-        var styles$249 = getResourcesFromRoot(
+        var styles$246 = getResourcesFromRoot(
             JSCompiler_inline_result
           ).hoistableStyles,
-          resource$250 = styles$249.get(type);
-        resource$250 ||
+          resource$247 = styles$246.get(type);
+        resource$247 ||
           ((JSCompiler_inline_result =
             JSCompiler_inline_result.ownerDocument || JSCompiler_inline_result),
-          (resource$250 = {
+          (resource$247 = {
             type: "stylesheet",
             instance: null,
             count: 0,
             state: { loading: 0, preload: null }
           }),
-          styles$249.set(type, resource$250),
-          (styles$249 = JSCompiler_inline_result.querySelector(
+          styles$246.set(type, resource$247),
+          (styles$246 = JSCompiler_inline_result.querySelector(
             getStylesheetSelectorFromKey(type)
           )) &&
-            !styles$249._p &&
-            ((resource$250.instance = styles$249),
-            (resource$250.state.loading = 5)),
+            !styles$246._p &&
+            ((resource$247.instance = styles$246),
+            (resource$247.state.loading = 5)),
           preloadPropsMap.has(type) ||
             ((pendingProps = {
               rel: "preload",
@@ -15611,16 +15207,16 @@ function getResource(type, currentProps, pendingProps, currentResource) {
               referrerPolicy: pendingProps.referrerPolicy
             }),
             preloadPropsMap.set(type, pendingProps),
-            styles$249 ||
+            styles$246 ||
               preloadStylesheet(
                 JSCompiler_inline_result,
                 type,
                 pendingProps,
-                resource$250.state
+                resource$247.state
               )));
         if (currentProps && null === currentResource)
           throw Error(formatProdErrorMessage(528, ""));
-        return resource$250;
+        return resource$247;
       }
       if (currentProps && null !== currentResource)
         throw Error(formatProdErrorMessage(529, ""));
@@ -15717,37 +15313,37 @@ function acquireResource(hoistableRoot, resource, props) {
         return (resource.instance = instance);
       case "stylesheet":
         styleProps = getStyleKey(props.href);
-        var instance$255 = hoistableRoot.querySelector(
+        var instance$252 = hoistableRoot.querySelector(
           getStylesheetSelectorFromKey(styleProps)
         );
-        if (instance$255)
+        if (instance$252)
           return (
             (resource.state.loading |= 4),
-            (resource.instance = instance$255),
-            markNodeAsHoistable(instance$255),
-            instance$255
+            (resource.instance = instance$252),
+            markNodeAsHoistable(instance$252),
+            instance$252
           );
         instance = stylesheetPropsFromRawProps(props);
         (styleProps = preloadPropsMap.get(styleProps)) &&
           adoptPreloadPropsForStylesheet(instance, styleProps);
-        instance$255 = (
+        instance$252 = (
           hoistableRoot.ownerDocument || hoistableRoot
         ).createElement("link");
-        markNodeAsHoistable(instance$255);
-        var linkInstance = instance$255;
+        markNodeAsHoistable(instance$252);
+        var linkInstance = instance$252;
         linkInstance._p = new Promise(function (resolve, reject) {
           linkInstance.onload = resolve;
           linkInstance.onerror = reject;
         });
-        setInitialProperties(instance$255, "link", instance);
+        setInitialProperties(instance$252, "link", instance);
         resource.state.loading |= 4;
-        insertStylesheet(instance$255, props.precedence, hoistableRoot);
-        return (resource.instance = instance$255);
+        insertStylesheet(instance$252, props.precedence, hoistableRoot);
+        return (resource.instance = instance$252);
       case "script":
-        instance$255 = getScriptKey(props.src);
+        instance$252 = getScriptKey(props.src);
         if (
           (styleProps = hoistableRoot.querySelector(
-            getScriptSelectorFromKey(instance$255)
+            getScriptSelectorFromKey(instance$252)
           ))
         )
           return (
@@ -15756,7 +15352,7 @@ function acquireResource(hoistableRoot, resource, props) {
             styleProps
           );
         instance = props;
-        if ((styleProps = preloadPropsMap.get(instance$255)))
+        if ((styleProps = preloadPropsMap.get(instance$252)))
           (instance = assign({}, props)),
             adoptPreloadPropsForScript(instance, styleProps);
         hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;
@@ -16088,7 +15684,6 @@ function FiberRootNode(
   this.pooledCache = null;
   this.pooledCacheLanes = 0;
   this.formState = formState;
-  this.stoppingGestures = this.pendingGestures = null;
   this.incompleteTransitions = new Map();
 }
 function createFiberRoot(
@@ -16776,16 +16371,16 @@ ReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {
     0 === i && attemptExplicitHydrationTarget(target);
   }
 };
-var isomorphicReactPackageVersion$jscomp$inline_1867 = React.version;
+var isomorphicReactPackageVersion$jscomp$inline_1799 = React.version;
 if (
-  "19.1.0-experimental-d55cc79b-20250228" !==
-  isomorphicReactPackageVersion$jscomp$inline_1867
+  "19.1.0-experimental-b3a95caf-20250113" !==
+  isomorphicReactPackageVersion$jscomp$inline_1799
 )
   throw Error(
     formatProdErrorMessage(
       527,
-      isomorphicReactPackageVersion$jscomp$inline_1867,
-      "19.1.0-experimental-d55cc79b-20250228"
+      isomorphicReactPackageVersion$jscomp$inline_1799,
+      "19.1.0-experimental-b3a95caf-20250113"
     )
   );
 ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {
@@ -16805,24 +16400,24 @@ ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {
     null === componentOrElement ? null : componentOrElement.stateNode;
   return componentOrElement;
 };
-var internals$jscomp$inline_2407 = {
+var internals$jscomp$inline_2330 = {
   bundleType: 0,
-  version: "19.1.0-experimental-d55cc79b-20250228",
+  version: "19.1.0-experimental-b3a95caf-20250113",
   rendererPackageName: "react-dom",
   currentDispatcherRef: ReactSharedInternals,
-  reconcilerVersion: "19.1.0-experimental-d55cc79b-20250228"
+  reconcilerVersion: "19.1.0-experimental-b3a95caf-20250113"
 };
 if ("undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {
-  var hook$jscomp$inline_2408 = __REACT_DEVTOOLS_GLOBAL_HOOK__;
+  var hook$jscomp$inline_2331 = __REACT_DEVTOOLS_GLOBAL_HOOK__;
   if (
-    !hook$jscomp$inline_2408.isDisabled &&
-    hook$jscomp$inline_2408.supportsFiber
+    !hook$jscomp$inline_2331.isDisabled &&
+    hook$jscomp$inline_2331.supportsFiber
   )
     try {
-      (rendererID = hook$jscomp$inline_2408.inject(
-        internals$jscomp$inline_2407
+      (rendererID = hook$jscomp$inline_2331.inject(
+        internals$jscomp$inline_2330
       )),
-        (injectedHook = hook$jscomp$inline_2408);
+        (injectedHook = hook$jscomp$inline_2331);
     } catch (err) {}
 }
 exports.createRoot = function (container, options) {
@@ -16860,7 +16455,9 @@ exports.createRoot = function (container, options) {
     null
   );
   container[internalContainerInstanceKey] = options.current;
-  listenToAllSupportedEvents(container);
+  listenToAllSupportedEvents(
+    8 === container.nodeType ? container.parentNode : container
+  );
   return new ReactDOMRoot(options);
 };
 exports.hydrateRoot = function (container, initialChildren, options) {
@@ -16914,4 +16511,4 @@ exports.hydrateRoot = function (container, initialChildren, options) {
   listenToAllSupportedEvents(container);
   return new ReactDOMHydrationRoot(initialChildren);
 };
-exports.version = "19.1.0-experimental-d55cc79b-20250228";
+exports.version = "19.1.0-experimental-b3a95caf-20250113";
diff --git a/node_modules/react-dom/cjs/react-dom-profiling.development.js b/node_modules/react-dom/cjs/react-dom-profiling.development.js
index 103ef4d..0f4f69a 100644
--- a/node_modules/react-dom/cjs/react-dom-profiling.development.js
+++ b/node_modules/react-dom/cjs/react-dom-profiling.development.js
@@ -427,7 +427,11 @@
           break;
         default:
           if (
-            ((nextRootContext = nextRootInstance.tagName),
+            ((nextRootInstance =
+              8 === nextRootContext
+                ? nextRootInstance.parentNode
+                : nextRootInstance),
+            (nextRootContext = nextRootInstance.tagName),
             (nextRootInstance = nextRootInstance.namespaceURI))
           )
             (nextRootInstance = getOwnHostContext(nextRootInstance)),
@@ -590,7 +594,6 @@
         case 64:
           return 64;
         case 128:
-          return 128;
         case 256:
         case 512:
         case 1024:
@@ -605,7 +608,7 @@
         case 524288:
         case 1048576:
         case 2097152:
-          return lanes & 4194048;
+          return lanes & 4194176;
         case 4194304:
         case 8388608:
         case 16777216:
@@ -667,7 +670,7 @@
             ((suspendedLanes = nextLanes & -nextLanes),
             (rootHasPendingCommit = wipLanes & -wipLanes),
             suspendedLanes >= rootHasPendingCommit ||
-              (32 === suspendedLanes && 0 !== (rootHasPendingCommit & 4194048)))
+              (32 === suspendedLanes && 0 !== (rootHasPendingCommit & 4194176)))
           ? wipLanes
           : nextLanes;
     }
@@ -685,10 +688,10 @@
         case 2:
         case 4:
         case 8:
-        case 64:
           return currentTime + 250;
         case 16:
         case 32:
+        case 64:
         case 128:
         case 256:
         case 512:
@@ -728,7 +731,7 @@
     function claimNextTransitionLane() {
       var lane = nextTransitionLane;
       nextTransitionLane <<= 1;
-      0 === (nextTransitionLane & 4194048) && (nextTransitionLane = 256);
+      0 === (nextTransitionLane & 4194176) && (nextTransitionLane = 128);
       return lane;
     }
     function claimNextRetryLane() {
@@ -804,7 +807,7 @@
       root.entanglements[spawnedLaneIndex] =
         root.entanglements[spawnedLaneIndex] |
         1073741824 |
-        (entangledLanes & 4194090);
+        (entangledLanes & 4194218);
     }
     function markRootEntangled(root, entangledLanes) {
       var rootEntangledLanes = (root.entangledLanes |= entangledLanes);
@@ -827,6 +830,7 @@
         case 32:
           lane = 16;
           break;
+        case 128:
         case 256:
         case 512:
         case 1024:
@@ -845,7 +849,7 @@
         case 8388608:
         case 16777216:
         case 33554432:
-          lane = 128;
+          lane = 64;
           break;
         case 268435456:
           lane = 134217728;
@@ -1469,7 +1473,10 @@
     }
     function runWithFiberInDEV(fiber, callback, arg0, arg1, arg2, arg3, arg4) {
       var previousFiber = current;
-      setCurrentFiber(fiber);
+      ReactSharedInternals.getCurrentStack =
+        null === fiber ? null : getCurrentFiberStackInDev;
+      isRendering = !1;
+      current = fiber;
       try {
         return null !== fiber && fiber._debugTask
           ? fiber._debugTask.run(
@@ -1477,18 +1484,12 @@
             )
           : callback(arg0, arg1, arg2, arg3, arg4);
       } finally {
-        setCurrentFiber(previousFiber);
+        current = previousFiber;
       }
       throw Error(
         "runWithFiberInDEV should never be called in production. This is a bug in React."
       );
     }
-    function setCurrentFiber(fiber) {
-      ReactSharedInternals.getCurrentStack =
-        null === fiber ? null : getCurrentFiberStackInDev;
-      isRendering = !1;
-      current = fiber;
-    }
     function getToStringValue(value) {
       switch (typeof value) {
         case "bigint":
@@ -2314,41 +2315,33 @@
       return null !== node ? describeDiff(node).replaceAll(/^[+-]/gm, ">") : "";
     }
     function updatedAncestorInfoDev(oldInfo, tag) {
-      var ancestorInfo = assign({}, oldInfo || emptyAncestorInfoDev),
-        info = { tag: tag };
+      oldInfo = assign({}, oldInfo || emptyAncestorInfoDev);
+      var info = { tag: tag };
       -1 !== inScopeTags.indexOf(tag) &&
-        ((ancestorInfo.aTagInScope = null),
-        (ancestorInfo.buttonTagInScope = null),
-        (ancestorInfo.nobrTagInScope = null));
-      -1 !== buttonScopeTags.indexOf(tag) &&
-        (ancestorInfo.pTagInButtonScope = null);
+        ((oldInfo.aTagInScope = null),
+        (oldInfo.buttonTagInScope = null),
+        (oldInfo.nobrTagInScope = null));
+      -1 !== buttonScopeTags.indexOf(tag) && (oldInfo.pTagInButtonScope = null);
       -1 !== specialTags.indexOf(tag) &&
         "address" !== tag &&
         "div" !== tag &&
         "p" !== tag &&
-        ((ancestorInfo.listItemTagAutoclosing = null),
-        (ancestorInfo.dlItemTagAutoclosing = null));
-      ancestorInfo.current = info;
-      "form" === tag && (ancestorInfo.formTag = info);
-      "a" === tag && (ancestorInfo.aTagInScope = info);
-      "button" === tag && (ancestorInfo.buttonTagInScope = info);
-      "nobr" === tag && (ancestorInfo.nobrTagInScope = info);
-      "p" === tag && (ancestorInfo.pTagInButtonScope = info);
-      "li" === tag && (ancestorInfo.listItemTagAutoclosing = info);
-      if ("dd" === tag || "dt" === tag)
-        ancestorInfo.dlItemTagAutoclosing = info;
+        ((oldInfo.listItemTagAutoclosing = null),
+        (oldInfo.dlItemTagAutoclosing = null));
+      oldInfo.current = info;
+      "form" === tag && (oldInfo.formTag = info);
+      "a" === tag && (oldInfo.aTagInScope = info);
+      "button" === tag && (oldInfo.buttonTagInScope = info);
+      "nobr" === tag && (oldInfo.nobrTagInScope = info);
+      "p" === tag && (oldInfo.pTagInButtonScope = info);
+      "li" === tag && (oldInfo.listItemTagAutoclosing = info);
+      if ("dd" === tag || "dt" === tag) oldInfo.dlItemTagAutoclosing = info;
       "#document" === tag || "html" === tag
-        ? (ancestorInfo.containerTagInScope = null)
-        : ancestorInfo.containerTagInScope ||
-          (ancestorInfo.containerTagInScope = info);
-      null !== oldInfo ||
-      ("#document" !== tag && "html" !== tag && "body" !== tag)
-        ? !0 === ancestorInfo.implicitRootScope &&
-          (ancestorInfo.implicitRootScope = !1)
-        : (ancestorInfo.implicitRootScope = !0);
-      return ancestorInfo;
-    }
-    function isTagValidWithParent(tag, parentTag, implicitRootScope) {
+        ? (oldInfo.containerTagInScope = null)
+        : oldInfo.containerTagInScope || (oldInfo.containerTagInScope = info);
+      return oldInfo;
+    }
+    function isTagValidWithParent(tag, parentTag) {
       switch (parentTag) {
         case "select":
           return (
@@ -2408,12 +2401,11 @@
             "template" === tag
           );
         case "html":
-          if (implicitRootScope) break;
           return "head" === tag || "body" === tag || "frameset" === tag;
         case "frameset":
           return "frame" === tag;
         case "#document":
-          if (!implicitRootScope) return "html" === tag;
+          return "html" === tag;
       }
       switch (tag) {
         case "h1":
@@ -2433,11 +2425,14 @@
         case "rp":
         case "rt":
           return -1 === impliedEndTags.indexOf(parentTag);
+        case "body":
         case "caption":
         case "col":
         case "colgroup":
         case "frameset":
         case "frame":
+        case "head":
+        case "html":
         case "tbody":
         case "td":
         case "tfoot":
@@ -2445,19 +2440,6 @@
         case "thead":
         case "tr":
           return null == parentTag;
-        case "head":
-          return implicitRootScope || null === parentTag;
-        case "html":
-          return (
-            (implicitRootScope && "#document" === parentTag) ||
-            null === parentTag
-          );
-        case "body":
-          return (
-            (implicitRootScope &&
-              ("#document" === parentTag || "html" === parentTag)) ||
-            null === parentTag
-          );
       }
       return !0;
     }
@@ -2532,8 +2514,7 @@
       var parentInfo = ancestorInfo.current;
       ancestorInfo = (parentInfo = isTagValidWithParent(
         childTag,
-        parentInfo && parentInfo.tag,
-        ancestorInfo.implicitRootScope
+        parentInfo && parentInfo.tag
       )
         ? null
         : parentInfo)
@@ -2587,33 +2568,32 @@
           }));
       return !1;
     }
-    function validateTextNesting(childText, parentTag, implicitRootScope) {
-      if (implicitRootScope || isTagValidWithParent("#text", parentTag, !1))
-        return !0;
-      implicitRootScope = "#text|" + parentTag;
-      if (didWarn[implicitRootScope]) return !1;
-      didWarn[implicitRootScope] = !0;
-      var ancestor = (implicitRootScope = current)
-        ? findAncestor(implicitRootScope, parentTag)
+    function validateTextNesting(childText, parentTag) {
+      if (isTagValidWithParent("#text", parentTag)) return !0;
+      var warnKey = "#text|" + parentTag;
+      if (didWarn[warnKey]) return !1;
+      didWarn[warnKey] = !0;
+      var ancestor = (warnKey = current)
+        ? findAncestor(warnKey, parentTag)
         : null;
-      implicitRootScope =
-        null !== implicitRootScope && null !== ancestor
+      warnKey =
+        null !== warnKey && null !== ancestor
           ? describeAncestors(
               ancestor,
-              implicitRootScope,
-              6 !== implicitRootScope.tag ? { children: null } : null
+              warnKey,
+              6 !== warnKey.tag ? { children: null } : null
             )
           : "";
       /\S/.test(childText)
         ? console.error(
             "In HTML, text nodes cannot be a child of <%s>.\nThis will cause a hydration error.%s",
             parentTag,
-            implicitRootScope
+            warnKey
           )
         : console.error(
             "In HTML, whitespace text nodes cannot be a child of <%s>. Make sure you don't have any extra whitespace between tags on each line of your source code.\nThis will cause a hydration error.%s",
             parentTag,
-            implicitRootScope
+            warnKey
           );
       return !1;
     }
@@ -3781,11 +3761,6 @@
       enqueueUpdate$1(fiber, null, null, lane);
       return getRootForUpdatedFiber(fiber);
     }
-    function enqueueGestureRender(fiber) {
-      fiber = markUpdateLaneFromFiberToRoot(fiber, null, 64);
-      null !== fiber && markRootUpdated$1(fiber, 64);
-      return fiber;
-    }
     function markUpdateLaneFromFiberToRoot(sourceFiber, update, lane) {
       sourceFiber.lanes |= lane;
       var alternate = sourceFiber.alternate;
@@ -3801,19 +3776,17 @@
               (isHidden = !0)),
           (sourceFiber = parent),
           (parent = parent.return);
-      return 3 === sourceFiber.tag
-        ? ((parent = sourceFiber.stateNode),
-          isHidden &&
-            null !== update &&
-            ((isHidden = 31 - clz32(lane)),
-            (sourceFiber = parent.hiddenUpdates),
-            (alternate = sourceFiber[isHidden]),
-            null === alternate
-              ? (sourceFiber[isHidden] = [update])
-              : alternate.push(update),
-            (update.lane = lane | 536870912)),
-          parent)
-        : null;
+      isHidden &&
+        null !== update &&
+        3 === sourceFiber.tag &&
+        ((parent = sourceFiber.stateNode),
+        (isHidden = 31 - clz32(lane)),
+        (parent = parent.hiddenUpdates),
+        (sourceFiber = parent[isHidden]),
+        null === sourceFiber
+          ? (parent[isHidden] = [update])
+          : sourceFiber.push(update),
+        (update.lane = lane | 536870912));
     }
     function getRootForUpdatedFiber(sourceFiber) {
       if (nestedUpdateCount > NESTED_UPDATE_LIMIT)
@@ -3979,7 +3952,7 @@
           (blockingEventTime = lane),
           (blockingEventType = JSCompiler_temp));
       else if (
-        0 !== (lane & 4194048) &&
+        0 !== (lane & 4194176) &&
         0 > transitionUpdateTime &&
         ((transitionUpdateTime = now()), 0 > transitionStartTime)
       ) {
@@ -4072,9 +4045,9 @@
     }
     function setCurrentTrackFromLanes(lanes) {
       reusableLaneDevToolDetails.track =
-        lanes & 127
+        lanes & 63
           ? "Blocking"
-          : lanes & 4194176
+          : lanes & 4194240
             ? "Transition"
             : lanes & 62914560
               ? "Suspense"
@@ -4191,13 +4164,13 @@
     function logRenderPhase(startTime, endTime, lanes) {
       supportsUserTiming &&
         ((reusableLaneDevToolDetails.color =
-          (lanes & 738197653) === lanes ? "tertiary-dark" : "primary-dark"),
+          (lanes & 738197589) === lanes ? "tertiary-dark" : "primary-dark"),
         (reusableLaneOptions.start = startTime),
         (reusableLaneOptions.end = endTime),
         performance.measure(
           (lanes & 536870912) === lanes
             ? "Prepared"
-            : (lanes & 201326741) === lanes
+            : (lanes & 201326677) === lanes
               ? "Hydrated"
               : "Render",
           reusableLaneOptions
@@ -4206,7 +4179,7 @@
     function logSuspendedRenderPhase(startTime, endTime, lanes) {
       supportsUserTiming &&
         ((reusableLaneDevToolDetails.color =
-          (lanes & 738197653) === lanes ? "tertiary-dark" : "primary-dark"),
+          (lanes & 738197589) === lanes ? "tertiary-dark" : "primary-dark"),
         (reusableLaneOptions.start = startTime),
         (reusableLaneOptions.end = endTime),
         performance.measure("Prewarm", reusableLaneOptions));
@@ -4214,7 +4187,7 @@
     function logSuspendedWithDelayPhase(startTime, endTime, lanes) {
       supportsUserTiming &&
         ((reusableLaneDevToolDetails.color =
-          (lanes & 738197653) === lanes ? "tertiary-dark" : "primary-dark"),
+          (lanes & 738197589) === lanes ? "tertiary-dark" : "primary-dark"),
         (reusableLaneOptions.start = startTime),
         (reusableLaneOptions.end = endTime),
         performance.measure("Suspended", reusableLaneOptions));
@@ -4634,7 +4607,7 @@
     }
     function entangleTransitions(root, fiber, lane) {
       fiber = fiber.updateQueue;
-      if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194048))) {
+      if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194176))) {
         var queueLanes = fiber.lanes;
         queueLanes &= root.pendingLanes;
         lane |= queueLanes;
@@ -5138,7 +5111,7 @@
               100 < thenableState.shellSuspendCounter
             )
               throw Error(
-                "An unknown Component is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server."
+                "async/await is not yet supported in Client Components, only Server Components. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server."
               );
             thenableState = thenable;
             thenableState.status = "pending";
@@ -5229,76 +5202,6 @@
         ? null
         : { parent: CacheContext._currentValue, pool: cacheFromPool };
     }
-    function scheduleGesture(
-      root,
-      provider,
-      initialDirection,
-      rangePrevious,
-      rangeCurrent,
-      rangeNext
-    ) {
-      for (var prev = root.pendingGestures; null !== prev; ) {
-        if (prev.provider === provider) return prev.count++, prev;
-        var next = prev.next;
-        if (null === next) break;
-        prev = next;
-      }
-      var isFlippedDirection = rangePrevious > rangeNext;
-      next = subscribeToGestureDirection(
-        provider,
-        rangeCurrent,
-        function (direction) {
-          isFlippedDirection && (direction = !direction);
-          gesture.direction !== direction &&
-            ((gesture.direction = direction),
-            null === gesture.prev &&
-              root.pendingGestures !== gesture &&
-              ((direction = root.pendingGestures),
-              (gesture.next = direction),
-              null !== direction && (direction.prev = gesture),
-              (root.pendingGestures = gesture),
-              (root.pendingLanes |= 64),
-              ensureRootIsScheduled(root)));
-        }
-      );
-      var gesture = {
-        provider: provider,
-        count: 1,
-        direction: initialDirection,
-        rangePrevious: rangePrevious,
-        rangeCurrent: rangeCurrent,
-        rangeNext: rangeNext,
-        cancel: next,
-        running: null,
-        prev: prev,
-        next: null
-      };
-      null === prev ? (root.pendingGestures = gesture) : (prev.next = gesture);
-      ensureRootIsScheduled(root);
-      return gesture;
-    }
-    function deleteScheduledGesture(root, gesture) {
-      null === gesture.prev
-        ? (root.pendingGestures === gesture &&
-            ((root.pendingGestures = gesture.next),
-            null === root.pendingGestures && (root.pendingLanes &= -65)),
-          root.stoppingGestures === gesture &&
-            (root.stoppingGestures = gesture.next))
-        : ((gesture.prev.next = gesture.next),
-          null !== gesture.next && (gesture.next.prev = gesture.prev),
-          (gesture.prev = null),
-          (gesture.next = null));
-    }
-    function stopCompletedGestures(root) {
-      var gesture = root.stoppingGestures;
-      for (root.stoppingGestures = null; null !== gesture; )
-        null !== gesture.running &&
-          (gesture.running.skipTransition(), (gesture.running = null)),
-          (root = gesture.next),
-          (gesture.next = null),
-          (gesture.prev = null),
-          (gesture = root);
-    }
     function mountHookTypesDev() {
       var hookName = currentHookNameInDev;
       null === hookTypesDev
@@ -5408,10 +5311,7 @@
           didWarnAboutAsyncClientComponent.has(nextRenderLanes) ||
             (didWarnAboutAsyncClientComponent.add(nextRenderLanes),
             console.error(
-              "%s is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.",
-              null === nextRenderLanes
-                ? "An unknown Component"
-                : "<" + nextRenderLanes + ">"
+              "async/await is not yet supported in Client Components, only Server Components. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server."
             ));
       workInProgress.memoizedState = null;
       workInProgress.updateQueue = null;
@@ -5896,7 +5796,7 @@
           throw Error(
             "Expected a work-in-progress root. This is a bug in React. Please file an issue."
           );
-        0 !== (workInProgressRootRenderLanes & 124) ||
+        0 !== (workInProgressRootRenderLanes & 60) ||
           pushStoreConsistencyCheck(fiber, getSnapshot, nextSnapshot);
       }
       hook.memoizedState = nextSnapshot;
@@ -5979,7 +5879,7 @@
             "Expected a work-in-progress root. This is a bug in React. Please file an issue."
           );
         isHydrating$jscomp$0 ||
-          0 !== (renderLanes & 124) ||
+          0 !== (renderLanes & 60) ||
           pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);
       }
       return getServerSnapshot;
@@ -6177,7 +6077,7 @@
           ),
           node.isTransition ||
             console.error(
-              "An async function with useActionState was called outside of a transition. This is likely not what you intended (for example, isPending will not update correctly). Either call the returned function inside startTransition, or pass it to an `action` or `formAction` prop."
+              "An async function was passed to useActionState, but it was dispatched outside of an action context. This is likely not what you intended. Either pass the dispatch function to an `action` prop, or dispatch manually inside `startTransition`"
             ))
         : onActionSuccess(actionQueue, node, returnValue);
     }
@@ -6358,14 +6258,8 @@
       currentStateHook.memoizedState = action;
       return [stateHook, dispatch, !1];
     }
-    function pushSimpleEffect(tag, inst, create, createDeps) {
-      tag = {
-        tag: tag,
-        create: create,
-        deps: createDeps,
-        inst: inst,
-        next: null
-      };
+    function pushSimpleEffect(tag, inst, create, deps) {
+      tag = { tag: tag, create: create, deps: deps, inst: inst, next: null };
       inst = currentlyRenderingFiber.updateQueue;
       null === inst &&
         ((inst = createFunctionComponentUpdateQueue()),
@@ -6373,9 +6267,9 @@
       create = inst.lastEffect;
       null === create
         ? (inst.lastEffect = tag.next = tag)
-        : ((createDeps = create.next),
+        : ((deps = create.next),
           (create.next = tag),
-          (tag.next = createDeps),
+          (tag.next = deps),
           (inst.lastEffect = tag));
       return tag;
     }
@@ -6387,15 +6281,15 @@
       initialValue = { current: initialValue };
       return (hook.memoizedState = initialValue);
     }
-    function mountEffectImpl(fiberFlags, hookFlags, create, createDeps) {
+    function mountEffectImpl(fiberFlags, hookFlags, create, deps) {
       var hook = mountWorkInProgressHook();
-      createDeps = void 0 === createDeps ? null : createDeps;
+      deps = void 0 === deps ? null : deps;
       currentlyRenderingFiber.flags |= fiberFlags;
       hook.memoizedState = pushSimpleEffect(
         HasEffect | hookFlags,
         createEffectInstance(),
         create,
-        createDeps
+        deps
       );
     }
     function updateEffectImpl(fiberFlags, hookFlags, create, deps) {
@@ -6414,11 +6308,11 @@
             deps
           )));
     }
-    function mountEffect(create, createDeps) {
+    function mountEffect(create, deps) {
       (currentlyRenderingFiber.mode & StrictEffectsMode) !== NoMode &&
       (currentlyRenderingFiber.mode & NoStrictPassiveEffectsMode) === NoMode
-        ? mountEffectImpl(276826112, Passive, create, createDeps)
-        : mountEffectImpl(8390656, Passive, create, createDeps);
+        ? mountEffectImpl(276826112, Passive, create, deps)
+        : mountEffectImpl(8390656, Passive, create, deps);
     }
     function useEffectEventImpl(payload) {
       currentlyRenderingFiber.flags |= 4;
@@ -6784,14 +6678,14 @@
         identifierPrefix = workInProgressRoot.identifierPrefix;
       if (isHydrating) {
         var treeId = getTreeId();
-        identifierPrefix = "\u00ab" + identifierPrefix + "R" + treeId;
+        identifierPrefix = ":" + identifierPrefix + "R" + treeId;
         treeId = localIdCounter++;
         0 < treeId && (identifierPrefix += "H" + treeId.toString(32));
-        identifierPrefix += "\u00bb";
+        identifierPrefix += ":";
       } else
         (treeId = globalClientIdCounter$1++),
           (identifierPrefix =
-            "\u00ab" + identifierPrefix + "r" + treeId.toString(32) + "\u00bb");
+            ":" + identifierPrefix + "r" + treeId.toString(32) + ":");
       return (hook.memoizedState = identifierPrefix);
     }
     function mountRefresh() {
@@ -6953,7 +6847,7 @@
       queue.pending = update;
     }
     function entangleTransitionUpdate(root, queue, lane) {
-      if (0 !== (lane & 4194048)) {
+      if (0 !== (lane & 4194176)) {
         var queueLanes = queue.lanes;
         queueLanes &= root.pendingLanes;
         lane |= queueLanes;
@@ -6961,115 +6855,6 @@
         markRootEntangled(root, lane);
       }
     }
-    function startGesture(fiber, queue, gestureProvider, gestureOptions) {
-      var root = enqueueGestureRender(fiber);
-      if (null === root) return function () {};
-      fiber = getCurrentGestureOffset(gestureProvider);
-      var range = gestureOptions && gestureOptions.range,
-        rangePrevious = range ? range[0] : 0,
-        rangeCurrent = range ? range[1] : fiber;
-      range = range ? range[2] : 100;
-      ((rangePrevious > rangeCurrent && range > rangeCurrent) ||
-        (rangePrevious < rangeCurrent && range < rangeCurrent)) &&
-        console.error(
-          'The range of a gesture needs "previous" and "next" to be on either side of the "current" offset. Both cannot be above current and both cannot be below current.'
-        );
-      var isFlippedDirection = rangePrevious > range,
-        update = {
-          gesture: scheduleGesture(
-            root,
-            gestureProvider,
-            fiber < rangeCurrent
-              ? isFlippedDirection
-              : fiber > rangeCurrent
-                ? !isFlippedDirection
-                : gestureOptions && "next" === gestureOptions.direction
-                  ? !0
-                  : gestureOptions && "previous" === gestureOptions.direction
-                    ? !1
-                    : queue.initialDirection,
-            rangePrevious,
-            rangeCurrent,
-            range
-          ),
-          prev: null,
-          next: queue.pending
-        };
-      null !== queue.pending && (queue.pending.prev = update);
-      queue.pending = update;
-      return function () {
-        if (null === update.prev)
-          if (queue.pending === update) queue.pending = update.next;
-          else return;
-        else
-          (update.prev.next = update.next),
-            null !== update.next && (update.next.prev = update.prev),
-            (update.prev = null),
-            (update.next = null);
-        var gesture = update.gesture;
-        gesture.count--;
-        if (0 === gesture.count) {
-          var cancelDirectionSubscription = gesture.cancel;
-          cancelDirectionSubscription();
-          deleteScheduledGesture(root, gesture);
-          cancelDirectionSubscription = gesture.running;
-          if (null !== cancelDirectionSubscription) {
-            var pendingLanesExcludingGestureLane = root.pendingLanes & -65;
-            0 !== (pendingLanesExcludingGestureLane & 124) ||
-            0 !== (pendingLanesExcludingGestureLane & 4194048)
-              ? ((cancelDirectionSubscription = root.stoppingGestures),
-                null !== cancelDirectionSubscription &&
-                  ((gesture.next = cancelDirectionSubscription),
-                  (cancelDirectionSubscription.prev = gesture)),
-                (root.stoppingGestures = gesture))
-              : ((gesture.running = null),
-                cancelDirectionSubscription.skipTransition());
-          }
-        }
-      };
-    }
-    function mountSwipeTransition(previous, current) {
-      previous = {
-        pending: null,
-        dispatch: null,
-        initialDirection: previous === current
-      };
-      var startGestureOnHook = (previous.dispatch = startGesture.bind(
-        null,
-        currentlyRenderingFiber,
-        previous
-      ));
-      mountWorkInProgressHook().queue = previous;
-      return [current, startGestureOnHook];
-    }
-    function updateSwipeTransition(previous, current, next) {
-      var queue = updateWorkInProgressHook().queue,
-        startGestureOnHook = queue.dispatch,
-        rootRenderLanes = workInProgressRootRenderLanes,
-        value = current;
-      if (null !== queue.pending) {
-        if (64 === rootRenderLanes) {
-          rootRenderLanes = workInProgressRoot;
-          if (null === rootRenderLanes)
-            throw Error(
-              "Expected a work-in-progress root. This is a bug in React. Please file an issue."
-            );
-          rootRenderLanes = rootRenderLanes.pendingGestures;
-          if (null !== rootRenderLanes)
-            for (var update = queue.pending; null !== update; ) {
-              if (rootRenderLanes === update.gesture) {
-                value = rootRenderLanes.direction ? next : previous;
-                break;
-              }
-              update = update.next;
-            }
-          didReceiveUpdate = !0;
-        }
-        currentlyRenderingFiber.lanes |= 64;
-      }
-      queue.initialDirection = previous === current;
-      return [value, startGestureOnHook];
-    }
     function pushDebugInfo(debugInfo) {
       var previousDebugInfo = currentDebugInfo;
       null != debugInfo &&
@@ -8944,7 +8729,7 @@
       return workInProgress.child;
     }
     function updateClassComponent(
-      current,
+      current$jscomp$0,
       workInProgress,
       Component,
       nextProps,
@@ -9260,7 +9045,7 @@
         (workInProgress.mode & StrictEffectsMode) !== NoMode &&
           (workInProgress.flags |= 134217728);
         _instance = !0;
-      } else if (null === current) {
+      } else if (null === current$jscomp$0) {
         _instance = workInProgress.stateNode;
         var unresolvedOldProps = workInProgress.memoizedProps;
         lane = resolveClassComponentProps(Component, unresolvedOldProps);
@@ -9340,7 +9125,7 @@
             (_instance = !1));
       } else {
         _instance = workInProgress.stateNode;
-        cloneUpdateQueue(current, workInProgress);
+        cloneUpdateQueue(current$jscomp$0, workInProgress);
         state = workInProgress.memoizedProps;
         foundWillUpdateName = resolveClassComponentProps(Component, state);
         _instance.props = foundWillUpdateName;
@@ -9373,9 +9158,9 @@
         state !== newApiName ||
         oldState !== newState ||
         hasForceUpdate ||
-        (null !== current &&
-          null !== current.dependencies &&
-          checkIfContextChanged(current.dependencies))
+        (null !== current$jscomp$0 &&
+          null !== current$jscomp$0.dependencies &&
+          checkIfContextChanged(current$jscomp$0.dependencies))
           ? ("function" === typeof unresolvedOldProps &&
               (applyDerivedStateFromProps(
                 workInProgress,
@@ -9395,9 +9180,9 @@
                 newState,
                 lane
               ) ||
-              (null !== current &&
-                null !== current.dependencies &&
-                checkIfContextChanged(current.dependencies)))
+              (null !== current$jscomp$0 &&
+                null !== current$jscomp$0.dependencies &&
+                checkIfContextChanged(current$jscomp$0.dependencies)))
               ? (oldContext ||
                   ("function" !== typeof _instance.UNSAFE_componentWillUpdate &&
                     "function" !== typeof _instance.componentWillUpdate) ||
@@ -9414,12 +9199,12 @@
                 "function" === typeof _instance.getSnapshotBeforeUpdate &&
                   (workInProgress.flags |= 1024))
               : ("function" !== typeof _instance.componentDidUpdate ||
-                  (state === current.memoizedProps &&
-                    oldState === current.memoizedState) ||
+                  (state === current$jscomp$0.memoizedProps &&
+                    oldState === current$jscomp$0.memoizedState) ||
                   (workInProgress.flags |= 4),
                 "function" !== typeof _instance.getSnapshotBeforeUpdate ||
-                  (state === current.memoizedProps &&
-                    oldState === current.memoizedState) ||
+                  (state === current$jscomp$0.memoizedProps &&
+                    oldState === current$jscomp$0.memoizedState) ||
                   (workInProgress.flags |= 1024),
                 (workInProgress.memoizedProps = nextProps),
                 (workInProgress.memoizedState = newState)),
@@ -9428,21 +9213,24 @@
             (_instance.context = lane),
             (_instance = foundWillUpdateName))
           : ("function" !== typeof _instance.componentDidUpdate ||
-              (state === current.memoizedProps &&
-                oldState === current.memoizedState) ||
+              (state === current$jscomp$0.memoizedProps &&
+                oldState === current$jscomp$0.memoizedState) ||
               (workInProgress.flags |= 4),
             "function" !== typeof _instance.getSnapshotBeforeUpdate ||
-              (state === current.memoizedProps &&
-                oldState === current.memoizedState) ||
+              (state === current$jscomp$0.memoizedProps &&
+                oldState === current$jscomp$0.memoizedState) ||
               (workInProgress.flags |= 1024),
             (_instance = !1));
       }
       lane = _instance;
-      markRef(current, workInProgress);
+      markRef(current$jscomp$0, workInProgress);
       state = 0 !== (workInProgress.flags & 128);
       if (lane || state) {
         lane = workInProgress.stateNode;
-        setCurrentFiber(workInProgress);
+        ReactSharedInternals.getCurrentStack =
+          null === workInProgress ? null : getCurrentFiberStackInDev;
+        isRendering = !1;
+        current = workInProgress;
         if (state && "function" !== typeof Component.getDerivedStateFromError)
           (Component = null), (profilerStartTime = -1);
         else if (
@@ -9457,10 +9245,10 @@
           }
         }
         workInProgress.flags |= 1;
-        null !== current && state
+        null !== current$jscomp$0 && state
           ? ((workInProgress.child = reconcileChildFibers(
               workInProgress,
-              current.child,
+              current$jscomp$0.child,
               null,
               renderLanes
             )),
@@ -9470,12 +9258,17 @@
               Component,
               renderLanes
             )))
-          : reconcileChildren(current, workInProgress, Component, renderLanes);
+          : reconcileChildren(
+              current$jscomp$0,
+              workInProgress,
+              Component,
+              renderLanes
+            );
         workInProgress.memoizedState = lane.state;
-        current = workInProgress.child;
+        current$jscomp$0 = workInProgress.child;
       } else
-        current = bailoutOnAlreadyFinishedWork(
-          current,
+        current$jscomp$0 = bailoutOnAlreadyFinishedWork(
+          current$jscomp$0,
           workInProgress,
           renderLanes
         );
@@ -9488,7 +9281,7 @@
             getComponentNameFromFiber(workInProgress) || "a component"
           ),
         (didWarnAboutReassigningProps = !0));
-      return current;
+      return current$jscomp$0;
     }
     function mountHostRootWithoutHydrating(
       current,
@@ -9540,33 +9333,33 @@
       return current;
     }
     function updateSuspenseComponent(current, workInProgress, renderLanes) {
-      var JSCompiler_object_inline_componentStack_2630;
-      var JSCompiler_object_inline_stack_2629 = workInProgress.pendingProps;
+      var JSCompiler_object_inline_componentStack_2557;
+      var JSCompiler_object_inline_stack_2556 = workInProgress.pendingProps;
       shouldSuspendImpl(workInProgress) && (workInProgress.flags |= 128);
-      var JSCompiler_object_inline_message_2627 = !1;
+      var JSCompiler_object_inline_message_2554 = !1;
       var didSuspend = 0 !== (workInProgress.flags & 128);
-      (JSCompiler_object_inline_componentStack_2630 = didSuspend) ||
-        (JSCompiler_object_inline_componentStack_2630 =
+      (JSCompiler_object_inline_componentStack_2557 = didSuspend) ||
+        (JSCompiler_object_inline_componentStack_2557 =
           null !== current && null === current.memoizedState
             ? !1
             : 0 !== (suspenseStackCursor.current & ForceSuspenseFallback));
-      JSCompiler_object_inline_componentStack_2630 &&
-        ((JSCompiler_object_inline_message_2627 = !0),
+      JSCompiler_object_inline_componentStack_2557 &&
+        ((JSCompiler_object_inline_message_2554 = !0),
         (workInProgress.flags &= -129));
-      JSCompiler_object_inline_componentStack_2630 =
+      JSCompiler_object_inline_componentStack_2557 =
         0 !== (workInProgress.flags & 32);
       workInProgress.flags &= -33;
       if (null === current) {
         if (isHydrating) {
-          JSCompiler_object_inline_message_2627
+          JSCompiler_object_inline_message_2554
             ? pushPrimaryTreeSuspenseHandler(workInProgress)
             : reuseSuspenseHandlerOnStack(workInProgress);
           if (isHydrating) {
-            var JSCompiler_object_inline_digest_2628 = nextHydratableInstance;
+            var JSCompiler_object_inline_digest_2555 = nextHydratableInstance;
             var JSCompiler_temp;
-            if (!(JSCompiler_temp = !JSCompiler_object_inline_digest_2628)) {
+            if (!(JSCompiler_temp = !JSCompiler_object_inline_digest_2555)) {
               c: {
-                var instance = JSCompiler_object_inline_digest_2628;
+                var instance = JSCompiler_object_inline_digest_2555;
                 for (
                   JSCompiler_temp = rootOrSingletonContext;
                   8 !== instance.nodeType;
@@ -9608,87 +9401,87 @@
             JSCompiler_temp &&
               (warnNonHydratedInstance(
                 workInProgress,
-                JSCompiler_object_inline_digest_2628
+                JSCompiler_object_inline_digest_2555
               ),
               throwOnHydrationMismatch(workInProgress));
           }
-          JSCompiler_object_inline_digest_2628 = workInProgress.memoizedState;
+          JSCompiler_object_inline_digest_2555 = workInProgress.memoizedState;
           if (
-            null !== JSCompiler_object_inline_digest_2628 &&
-            ((JSCompiler_object_inline_digest_2628 =
-              JSCompiler_object_inline_digest_2628.dehydrated),
-            null !== JSCompiler_object_inline_digest_2628)
+            null !== JSCompiler_object_inline_digest_2555 &&
+            ((JSCompiler_object_inline_digest_2555 =
+              JSCompiler_object_inline_digest_2555.dehydrated),
+            null !== JSCompiler_object_inline_digest_2555)
           )
             return (
-              isSuspenseInstanceFallback(JSCompiler_object_inline_digest_2628)
+              isSuspenseInstanceFallback(JSCompiler_object_inline_digest_2555)
                 ? (workInProgress.lanes = 32)
                 : (workInProgress.lanes = 536870912),
               null
             );
           popSuspenseHandler(workInProgress);
         }
-        JSCompiler_object_inline_digest_2628 =
-          JSCompiler_object_inline_stack_2629.children;
-        JSCompiler_temp = JSCompiler_object_inline_stack_2629.fallback;
-        if (JSCompiler_object_inline_message_2627)
+        JSCompiler_object_inline_digest_2555 =
+          JSCompiler_object_inline_stack_2556.children;
+        JSCompiler_temp = JSCompiler_object_inline_stack_2556.fallback;
+        if (JSCompiler_object_inline_message_2554)
           return (
             reuseSuspenseHandlerOnStack(workInProgress),
-            (JSCompiler_object_inline_stack_2629 =
+            (JSCompiler_object_inline_stack_2556 =
               mountSuspenseFallbackChildren(
                 workInProgress,
-                JSCompiler_object_inline_digest_2628,
+                JSCompiler_object_inline_digest_2555,
                 JSCompiler_temp,
                 renderLanes
               )),
-            (JSCompiler_object_inline_message_2627 = workInProgress.child),
-            (JSCompiler_object_inline_message_2627.memoizedState =
+            (JSCompiler_object_inline_message_2554 = workInProgress.child),
+            (JSCompiler_object_inline_message_2554.memoizedState =
               mountSuspenseOffscreenState(renderLanes)),
-            (JSCompiler_object_inline_message_2627.childLanes =
+            (JSCompiler_object_inline_message_2554.childLanes =
               getRemainingWorkInPrimaryTree(
                 current,
-                JSCompiler_object_inline_componentStack_2630,
+                JSCompiler_object_inline_componentStack_2557,
                 renderLanes
               )),
             (workInProgress.memoizedState = SUSPENDED_MARKER),
-            JSCompiler_object_inline_stack_2629
+            JSCompiler_object_inline_stack_2556
           );
         if (
           "number" ===
-          typeof JSCompiler_object_inline_stack_2629.unstable_expectedLoadTime
+          typeof JSCompiler_object_inline_stack_2556.unstable_expectedLoadTime
         )
           return (
             reuseSuspenseHandlerOnStack(workInProgress),
-            (JSCompiler_object_inline_stack_2629 =
+            (JSCompiler_object_inline_stack_2556 =
               mountSuspenseFallbackChildren(
                 workInProgress,
-                JSCompiler_object_inline_digest_2628,
+                JSCompiler_object_inline_digest_2555,
                 JSCompiler_temp,
                 renderLanes
               )),
-            (JSCompiler_object_inline_message_2627 = workInProgress.child),
-            (JSCompiler_object_inline_message_2627.memoizedState =
+            (JSCompiler_object_inline_message_2554 = workInProgress.child),
+            (JSCompiler_object_inline_message_2554.memoizedState =
               mountSuspenseOffscreenState(renderLanes)),
-            (JSCompiler_object_inline_message_2627.childLanes =
+            (JSCompiler_object_inline_message_2554.childLanes =
               getRemainingWorkInPrimaryTree(
                 current,
-                JSCompiler_object_inline_componentStack_2630,
+                JSCompiler_object_inline_componentStack_2557,
                 renderLanes
               )),
             (workInProgress.memoizedState = SUSPENDED_MARKER),
             (workInProgress.lanes = 4194304),
-            JSCompiler_object_inline_stack_2629
+            JSCompiler_object_inline_stack_2556
           );
         pushPrimaryTreeSuspenseHandler(workInProgress);
         return mountSuspensePrimaryChildren(
           workInProgress,
-          JSCompiler_object_inline_digest_2628
+          JSCompiler_object_inline_digest_2555
         );
       }
       var prevState = current.memoizedState;
       if (
         null !== prevState &&
-        ((JSCompiler_object_inline_digest_2628 = prevState.dehydrated),
-        null !== JSCompiler_object_inline_digest_2628)
+        ((JSCompiler_object_inline_digest_2555 = prevState.dehydrated),
+        null !== JSCompiler_object_inline_digest_2555)
       ) {
         if (didSuspend)
           workInProgress.flags & 256
@@ -9705,94 +9498,94 @@
                 (workInProgress.flags |= 128),
                 (workInProgress = null))
               : (reuseSuspenseHandlerOnStack(workInProgress),
-                (JSCompiler_object_inline_message_2627 =
-                  JSCompiler_object_inline_stack_2629.fallback),
-                (JSCompiler_object_inline_digest_2628 = workInProgress.mode),
-                (JSCompiler_object_inline_stack_2629 =
+                (JSCompiler_object_inline_message_2554 =
+                  JSCompiler_object_inline_stack_2556.fallback),
+                (JSCompiler_object_inline_digest_2555 = workInProgress.mode),
+                (JSCompiler_object_inline_stack_2556 =
                   mountWorkInProgressOffscreenFiber(
                     {
                       mode: "visible",
-                      children: JSCompiler_object_inline_stack_2629.children
+                      children: JSCompiler_object_inline_stack_2556.children
                     },
-                    JSCompiler_object_inline_digest_2628
+                    JSCompiler_object_inline_digest_2555
                   )),
-                (JSCompiler_object_inline_message_2627 =
+                (JSCompiler_object_inline_message_2554 =
                   createFiberFromFragment(
-                    JSCompiler_object_inline_message_2627,
-                    JSCompiler_object_inline_digest_2628,
+                    JSCompiler_object_inline_message_2554,
+                    JSCompiler_object_inline_digest_2555,
                     renderLanes,
                     null
                   )),
-                (JSCompiler_object_inline_message_2627.flags |= 2),
-                (JSCompiler_object_inline_stack_2629.return = workInProgress),
-                (JSCompiler_object_inline_message_2627.return = workInProgress),
-                (JSCompiler_object_inline_stack_2629.sibling =
-                  JSCompiler_object_inline_message_2627),
-                (workInProgress.child = JSCompiler_object_inline_stack_2629),
+                (JSCompiler_object_inline_message_2554.flags |= 2),
+                (JSCompiler_object_inline_stack_2556.return = workInProgress),
+                (JSCompiler_object_inline_message_2554.return = workInProgress),
+                (JSCompiler_object_inline_stack_2556.sibling =
+                  JSCompiler_object_inline_message_2554),
+                (workInProgress.child = JSCompiler_object_inline_stack_2556),
                 reconcileChildFibers(
                   workInProgress,
                   current.child,
                   null,
                   renderLanes
                 ),
-                (JSCompiler_object_inline_stack_2629 = workInProgress.child),
-                (JSCompiler_object_inline_stack_2629.memoizedState =
+                (JSCompiler_object_inline_stack_2556 = workInProgress.child),
+                (JSCompiler_object_inline_stack_2556.memoizedState =
                   mountSuspenseOffscreenState(renderLanes)),
-                (JSCompiler_object_inline_stack_2629.childLanes =
+                (JSCompiler_object_inline_stack_2556.childLanes =
                   getRemainingWorkInPrimaryTree(
                     current,
-                    JSCompiler_object_inline_componentStack_2630,
+                    JSCompiler_object_inline_componentStack_2557,
                     renderLanes
                   )),
                 (workInProgress.memoizedState = SUSPENDED_MARKER),
-                (workInProgress = JSCompiler_object_inline_message_2627));
+                (workInProgress = JSCompiler_object_inline_message_2554));
         else if (
           (pushPrimaryTreeSuspenseHandler(workInProgress),
           isHydrating &&
             console.error(
               "We should not be hydrating here. This is a bug in React. Please file a bug."
             ),
-          isSuspenseInstanceFallback(JSCompiler_object_inline_digest_2628))
+          isSuspenseInstanceFallback(JSCompiler_object_inline_digest_2555))
         ) {
-          JSCompiler_object_inline_componentStack_2630 =
-            JSCompiler_object_inline_digest_2628.nextSibling &&
-            JSCompiler_object_inline_digest_2628.nextSibling.dataset;
-          if (JSCompiler_object_inline_componentStack_2630) {
-            JSCompiler_temp = JSCompiler_object_inline_componentStack_2630.dgst;
-            var message = JSCompiler_object_inline_componentStack_2630.msg;
-            instance = JSCompiler_object_inline_componentStack_2630.stck;
+          JSCompiler_object_inline_componentStack_2557 =
+            JSCompiler_object_inline_digest_2555.nextSibling &&
+            JSCompiler_object_inline_digest_2555.nextSibling.dataset;
+          if (JSCompiler_object_inline_componentStack_2557) {
+            JSCompiler_temp = JSCompiler_object_inline_componentStack_2557.dgst;
+            var message = JSCompiler_object_inline_componentStack_2557.msg;
+            instance = JSCompiler_object_inline_componentStack_2557.stck;
             var componentStack =
-              JSCompiler_object_inline_componentStack_2630.cstck;
+              JSCompiler_object_inline_componentStack_2557.cstck;
           }
-          JSCompiler_object_inline_message_2627 = message;
-          JSCompiler_object_inline_digest_2628 = JSCompiler_temp;
-          JSCompiler_object_inline_stack_2629 = instance;
-          JSCompiler_temp = JSCompiler_object_inline_componentStack_2630 =
+          JSCompiler_object_inline_message_2554 = message;
+          JSCompiler_object_inline_digest_2555 = JSCompiler_temp;
+          JSCompiler_object_inline_stack_2556 = instance;
+          JSCompiler_temp = JSCompiler_object_inline_componentStack_2557 =
             componentStack;
-          "POSTPONE" !== JSCompiler_object_inline_digest_2628 &&
-            ((JSCompiler_object_inline_componentStack_2630 =
-              JSCompiler_object_inline_message_2627
-                ? Error(JSCompiler_object_inline_message_2627)
+          "POSTPONE" !== JSCompiler_object_inline_digest_2555 &&
+            ((JSCompiler_object_inline_componentStack_2557 =
+              JSCompiler_object_inline_message_2554
+                ? Error(JSCompiler_object_inline_message_2554)
                 : Error(
                     "The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."
                   )),
-            (JSCompiler_object_inline_componentStack_2630.stack =
-              JSCompiler_object_inline_stack_2629 || ""),
-            (JSCompiler_object_inline_componentStack_2630.digest =
-              JSCompiler_object_inline_digest_2628),
-            (JSCompiler_object_inline_stack_2629 =
+            (JSCompiler_object_inline_componentStack_2557.stack =
+              JSCompiler_object_inline_stack_2556 || ""),
+            (JSCompiler_object_inline_componentStack_2557.digest =
+              JSCompiler_object_inline_digest_2555),
+            (JSCompiler_object_inline_stack_2556 =
               void 0 === JSCompiler_temp ? null : JSCompiler_temp),
-            (JSCompiler_object_inline_message_2627 = {
-              value: JSCompiler_object_inline_componentStack_2630,
+            (JSCompiler_object_inline_message_2554 = {
+              value: JSCompiler_object_inline_componentStack_2557,
               source: null,
-              stack: JSCompiler_object_inline_stack_2629
+              stack: JSCompiler_object_inline_stack_2556
             }),
-            "string" === typeof JSCompiler_object_inline_stack_2629 &&
+            "string" === typeof JSCompiler_object_inline_stack_2556 &&
               CapturedStacks.set(
-                JSCompiler_object_inline_componentStack_2630,
-                JSCompiler_object_inline_message_2627
+                JSCompiler_object_inline_componentStack_2557,
+                JSCompiler_object_inline_message_2554
               ),
-            queueHydrationError(JSCompiler_object_inline_message_2627));
+            queueHydrationError(JSCompiler_object_inline_message_2554));
           workInProgress = retrySuspenseComponentWithoutHydrating(
             current,
             workInProgress,
@@ -9806,44 +9599,44 @@
               renderLanes,
               !1
             ),
-          (JSCompiler_object_inline_componentStack_2630 =
+          (JSCompiler_object_inline_componentStack_2557 =
             0 !== (renderLanes & current.childLanes)),
-          didReceiveUpdate || JSCompiler_object_inline_componentStack_2630)
+          didReceiveUpdate || JSCompiler_object_inline_componentStack_2557)
         ) {
-          JSCompiler_object_inline_componentStack_2630 = workInProgressRoot;
+          JSCompiler_object_inline_componentStack_2557 = workInProgressRoot;
           if (
-            null !== JSCompiler_object_inline_componentStack_2630 &&
-            ((JSCompiler_object_inline_stack_2629 = renderLanes & -renderLanes),
-            (JSCompiler_object_inline_stack_2629 =
-              0 !== (JSCompiler_object_inline_stack_2629 & 42)
+            null !== JSCompiler_object_inline_componentStack_2557 &&
+            ((JSCompiler_object_inline_stack_2556 = renderLanes & -renderLanes),
+            (JSCompiler_object_inline_stack_2556 =
+              0 !== (JSCompiler_object_inline_stack_2556 & 42)
                 ? 1
                 : getBumpedLaneForHydrationByLane(
-                    JSCompiler_object_inline_stack_2629
+                    JSCompiler_object_inline_stack_2556
                   )),
-            (JSCompiler_object_inline_stack_2629 =
+            (JSCompiler_object_inline_stack_2556 =
               0 !==
-              (JSCompiler_object_inline_stack_2629 &
-                (JSCompiler_object_inline_componentStack_2630.suspendedLanes |
+              (JSCompiler_object_inline_stack_2556 &
+                (JSCompiler_object_inline_componentStack_2557.suspendedLanes |
                   renderLanes))
                 ? 0
-                : JSCompiler_object_inline_stack_2629),
-            0 !== JSCompiler_object_inline_stack_2629 &&
-              JSCompiler_object_inline_stack_2629 !== prevState.retryLane)
+                : JSCompiler_object_inline_stack_2556),
+            0 !== JSCompiler_object_inline_stack_2556 &&
+              JSCompiler_object_inline_stack_2556 !== prevState.retryLane)
           )
             throw (
-              ((prevState.retryLane = JSCompiler_object_inline_stack_2629),
+              ((prevState.retryLane = JSCompiler_object_inline_stack_2556),
               enqueueConcurrentRenderForLane(
                 current,
-                JSCompiler_object_inline_stack_2629
+                JSCompiler_object_inline_stack_2556
               ),
               scheduleUpdateOnFiber(
-                JSCompiler_object_inline_componentStack_2630,
+                JSCompiler_object_inline_componentStack_2557,
                 current,
-                JSCompiler_object_inline_stack_2629
+                JSCompiler_object_inline_stack_2556
               ),
               SelectiveHydrationException)
             );
-          JSCompiler_object_inline_digest_2628.data ===
+          JSCompiler_object_inline_digest_2555.data ===
             SUSPENSE_PENDING_START_DATA || renderDidSuspendDelayIfPossible();
           workInProgress = retrySuspenseComponentWithoutHydrating(
             current,
@@ -9851,14 +9644,14 @@
             renderLanes
           );
         } else
-          JSCompiler_object_inline_digest_2628.data ===
+          JSCompiler_object_inline_digest_2555.data ===
           SUSPENSE_PENDING_START_DATA
             ? ((workInProgress.flags |= 192),
               (workInProgress.child = current.child),
               (workInProgress = null))
             : ((current = prevState.treeContext),
               (nextHydratableInstance = getNextHydratable(
-                JSCompiler_object_inline_digest_2628.nextSibling
+                JSCompiler_object_inline_digest_2555.nextSibling
               )),
               (hydrationParentFiber = workInProgress),
               (isHydrating = !0),
@@ -9876,54 +9669,54 @@
                 (treeContextProvider = workInProgress)),
               (workInProgress = mountSuspensePrimaryChildren(
                 workInProgress,
-                JSCompiler_object_inline_stack_2629.children
+                JSCompiler_object_inline_stack_2556.children
               )),
               (workInProgress.flags |= 4096));
         return workInProgress;
       }
-      if (JSCompiler_object_inline_message_2627)
+      if (JSCompiler_object_inline_message_2554)
         return (
           reuseSuspenseHandlerOnStack(workInProgress),
-          (JSCompiler_object_inline_message_2627 =
-            JSCompiler_object_inline_stack_2629.fallback),
-          (JSCompiler_object_inline_digest_2628 = workInProgress.mode),
+          (JSCompiler_object_inline_message_2554 =
+            JSCompiler_object_inline_stack_2556.fallback),
+          (JSCompiler_object_inline_digest_2555 = workInProgress.mode),
           (JSCompiler_temp = current.child),
           (instance = JSCompiler_temp.sibling),
-          (JSCompiler_object_inline_stack_2629 = createWorkInProgress(
+          (JSCompiler_object_inline_stack_2556 = createWorkInProgress(
             JSCompiler_temp,
             {
               mode: "hidden",
-              children: JSCompiler_object_inline_stack_2629.children
+              children: JSCompiler_object_inline_stack_2556.children
             }
           )),
-          (JSCompiler_object_inline_stack_2629.subtreeFlags =
+          (JSCompiler_object_inline_stack_2556.subtreeFlags =
             JSCompiler_temp.subtreeFlags & 65011712),
           null !== instance
-            ? (JSCompiler_object_inline_message_2627 = createWorkInProgress(
+            ? (JSCompiler_object_inline_message_2554 = createWorkInProgress(
                 instance,
-                JSCompiler_object_inline_message_2627
+                JSCompiler_object_inline_message_2554
               ))
-            : ((JSCompiler_object_inline_message_2627 = createFiberFromFragment(
-                JSCompiler_object_inline_message_2627,
-                JSCompiler_object_inline_digest_2628,
+            : ((JSCompiler_object_inline_message_2554 = createFiberFromFragment(
+                JSCompiler_object_inline_message_2554,
+                JSCompiler_object_inline_digest_2555,
                 renderLanes,
                 null
               )),
-              (JSCompiler_object_inline_message_2627.flags |= 2)),
-          (JSCompiler_object_inline_message_2627.return = workInProgress),
-          (JSCompiler_object_inline_stack_2629.return = workInProgress),
-          (JSCompiler_object_inline_stack_2629.sibling =
-            JSCompiler_object_inline_message_2627),
-          (workInProgress.child = JSCompiler_object_inline_stack_2629),
-          (JSCompiler_object_inline_stack_2629 =
-            JSCompiler_object_inline_message_2627),
-          (JSCompiler_object_inline_message_2627 = workInProgress.child),
-          (JSCompiler_object_inline_digest_2628 = current.child.memoizedState),
-          null === JSCompiler_object_inline_digest_2628
-            ? (JSCompiler_object_inline_digest_2628 =
+              (JSCompiler_object_inline_message_2554.flags |= 2)),
+          (JSCompiler_object_inline_message_2554.return = workInProgress),
+          (JSCompiler_object_inline_stack_2556.return = workInProgress),
+          (JSCompiler_object_inline_stack_2556.sibling =
+            JSCompiler_object_inline_message_2554),
+          (workInProgress.child = JSCompiler_object_inline_stack_2556),
+          (JSCompiler_object_inline_stack_2556 =
+            JSCompiler_object_inline_message_2554),
+          (JSCompiler_object_inline_message_2554 = workInProgress.child),
+          (JSCompiler_object_inline_digest_2555 = current.child.memoizedState),
+          null === JSCompiler_object_inline_digest_2555
+            ? (JSCompiler_object_inline_digest_2555 =
                 mountSuspenseOffscreenState(renderLanes))
             : ((JSCompiler_temp =
-                JSCompiler_object_inline_digest_2628.cachePool),
+                JSCompiler_object_inline_digest_2555.cachePool),
               null !== JSCompiler_temp
                 ? ((instance = CacheContext._currentValue),
                   (JSCompiler_temp =
@@ -9931,38 +9724,38 @@
                       ? { parent: instance, pool: instance }
                       : JSCompiler_temp))
                 : (JSCompiler_temp = getSuspendedCache()),
-              (JSCompiler_object_inline_digest_2628 = {
+              (JSCompiler_object_inline_digest_2555 = {
                 baseLanes:
-                  JSCompiler_object_inline_digest_2628.baseLanes | renderLanes,
+                  JSCompiler_object_inline_digest_2555.baseLanes | renderLanes,
                 cachePool: JSCompiler_temp
               })),
-          (JSCompiler_object_inline_message_2627.memoizedState =
-            JSCompiler_object_inline_digest_2628),
-          (JSCompiler_object_inline_message_2627.childLanes =
+          (JSCompiler_object_inline_message_2554.memoizedState =
+            JSCompiler_object_inline_digest_2555),
+          (JSCompiler_object_inline_message_2554.childLanes =
             getRemainingWorkInPrimaryTree(
               current,
-              JSCompiler_object_inline_componentStack_2630,
+              JSCompiler_object_inline_componentStack_2557,
               renderLanes
             )),
           (workInProgress.memoizedState = SUSPENDED_MARKER),
-          JSCompiler_object_inline_stack_2629
+          JSCompiler_object_inline_stack_2556
         );
       pushPrimaryTreeSuspenseHandler(workInProgress);
       renderLanes = current.child;
       current = renderLanes.sibling;
       renderLanes = createWorkInProgress(renderLanes, {
         mode: "visible",
-        children: JSCompiler_object_inline_stack_2629.children
+        children: JSCompiler_object_inline_stack_2556.children
       });
       renderLanes.return = workInProgress;
       renderLanes.sibling = null;
       null !== current &&
-        ((JSCompiler_object_inline_componentStack_2630 =
+        ((JSCompiler_object_inline_componentStack_2557 =
           workInProgress.deletions),
-        null === JSCompiler_object_inline_componentStack_2630
+        null === JSCompiler_object_inline_componentStack_2557
           ? ((workInProgress.deletions = [current]),
             (workInProgress.flags |= 16))
-          : JSCompiler_object_inline_componentStack_2630.push(current));
+          : JSCompiler_object_inline_componentStack_2557.push(current));
       workInProgress.child = renderLanes;
       workInProgress.memoizedState = null;
       return renderLanes;
@@ -10527,10 +10320,10 @@
               current.$$typeof === REACT_LAZY_TYPE &&
               (workInProgress =
                 " Did you wrap a component in React.lazy() more than once?");
-            renderLanes = getComponentNameFromType(current) || current;
+            current = getComponentNameFromType(current) || current;
             throw Error(
               "Element type is invalid. Received a promise that resolves to: " +
-                renderLanes +
+                current +
                 ". Lazy element type must resolve to a class or function." +
                 workInProgress
             );
@@ -10569,15 +10362,15 @@
               throw Error(
                 "Should have a current fiber. This is a bug in React."
               );
-            returnFiber = workInProgress.pendingProps;
-            var prevState = workInProgress.memoizedState;
-            prevSibling = prevState.element;
+            var nextProps = workInProgress.pendingProps;
+            prevSibling = workInProgress.memoizedState;
+            returnFiber = prevSibling.element;
             cloneUpdateQueue(current, workInProgress);
-            processUpdateQueue(workInProgress, returnFiber, null, renderLanes);
+            processUpdateQueue(workInProgress, nextProps, null, renderLanes);
             var nextState = workInProgress.memoizedState;
-            returnFiber = nextState.cache;
-            pushProvider(workInProgress, CacheContext, returnFiber);
-            returnFiber !== prevState.cache &&
+            nextProps = nextState.cache;
+            pushProvider(workInProgress, CacheContext, nextProps);
+            nextProps !== prevSibling.cache &&
               propagateContextChanges(
                 workInProgress,
                 [CacheContext],
@@ -10585,72 +10378,66 @@
                 !0
               );
             suspendIfUpdateReadFromEntangledAsyncAction();
-            returnFiber = nextState.element;
-            if (prevState.isDehydrated)
+            nextProps = nextState.element;
+            if (prevSibling.isDehydrated)
               if (
-                ((prevState = {
-                  element: returnFiber,
+                ((prevSibling = {
+                  element: nextProps,
                   isDehydrated: !1,
                   cache: nextState.cache
                 }),
-                (workInProgress.updateQueue.baseState = prevState),
-                (workInProgress.memoizedState = prevState),
+                (workInProgress.updateQueue.baseState = prevSibling),
+                (workInProgress.memoizedState = prevSibling),
                 workInProgress.flags & 256)
               ) {
                 workInProgress = mountHostRootWithoutHydrating(
                   current,
                   workInProgress,
-                  returnFiber,
+                  nextProps,
                   renderLanes
                 );
                 break a;
-              } else if (returnFiber !== prevSibling) {
-                prevSibling = createCapturedValueAtFiber(
+              } else if (nextProps !== returnFiber) {
+                returnFiber = createCapturedValueAtFiber(
                   Error(
                     "This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."
                   ),
                   workInProgress
                 );
-                queueHydrationError(prevSibling);
+                queueHydrationError(returnFiber);
                 workInProgress = mountHostRootWithoutHydrating(
                   current,
                   workInProgress,
-                  returnFiber,
+                  nextProps,
                   renderLanes
                 );
                 break a;
-              } else {
-                current = workInProgress.stateNode.containerInfo;
-                switch (current.nodeType) {
-                  case 9:
-                    current = current.body;
-                    break;
-                  default:
-                    current =
-                      "HTML" === current.nodeName
-                        ? current.ownerDocument.body
-                        : current;
-                }
-                nextHydratableInstance = getNextHydratable(current.firstChild);
-                hydrationParentFiber = workInProgress;
-                isHydrating = !0;
-                hydrationErrors = null;
-                didSuspendOrErrorDEV = !1;
-                hydrationDiffRootDEV = null;
-                rootOrSingletonContext = !0;
-                renderLanes = mountChildFibers(
-                  workInProgress,
-                  null,
-                  returnFiber,
-                  renderLanes
-                );
-                for (workInProgress.child = renderLanes; renderLanes; )
-                  (renderLanes.flags = (renderLanes.flags & -3) | 4096),
-                    (renderLanes = renderLanes.sibling);
-              }
+              } else
+                for (
+                  nextHydratableInstance = getNextHydratable(
+                    workInProgress.stateNode.containerInfo.firstChild
+                  ),
+                    hydrationParentFiber = workInProgress,
+                    isHydrating = !0,
+                    hydrationErrors = null,
+                    didSuspendOrErrorDEV = !1,
+                    hydrationDiffRootDEV = null,
+                    rootOrSingletonContext = !0,
+                    current = mountChildFibers(
+                      workInProgress,
+                      null,
+                      nextProps,
+                      renderLanes
+                    ),
+                    workInProgress.child = current;
+                  current;
+
+                )
+                  (current.flags = (current.flags & -3) | 4096),
+                    (current = current.sibling);
             else {
               resetHydrationState();
-              if (returnFiber === prevSibling) {
+              if (nextProps === returnFiber) {
                 workInProgress = bailoutOnAlreadyFinishedWork(
                   current,
                   workInProgress,
@@ -10661,7 +10448,7 @@
               reconcileChildren(
                 current,
                 workInProgress,
-                returnFiber,
+                nextProps,
                 renderLanes
               );
             }
@@ -10672,26 +10459,26 @@
           return (
             markRef(current, workInProgress),
             null === current
-              ? (renderLanes = getResource(
+              ? (current = getResource(
                   workInProgress.type,
                   null,
                   workInProgress.pendingProps,
                   null
                 ))
-                ? (workInProgress.memoizedState = renderLanes)
+                ? (workInProgress.memoizedState = current)
                 : isHydrating ||
-                  ((renderLanes = workInProgress.type),
-                  (current = workInProgress.pendingProps),
+                  ((current = workInProgress.type),
+                  (renderLanes = workInProgress.pendingProps),
                   (returnFiber = requiredContext(
                     rootInstanceStackCursor.current
                   )),
                   (returnFiber =
                     getOwnerDocumentFromRootContainer(
                       returnFiber
-                    ).createElement(renderLanes)),
+                    ).createElement(current)),
                   (returnFiber[internalInstanceKey] = workInProgress),
-                  (returnFiber[internalPropsKey] = current),
-                  setInitialProperties(returnFiber, renderLanes, current),
+                  (returnFiber[internalPropsKey] = renderLanes),
+                  setInitialProperties(returnFiber, current, renderLanes),
                   markNodeAsHoistable(returnFiber),
                   (workInProgress.stateNode = returnFiber))
               : (workInProgress.memoizedState = getResource(
@@ -10707,53 +10494,56 @@
             pushHostContext(workInProgress),
             null === current &&
               isHydrating &&
-              ((returnFiber = requiredContext(rootInstanceStackCursor.current)),
-              (prevSibling = getHostContext()),
-              (returnFiber = workInProgress.stateNode =
+              ((prevSibling = requiredContext(rootInstanceStackCursor.current)),
+              (returnFiber = getHostContext()),
+              (prevSibling = workInProgress.stateNode =
                 resolveSingletonInstance(
                   workInProgress.type,
                   workInProgress.pendingProps,
-                  returnFiber,
                   prevSibling,
+                  returnFiber,
                   !1
                 )),
               didSuspendOrErrorDEV ||
-                ((prevSibling = diffHydratedProperties(
-                  returnFiber,
+                ((returnFiber = diffHydratedProperties(
+                  prevSibling,
                   workInProgress.type,
                   workInProgress.pendingProps,
-                  prevSibling
+                  returnFiber
                 )),
-                null !== prevSibling &&
+                null !== returnFiber &&
                   (buildHydrationDiffNode(workInProgress, 0).serverProps =
-                    prevSibling)),
+                    returnFiber)),
               (hydrationParentFiber = workInProgress),
               (rootOrSingletonContext = !0),
-              (prevSibling = nextHydratableInstance),
-              isSingletonScope(workInProgress.type)
-                ? ((previousHydratableOnEnteringScopedSingleton = prevSibling),
-                  (nextHydratableInstance = getNextHydratable(
-                    returnFiber.firstChild
-                  )))
-                : (nextHydratableInstance = prevSibling)),
-            reconcileChildren(
-              current,
-              workInProgress,
-              workInProgress.pendingProps.children,
-              renderLanes
-            ),
+              (nextHydratableInstance = getNextHydratable(
+                prevSibling.firstChild
+              ))),
+            (returnFiber = workInProgress.pendingProps.children),
+            null !== current || isHydrating
+              ? reconcileChildren(
+                  current,
+                  workInProgress,
+                  returnFiber,
+                  renderLanes
+                )
+              : (workInProgress.child = reconcileChildFibers(
+                  workInProgress,
+                  null,
+                  returnFiber,
+                  renderLanes
+                )),
             markRef(current, workInProgress),
-            null === current && (workInProgress.flags |= 4194304),
             workInProgress.child
           );
         case 5:
           return (
             null === current &&
               isHydrating &&
-              ((prevState = getHostContext()),
+              ((nextProps = getHostContext()),
               (returnFiber = validateDOMNesting(
                 workInProgress.type,
-                prevState.ancestorInfo
+                nextProps.ancestorInfo
               )),
               (prevSibling = nextHydratableInstance),
               (nextState = !prevSibling) ||
@@ -10766,33 +10556,33 @@
                 null !== nextState
                   ? ((workInProgress.stateNode = nextState),
                     didSuspendOrErrorDEV ||
-                      ((prevState = diffHydratedProperties(
+                      ((nextProps = diffHydratedProperties(
                         nextState,
                         workInProgress.type,
                         workInProgress.pendingProps,
-                        prevState
+                        nextProps
                       )),
-                      null !== prevState &&
+                      null !== nextProps &&
                         (buildHydrationDiffNode(workInProgress, 0).serverProps =
-                          prevState)),
+                          nextProps)),
                     (hydrationParentFiber = workInProgress),
                     (nextHydratableInstance = getNextHydratable(
                       nextState.firstChild
                     )),
                     (rootOrSingletonContext = !1),
-                    (prevState = !0))
-                  : (prevState = !1),
-                (nextState = !prevState)),
+                    (nextProps = !0))
+                  : (nextProps = !1),
+                (nextState = !nextProps)),
               nextState &&
                 (returnFiber &&
                   warnNonHydratedInstance(workInProgress, prevSibling),
                 throwOnHydrationMismatch(workInProgress))),
             pushHostContext(workInProgress),
             (prevSibling = workInProgress.type),
-            (prevState = workInProgress.pendingProps),
+            (nextProps = workInProgress.pendingProps),
             (nextState = null !== current ? current.memoizedProps : null),
-            (returnFiber = prevState.children),
-            shouldSetTextContent(prevSibling, prevState)
+            (returnFiber = nextProps.children),
+            shouldSetTextContent(prevSibling, nextProps)
               ? (returnFiber = null)
               : null !== nextState &&
                 shouldSetTextContent(prevSibling, nextState) &&
@@ -10820,21 +10610,16 @@
           return (
             null === current &&
               isHydrating &&
-              ((renderLanes = workInProgress.pendingProps),
-              (current = getHostContext()),
-              (returnFiber = current.ancestorInfo.current),
-              (renderLanes =
-                null != returnFiber
-                  ? validateTextNesting(
-                      renderLanes,
-                      returnFiber.tag,
-                      current.ancestorInfo.implicitRootScope
-                    )
+              ((current = workInProgress.pendingProps),
+              (renderLanes = getHostContext().ancestorInfo.current),
+              (current =
+                null != renderLanes
+                  ? validateTextNesting(current, renderLanes.tag)
                   : !0),
-              (current = nextHydratableInstance),
-              (returnFiber = !current) ||
+              (renderLanes = nextHydratableInstance),
+              (returnFiber = !renderLanes) ||
                 ((returnFiber = canHydrateTextInstance(
-                  current,
+                  renderLanes,
                   workInProgress.pendingProps,
                   rootOrSingletonContext
                 )),
@@ -10846,8 +10631,8 @@
                   : (returnFiber = !1),
                 (returnFiber = !returnFiber)),
               returnFiber &&
-                (renderLanes &&
-                  warnNonHydratedInstance(workInProgress, current),
+                (current &&
+                  warnNonHydratedInstance(workInProgress, renderLanes),
                 throwOnHydrationMismatch(workInProgress))),
             null
           );
@@ -10922,14 +10707,14 @@
           return (
             (returnFiber = workInProgress.type),
             (prevSibling = workInProgress.pendingProps),
-            (prevState = prevSibling.value),
+            (nextProps = prevSibling.value),
             "value" in prevSibling ||
               hasWarnedAboutUsingNoValuePropOnContextProvider ||
               ((hasWarnedAboutUsingNoValuePropOnContextProvider = !0),
               console.error(
                 "The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"
               )),
-            pushProvider(workInProgress, returnFiber, prevState),
+            pushProvider(workInProgress, returnFiber, nextProps),
             reconcileChildren(
               current,
               workInProgress,
@@ -10994,12 +10779,12 @@
               ? ((prevSibling = peekCacheFromPool()),
                 null === prevSibling &&
                   ((prevSibling = workInProgressRoot),
-                  (prevState = createCache()),
-                  (prevSibling.pooledCache = prevState),
-                  retainCache(prevState),
-                  null !== prevState &&
+                  (nextProps = createCache()),
+                  (prevSibling.pooledCache = nextProps),
+                  retainCache(nextProps),
+                  null !== nextProps &&
                     (prevSibling.pooledCacheLanes |= renderLanes),
-                  (prevSibling = prevState)),
+                  (prevSibling = nextProps)),
                 (workInProgress.memoizedState = {
                   parent: returnFiber,
                   cache: prevSibling
@@ -11011,7 +10796,7 @@
                   processUpdateQueue(workInProgress, null, null, renderLanes),
                   suspendIfUpdateReadFromEntangledAsyncAction()),
                 (prevSibling = current.memoizedState),
-                (prevState = workInProgress.memoizedState),
+                (nextProps = workInProgress.memoizedState),
                 prevSibling.parent !== returnFiber
                   ? ((prevSibling = {
                       parent: returnFiber,
@@ -11023,7 +10808,7 @@
                         workInProgress.updateQueue.baseState =
                           prevSibling),
                     pushProvider(workInProgress, CacheContext, returnFiber))
-                  : ((returnFiber = prevState.cache),
+                  : ((returnFiber = nextProps.cache),
                     pushProvider(workInProgress, CacheContext, returnFiber),
                     returnFiber !== prevSibling.cache &&
                       propagateContextChanges(
@@ -11045,21 +10830,23 @@
             (returnFiber = workInProgress.pendingProps),
             (prevSibling = workInProgress.stateNode),
             null != returnFiber.name && "auto" !== returnFiber.name
-              ? (workInProgress.flags |= null === current ? 18882560 : 18874368)
+              ? ((workInProgress.flags |= 2097152),
+                null === current &&
+                  trackAppearingViewTransition(prevSibling, returnFiber.name))
               : null === prevSibling.autoName &&
-                ((prevState = workInProgressRoot.identifierPrefix),
+                ((nextProps = workInProgressRoot.identifierPrefix),
                 isHydrating
                   ? ((nextState = getTreeId()),
-                    (prevState =
-                      "\u00ab" + prevState + "T" + nextState + "\u00bb"))
+                    (nextProps =
+                      "\u00ab" + nextProps + "T" + nextState + "\u00bb"))
                   : ((nextState = globalClientIdCounter++),
-                    (prevState =
+                    (nextProps =
                       "\u00ab" +
-                      prevState +
+                      nextProps +
                       "t" +
                       nextState.toString(32) +
                       "\u00bb")),
-                (prevSibling.autoName = prevState)),
+                (prevSibling.autoName = nextProps)),
             null !== current && current.memoizedProps.name !== returnFiber.name
               ? (workInProgress.flags |= 4194816)
               : markRef(current, workInProgress),
@@ -11188,11 +10975,10 @@
                 ((inst.destroy = void 0),
                 (flags & Insertion) !== NoFlags &&
                   (isRunningInsertionEffect = !0),
-                (lastEffect = finishedWork),
                 runWithFiberInDEV(
-                  lastEffect,
+                  finishedWork,
                   callDestroyInDEV,
-                  lastEffect,
+                  finishedWork,
                   nearestMountedAncestor,
                   destroy
                 ),
@@ -11505,7 +11291,7 @@
         5 === fiber.tag ||
         3 === fiber.tag ||
         26 === fiber.tag ||
-        (27 === fiber.tag && isSingletonScope(fiber.type)) ||
+        27 === fiber.tag ||
         4 === fiber.tag
       );
     }
@@ -11518,10 +11304,12 @@
         fiber.sibling.return = fiber.return;
         for (
           fiber = fiber.sibling;
-          5 !== fiber.tag && 6 !== fiber.tag && 18 !== fiber.tag;
+          5 !== fiber.tag &&
+          6 !== fiber.tag &&
+          27 !== fiber.tag &&
+          18 !== fiber.tag;
 
         ) {
-          if (27 === fiber.tag && isSingletonScope(fiber.type)) continue a;
           if (fiber.flags & 2) continue a;
           if (null === fiber.child || 4 === fiber.tag) continue a;
           else (fiber.child.return = fiber), (fiber = fiber.child);
@@ -11534,32 +11322,19 @@
       if (5 === tag || 6 === tag)
         (node = node.stateNode),
           before
-            ? (9 === parent.nodeType
-                ? parent.body
-                : "HTML" === parent.nodeName
-                  ? parent.ownerDocument.body
-                  : parent
-              ).insertBefore(node, before)
-            : ((before =
-                9 === parent.nodeType
-                  ? parent.body
-                  : "HTML" === parent.nodeName
-                    ? parent.ownerDocument.body
-                    : parent),
-              before.appendChild(node),
+            ? 8 === parent.nodeType
+              ? parent.parentNode.insertBefore(node, before)
+              : parent.insertBefore(node, before)
+            : (8 === parent.nodeType
+                ? ((before = parent.parentNode),
+                  before.insertBefore(node, parent))
+                : ((before = parent), before.appendChild(node)),
               (parent = parent._reactRootContainer),
               (null !== parent && void 0 !== parent) ||
                 null !== before.onclick ||
                 (before.onclick = noop$2)),
           (viewTransitionMutationContext = !0);
-      else if (
-        4 !== tag &&
-        (27 === tag &&
-          isSingletonScope(node.type) &&
-          ((parent = node.stateNode), (before = null)),
-        (node = node.child),
-        null !== node)
-      )
+      else if (4 !== tag && 27 !== tag && ((node = node.child), null !== node))
         for (
           insertOrAppendPlacementNodeIntoContainer(node, before, parent),
             node = node.sibling;
@@ -11575,12 +11350,7 @@
         (node = node.stateNode),
           before ? parent.insertBefore(node, before) : parent.appendChild(node),
           (viewTransitionMutationContext = !0);
-      else if (
-        4 !== tag &&
-        (27 === tag && isSingletonScope(node.type) && (parent = node.stateNode),
-        (node = node.child),
-        null !== node)
-      )
+      else if (4 !== tag && 27 !== tag && ((node = node.child), null !== node))
         for (
           insertOrAppendPlacementNode(node, before, parent),
             node = node.sibling;
@@ -11591,138 +11361,367 @@
             (node = node.sibling);
     }
     function commitPlacement(finishedWork) {
-      a: {
-        for (var parent = finishedWork.return; null !== parent; ) {
-          if (isHostParent(parent)) {
-            var parentFiber = parent;
-            break a;
+      if (27 !== finishedWork.tag) {
+        a: {
+          for (var parent = finishedWork.return; null !== parent; ) {
+            if (isHostParent(parent)) {
+              var parentFiber = parent;
+              break a;
+            }
+            parent = parent.return;
           }
-          parent = parent.return;
-        }
-        throw Error(
-          "Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue."
-        );
-      }
-      switch (parentFiber.tag) {
-        case 27:
-          parent = parentFiber.stateNode;
-          parentFiber = getHostSibling(finishedWork);
-          insertOrAppendPlacementNode(finishedWork, parentFiber, parent);
-          break;
-        case 5:
-          parent = parentFiber.stateNode;
-          parentFiber.flags & 32 &&
-            (resetTextContent(parent), (parentFiber.flags &= -33));
-          parentFiber = getHostSibling(finishedWork);
-          insertOrAppendPlacementNode(finishedWork, parentFiber, parent);
-          break;
-        case 3:
-        case 4:
-          parent = parentFiber.stateNode.containerInfo;
-          parentFiber = getHostSibling(finishedWork);
-          insertOrAppendPlacementNodeIntoContainer(
-            finishedWork,
-            parentFiber,
-            parent
-          );
-          break;
-        default:
           throw Error(
-            "Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue."
+            "Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue."
           );
-      }
-    }
-    function commitHostSingletonAcquisition(finishedWork) {
-      var singleton = finishedWork.stateNode,
-        props = finishedWork.memoizedProps;
-      try {
-        runWithFiberInDEV(
-          finishedWork,
-          acquireSingletonInstance,
-          finishedWork.type,
-          props,
-          singleton,
-          finishedWork
-        );
-      } catch (error) {
-        captureCommitPhaseError(finishedWork, finishedWork.return, error);
-      }
-    }
-    function applyViewTransitionToHostInstances(
-      child,
-      name,
-      className,
-      collectMeasurements,
-      stopAtNestedViewTransitions
-    ) {
-      for (var inViewport = !1; null !== child; ) {
-        if (5 === child.tag) {
-          shouldStartViewTransition = !0;
-          var instance = child.stateNode;
-          if (null !== collectMeasurements) {
-            var measurement = measureInstance(instance);
-            collectMeasurements.push(measurement);
-            measurement.view && (inViewport = !0);
-          } else
-            inViewport || (measureInstance(instance).view && (inViewport = !0));
-          measurement = className;
-          instance.style.viewTransitionName =
-            0 === viewTransitionHostInstanceIdx
-              ? name
-              : name + "_" + viewTransitionHostInstanceIdx;
-          null != measurement &&
-            (instance.style.viewTransitionClass = measurement);
-          viewTransitionHostInstanceIdx++;
-        } else if (22 !== child.tag || null === child.memoizedState)
-          (30 === child.tag && stopAtNestedViewTransitions) ||
-            (applyViewTransitionToHostInstances(
-              child.child,
-              name,
-              className,
-              collectMeasurements,
-              stopAtNestedViewTransitions
-            ) &&
-              (inViewport = !0));
-        child = child.sibling;
-      }
-      return inViewport;
-    }
-    function restoreViewTransitionOnHostInstances(
-      child,
-      stopAtNestedViewTransitions
-    ) {
-      for (; null !== child; ) {
-        if (5 === child.tag)
-          restoreViewTransitionName(child.stateNode, child.memoizedProps);
-        else if (22 !== child.tag || null === child.memoizedState)
-          (30 === child.tag && stopAtNestedViewTransitions) ||
-            restoreViewTransitionOnHostInstances(
-              child.child,
-              stopAtNestedViewTransitions
+        }
+        switch (parentFiber.tag) {
+          case 27:
+            parent = parentFiber.stateNode;
+            parentFiber = getHostSibling(finishedWork);
+            insertOrAppendPlacementNode(finishedWork, parentFiber, parent);
+            break;
+          case 5:
+            parent = parentFiber.stateNode;
+            parentFiber.flags & 32 &&
+              (resetTextContent(parent), (parentFiber.flags &= -33));
+            parentFiber = getHostSibling(finishedWork);
+            insertOrAppendPlacementNode(finishedWork, parentFiber, parent);
+            break;
+          case 3:
+          case 4:
+            parent = parentFiber.stateNode.containerInfo;
+            parentFiber = getHostSibling(finishedWork);
+            insertOrAppendPlacementNodeIntoContainer(
+              finishedWork,
+              parentFiber,
+              parent
             );
-        child = child.sibling;
+            break;
+          default:
+            throw Error(
+              "Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue."
+            );
+        }
       }
     }
-    function commitAppearingPairViewTransitions(placement) {
-      if (0 !== (placement.subtreeFlags & 18874368))
-        for (placement = placement.child; null !== placement; ) {
-          if (22 !== placement.tag || null !== placement.memoizedState)
-            if (
-              (commitAppearingPairViewTransitions(placement),
-              30 === placement.tag &&
-                0 !== (placement.flags & 18874368) &&
-                placement.stateNode.paired)
-            ) {
-              var props = placement.memoizedProps;
-              if (null == props.name || "auto" === props.name)
-                throw Error(
-                  "Found a pair with an auto name. This is a bug in React."
-                );
-              var name = props.name;
-              props = getViewTransitionClassName(props.className, props.share);
-              "none" !== props &&
-                ((viewTransitionHostInstanceIdx = 0),
-                applyViewTransitionToHostInstances(
+    function commitBeforeMutationEffects(
+      root,
+      firstChild,
+      committedLanes,
+      appearingViewTransitions
+    ) {
+      root = root.containerInfo;
+      eventsEnabled = _enabled;
+      root = getActiveElementDeep(root);
+      if (hasSelectionCapabilities(root)) {
+        if ("selectionStart" in root)
+          var JSCompiler_temp = {
+            start: root.selectionStart,
+            end: root.selectionEnd
+          };
+        else
+          a: {
+            JSCompiler_temp =
+              ((JSCompiler_temp = root.ownerDocument) &&
+                JSCompiler_temp.defaultView) ||
+              window;
+            var selection =
+              JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();
+            if (selection && 0 !== selection.rangeCount) {
+              JSCompiler_temp = selection.anchorNode;
+              var anchorOffset = selection.anchorOffset,
+                focusNode = selection.focusNode;
+              selection = selection.focusOffset;
+              try {
+                JSCompiler_temp.nodeType, focusNode.nodeType;
+              } catch (e$2) {
+                JSCompiler_temp = null;
+                break a;
+              }
+              var length = 0,
+                start = -1,
+                end = -1,
+                indexWithinAnchor = 0,
+                indexWithinFocus = 0,
+                node = root,
+                parentNode = null;
+              b: for (;;) {
+                for (var next; ; ) {
+                  node !== JSCompiler_temp ||
+                    (0 !== anchorOffset && 3 !== node.nodeType) ||
+                    (start = length + anchorOffset);
+                  node !== focusNode ||
+                    (0 !== selection && 3 !== node.nodeType) ||
+                    (end = length + selection);
+                  3 === node.nodeType && (length += node.nodeValue.length);
+                  if (null === (next = node.firstChild)) break;
+                  parentNode = node;
+                  node = next;
+                }
+                for (;;) {
+                  if (node === root) break b;
+                  parentNode === JSCompiler_temp &&
+                    ++indexWithinAnchor === anchorOffset &&
+                    (start = length);
+                  parentNode === focusNode &&
+                    ++indexWithinFocus === selection &&
+                    (end = length);
+                  if (null !== (next = node.nextSibling)) break;
+                  node = parentNode;
+                  parentNode = node.parentNode;
+                }
+                node = next;
+              }
+              JSCompiler_temp =
+                -1 === start || -1 === end ? null : { start: start, end: end };
+            } else JSCompiler_temp = null;
+          }
+        JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };
+      } else JSCompiler_temp = null;
+      selectionInformation = {
+        focusedElem: root,
+        selectionRange: JSCompiler_temp
+      };
+      shouldStartViewTransition = _enabled = !1;
+      committedLanes = (committedLanes & 335544192) === committedLanes;
+      nextEffect = firstChild;
+      for (firstChild = committedLanes ? 9238 : 1028; null !== nextEffect; ) {
+        root = nextEffect;
+        if (
+          committedLanes &&
+          ((JSCompiler_temp = root.deletions), null !== JSCompiler_temp)
+        )
+          for (
+            anchorOffset = 0;
+            anchorOffset < JSCompiler_temp.length;
+            anchorOffset++
+          )
+            committedLanes &&
+              commitExitViewTransitions(
+                JSCompiler_temp[anchorOffset],
+                appearingViewTransitions
+              );
+        if (null === root.alternate && 0 !== (root.flags & 2))
+          commitBeforeMutationEffects_complete(committedLanes);
+        else {
+          if (22 === root.tag)
+            if (
+              ((JSCompiler_temp = root.alternate), null !== root.memoizedState)
+            ) {
+              null !== JSCompiler_temp &&
+                null === JSCompiler_temp.memoizedState &&
+                committedLanes &&
+                commitExitViewTransitions(
+                  JSCompiler_temp,
+                  appearingViewTransitions
+                );
+              commitBeforeMutationEffects_complete(committedLanes);
+              continue;
+            } else if (
+              null !== JSCompiler_temp &&
+              null !== JSCompiler_temp.memoizedState
+            ) {
+              commitBeforeMutationEffects_complete(committedLanes);
+              continue;
+            }
+          JSCompiler_temp = root.child;
+          0 !== (root.subtreeFlags & firstChild) && null !== JSCompiler_temp
+            ? ((JSCompiler_temp.return = root), (nextEffect = JSCompiler_temp))
+            : (committedLanes && commitNestedViewTransitions(root),
+              commitBeforeMutationEffects_complete(committedLanes));
+        }
+      }
+    }
+    function commitBeforeMutationEffects_complete(
+      isViewTransitionEligible$jscomp$0
+    ) {
+      for (; null !== nextEffect; ) {
+        var fiber = nextEffect,
+          finishedWork = fiber,
+          isViewTransitionEligible = isViewTransitionEligible$jscomp$0,
+          current = finishedWork.alternate,
+          flags = finishedWork.flags;
+        switch (finishedWork.tag) {
+          case 0:
+            if (
+              0 !== (flags & 4) &&
+              ((isViewTransitionEligible = finishedWork.updateQueue),
+              (isViewTransitionEligible =
+                null !== isViewTransitionEligible
+                  ? isViewTransitionEligible.events
+                  : null),
+              null !== isViewTransitionEligible)
+            )
+              for (
+                finishedWork = 0;
+                finishedWork < isViewTransitionEligible.length;
+                finishedWork++
+              )
+                (current = isViewTransitionEligible[finishedWork]),
+                  (current.ref.impl = current.nextImpl);
+            break;
+          case 11:
+          case 15:
+            break;
+          case 1:
+            0 !== (flags & 1024) &&
+              null !== current &&
+              commitClassSnapshot(finishedWork, current);
+            break;
+          case 3:
+            if (0 !== (flags & 1024))
+              if (
+                ((isViewTransitionEligible =
+                  finishedWork.stateNode.containerInfo),
+                (finishedWork = isViewTransitionEligible.nodeType),
+                9 === finishedWork)
+              )
+                clearContainerSparingly(isViewTransitionEligible);
+              else if (1 === finishedWork)
+                switch (isViewTransitionEligible.nodeName) {
+                  case "HEAD":
+                  case "HTML":
+                  case "BODY":
+                    clearContainerSparingly(isViewTransitionEligible);
+                    break;
+                  default:
+                    isViewTransitionEligible.textContent = "";
+                }
+            break;
+          case 5:
+          case 26:
+          case 27:
+          case 6:
+          case 4:
+          case 17:
+            break;
+          case 30:
+            if (
+              isViewTransitionEligible &&
+              null !== current &&
+              0 !== (finishedWork.subtreeFlags & 8246)
+            )
+              a: {
+                isViewTransitionEligible = current;
+                current = finishedWork;
+                finishedWork = getViewTransitionName(
+                  isViewTransitionEligible.memoizedProps,
+                  isViewTransitionEligible.stateNode
+                );
+                current = current.memoizedProps;
+                flags = getViewTransitionClassName(
+                  current.className,
+                  current.update
+                );
+                if (
+                  "none" === flags &&
+                  ((flags = getViewTransitionClassName(
+                    current.className,
+                    current.layout
+                  )),
+                  "none" === flags)
+                )
+                  break a;
+                viewTransitionHostInstanceIdx = 0;
+                applyViewTransitionToHostInstances(
+                  isViewTransitionEligible.child,
+                  finishedWork,
+                  flags,
+                  (isViewTransitionEligible.memoizedState = []),
+                  !0
+                );
+              }
+            break;
+          default:
+            if (0 !== (flags & 1024))
+              throw Error(
+                "This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue."
+              );
+        }
+        isViewTransitionEligible = fiber.sibling;
+        if (null !== isViewTransitionEligible) {
+          isViewTransitionEligible.return = fiber.return;
+          nextEffect = isViewTransitionEligible;
+          break;
+        }
+        nextEffect = fiber.return;
+      }
+    }
+    function applyViewTransitionToHostInstances(
+      child,
+      name,
+      className,
+      collectMeasurements,
+      stopAtNestedViewTransitions
+    ) {
+      for (var inViewport = !1; null !== child; ) {
+        if (5 === child.tag) {
+          shouldStartViewTransition = !0;
+          var instance = child.stateNode;
+          if (null !== collectMeasurements) {
+            var measurement = measureInstance(instance);
+            collectMeasurements.push(measurement);
+            measurement.view && (inViewport = !0);
+          } else
+            inViewport || (measureInstance(instance).view && (inViewport = !0));
+          measurement = className;
+          instance.style.viewTransitionName =
+            0 === viewTransitionHostInstanceIdx
+              ? name
+              : name + "_" + viewTransitionHostInstanceIdx;
+          null != measurement &&
+            (instance.style.viewTransitionClass = measurement);
+          viewTransitionHostInstanceIdx++;
+        } else if (22 !== child.tag || null === child.memoizedState)
+          (30 === child.tag && stopAtNestedViewTransitions) ||
+            (applyViewTransitionToHostInstances(
+              child.child,
+              name,
+              className,
+              collectMeasurements,
+              stopAtNestedViewTransitions
+            ) &&
+              (inViewport = !0));
+        child = child.sibling;
+      }
+      return inViewport;
+    }
+    function restoreViewTransitionOnHostInstances(
+      child,
+      stopAtNestedViewTransitions
+    ) {
+      for (; null !== child; ) {
+        if (5 === child.tag)
+          restoreViewTransitionName(child.stateNode, child.memoizedProps);
+        else if (22 !== child.tag || null === child.memoizedState)
+          (30 === child.tag && stopAtNestedViewTransitions) ||
+            restoreViewTransitionOnHostInstances(
+              child.child,
+              stopAtNestedViewTransitions
+            );
+        child = child.sibling;
+      }
+    }
+    function commitAppearingPairViewTransitions(placement) {
+      if (0 !== (placement.subtreeFlags & 2097152))
+        for (placement = placement.child; null !== placement; ) {
+          if (22 !== placement.tag || null !== placement.memoizedState)
+            if (
+              (commitAppearingPairViewTransitions(placement),
+              30 === placement.tag &&
+                0 !== (placement.flags & 2097152) &&
+                placement.stateNode.paired)
+            ) {
+              var props = placement.memoizedProps;
+              if (null == props.name || "auto" === props.name)
+                throw Error(
+                  "Found a pair with an auto name. This is a bug in React."
+                );
+              var name = props.name;
+              props = getViewTransitionClassName(props.className, props.share);
+              "none" !== props &&
+                ((viewTransitionHostInstanceIdx = 0),
+                applyViewTransitionToHostInstances(
                   placement.child,
                   name,
                   props,
@@ -11762,52 +11761,55 @@
             (placement = placement.sibling);
       else commitAppearingPairViewTransitions(placement);
     }
-    function commitDeletedPairViewTransitions(deletion) {
+    function commitDeletedPairViewTransitions(
+      deletion,
+      appearingViewTransitions
+    ) {
       if (
-        null !== appearingViewTransitions &&
-        0 !== appearingViewTransitions.size
-      ) {
-        var pairs = appearingViewTransitions;
-        if (0 !== (deletion.subtreeFlags & 18874368))
-          for (deletion = deletion.child; null !== deletion; ) {
-            if (22 !== deletion.tag || null !== deletion.memoizedState) {
-              if (30 === deletion.tag && 0 !== (deletion.flags & 18874368)) {
-                var props = deletion.memoizedProps,
-                  name = props.name;
-                if (null != name && "auto" !== name) {
-                  var pair = pairs.get(name);
-                  if (void 0 !== pair) {
-                    var className = getViewTransitionClassName(
-                      props.className,
-                      props.share
-                    );
-                    "none" !== className &&
-                      ((viewTransitionHostInstanceIdx = 0),
-                      applyViewTransitionToHostInstances(
-                        deletion.child,
-                        name,
-                        className,
-                        null,
-                        !1
-                      )
-                        ? ((pair.paired = deletion.stateNode),
-                          scheduleViewTransitionEvent(deletion, props.onShare))
-                        : restoreViewTransitionOnHostInstances(
-                            deletion.child,
-                            !1
-                          ));
-                    pairs.delete(name);
-                    if (0 === pairs.size) break;
-                  }
+        0 !== appearingViewTransitions.size &&
+        0 !== (deletion.subtreeFlags & 2097152)
+      )
+        for (deletion = deletion.child; null !== deletion; ) {
+          if (22 !== deletion.tag || null !== deletion.memoizedState) {
+            if (30 === deletion.tag && 0 !== (deletion.flags & 2097152)) {
+              var props = deletion.memoizedProps,
+                name = props.name;
+              if (null != name && "auto" !== name) {
+                var pair = appearingViewTransitions.get(name);
+                if (void 0 !== pair) {
+                  var className = getViewTransitionClassName(
+                    props.className,
+                    props.share
+                  );
+                  "none" !== className &&
+                    ((viewTransitionHostInstanceIdx = 0),
+                    applyViewTransitionToHostInstances(
+                      deletion.child,
+                      name,
+                      className,
+                      null,
+                      !1
+                    )
+                      ? ((pair.paired = deletion.stateNode),
+                        scheduleViewTransitionEvent(deletion, props.onShare))
+                      : restoreViewTransitionOnHostInstances(
+                          deletion.child,
+                          !1
+                        ));
+                  appearingViewTransitions.delete(name);
+                  if (0 === appearingViewTransitions.size) break;
                 }
               }
-              commitDeletedPairViewTransitions(deletion);
             }
-            deletion = deletion.sibling;
+            commitDeletedPairViewTransitions(
+              deletion,
+              appearingViewTransitions
+            );
           }
-      }
+          deletion = deletion.sibling;
+        }
     }
-    function commitExitViewTransitions(deletion) {
+    function commitExitViewTransitions(deletion, appearingViewTransitions) {
       if (30 === deletion.tag) {
         var props = deletion.memoizedProps,
           name = getViewTransitionName(props, deletion.stateNode),
@@ -11835,13 +11837,14 @@
               : scheduleViewTransitionEvent(deletion, props.onExit)
             : restoreViewTransitionOnHostInstances(deletion.child, !1));
         null !== appearingViewTransitions &&
-          commitDeletedPairViewTransitions(deletion);
+          commitDeletedPairViewTransitions(deletion, appearingViewTransitions);
       } else if (0 !== (deletion.subtreeFlags & 33554432))
         for (deletion = deletion.child; null !== deletion; )
-          commitExitViewTransitions(deletion), (deletion = deletion.sibling);
+          commitExitViewTransitions(deletion, appearingViewTransitions),
+            (deletion = deletion.sibling);
       else
         null !== appearingViewTransitions &&
-          commitDeletedPairViewTransitions(deletion);
+          commitDeletedPairViewTransitions(deletion, appearingViewTransitions);
     }
     function commitNestedViewTransitions(changedParent) {
       for (changedParent = changedParent.child; null !== changedParent; ) {
@@ -11865,10 +11868,10 @@
       }
     }
     function restorePairedViewTransitions(parent) {
-      if (0 !== (parent.subtreeFlags & 18874368))
+      if (0 !== (parent.subtreeFlags & 2097152))
         for (parent = parent.child; null !== parent; ) {
           if (22 !== parent.tag || null !== parent.memoizedState) {
-            if (30 === parent.tag && 0 !== (parent.flags & 18874368)) {
+            if (30 === parent.tag && 0 !== (parent.flags & 2097152)) {
               var instance = parent.stateNode;
               null !== instance.paired &&
                 ((instance.paired = null),
@@ -12042,247 +12045,14 @@
               changedParent.memoizedState,
               !1
             );
-            0 !== (changedParent.flags & 4) &&
-              current &&
-              scheduleViewTransitionEvent(changedParent, props.onLayout);
-          }
-        } else
-          0 !== (changedParent.subtreeFlags & 33554432) &&
-            measureNestedViewTransitions(changedParent);
-        changedParent = changedParent.sibling;
-      }
-    }
-    function commitBeforeMutationEffects(root, firstChild, committedLanes) {
-      root = root.containerInfo;
-      eventsEnabled = _enabled;
-      root = getActiveElementDeep(root);
-      if (hasSelectionCapabilities(root)) {
-        if ("selectionStart" in root)
-          var JSCompiler_temp = {
-            start: root.selectionStart,
-            end: root.selectionEnd
-          };
-        else
-          a: {
-            JSCompiler_temp =
-              ((JSCompiler_temp = root.ownerDocument) &&
-                JSCompiler_temp.defaultView) ||
-              window;
-            var selection =
-              JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();
-            if (selection && 0 !== selection.rangeCount) {
-              JSCompiler_temp = selection.anchorNode;
-              var anchorOffset = selection.anchorOffset,
-                focusNode = selection.focusNode;
-              selection = selection.focusOffset;
-              try {
-                JSCompiler_temp.nodeType, focusNode.nodeType;
-              } catch (e$2) {
-                JSCompiler_temp = null;
-                break a;
-              }
-              var length = 0,
-                start = -1,
-                end = -1,
-                indexWithinAnchor = 0,
-                indexWithinFocus = 0,
-                node = root,
-                parentNode = null;
-              b: for (;;) {
-                for (var next; ; ) {
-                  node !== JSCompiler_temp ||
-                    (0 !== anchorOffset && 3 !== node.nodeType) ||
-                    (start = length + anchorOffset);
-                  node !== focusNode ||
-                    (0 !== selection && 3 !== node.nodeType) ||
-                    (end = length + selection);
-                  3 === node.nodeType && (length += node.nodeValue.length);
-                  if (null === (next = node.firstChild)) break;
-                  parentNode = node;
-                  node = next;
-                }
-                for (;;) {
-                  if (node === root) break b;
-                  parentNode === JSCompiler_temp &&
-                    ++indexWithinAnchor === anchorOffset &&
-                    (start = length);
-                  parentNode === focusNode &&
-                    ++indexWithinFocus === selection &&
-                    (end = length);
-                  if (null !== (next = node.nextSibling)) break;
-                  node = parentNode;
-                  parentNode = node.parentNode;
-                }
-                node = next;
-              }
-              JSCompiler_temp =
-                -1 === start || -1 === end ? null : { start: start, end: end };
-            } else JSCompiler_temp = null;
-          }
-        JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };
-      } else JSCompiler_temp = null;
-      selectionInformation = {
-        focusedElem: root,
-        selectionRange: JSCompiler_temp
-      };
-      shouldStartViewTransition = _enabled = !1;
-      committedLanes = (committedLanes & 335544064) === committedLanes;
-      nextEffect = firstChild;
-      for (firstChild = committedLanes ? 9238 : 1028; null !== nextEffect; ) {
-        root = nextEffect;
-        if (
-          committedLanes &&
-          ((JSCompiler_temp = root.deletions), null !== JSCompiler_temp)
-        )
-          for (
-            anchorOffset = 0;
-            anchorOffset < JSCompiler_temp.length;
-            anchorOffset++
-          )
-            committedLanes &&
-              commitExitViewTransitions(JSCompiler_temp[anchorOffset]);
-        if (null === root.alternate && 0 !== (root.flags & 2))
-          commitBeforeMutationEffects_complete(committedLanes);
-        else {
-          if (22 === root.tag)
-            if (
-              ((JSCompiler_temp = root.alternate), null !== root.memoizedState)
-            ) {
-              null !== JSCompiler_temp &&
-                null === JSCompiler_temp.memoizedState &&
-                committedLanes &&
-                commitExitViewTransitions(JSCompiler_temp);
-              commitBeforeMutationEffects_complete(committedLanes);
-              continue;
-            } else if (
-              null !== JSCompiler_temp &&
-              null !== JSCompiler_temp.memoizedState
-            ) {
-              commitBeforeMutationEffects_complete(committedLanes);
-              continue;
-            }
-          JSCompiler_temp = root.child;
-          0 !== (root.subtreeFlags & firstChild) && null !== JSCompiler_temp
-            ? ((JSCompiler_temp.return = root), (nextEffect = JSCompiler_temp))
-            : (committedLanes && commitNestedViewTransitions(root),
-              commitBeforeMutationEffects_complete(committedLanes));
-        }
-      }
-      appearingViewTransitions = null;
-    }
-    function commitBeforeMutationEffects_complete(
-      isViewTransitionEligible$jscomp$0
-    ) {
-      for (; null !== nextEffect; ) {
-        var fiber = nextEffect,
-          finishedWork = fiber,
-          isViewTransitionEligible = isViewTransitionEligible$jscomp$0,
-          current = finishedWork.alternate,
-          flags = finishedWork.flags;
-        switch (finishedWork.tag) {
-          case 0:
-            if (
-              0 !== (flags & 4) &&
-              ((isViewTransitionEligible = finishedWork.updateQueue),
-              (isViewTransitionEligible =
-                null !== isViewTransitionEligible
-                  ? isViewTransitionEligible.events
-                  : null),
-              null !== isViewTransitionEligible)
-            )
-              for (
-                finishedWork = 0;
-                finishedWork < isViewTransitionEligible.length;
-                finishedWork++
-              )
-                (current = isViewTransitionEligible[finishedWork]),
-                  (current.ref.impl = current.nextImpl);
-            break;
-          case 11:
-          case 15:
-            break;
-          case 1:
-            0 !== (flags & 1024) &&
-              null !== current &&
-              commitClassSnapshot(finishedWork, current);
-            break;
-          case 3:
-            if (0 !== (flags & 1024))
-              if (
-                ((isViewTransitionEligible =
-                  finishedWork.stateNode.containerInfo),
-                (finishedWork = isViewTransitionEligible.nodeType),
-                9 === finishedWork)
-              )
-                clearContainerSparingly(isViewTransitionEligible);
-              else if (1 === finishedWork)
-                switch (isViewTransitionEligible.nodeName) {
-                  case "HEAD":
-                  case "HTML":
-                  case "BODY":
-                    clearContainerSparingly(isViewTransitionEligible);
-                    break;
-                  default:
-                    isViewTransitionEligible.textContent = "";
-                }
-            break;
-          case 5:
-          case 26:
-          case 27:
-          case 6:
-          case 4:
-          case 17:
-            break;
-          case 30:
-            if (
-              isViewTransitionEligible &&
-              null !== current &&
-              0 !== (finishedWork.subtreeFlags & 8246)
-            )
-              a: {
-                isViewTransitionEligible = current;
-                current = finishedWork;
-                finishedWork = getViewTransitionName(
-                  isViewTransitionEligible.memoizedProps,
-                  isViewTransitionEligible.stateNode
-                );
-                current = current.memoizedProps;
-                flags = getViewTransitionClassName(
-                  current.className,
-                  current.update
-                );
-                if (
-                  "none" === flags &&
-                  ((flags = getViewTransitionClassName(
-                    current.className,
-                    current.layout
-                  )),
-                  "none" === flags)
-                )
-                  break a;
-                viewTransitionHostInstanceIdx = 0;
-                applyViewTransitionToHostInstances(
-                  isViewTransitionEligible.child,
-                  finishedWork,
-                  flags,
-                  (isViewTransitionEligible.memoizedState = []),
-                  !0
-                );
-              }
-            break;
-          default:
-            if (0 !== (flags & 1024))
-              throw Error(
-                "This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue."
-              );
-        }
-        isViewTransitionEligible = fiber.sibling;
-        if (null !== isViewTransitionEligible) {
-          isViewTransitionEligible.return = fiber.return;
-          nextEffect = isViewTransitionEligible;
-          break;
-        }
-        nextEffect = fiber.return;
+            0 !== (changedParent.flags & 4) &&
+              current &&
+              scheduleViewTransitionEvent(changedParent, props.onLayout);
+          }
+        } else
+          0 !== (changedParent.subtreeFlags & 33554432) &&
+            measureNestedViewTransitions(changedParent);
+        changedParent = changedParent.sibling;
       }
     }
     function commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {
@@ -12403,11 +12173,11 @@
           }
           finishedRoot.effectDuration += popNestedEffectDurations(current);
           break;
-        case 27:
-          null === current &&
-            flags & 4 &&
-            commitHostSingletonAcquisition(finishedWork);
         case 26:
+          recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);
+          flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);
+          break;
+        case 27:
         case 5:
           recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);
           null === current && flags & 4 && commitHostMount(finishedWork);
@@ -12567,19 +12337,16 @@
             safelyDetachRef(deletedFiber, nearestMountedAncestor);
           var prevHostParent = hostParent,
             prevHostParentIsContainer = hostParentIsContainer;
-          isSingletonScope(deletedFiber.type) &&
-            ((hostParent = deletedFiber.stateNode),
-            (hostParentIsContainer = !1));
+          hostParent = deletedFiber.stateNode;
           recursivelyTraverseDeletionEffects(
             finishedRoot,
             nearestMountedAncestor,
             deletedFiber
           );
-          runWithFiberInDEV(
-            deletedFiber,
-            releaseSingletonInstance,
-            deletedFiber.stateNode
-          );
+          deletedFiber = deletedFiber.stateNode;
+          for (finishedRoot = deletedFiber.attributes; finishedRoot.length; )
+            deletedFiber.removeAttributeNode(finishedRoot[0]);
+          detachDeletedInstance(deletedFiber);
           hostParent = prevHostParent;
           hostParentIsContainer = prevHostParentIsContainer;
           break;
@@ -12635,14 +12402,11 @@
           null !== hostParent &&
             (hostParentIsContainer
               ? ((finishedRoot = hostParent),
-                clearSuspenseBoundary(
-                  9 === finishedRoot.nodeType
-                    ? finishedRoot.body
-                    : "HTML" === finishedRoot.nodeName
-                      ? finishedRoot.ownerDocument.body
-                      : finishedRoot,
-                  deletedFiber.stateNode
-                ),
+                (deletedFiber = deletedFiber.stateNode),
+                8 === finishedRoot.nodeType
+                  ? clearSuspenseBoundary(finishedRoot.parentNode, deletedFiber)
+                  : 1 === finishedRoot.nodeType &&
+                    clearSuspenseBoundary(finishedRoot, deletedFiber),
                 retryIfBlockedOn(finishedRoot))
               : clearSuspenseBoundary(hostParent, deletedFiber.stateNode));
           break;
@@ -12800,17 +12564,14 @@
           a: for (; null !== parent; ) {
             switch (parent.tag) {
               case 27:
-                if (isSingletonScope(parent.type)) {
-                  hostParent = parent.stateNode;
-                  hostParentIsContainer = !1;
-                  break a;
-                }
-                break;
               case 5:
                 hostParent = parent.stateNode;
                 hostParentIsContainer = !1;
                 break a;
               case 3:
+                hostParent = parent.stateNode.containerInfo;
+                hostParentIsContainer = !0;
+                break a;
               case 4:
                 hostParent = parent.stateNode.containerInfo;
                 hostParentIsContainer = !0;
@@ -13040,20 +12801,35 @@
                   );
           break;
         case 27:
-          recursivelyTraverseMutationEffects(root, finishedWork, lanes);
-          commitReconciliationEffects(finishedWork);
-          flags & 512 &&
-            (offscreenSubtreeWasHidden ||
-              null === current ||
-              safelyDetachRef(current, current.return));
-          null !== current &&
-            flags & 4 &&
-            commitHostUpdate(
-              finishedWork,
-              finishedWork.memoizedProps,
-              current.memoizedProps
-            );
-          break;
+          if (flags & 4 && null === finishedWork.alternate) {
+            hoistableRoot = finishedWork.stateNode;
+            i = finishedWork.memoizedProps;
+            try {
+              for (var node = hoistableRoot.firstChild; node; ) {
+                var nextNode = node.nextSibling,
+                  nodeName = node.nodeName;
+                node[internalHoistableMarker] ||
+                  "HEAD" === nodeName ||
+                  "BODY" === nodeName ||
+                  "SCRIPT" === nodeName ||
+                  "STYLE" === nodeName ||
+                  ("LINK" === nodeName &&
+                    "stylesheet" === node.rel.toLowerCase()) ||
+                  hoistableRoot.removeChild(node);
+                node = nextNode;
+              }
+              runWithFiberInDEV(
+                finishedWork,
+                acquireSingletonInstance,
+                finishedWork.type,
+                i,
+                hoistableRoot,
+                finishedWork
+              );
+            } catch (error) {
+              captureCommitPhaseError(finishedWork, finishedWork.return, error);
+            }
+          }
         case 5:
           recursivelyTraverseMutationEffects(root, finishedWork, lanes);
           commitReconciliationEffects(finishedWork);
@@ -13170,17 +12946,15 @@
             (offscreenSubtreeWasHidden ||
               null === current ||
               safelyDetachRef(current, current.return));
-          hoistableRoot = null !== finishedWork.memoizedState;
-          var wasHidden = null !== current && null !== current.memoizedState,
-            prevOffscreenSubtreeIsHidden = offscreenSubtreeIsHidden,
-            prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;
-          offscreenSubtreeIsHidden =
-            prevOffscreenSubtreeIsHidden || hoistableRoot;
-          offscreenSubtreeWasHidden =
-            prevOffscreenSubtreeWasHidden || wasHidden;
+          node = null !== finishedWork.memoizedState;
+          nextNode = null !== current && null !== current.memoizedState;
+          nodeName = offscreenSubtreeIsHidden;
+          var prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;
+          offscreenSubtreeIsHidden = nodeName || node;
+          offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden || nextNode;
           recursivelyTraverseMutationEffects(root, finishedWork, lanes);
           offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;
-          offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden;
+          offscreenSubtreeIsHidden = nodeName;
           commitReconciliationEffects(finishedWork);
           root = finishedWork.stateNode;
           root._current = finishedWork;
@@ -13188,26 +12962,26 @@
           root._visibility |= root._pendingVisibility & OffscreenDetached;
           if (
             flags & 8192 &&
-            ((root._visibility = hoistableRoot
+            ((root._visibility = node
               ? root._visibility & ~OffscreenVisible
               : root._visibility | OffscreenVisible),
-            hoistableRoot &&
-              (null === current ||
-                wasHidden ||
-                offscreenSubtreeIsHidden ||
-                offscreenSubtreeWasHidden ||
+            node &&
+              ((root = offscreenSubtreeIsHidden || offscreenSubtreeWasHidden),
+              null === current ||
+                nextNode ||
+                root ||
                 recursivelyTraverseDisappearLayoutEffects(finishedWork)),
             null === finishedWork.memoizedProps ||
               "manual" !== finishedWork.memoizedProps.mode)
           )
             a: for (current = null, root = finishedWork; ; ) {
-              if (5 === root.tag || 26 === root.tag) {
+              if (5 === root.tag || 26 === root.tag || 27 === root.tag) {
                 if (null === current) {
                   lanes = current = root;
                   try {
-                    (i = lanes.stateNode),
-                      hoistableRoot
-                        ? runWithFiberInDEV(lanes, hideInstance, i)
+                    (hoistableRoot = lanes.stateNode),
+                      node
+                        ? runWithFiberInDEV(lanes, hideInstance, hoistableRoot)
                         : runWithFiberInDEV(
                             lanes,
                             unhideInstance,
@@ -13222,15 +12996,15 @@
                 if (null === current) {
                   lanes = root;
                   try {
-                    var instance = lanes.stateNode;
-                    hoistableRoot
-                      ? runWithFiberInDEV(lanes, hideTextInstance, instance)
-                      : runWithFiberInDEV(
-                          lanes,
-                          unhideTextInstance,
-                          instance,
-                          lanes.memoizedProps
-                        );
+                    (i = lanes.stateNode),
+                      node
+                        ? runWithFiberInDEV(lanes, hideTextInstance, i)
+                        : runWithFiberInDEV(
+                            lanes,
+                            unhideTextInstance,
+                            i,
+                            lanes.memoizedProps
+                          );
                   } catch (error) {
                     captureCommitPhaseError(lanes, lanes.return, error);
                   }
@@ -13282,7 +13056,7 @@
           viewTransitionMutationContext = !1;
           recursivelyTraverseMutationEffects(root, finishedWork, lanes);
           commitReconciliationEffects(finishedWork);
-          (lanes & 335544064) === lanes &&
+          (lanes & 335544192) === lanes &&
             null !== current &&
             viewTransitionMutationContext &&
             (finishedWork.flags |= 4);
@@ -13365,7 +13139,30 @@
                       }
                     );
                 }
-              cancelRootViewTransitionName(root.containerInfo);
+              finishedWork = root.containerInfo;
+              finishedWork =
+                9 === finishedWork.nodeType
+                  ? finishedWork.documentElement
+                  : finishedWork.ownerDocument.documentElement;
+              null !== finishedWork &&
+                "" === finishedWork.style.viewTransitionName &&
+                ((finishedWork.style.viewTransitionName = "none"),
+                finishedWork.animate(
+                  { opacity: [0, 0], pointerEvents: ["none", "none"] },
+                  {
+                    duration: 0,
+                    fill: "forwards",
+                    pseudoElement: "::view-transition-group(root)"
+                  }
+                ),
+                finishedWork.animate(
+                  { width: [0, 0], height: [0, 0] },
+                  {
+                    duration: 0,
+                    fill: "forwards",
+                    pseudoElement: "::view-transition"
+                  }
+                ));
             }
             break;
           case 5:
@@ -13394,7 +13191,7 @@
                   ),
                   layoutClassName = getViewTransitionClassName(
                     root.className,
-                    root.layout
+                    root.update
                   );
                 if ("none" === updateClassName) {
                   if ("none" === layoutClassName) {
@@ -13490,13 +13287,8 @@
             );
           recursivelyTraverseDisappearLayoutEffects(finishedWork);
           break;
-        case 27:
-          runWithFiberInDEV(
-            finishedWork,
-            releaseSingletonInstance,
-            finishedWork.stateNode
-          );
         case 26:
+        case 27:
         case 5:
           safelyDetachRef(finishedWork, finishedWork.return);
           recursivelyTraverseDisappearLayoutEffects(finishedWork);
@@ -13583,9 +13375,8 @@
             commitClassCallbacks(finishedWork);
           safelyAttachRef(finishedWork, finishedWork.return);
           break;
-        case 27:
-          commitHostSingletonAcquisition(finishedWork);
         case 26:
+        case 27:
         case 5:
           recursivelyTraverseReappearLayoutEffects(
             finishedRoot,
@@ -13722,7 +13513,7 @@
       endTime
     ) {
       var isViewTransitionEligible =
-        (committedLanes & 335544064) === committedLanes;
+        (committedLanes & 335544192) === committedLanes;
       if (
         parentFiber.subtreeFlags & (isViewTransitionEligible ? 10262 : 10256) ||
         (0 !== parentFiber.actualDuration &&
@@ -13763,7 +13554,7 @@
           inHydratedSubtree
         );
       var isViewTransitionEligible =
-        (committedLanes & 335544064) === committedLanes;
+        (committedLanes & 335544192) === committedLanes;
       isViewTransitionEligible &&
         null === finishedWork.alternate &&
         null !== finishedWork.return &&
@@ -13834,7 +13625,14 @@
           );
           inHydratedSubtree = wasInHydratedSubtree;
           isViewTransitionEligible &&
-            restoreRootViewTransitionName(finishedRoot.containerInfo);
+            ((committedLanes = finishedRoot.containerInfo),
+            (committedLanes =
+              9 === committedLanes.nodeType
+                ? committedLanes.documentElement
+                : committedLanes.ownerDocument.documentElement),
+            null !== committedLanes &&
+              "none" === committedLanes.style.viewTransitionName &&
+              (committedLanes.style.viewTransitionName = ""));
           flags & 2048 &&
             ((committedLanes = null),
             null !== finishedWork.alternate &&
@@ -13848,7 +13646,7 @@
           break;
         case 12:
           if (flags & 2048) {
-            isViewTransitionEligible = pushNestedEffectDurations();
+            flags = pushNestedEffectDurations();
             recursivelyTraversePassiveMountEffects(
               finishedRoot,
               finishedWork,
@@ -13857,9 +13655,8 @@
               endTime
             );
             finishedRoot = finishedWork.stateNode;
-            finishedRoot.passiveEffectDuration += bubbleNestedEffectDurations(
-              isViewTransitionEligible
-            );
+            finishedRoot.passiveEffectDuration +=
+              bubbleNestedEffectDurations(flags);
             try {
               runWithFiberInDEV(
                 finishedWork,
@@ -13882,29 +13679,29 @@
             );
           break;
         case 13:
-          isViewTransitionEligible = inHydratedSubtree;
-          flags =
+          flags = inHydratedSubtree;
+          prevEffectDuration =
             null !== finishedWork.alternate
               ? finishedWork.alternate.memoizedState
               : null;
-          prevEffectDuration = finishedWork.memoizedState;
-          null === flags ||
-          null === flags.dehydrated ||
-          (null !== prevEffectDuration &&
-            null !== prevEffectDuration.dehydrated)
+          isViewTransitionEligible = finishedWork.memoizedState;
+          null === prevEffectDuration ||
+          null === prevEffectDuration.dehydrated ||
+          (null !== isViewTransitionEligible &&
+            null !== isViewTransitionEligible.dehydrated)
             ? (inHydratedSubtree = !1)
-            : ((prevEffectDuration = finishedWork.deletions),
-              null !== prevEffectDuration &&
-              0 < prevEffectDuration.length &&
-              18 === prevEffectDuration[0].tag
+            : ((isViewTransitionEligible = finishedWork.deletions),
+              null !== isViewTransitionEligible &&
+              0 < isViewTransitionEligible.length &&
+              18 === isViewTransitionEligible[0].tag
                 ? ((inHydratedSubtree = !1),
-                  (flags = flags.hydrationErrors),
-                  null !== flags &&
+                  (prevEffectDuration = prevEffectDuration.hydrationErrors),
+                  null !== prevEffectDuration &&
                     logComponentErrored(
                       finishedWork,
                       finishedWork.actualStartTime,
                       endTime,
-                      flags
+                      prevEffectDuration
                     ))
                 : (inHydratedSubtree = !0));
           recursivelyTraversePassiveMountEffects(
@@ -13914,7 +13711,7 @@
             committedTransitions,
             endTime
           );
-          inHydratedSubtree = isViewTransitionEligible;
+          inHydratedSubtree = flags;
           break;
         case 23:
           break;
@@ -13982,14 +13779,11 @@
           break;
         case 30:
           isViewTransitionEligible &&
-            ((isViewTransitionEligible = finishedWork.alternate),
-            null !== isViewTransitionEligible &&
+            ((flags = finishedWork.alternate),
+            null !== flags &&
               0 !== (finishedWork.subtreeFlags & 8246) &&
               ((finishedWork.memoizedState = null),
-              restoreViewTransitionOnHostInstances(
-                isViewTransitionEligible.child,
-                !0
-              ),
+              restoreViewTransitionOnHostInstances(flags.child, !0),
               restoreViewTransitionOnHostInstances(finishedWork.child, !0)));
           recursivelyTraversePassiveMountEffects(
             finishedRoot,
@@ -14257,20 +14051,6 @@
                 (suspenseyCommitFlag = previousHoistableRoot))
               : recursivelyAccumulateSuspenseyCommit(fiber));
           break;
-        case 30:
-          if (
-            0 !== (fiber.flags & suspenseyCommitFlag) &&
-            ((previousHoistableRoot = fiber.memoizedProps.name),
-            null != previousHoistableRoot && "auto" !== previousHoistableRoot)
-          ) {
-            var state = fiber.stateNode;
-            state.paired = null;
-            null === appearingViewTransitions &&
-              (appearingViewTransitions = new Map());
-            appearingViewTransitions.set(previousHoistableRoot, state);
-          }
-          recursivelyAccumulateSuspenseyCommit(fiber);
-          break;
         default:
           recursivelyAccumulateSuspenseyCommit(fiber);
       }
@@ -14981,14 +14761,14 @@
     function popToNextHostParent(fiber) {
       for (hydrationParentFiber = fiber.return; hydrationParentFiber; )
         switch (hydrationParentFiber.tag) {
+          case 3:
+          case 27:
+            rootOrSingletonContext = !0;
+            return;
           case 5:
           case 13:
             rootOrSingletonContext = !1;
             return;
-          case 27:
-          case 3:
-            rootOrSingletonContext = !0;
-            return;
           default:
             hydrationParentFiber = hydrationParentFiber.return;
         }
@@ -14997,31 +14777,32 @@
       if (fiber !== hydrationParentFiber) return !1;
       if (!isHydrating)
         return popToNextHostParent(fiber), (isHydrating = !0), !1;
-      var tag = fiber.tag,
+      var shouldClear = !1,
         JSCompiler_temp;
-      if ((JSCompiler_temp = 3 !== tag && 27 !== tag)) {
-        if ((JSCompiler_temp = 5 === tag))
+      if ((JSCompiler_temp = 3 !== fiber.tag && 27 !== fiber.tag)) {
+        if ((JSCompiler_temp = 5 === fiber.tag))
           (JSCompiler_temp = fiber.type),
             (JSCompiler_temp =
               !("form" !== JSCompiler_temp && "button" !== JSCompiler_temp) ||
               shouldSetTextContent(fiber.type, fiber.memoizedProps));
         JSCompiler_temp = !JSCompiler_temp;
       }
-      if (JSCompiler_temp && nextHydratableInstance) {
-        for (JSCompiler_temp = nextHydratableInstance; JSCompiler_temp; ) {
-          var diffNode = buildHydrationDiffNode(fiber, 0),
-            description =
-              describeHydratableInstanceForDevWarnings(JSCompiler_temp);
-          diffNode.serverTail.push(description);
-          JSCompiler_temp =
+      JSCompiler_temp && (shouldClear = !0);
+      if (shouldClear && nextHydratableInstance) {
+        for (shouldClear = nextHydratableInstance; shouldClear; ) {
+          JSCompiler_temp = buildHydrationDiffNode(fiber, 0);
+          var description =
+            describeHydratableInstanceForDevWarnings(shouldClear);
+          JSCompiler_temp.serverTail.push(description);
+          shouldClear =
             "Suspense" === description.type
-              ? getNextHydratableInstanceAfterSuspenseInstance(JSCompiler_temp)
-              : getNextHydratable(JSCompiler_temp.nextSibling);
+              ? getNextHydratableInstanceAfterSuspenseInstance(shouldClear)
+              : getNextHydratable(shouldClear.nextSibling);
         }
         throwOnHydrationMismatch(fiber);
       }
       popToNextHostParent(fiber);
-      if (13 === tag) {
+      if (13 === fiber.tag) {
         fiber = fiber.memoizedState;
         fiber = null !== fiber ? fiber.dehydrated : null;
         if (!fiber)
@@ -15031,16 +14812,9 @@
         nextHydratableInstance =
           getNextHydratableInstanceAfterSuspenseInstance(fiber);
       } else
-        27 === tag
-          ? ((tag = nextHydratableInstance),
-            isSingletonScope(fiber.type)
-              ? ((fiber = previousHydratableOnEnteringScopedSingleton),
-                (previousHydratableOnEnteringScopedSingleton = null),
-                (nextHydratableInstance = fiber))
-              : (nextHydratableInstance = tag))
-          : (nextHydratableInstance = hydrationParentFiber
-              ? getNextHydratable(fiber.stateNode.nextSibling)
-              : null);
+        nextHydratableInstance = hydrationParentFiber
+          ? getNextHydratable(fiber.stateNode.nextSibling)
+          : null;
       return !0;
     }
     function resetHydrationState() {
@@ -15080,31 +14854,14 @@
         ? props.name
         : instance.autoName;
     }
-    function getClassNameByType(classByType) {
-      if (null == classByType || "string" === typeof classByType)
-        return classByType;
-      var className = null,
-        activeTypes = pendingTransitionTypes;
-      if (null !== activeTypes)
-        for (var i = 0; i < activeTypes.length; i++) {
-          var match = classByType[activeTypes[i]];
-          if (null != match) {
-            if ("none" === match) return "none";
-            className = null == className ? match : className + (" " + match);
-          }
-        }
-      return null == className ? classByType.default : className;
-    }
-    function getViewTransitionClassName(defaultClass, eventClass) {
-      defaultClass = getClassNameByType(defaultClass);
-      eventClass = getClassNameByType(eventClass);
-      return null == eventClass
-        ? defaultClass
-        : "none" === eventClass
-          ? eventClass
-          : null != defaultClass && "none" !== defaultClass
-            ? defaultClass + " " + eventClass
-            : eventClass;
+    function getViewTransitionClassName(className, eventClassName) {
+      return null == eventClassName
+        ? className
+        : "none" === eventClassName
+          ? eventClassName
+          : null != className
+            ? className + " " + eventClassName
+            : eventClassName;
     }
     function markUpdate(workInProgress) {
       workInProgress.flags |= 4;
@@ -15121,7 +14878,7 @@
         resource = suspenseHandlerStackCursor.current;
         if (
           null !== resource &&
-          ((workInProgressRootRenderLanes & 4194048) ===
+          ((workInProgressRootRenderLanes & 4194176) ===
           workInProgressRootRenderLanes
             ? null !== shellBoundary
             : ((workInProgressRootRenderLanes & 62914560) !==
@@ -15229,6 +14986,30 @@
       completedWork.childLanes = newChildLanes;
       return didBailout;
     }
+    function trackReappearingViewTransitions(workInProgress) {
+      if (0 !== (workInProgress.subtreeFlags & 2097152))
+        for (workInProgress = workInProgress.child; null !== workInProgress; ) {
+          if (
+            22 !== workInProgress.tag ||
+            null !== workInProgress.memoizedState
+          ) {
+            if (
+              30 === workInProgress.tag &&
+              0 !== (workInProgress.flags & 2097152)
+            ) {
+              var props = workInProgress.memoizedProps;
+              null != props.name &&
+                "auto" !== props.name &&
+                trackAppearingViewTransition(
+                  workInProgress.stateNode,
+                  props.name
+                );
+            }
+            trackReappearingViewTransitions(workInProgress);
+          }
+          workInProgress = workInProgress.sibling;
+        }
+    }
     function completeWork(current, workInProgress, renderLanes) {
       var newProps = workInProgress.pendingProps;
       popTreeContext(workInProgress);
@@ -15518,13 +15299,9 @@
                   : !1;
               current || throwOnHydrationMismatch(workInProgress);
             } else
-              (_type = renderLanes.ancestorInfo.current),
-                null != _type &&
-                  validateTextNesting(
-                    newProps,
-                    _type.tag,
-                    renderLanes.ancestorInfo.implicitRootScope
-                  ),
+              (renderLanes = renderLanes.ancestorInfo.current),
+                null != renderLanes &&
+                  validateTextNesting(newProps, renderLanes.tag),
                 (current =
                   getOwnerDocumentFromRootContainer(current).createTextNode(
                     newProps
@@ -15746,7 +15523,8 @@
             (newProps = null !== workInProgress.memoizedState),
             null !== current
               ? (null !== current.memoizedState) !== newProps &&
-                (workInProgress.flags |= 8192)
+                ((workInProgress.flags |= 8192),
+                newProps || trackReappearingViewTransitions(workInProgress))
               : newProps && (workInProgress.flags |= 8192),
             newProps
               ? 0 !== (renderLanes & 536870912) &&
@@ -16062,7 +15840,7 @@
       }
       yieldDuration = (forceSync =
         (!forceSync &&
-          0 === (lanes & 124) &&
+          0 === (lanes & 60) &&
           0 === (lanes & root.expiredLanes)) ||
         checkIfRootIsPrerendering(root, lanes))
         ? renderRootConcurrent(root, lanes)
@@ -16169,15 +15947,15 @@
               case RootFatalErrored:
                 throw Error("Root did not complete. This is a bug in React.");
               case RootSuspendedWithDelay:
-                if ((lanes & 4194048) !== lanes) break;
+                if ((lanes & 4194176) !== lanes) break;
               case RootSuspendedAtTheShell:
                 setCurrentTrackFromLanes(lanes);
                 logSuspendedRenderPhase(renderStartTime, startTime, lanes);
                 finalizeRender(lanes, startTime);
                 yieldEndTime = lanes;
-                0 !== (yieldEndTime & 3) || 0 !== (yieldEndTime & 124)
+                0 !== (yieldEndTime & 3) || 0 !== (yieldEndTime & 60)
                   ? (blockingSuspendedTime = startTime)
-                  : 0 !== (yieldEndTime & 4194048) &&
+                  : 0 !== (yieldEndTime & 4194176) &&
                     (transitionSuspendedTime = startTime);
                 markRootSuspended(
                   forceSync,
@@ -16202,6 +15980,7 @@
                 lanes,
                 workInProgressRootRecoverableErrors,
                 workInProgressTransitions,
+                workInProgressAppearingViewTransitions,
                 workInProgressRootDidIncludeRecursiveRenderUpdate,
                 workInProgressDeferredLane,
                 workInProgressRootInterleavedUpdatedLanes,
@@ -16234,6 +16013,7 @@
                     yieldEndTime,
                     workInProgressRootRecoverableErrors,
                     workInProgressTransitions,
+                    workInProgressAppearingViewTransitions,
                     workInProgressRootDidIncludeRecursiveRenderUpdate,
                     lanes,
                     workInProgressDeferredLane,
@@ -16254,6 +16034,7 @@
                 yieldEndTime,
                 workInProgressRootRecoverableErrors,
                 workInProgressTransitions,
+                workInProgressAppearingViewTransitions,
                 workInProgressRootDidIncludeRecursiveRenderUpdate,
                 lanes,
                 workInProgressDeferredLane,
@@ -16277,6 +16058,7 @@
       finishedWork,
       recoverableErrors,
       transitions,
+      appearingViewTransitions,
       didIncludeRenderPhaseUpdate,
       lanes,
       spawnedLane,
@@ -16290,40 +16072,37 @@
     ) {
       root.timeoutHandle = noTimeout;
       var subtreeFlags = finishedWork.subtreeFlags,
-        isViewTransitionEligible = (lanes & 335544064) === lanes,
-        isGestureTransition = 64 === lanes;
-      if (
-        isViewTransitionEligible ||
-        subtreeFlags & 8192 ||
-        16785408 === (subtreeFlags & 16785408) ||
-        isGestureTransition
-      ) {
+        isViewTransitionEligible = (lanes & 335544192) === lanes;
+      subtreeFlags =
+        subtreeFlags & 8192 || 16785408 === (subtreeFlags & 16785408);
+      if (isViewTransitionEligible || subtreeFlags) {
         suspendedState = { stylesheets: null, count: 0, unsuspend: noop$1 };
-        appearingViewTransitions = null;
-        accumulateSuspenseyCommitOnFiber(finishedWork);
-        if (
-          (isViewTransitionEligible || isGestureTransition) &&
-          null === root.stoppingGestures
-        ) {
-          isViewTransitionEligible = root.containerInfo;
+        subtreeFlags && accumulateSuspenseyCommitOnFiber(finishedWork);
+        if (isViewTransitionEligible) {
+          subtreeFlags = root.containerInfo;
           if (null === suspendedState)
             throw Error(
               "Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug."
             );
-          subtreeFlags = suspendedState;
-          isViewTransitionEligible = (
-            9 === isViewTransitionEligible.nodeType
-              ? isViewTransitionEligible
-              : isViewTransitionEligible.ownerDocument
+          isViewTransitionEligible = suspendedState;
+          subtreeFlags = (
+            9 === subtreeFlags.nodeType
+              ? subtreeFlags
+              : subtreeFlags.ownerDocument
           ).__reactViewTransition;
-          null != isViewTransitionEligible &&
-            (subtreeFlags.count++,
-            (subtreeFlags = onUnsuspend.bind(subtreeFlags)),
-            isViewTransitionEligible.finished.then(subtreeFlags, subtreeFlags));
+          null != subtreeFlags &&
+            (isViewTransitionEligible.count++,
+            (isViewTransitionEligible = onUnsuspend.bind(
+              isViewTransitionEligible
+            )),
+            subtreeFlags.finished.then(
+              isViewTransitionEligible,
+              isViewTransitionEligible
+            ));
         }
-        subtreeFlags = waitForCommitToBeReady();
-        if (null !== subtreeFlags) {
-          root.cancelPendingCommit = subtreeFlags(
+        isViewTransitionEligible = waitForCommitToBeReady();
+        if (null !== isViewTransitionEligible) {
+          root.cancelPendingCommit = isViewTransitionEligible(
             commitRoot.bind(
               null,
               root,
@@ -16331,6 +16110,7 @@
               lanes,
               recoverableErrors,
               transitions,
+              appearingViewTransitions,
               didIncludeRenderPhaseUpdate,
               spawnedLane,
               updatedLanes,
@@ -16356,6 +16136,7 @@
         lanes,
         recoverableErrors,
         transitions,
+        appearingViewTransitions,
         didIncludeRenderPhaseUpdate,
         spawnedLane,
         updatedLanes,
@@ -16444,9 +16225,9 @@
       }
     }
     function finalizeRender(lanes, finalizationTime) {
-      if (0 !== (lanes & 3) || 0 !== (lanes & 124))
+      if (0 !== (lanes & 3) || 0 !== (lanes & 60))
         blockingClampTime = finalizationTime;
-      0 !== (lanes & 4194048) && (transitionClampTime = finalizationTime);
+      0 !== (lanes & 4194176) && (transitionClampTime = finalizationTime);
     }
     function prepareFreshStack(root, lanes) {
       supportsUserTiming &&
@@ -16471,13 +16252,13 @@
           var endTime = renderStartTime;
           supportsUserTiming &&
             ((reusableLaneDevToolDetails.color =
-              (lanes & 738197653) === lanes ? "tertiary-dark" : "primary-dark"),
+              (lanes & 738197589) === lanes ? "tertiary-dark" : "primary-dark"),
             (reusableLaneOptions.start = previousRenderStartTime),
             (reusableLaneOptions.end = endTime),
             performance.measure(
               (lanes & 536870912) === lanes
                 ? "Prewarm"
-                : (lanes & 201326741) === lanes
+                : (lanes & 201326677) === lanes
                   ? "Interrupted Hydration"
                   : "Interrupted Render",
               reusableLaneOptions
@@ -16485,7 +16266,7 @@
         }
         finalizeRender(workInProgressRootRenderLanes, renderStartTime);
       }
-      if (0 !== (lanes & 3) || 0 !== (lanes & 124)) {
+      if (0 !== (lanes & 3) || 0 !== (lanes & 60)) {
         previousRenderStartTime =
           0 <= blockingUpdateTime && blockingUpdateTime < blockingClampTime
             ? blockingClampTime
@@ -16528,7 +16309,7 @@
           0 < previousRenderStartTime &&
             ((reusableLaneDevToolDetails.color = isSpawnedUpdate
               ? "error"
-              : (lanes & 738197653) === lanes
+              : (lanes & 738197589) === lanes
                 ? "tertiary-light"
                 : "primary-light"),
             (reusableLaneOptions.start = previousRenderStartTime),
@@ -16541,7 +16322,7 @@
         blockingEventIsRepeat = !0;
         blockingSpawnedUpdate = !1;
       }
-      0 !== (lanes & 4194048) &&
+      0 !== (lanes & 4194176) &&
         ((previousRenderStartTime =
           0 <= transitionStartTime && transitionStartTime < transitionClampTime
             ? transitionClampTime
@@ -16632,6 +16413,7 @@
       workInProgressRootRecoverableErrors = workInProgressRootConcurrentErrors =
         null;
       workInProgressRootDidIncludeRecursiveRenderUpdate = !1;
+      workInProgressAppearingViewTransitions = null;
       0 !== (lanes & 8) && (lanes |= lanes & 32);
       endTime = root.entangledLanes;
       if (0 !== endTime)
@@ -16690,7 +16472,7 @@
     function renderDidSuspendDelayIfPossible() {
       workInProgressRootExitStatus = RootSuspendedWithDelay;
       workInProgressRootDidSkipSuspendedSiblings ||
-        ((workInProgressRootRenderLanes & 4194048) !==
+        ((workInProgressRootRenderLanes & 4194176) !==
           workInProgressRootRenderLanes &&
           null !== suspenseHandlerStackCursor.current) ||
         (workInProgressRootIsPrerendering = !0);
@@ -16709,6 +16491,18 @@
         ? (workInProgressRootConcurrentErrors = [error])
         : workInProgressRootConcurrentErrors.push(error);
     }
+    function trackAppearingViewTransition(instance, name) {
+      if (null === workInProgressAppearingViewTransitions) {
+        if (
+          (workInProgressRootRenderLanes & 335544192) !==
+          workInProgressRootRenderLanes
+        )
+          return;
+        workInProgressAppearingViewTransitions = new Map();
+      }
+      instance.paired = null;
+      workInProgressAppearingViewTransitions.set(name, instance);
+    }
     function renderRootSync(root, lanes, shouldYieldForPrerendering) {
       var prevExecutionContext = executionContext;
       executionContext |= RenderContext;
@@ -17151,6 +16945,7 @@
       lanes,
       recoverableErrors,
       transitions,
+      appearingViewTransitions,
       didIncludeRenderPhaseUpdate,
       spawnedLane,
       updatedLanes,
@@ -17189,9 +16984,7 @@
               completedRenderEndTime,
               lanes
             );
-      if (null === finishedWork)
-        null !== root.stoppingGestures && stopCompletedGestures(root);
-      else {
+      if (null !== finishedWork) {
         0 === lanes &&
           console.error(
             "finishedLanes should not be empty during a commit. This is a bug in React."
@@ -17203,7 +16996,6 @@
         didIncludeRenderPhaseUpdate =
           finishedWork.lanes | finishedWork.childLanes;
         didIncludeRenderPhaseUpdate |= concurrentlyUpdatedLanes;
-        null === root.pendingGestures && (didIncludeRenderPhaseUpdate &= -65);
         markRootFinished(
           root,
           lanes,
@@ -17221,68 +17013,62 @@
         pendingEffectsRemainingLanes = didIncludeRenderPhaseUpdate;
         pendingPassiveTransitions = transitions;
         pendingRecoverableErrors = recoverableErrors;
+        pendingViewTransitionEvents = null;
         pendingEffectsRenderEndTime = completedRenderEndTime;
         pendingSuspendedCommitReason = suspendedCommitReason;
-        if (64 === lanes) commitGestureOnRoot(root, finishedWork);
-        else {
-          pendingViewTransitionEvents = null;
-          (lanes & 335544064) === lanes
-            ? ((pendingTransitionTypes = ReactSharedInternals.V),
-              (ReactSharedInternals.V = null),
-              (recoverableErrors = 10262))
-            : ((pendingTransitionTypes = null), (recoverableErrors = 10256));
-          0 !== finishedWork.actualDuration ||
-          0 !== (finishedWork.subtreeFlags & recoverableErrors) ||
-          0 !== (finishedWork.flags & recoverableErrors)
-            ? ((root.callbackNode = null),
-              (root.callbackPriority = 0),
-              scheduleCallback$1(NormalPriority$1, function () {
-                schedulerEvent = window.event;
-                flushPassiveEffects(!0);
-                return null;
-              }))
-            : ((root.callbackNode = null), (root.callbackPriority = 0));
-          commitErrors = null;
-          commitStartTime = now();
-          suspendedCommitReason === SUSPENDED_COMMIT
-            ? logSuspendedCommitPhase(completedRenderEndTime, commitStartTime)
-            : suspendedCommitReason === THROTTLED_COMMIT &&
-              logSuspenseThrottlePhase(completedRenderEndTime, commitStartTime);
-          suspendedCommitReason = 0 !== (finishedWork.flags & 13878);
-          if (
-            0 !== (finishedWork.subtreeFlags & 13878) ||
-            suspendedCommitReason
-          ) {
-            suspendedCommitReason = ReactSharedInternals.T;
-            ReactSharedInternals.T = null;
-            completedRenderEndTime = ReactDOMSharedInternals.p;
-            ReactDOMSharedInternals.p = DiscreteEventPriority;
-            recoverableErrors = executionContext;
-            executionContext |= CommitContext;
-            try {
-              commitBeforeMutationEffects(root, finishedWork, lanes);
-            } finally {
-              (executionContext = recoverableErrors),
-                (ReactDOMSharedInternals.p = completedRenderEndTime),
-                (ReactSharedInternals.T = suspendedCommitReason);
-            }
+        recoverableErrors = (lanes & 335544192) === lanes ? 10262 : 10256;
+        0 !== finishedWork.actualDuration ||
+        0 !== (finishedWork.subtreeFlags & recoverableErrors) ||
+        0 !== (finishedWork.flags & recoverableErrors)
+          ? ((root.callbackNode = null),
+            (root.callbackPriority = 0),
+            scheduleCallback$1(NormalPriority$1, function () {
+              schedulerEvent = window.event;
+              flushPassiveEffects(!0);
+              return null;
+            }))
+          : ((root.callbackNode = null), (root.callbackPriority = 0));
+        commitErrors = null;
+        commitStartTime = now();
+        suspendedCommitReason === SUSPENDED_COMMIT
+          ? logSuspendedCommitPhase(completedRenderEndTime, commitStartTime)
+          : suspendedCommitReason === THROTTLED_COMMIT &&
+            logSuspenseThrottlePhase(completedRenderEndTime, commitStartTime);
+        suspendedCommitReason = 0 !== (finishedWork.flags & 13878);
+        if (
+          0 !== (finishedWork.subtreeFlags & 13878) ||
+          suspendedCommitReason
+        ) {
+          suspendedCommitReason = ReactSharedInternals.T;
+          ReactSharedInternals.T = null;
+          completedRenderEndTime = ReactDOMSharedInternals.p;
+          ReactDOMSharedInternals.p = DiscreteEventPriority;
+          recoverableErrors = executionContext;
+          executionContext |= CommitContext;
+          try {
+            commitBeforeMutationEffects(
+              root,
+              finishedWork,
+              lanes,
+              appearingViewTransitions
+            );
+          } finally {
+            (executionContext = recoverableErrors),
+              (ReactDOMSharedInternals.p = completedRenderEndTime),
+              (ReactSharedInternals.T = suspendedCommitReason);
           }
-          finishedWork = shouldStartViewTransition;
-          null !== root.stoppingGestures &&
-            (stopCompletedGestures(root), (finishedWork = !1));
-          pendingEffectsStatus = PENDING_MUTATION_PHASE;
-          (finishedWork &&
-            startViewTransition(
-              root.containerInfo,
-              pendingTransitionTypes,
-              flushMutationEffects,
-              flushLayoutEffects,
-              flushAfterMutationEffects,
-              flushSpawnedWork,
-              flushPassiveEffects
-            )) ||
-            (flushMutationEffects(), flushLayoutEffects(), flushSpawnedWork());
         }
+        pendingEffectsStatus = PENDING_MUTATION_PHASE;
+        (shouldStartViewTransition &&
+          startViewTransition(
+            root.containerInfo,
+            flushMutationEffects,
+            flushLayoutEffects,
+            flushAfterMutationEffects,
+            flushSpawnedWork,
+            flushPassiveEffects
+          )) ||
+          (flushMutationEffects(), flushLayoutEffects(), flushSpawnedWork());
       }
     }
     function flushAfterMutationEffects() {
@@ -17491,14 +17277,14 @@
             (reusableLaneOptions.start = completedRenderEndTime),
             (reusableLaneOptions.end = suspendedCommitReason),
             performance.measure("Commit", reusableLaneOptions));
-        completedRenderEndTime = (lanes & 335544064) === lanes ? 10262 : 10256;
+        completedRenderEndTime = (lanes & 335544192) === lanes ? 10262 : 10256;
         (completedRenderEndTime =
           0 !== finishedWork.actualDuration ||
           0 !== (finishedWork.subtreeFlags & completedRenderEndTime) ||
           0 !== (finishedWork.flags & completedRenderEndTime))
           ? (pendingEffectsStatus = PENDING_PASSIVE_PHASE)
           : ((pendingEffectsStatus = NO_PENDING_EFFECTS),
-            (pendingFinishedWork = pendingEffectsRoot = null),
+            (pendingEffectsRoot = null),
             releaseRootPooledCache(root, root.pendingLanes),
             (nestedPassiveUpdateCount = 0),
             (rootWithPassiveNestedUpdates = null));
@@ -17573,21 +17359,17 @@
           }
         }
         recoverableErrors = pendingViewTransitionEvents;
-        onRecoverableError = pendingTransitionTypes;
-        pendingTransitionTypes = null;
         if (null !== recoverableErrors)
           for (
-            pendingViewTransitionEvents = null,
-              null === onRecoverableError && (onRecoverableError = []),
-              recoverableError = 0;
-            recoverableError < recoverableErrors.length;
-            recoverableError++
+            pendingViewTransitionEvents = null, onRecoverableError = 0;
+            onRecoverableError < recoverableErrors.length;
+            onRecoverableError++
           )
-            (0, recoverableErrors[recoverableError])(onRecoverableError);
+            (0, recoverableErrors[onRecoverableError])();
         0 !== (pendingEffectsLanes & 3) && flushPendingEffects();
         ensureRootIsScheduled(root);
         suspendedCommitReason = root.pendingLanes;
-        0 !== (lanes & 4194090) && 0 !== (suspendedCommitReason & 42)
+        0 !== (lanes & 4194218) && 0 !== (suspendedCommitReason & 42)
           ? ((nestedUpdateScheduled = !0),
             root === rootWithNestedUpdates
               ? nestedUpdateCount++
@@ -17597,71 +17379,6 @@
         flushSyncWorkAcrossRoots_impl(0, !1);
       }
     }
-    function commitGestureOnRoot(root) {
-      var finishedGesture = root.pendingGestures;
-      if (null === finishedGesture) ensureRootIsScheduled(root);
-      else {
-        deleteScheduledGesture(root, finishedGesture);
-        var prevTransition = ReactSharedInternals.T,
-          previousPriority = ReactDOMSharedInternals.p,
-          prevExecutionContext = executionContext;
-        executionContext |= CommitContext;
-        executionContext = prevExecutionContext;
-        ReactDOMSharedInternals.p = previousPriority;
-        ReactSharedInternals.T = prevTransition;
-        pendingTransitionTypes = null;
-        pendingEffectsStatus = PENDING_GESTURE_MUTATION_PHASE;
-        finishedGesture.running = startGestureTransition(
-          root.containerInfo,
-          pendingTransitionTypes,
-          flushGestureMutations,
-          flushGestureAnimations
-        );
-      }
-    }
-    function flushGestureMutations() {
-      if (pendingEffectsStatus === PENDING_GESTURE_MUTATION_PHASE) {
-        pendingEffectsStatus = NO_PENDING_EFFECTS;
-        var root = pendingEffectsRoot,
-          prevTransition = ReactSharedInternals.T;
-        ReactSharedInternals.T = null;
-        var previousPriority = ReactDOMSharedInternals.p;
-        ReactDOMSharedInternals.p = DiscreteEventPriority;
-        var prevExecutionContext = executionContext;
-        executionContext |= CommitContext;
-        try {
-          cancelRootViewTransitionName(root.containerInfo);
-        } finally {
-          (executionContext = prevExecutionContext),
-            (ReactDOMSharedInternals.p = previousPriority),
-            (ReactSharedInternals.T = prevTransition);
-        }
-        pendingEffectsStatus = PENDING_GESTURE_ANIMATION_PHASE;
-      }
-    }
-    function flushGestureAnimations() {
-      flushGestureMutations();
-      if (pendingEffectsStatus === PENDING_GESTURE_ANIMATION_PHASE) {
-        pendingEffectsStatus = NO_PENDING_EFFECTS;
-        var root = pendingEffectsRoot;
-        pendingFinishedWork = pendingEffectsRoot = null;
-        pendingEffectsLanes = 0;
-        var prevTransition = ReactSharedInternals.T;
-        ReactSharedInternals.T = null;
-        var previousPriority = ReactDOMSharedInternals.p;
-        ReactDOMSharedInternals.p = DiscreteEventPriority;
-        var prevExecutionContext = executionContext;
-        executionContext |= CommitContext;
-        try {
-          restoreRootViewTransitionName(root.containerInfo);
-        } finally {
-          (executionContext = prevExecutionContext),
-            (ReactDOMSharedInternals.p = previousPriority),
-            (ReactSharedInternals.T = prevTransition);
-        }
-        ensureRootIsScheduled(root);
-      }
-    }
     function makeErrorInfo(componentStack) {
       componentStack = { componentStack: componentStack };
       Object.defineProperty(componentStack, "digest", {
@@ -17680,8 +17397,6 @@
           ((root.pooledCache = null), releaseCache(remainingLanes)));
     }
     function flushPendingEffects(wasDelayedCommit) {
-      flushGestureMutations();
-      flushGestureAnimations();
       flushMutationEffects();
       flushLayoutEffects();
       flushSpawnedWork();
@@ -17707,7 +17422,7 @@
         priority = pendingEffectsRoot;
         var lanes = pendingEffectsLanes;
         pendingEffectsStatus = NO_PENDING_EFFECTS;
-        pendingFinishedWork = pendingEffectsRoot = null;
+        pendingEffectsRoot = null;
         pendingEffectsLanes = 0;
         if ((executionContext & (RenderContext | CommitContext)) !== NoContext)
           throw Error("Cannot flush passive effects while already rendering.");
@@ -17873,10 +17588,10 @@
       null !== pingCache && pingCache.delete(wakeable);
       root.pingedLanes |= root.suspendedLanes & pingedLanes;
       root.warmLanes &= ~pingedLanes;
-      0 !== (pingedLanes & 3) || 0 !== (pingedLanes & 124)
+      0 !== (pingedLanes & 3) || 0 !== (pingedLanes & 60)
         ? 0 > blockingUpdateTime &&
           (blockingClampTime = blockingUpdateTime = now())
-        : 0 !== (pingedLanes & 4194048) &&
+        : 0 !== (pingedLanes & 4194176) &&
           0 > transitionUpdateTime &&
           (transitionClampTime = transitionUpdateTime = now());
       isConcurrentActEnvironment() &&
@@ -18078,8 +17793,8 @@
                     (1 << (31 - clz32(42 | syncTransitionLanes) + 1)) - 1;
                   nextLanes &= pendingLanes & ~(suspendedLanes & ~pingedLanes);
                   nextLanes =
-                    nextLanes & 201326741
-                      ? (nextLanes & 201326741) | 1
+                    nextLanes & 201326677
+                      ? (nextLanes & 201326677) | 1
                       : nextLanes
                         ? nextLanes | 2
                         : 0;
@@ -18095,7 +17810,7 @@
                     null !== root.cancelPendingCommit ||
                       root.timeoutHandle !== noTimeout
                   )),
-                  (0 === (nextLanes & 3) && 64 !== nextLanes) ||
+                  0 === (nextLanes & 3) ||
                     checkIfRootIsPrerendering(root, nextLanes) ||
                     ((didPerformSomeWork = !0),
                     performSyncWorkOnRoot(root, nextLanes));
@@ -18131,10 +17846,7 @@
             null === prev ? (firstScheduledRoot = next) : (prev.next = next),
             null === next && (lastScheduledRoot = prev);
         else if (
-          ((prev = root),
-          0 !== syncTransitionLanes ||
-            0 !== (nextLanes & 3) ||
-            64 === nextLanes)
+          ((prev = root), 0 !== syncTransitionLanes || 0 !== (nextLanes & 3))
         )
           mightHavePendingSyncWork = !0;
         root = next;
@@ -18568,15 +18280,23 @@
           var nodeTag = targetInst$jscomp$0.tag;
           if (3 === nodeTag || 4 === nodeTag) {
             var container = targetInst$jscomp$0.stateNode.containerInfo;
-            if (container === targetContainer) break;
+            if (
+              container === targetContainer ||
+              (8 === container.nodeType &&
+                container.parentNode === targetContainer)
+            )
+              break;
             if (4 === nodeTag)
               for (nodeTag = targetInst$jscomp$0.return; null !== nodeTag; ) {
                 var grandTag = nodeTag.tag;
-                if (
-                  (3 === grandTag || 4 === grandTag) &&
-                  nodeTag.stateNode.containerInfo === targetContainer
-                )
-                  return;
+                if (3 === grandTag || 4 === grandTag)
+                  if (
+                    ((grandTag = nodeTag.stateNode.containerInfo),
+                    grandTag === targetContainer ||
+                      (8 === grandTag.nodeType &&
+                        grandTag.parentNode === targetContainer))
+                  )
+                    return;
                 nodeTag = nodeTag.return;
               }
             for (; null !== container; ) {
@@ -19220,12 +18940,12 @@
       switch (key) {
         case "children":
           if ("string" === typeof value)
-            validateTextNesting(value, tag, !1),
+            validateTextNesting(value, tag),
               "body" === tag ||
                 ("textarea" === tag && "" === value) ||
                 setTextContent(domElement, value);
           else if ("number" === typeof value || "bigint" === typeof value)
-            validateTextNesting("" + value, tag, !1),
+            validateTextNesting("" + value, tag),
               "body" !== tag && setTextContent(domElement, "" + value);
           else return;
           break;
@@ -21410,58 +21130,22 @@
     function commitTextUpdate(textInstance, oldText, newText) {
       textInstance.nodeValue = newText;
     }
-    function isSingletonScope(type) {
-      return "head" === type;
-    }
     function removeChild(parentInstance, child) {
       parentInstance.removeChild(child);
     }
     function removeChildFromContainer(container, child) {
-      (9 === container.nodeType
-        ? container.body
-        : "HTML" === container.nodeName
-          ? container.ownerDocument.body
-          : container
-      ).removeChild(child);
+      8 === container.nodeType
+        ? container.parentNode.removeChild(child)
+        : container.removeChild(child);
     }
     function clearSuspenseBoundary(parentInstance, suspenseInstance) {
       var node = suspenseInstance,
-        possiblePreambleContribution = 0,
         depth = 0;
       do {
         var nextNode = node.nextSibling;
         parentInstance.removeChild(node);
         if (nextNode && 8 === nextNode.nodeType)
           if (((node = nextNode.data), node === SUSPENSE_END_DATA)) {
-            if (
-              0 < possiblePreambleContribution &&
-              8 > possiblePreambleContribution
-            ) {
-              node = possiblePreambleContribution;
-              var ownerDocument = parentInstance.ownerDocument;
-              node & PREAMBLE_CONTRIBUTION_HTML &&
-                releaseSingletonInstance(ownerDocument.documentElement);
-              node & PREAMBLE_CONTRIBUTION_BODY &&
-                releaseSingletonInstance(ownerDocument.body);
-              if (node & PREAMBLE_CONTRIBUTION_HEAD)
-                for (
-                  node = ownerDocument.head,
-                    releaseSingletonInstance(node),
-                    ownerDocument = node.firstChild;
-                  ownerDocument;
-
-                ) {
-                  var nextNode$jscomp$0 = ownerDocument.nextSibling,
-                    nodeName = ownerDocument.nodeName;
-                  ownerDocument[internalHoistableMarker] ||
-                    "SCRIPT" === nodeName ||
-                    "STYLE" === nodeName ||
-                    ("LINK" === nodeName &&
-                      "stylesheet" === ownerDocument.rel.toLowerCase()) ||
-                    node.removeChild(ownerDocument);
-                  ownerDocument = nextNode$jscomp$0;
-                }
-            }
             if (0 === depth) {
               parentInstance.removeChild(nextNode);
               retryIfBlockedOn(suspenseInstance);
@@ -21469,12 +21153,10 @@
             }
             depth--;
           } else
-            node === SUSPENSE_START_DATA ||
-            node === SUSPENSE_PENDING_START_DATA ||
-            node === SUSPENSE_FALLBACK_START_DATA
-              ? depth++
-              : (possiblePreambleContribution = node.charCodeAt(0) - 48);
-        else possiblePreambleContribution = 0;
+            (node !== SUSPENSE_START_DATA &&
+              node !== SUSPENSE_PENDING_START_DATA &&
+              node !== SUSPENSE_FALLBACK_START_DATA) ||
+              depth++;
         node = nextNode;
       } while (node);
       retryIfBlockedOn(suspenseInstance);
@@ -21525,36 +21207,6 @@
       instance.style.viewTransitionClass =
         null == props || "boolean" === typeof props ? "" : ("" + props).trim();
     }
-    function cancelRootViewTransitionName(rootContainer) {
-      rootContainer =
-        9 === rootContainer.nodeType
-          ? rootContainer.documentElement
-          : rootContainer.ownerDocument.documentElement;
-      null !== rootContainer &&
-        "" === rootContainer.style.viewTransitionName &&
-        ((rootContainer.style.viewTransitionName = "none"),
-        rootContainer.animate(
-          { opacity: [0, 0], pointerEvents: ["none", "none"] },
-          {
-            duration: 0,
-            fill: "forwards",
-            pseudoElement: "::view-transition-group(root)"
-          }
-        ),
-        rootContainer.animate(
-          { width: [0, 0], height: [0, 0] },
-          { duration: 0, fill: "forwards", pseudoElement: "::view-transition" }
-        ));
-    }
-    function restoreRootViewTransitionName(rootContainer) {
-      rootContainer =
-        9 === rootContainer.nodeType
-          ? rootContainer.documentElement
-          : rootContainer.ownerDocument.documentElement;
-      null !== rootContainer &&
-        "none" === rootContainer.style.viewTransitionName &&
-        (rootContainer.style.viewTransitionName = "");
-    }
     function measureInstance(instance) {
       var ownerWindow = instance.ownerDocument.defaultView,
         rect = instance.getBoundingClientRect();
@@ -21578,7 +21230,6 @@
     }
     function startViewTransition(
       rootContainer,
-      transitionTypes,
       mutationCallback,
       layoutCallback,
       afterMutationCallback,
@@ -21625,7 +21276,7 @@
               );
             afterMutationCallback();
           },
-          types: transitionTypes
+          types: null
         });
         ownerDocument.__reactViewTransition = transition;
         transition.ready.then(void 0, function (reason) {
@@ -21638,8 +21289,7 @@
         });
         transition.ready.then(spawnedWorkCallback, spawnedWorkCallback);
         transition.finished.then(function () {
-          ownerDocument.__reactViewTransition === transition &&
-            (ownerDocument.__reactViewTransition = null);
+          ownerDocument.__reactViewTransition = null;
           passiveCallback();
         });
         return !0;
@@ -21647,42 +21297,6 @@
         return !1;
       }
     }
-    function startGestureTransition(
-      rootContainer,
-      transitionTypes,
-      mutationCallback,
-      animateCallback
-    ) {
-      var ownerDocument =
-        9 === rootContainer.nodeType
-          ? rootContainer
-          : rootContainer.ownerDocument;
-      try {
-        var transition = ownerDocument.startViewTransition({
-          update: mutationCallback,
-          types: transitionTypes
-        });
-        ownerDocument.__reactViewTransition = transition;
-        var blockingAnim = null;
-        rootContainer = function () {
-          blockingAnim = ownerDocument.documentElement.animate([{}, {}], {
-            pseudoElement: "::view-transition",
-            duration: 1
-          });
-          blockingAnim.pause();
-          animateCallback();
-        };
-        transition.ready.then(rootContainer, rootContainer);
-        transition.finished.then(function () {
-          null !== blockingAnim && blockingAnim.cancel();
-          ownerDocument.__reactViewTransition === transition &&
-            (ownerDocument.__reactViewTransition = null);
-        });
-        return transition;
-      } catch (x) {
-        return mutationCallback(), animateCallback(), null;
-      }
-    }
     function ViewTransitionPseudoElement(pseudo, name) {
       this._scope = document.documentElement;
       this._selector = "::view-transition-" + pseudo + "(" + name + ")";
@@ -21696,50 +21310,6 @@
         new: new ViewTransitionPseudoElement("new", name)
       };
     }
-    function getCurrentGestureOffset(provider) {
-      provider = provider.currentTime;
-      if (null === provider)
-        throw Error(
-          "Cannot start a gesture with a disconnected AnimationTimeline."
-        );
-      return "number" === typeof provider ? provider : provider.value;
-    }
-    function subscribeToGestureDirection(
-      provider,
-      currentOffset,
-      directionCallback
-    ) {
-      function rafCallback() {
-        var newTime = provider.currentTime;
-        null !== newTime &&
-          ((newTime = "number" === typeof newTime ? newTime : newTime.value),
-          newTime !== currentOffset &&
-            directionCallback(newTime > currentOffset));
-        callbackID = requestAnimationFrame(rafCallback);
-      }
-      if (
-        "function" === typeof ScrollTimeline &&
-        provider instanceof ScrollTimeline
-      ) {
-        var element = provider.source,
-          scrollCallback = function () {
-            var newTime = provider.currentTime;
-            null !== newTime &&
-              ((newTime =
-                "number" === typeof newTime ? newTime : newTime.value),
-              newTime !== currentOffset &&
-                directionCallback(newTime > currentOffset));
-          };
-        element.addEventListener("scroll", scrollCallback, !1);
-        return function () {
-          element.removeEventListener("scroll", scrollCallback, !1);
-        };
-      }
-      var callbackID = requestAnimationFrame(rafCallback);
-      return function () {
-        cancelAnimationFrame(callbackID);
-      };
-    }
     function clearContainerSparingly(container) {
       var nextNode = container.firstChild;
       nextNode && 10 === nextNode.nodeType && (nextNode = nextNode.nextSibling);
@@ -22015,10 +21585,7 @@
       instance,
       internalInstanceHandle
     ) {
-      if (
-        !instance[internalContainerInstanceKey] &&
-        getInstanceFromNode(instance)
-      ) {
+      if (getInstanceFromNode(instance)) {
         var tagName = instance.tagName.toLowerCase();
         console.error(
           "You are mounting a new %s component when a previous one has not first unmounted. It is an error to render more than one %s component at a time and attributes and children of these components will likely fail in unpredictable ways. Please only render a single instance of <%s> and if you need to mount a new one, ensure any previous ones have unmounted first.",
@@ -22043,17 +21610,10 @@
       instance[internalInstanceKey] = internalInstanceHandle;
       instance[internalPropsKey] = props;
     }
-    function releaseSingletonInstance(instance) {
-      for (var attributes = instance.attributes; attributes.length; )
-        instance.removeAttributeNode(attributes[0]);
-      detachDeletedInstance(instance);
-    }
     function getHoistableRoot(container) {
       return "function" === typeof container.getRootNode
         ? container.getRootNode()
-        : 9 === container.nodeType
-          ? container
-          : container.ownerDocument;
+        : container.ownerDocument;
     }
     function preconnectAs(rel, href, crossOrigin) {
       var ownerDocument = globalDocument;
@@ -22775,7 +22335,6 @@
       this.pooledCache = null;
       this.pooledCacheLanes = 0;
       this.formState = formState;
-      this.stoppingGestures = this.pendingGestures = null;
       this.incompleteTransitions = new Map();
       this.passiveEffectDuration = this.effectDuration = -0;
       this.memoizedUpdaters = new Set();
@@ -23602,7 +23161,7 @@
       clz32 = Math.clz32 ? Math.clz32 : clz32Fallback,
       log = Math.log,
       LN2 = Math.LN2,
-      nextTransitionLane = 256,
+      nextTransitionLane = 128,
       nextRetryLane = 4194304,
       DiscreteEventPriority = 2,
       ContinuousEventPriority = 8,
@@ -23681,8 +23240,7 @@
         pTagInButtonScope: null,
         listItemTagAutoclosing: null,
         dlItemTagAutoclosing: null,
-        containerTagInScope: null,
-        implicitRootScope: !1
+        containerTagInScope: null
       },
       didWarn = {},
       shorthandToLonghand = {
@@ -25329,7 +24887,6 @@
         useCacheRefresh: throwInvalidHookError
       };
     ContextOnlyDispatcher.useEffectEvent = throwInvalidHookError;
-    ContextOnlyDispatcher.useSwipeTransition = throwInvalidHookError;
     var HooksDispatcherOnMountInDEV = null,
       HooksDispatcherOnMountWithHookTypesInDEV = null,
       HooksDispatcherOnUpdateInDEV = null,
@@ -25353,11 +24910,11 @@
         mountHookTypesDev();
         return readContext(context);
       },
-      useEffect: function (create, createDeps) {
+      useEffect: function (create, deps) {
         currentHookNameInDev = "useEffect";
         mountHookTypesDev();
-        checkDepsAreArrayDev(createDeps);
-        return mountEffect(create, createDeps);
+        checkDepsAreArrayDev(deps);
+        return mountEffect(create, deps);
       },
       useImperativeHandle: function (ref, create, deps) {
         currentHookNameInDev = "useImperativeHandle";
@@ -25475,11 +25032,6 @@
         currentHookNameInDev = "useEffectEvent";
         mountHookTypesDev();
         return mountEvent(callback);
-      },
-      useSwipeTransition: function (previous, current) {
-        currentHookNameInDev = "useSwipeTransition";
-        mountHookTypesDev();
-        return mountSwipeTransition(previous, current);
       }
     };
     HooksDispatcherOnMountWithHookTypesInDEV = {
@@ -25497,10 +25049,10 @@
         updateHookTypesDev();
         return readContext(context);
       },
-      useEffect: function (create, createDeps) {
+      useEffect: function (create, deps) {
         currentHookNameInDev = "useEffect";
         updateHookTypesDev();
-        return mountEffect(create, createDeps);
+        return mountEffect(create, deps);
       },
       useImperativeHandle: function (ref, create, deps) {
         currentHookNameInDev = "useImperativeHandle";
@@ -25614,11 +25166,6 @@
         currentHookNameInDev = "useEffectEvent";
         updateHookTypesDev();
         return mountEvent(callback);
-      },
-      useSwipeTransition: function (previous, current, next) {
-        currentHookNameInDev = "useSwipeTransition";
-        updateHookTypesDev();
-        return updateSwipeTransition(previous, current, next);
       }
     };
     HooksDispatcherOnUpdateInDEV = {
@@ -25636,10 +25183,10 @@
         updateHookTypesDev();
         return readContext(context);
       },
-      useEffect: function (create, createDeps) {
+      useEffect: function (create, deps) {
         currentHookNameInDev = "useEffect";
         updateHookTypesDev();
-        updateEffectImpl(2048, Passive, create, createDeps);
+        updateEffectImpl(2048, Passive, create, deps);
       },
       useImperativeHandle: function (ref, create, deps) {
         currentHookNameInDev = "useImperativeHandle";
@@ -25753,11 +25300,6 @@
         currentHookNameInDev = "useEffectEvent";
         updateHookTypesDev();
         return updateEvent(callback);
-      },
-      useSwipeTransition: function (previous, current, next) {
-        currentHookNameInDev = "useSwipeTransition";
-        updateHookTypesDev();
-        return updateSwipeTransition(previous, current, next);
       }
     };
     HooksDispatcherOnRerenderInDEV = {
@@ -25775,10 +25317,10 @@
         updateHookTypesDev();
         return readContext(context);
       },
-      useEffect: function (create, createDeps) {
+      useEffect: function (create, deps) {
         currentHookNameInDev = "useEffect";
         updateHookTypesDev();
-        updateEffectImpl(2048, Passive, create, createDeps);
+        updateEffectImpl(2048, Passive, create, deps);
       },
       useImperativeHandle: function (ref, create, deps) {
         currentHookNameInDev = "useImperativeHandle";
@@ -25892,11 +25434,6 @@
         currentHookNameInDev = "useEffectEvent";
         updateHookTypesDev();
         return updateEvent(callback);
-      },
-      useSwipeTransition: function (previous, current, next) {
-        currentHookNameInDev = "useSwipeTransition";
-        updateHookTypesDev();
-        return updateSwipeTransition(previous, current, next);
       }
     };
     InvalidNestedHooksDispatcherOnMountInDEV = {
@@ -25920,11 +25457,11 @@
         mountHookTypesDev();
         return readContext(context);
       },
-      useEffect: function (create, createDeps) {
+      useEffect: function (create, deps) {
         currentHookNameInDev = "useEffect";
         warnInvalidHookAccess();
         mountHookTypesDev();
-        return mountEffect(create, createDeps);
+        return mountEffect(create, deps);
       },
       useImperativeHandle: function (ref, create, deps) {
         currentHookNameInDev = "useImperativeHandle";
@@ -26056,12 +25593,6 @@
         warnInvalidHookAccess();
         mountHookTypesDev();
         return mountEvent(callback);
-      },
-      useSwipeTransition: function (previous, current) {
-        currentHookNameInDev = "useSwipeTransition";
-        warnInvalidHookAccess();
-        mountHookTypesDev();
-        return mountSwipeTransition(previous, current);
       }
     };
     InvalidNestedHooksDispatcherOnUpdateInDEV = {
@@ -26085,11 +25616,11 @@
         updateHookTypesDev();
         return readContext(context);
       },
-      useEffect: function (create, createDeps) {
+      useEffect: function (create, deps) {
         currentHookNameInDev = "useEffect";
         warnInvalidHookAccess();
         updateHookTypesDev();
-        updateEffectImpl(2048, Passive, create, createDeps);
+        updateEffectImpl(2048, Passive, create, deps);
       },
       useImperativeHandle: function (ref, create, deps) {
         currentHookNameInDev = "useImperativeHandle";
@@ -26221,12 +25752,6 @@
         warnInvalidHookAccess();
         updateHookTypesDev();
         return updateEvent(callback);
-      },
-      useSwipeTransition: function (previous, current, next) {
-        currentHookNameInDev = "useSwipeTransition";
-        warnInvalidHookAccess();
-        updateHookTypesDev();
-        return updateSwipeTransition(previous, current, next);
       }
     };
     InvalidNestedHooksDispatcherOnRerenderInDEV = {
@@ -26250,11 +25775,11 @@
         updateHookTypesDev();
         return readContext(context);
       },
-      useEffect: function (create, createDeps) {
+      useEffect: function (create, deps) {
         currentHookNameInDev = "useEffect";
         warnInvalidHookAccess();
         updateHookTypesDev();
-        updateEffectImpl(2048, Passive, create, createDeps);
+        updateEffectImpl(2048, Passive, create, deps);
       },
       useImperativeHandle: function (ref, create, deps) {
         currentHookNameInDev = "useImperativeHandle";
@@ -26386,12 +25911,6 @@
         warnInvalidHookAccess();
         updateHookTypesDev();
         return updateEvent(callback);
-      },
-      useSwipeTransition: function (previous, current, next) {
-        currentHookNameInDev = "useSwipeTransition";
-        warnInvalidHookAccess();
-        updateHookTypesDev();
-        return updateSwipeTransition(previous, current, next);
       }
     };
     var callComponent = {
@@ -26480,7 +25999,7 @@
         "react-stack-bottom-frame": function (effect) {
           null != effect.resourceKind &&
             console.error(
-              "Expected only SimpleEffects when enableUseEffectCRUDOverload is disabled, got %s",
+              "Expected only SimpleEffects when enableUseResourceEffectHook is disabled, got %s",
               effect.resourceKind
             );
           var create = effect.create;
@@ -26630,18 +26149,17 @@
       hasWarnedAboutUsingNoValuePropOnContextProvider = !1,
       didWarnAboutUndefinedSnapshotBeforeUpdate = null;
     didWarnAboutUndefinedSnapshotBeforeUpdate = new Set();
-    var shouldStartViewTransition = !1,
-      appearingViewTransitions = null,
-      viewTransitionCancelableChildren = null,
-      viewTransitionHostInstanceIdx = 0,
-      offscreenSubtreeIsHidden = !1,
+    var offscreenSubtreeIsHidden = !1,
       offscreenSubtreeWasHidden = !1,
       needsFormReset = !1,
       PossiblyWeakSet = "function" === typeof WeakSet ? WeakSet : Set,
       nextEffect = null,
       inProgressLanes = null,
       inProgressRoot = null,
+      shouldStartViewTransition = !1,
       viewTransitionContextChanged = !1,
+      viewTransitionCancelableChildren = null,
+      viewTransitionHostInstanceIdx = 0,
       hostParent = null,
       hostParentIsContainer = !1,
       currentHoistableRoot = null,
@@ -26727,6 +26245,7 @@
       workInProgressSuspendedRetryLanes = 0,
       workInProgressRootConcurrentErrors = null,
       workInProgressRootRecoverableErrors = null,
+      workInProgressAppearingViewTransitions = null,
       workInProgressRootDidIncludeRecursiveRenderUpdate = !1,
       globalMostRecentFallbackTime = 0,
       FALLBACK_THROTTLE_MS = 300,
@@ -26743,8 +26262,6 @@
       PENDING_AFTER_MUTATION_PHASE = 3,
       PENDING_SPAWNED_WORK = 4,
       PENDING_PASSIVE_PHASE = 5,
-      PENDING_GESTURE_MUTATION_PHASE = 6,
-      PENDING_GESTURE_ANIMATION_PHASE = 7,
       pendingEffectsStatus = 0,
       pendingEffectsRoot = null,
       pendingFinishedWork = null,
@@ -26754,7 +26271,6 @@
       pendingPassiveTransitions = null,
       pendingRecoverableErrors = null,
       pendingViewTransitionEvents = null,
-      pendingTransitionTypes = null,
       pendingSuspendedCommitReason = IMMEDIATE_COMMIT,
       NESTED_UPDATE_LIMIT = 50,
       nestedUpdateCount = 0,
@@ -26858,9 +26374,6 @@
       SUSPENSE_END_DATA = "/$",
       SUSPENSE_PENDING_START_DATA = "$?",
       SUSPENSE_FALLBACK_START_DATA = "$!",
-      PREAMBLE_CONTRIBUTION_HTML = 1,
-      PREAMBLE_CONTRIBUTION_BODY = 2,
-      PREAMBLE_CONTRIBUTION_HEAD = 4,
       FORM_STATE_IS_MATCHING = "F!",
       FORM_STATE_IS_NOT_MATCHING = "F",
       DOCUMENT_READY_STATE_COMPLETE = "complete",
@@ -26919,8 +26432,7 @@
       }
       return result;
     };
-    var previousHydratableOnEnteringScopedSingleton = null,
-      NotLoaded = 0,
+    var NotLoaded = 0,
       Loaded = 1,
       Errored = 2,
       Settled = 3,
@@ -27335,11 +26847,11 @@
     };
     (function () {
       var isomorphicReactPackageVersion = React.version;
-      if ("19.1.0-experimental-d55cc79b-20250228" !== isomorphicReactPackageVersion)
+      if ("19.1.0-experimental-b3a95caf-20250113" !== isomorphicReactPackageVersion)
         throw Error(
           'Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:\n  - react:      ' +
             (isomorphicReactPackageVersion +
-              "\n  - react-dom:  19.1.0-experimental-d55cc79b-20250228\nLearn more: https://react.dev/warnings/version-mismatch")
+              "\n  - react-dom:  19.1.0-experimental-b3a95caf-20250113\nLearn more: https://react.dev/warnings/version-mismatch")
         );
     })();
     ("function" === typeof Map &&
@@ -27376,10 +26888,10 @@
       !(function () {
         var internals = {
           bundleType: 1,
-          version: "19.1.0-experimental-d55cc79b-20250228",
+          version: "19.1.0-experimental-b3a95caf-20250113",
           rendererPackageName: "react-dom",
           currentDispatcherRef: ReactSharedInternals,
-          reconcilerVersion: "19.1.0-experimental-d55cc79b-20250228"
+          reconcilerVersion: "19.1.0-experimental-b3a95caf-20250113"
         };
         internals.overrideHookState = overrideHookState;
         internals.overrideHookStateDeletePath = overrideHookStateDeletePath;
@@ -27498,7 +27010,9 @@
         null
       );
       container[internalContainerInstanceKey] = options.current;
-      listenToAllSupportedEvents(container);
+      listenToAllSupportedEvents(
+        8 === container.nodeType ? container.parentNode : container
+      );
       return new ReactDOMRoot(options);
     };
     exports.flushSync = function (fn) {
@@ -27851,7 +27365,7 @@
     exports.useFormStatus = function () {
       return resolveDispatcher().useHostTransitionStatus();
     };
-    exports.version = "19.1.0-experimental-d55cc79b-20250228";
+    exports.version = "19.1.0-experimental-b3a95caf-20250113";
     "undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&
       "function" ===
         typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&
diff --git a/node_modules/react-dom/cjs/react-dom-profiling.profiling.js b/node_modules/react-dom/cjs/react-dom-profiling.profiling.js
index 531ff92..4c639a6 100644
--- a/node_modules/react-dom/cjs/react-dom-profiling.profiling.js
+++ b/node_modules/react-dom/cjs/react-dom-profiling.profiling.js
@@ -321,36 +321,38 @@ function pushHostContainer(fiber, nextRootInstance) {
   push(rootInstanceStackCursor, nextRootInstance);
   push(contextFiberStackCursor, fiber);
   push(contextStackCursor, null);
-  switch (nextRootInstance.nodeType) {
+  fiber = nextRootInstance.nodeType;
+  switch (fiber) {
     case 9:
     case 11:
-      fiber = (fiber = nextRootInstance.documentElement)
-        ? (fiber = fiber.namespaceURI)
-          ? getOwnHostContext(fiber)
+      nextRootInstance = (nextRootInstance = nextRootInstance.documentElement)
+        ? (nextRootInstance = nextRootInstance.namespaceURI)
+          ? getOwnHostContext(nextRootInstance)
           : 0
         : 0;
       break;
     default:
       if (
-        ((fiber = nextRootInstance.tagName),
-        (nextRootInstance = nextRootInstance.namespaceURI))
+        ((fiber = 8 === fiber ? nextRootInstance.parentNode : nextRootInstance),
+        (nextRootInstance = fiber.tagName),
+        (fiber = fiber.namespaceURI))
       )
-        (nextRootInstance = getOwnHostContext(nextRootInstance)),
-          (fiber = getChildHostContextProd(nextRootInstance, fiber));
+        (fiber = getOwnHostContext(fiber)),
+          (nextRootInstance = getChildHostContextProd(fiber, nextRootInstance));
       else
-        switch (fiber) {
+        switch (nextRootInstance) {
           case "svg":
-            fiber = 1;
+            nextRootInstance = 1;
             break;
           case "math":
-            fiber = 2;
+            nextRootInstance = 2;
             break;
           default:
-            fiber = 0;
+            nextRootInstance = 0;
         }
   }
   pop(contextStackCursor);
-  push(contextStackCursor, fiber);
+  push(contextStackCursor, nextRootInstance);
 }
 function popHostContainer() {
   pop(contextStackCursor);
@@ -403,7 +405,7 @@ function clz32Fallback(x) {
   x >>>= 0;
   return 0 === x ? 32 : (31 - ((log(x) / LN2) | 0)) | 0;
 }
-var nextTransitionLane = 256,
+var nextTransitionLane = 128,
   nextRetryLane = 4194304;
 function getHighestPriorityLanes(lanes) {
   var pendingSyncLanes = lanes & 42;
@@ -424,7 +426,6 @@ function getHighestPriorityLanes(lanes) {
     case 64:
       return 64;
     case 128:
-      return 128;
     case 256:
     case 512:
     case 1024:
@@ -439,7 +440,7 @@ function getHighestPriorityLanes(lanes) {
     case 524288:
     case 1048576:
     case 2097152:
-      return lanes & 4194048;
+      return lanes & 4194176;
     case 4194304:
     case 8388608:
     case 16777216:
@@ -495,7 +496,7 @@ function getNextLanes(root, wipLanes, rootHasPendingCommit) {
         ((suspendedLanes = nextLanes & -nextLanes),
         (rootHasPendingCommit = wipLanes & -wipLanes),
         suspendedLanes >= rootHasPendingCommit ||
-          (32 === suspendedLanes && 0 !== (rootHasPendingCommit & 4194048)))
+          (32 === suspendedLanes && 0 !== (rootHasPendingCommit & 4194176)))
       ? wipLanes
       : nextLanes;
 }
@@ -513,10 +514,10 @@ function computeExpirationTime(lane, currentTime) {
     case 2:
     case 4:
     case 8:
-    case 64:
       return currentTime + 250;
     case 16:
     case 32:
+    case 64:
     case 128:
     case 256:
     case 512:
@@ -551,7 +552,7 @@ function computeExpirationTime(lane, currentTime) {
 function claimNextTransitionLane() {
   var lane = nextTransitionLane;
   nextTransitionLane <<= 1;
-  0 === (nextTransitionLane & 4194048) && (nextTransitionLane = 256);
+  0 === (nextTransitionLane & 4194176) && (nextTransitionLane = 128);
   return lane;
 }
 function claimNextRetryLane() {
@@ -625,7 +626,7 @@ function markSpawnedDeferredLane(root, spawnedLane, entangledLanes) {
   root.entanglements[spawnedLaneIndex] =
     root.entanglements[spawnedLaneIndex] |
     1073741824 |
-    (entangledLanes & 4194090);
+    (entangledLanes & 4194218);
 }
 function markRootEntangled(root, entangledLanes) {
   var rootEntangledLanes = (root.entangledLanes |= entangledLanes);
@@ -648,6 +649,7 @@ function getBumpedLaneForHydrationByLane(lane) {
     case 32:
       lane = 16;
       break;
+    case 128:
     case 256:
     case 512:
     case 1024:
@@ -666,7 +668,7 @@ function getBumpedLaneForHydrationByLane(lane) {
     case 8388608:
     case 16777216:
     case 33554432:
-      lane = 128;
+      lane = 64;
       break;
     case 268435456:
       lane = 134217728;
@@ -2114,19 +2116,19 @@ function getTargetInstForChangeEvent(domEventName, targetInst) {
 }
 var isInputEventSupported = !1;
 if (canUseDOM) {
-  var JSCompiler_inline_result$jscomp$311;
+  var JSCompiler_inline_result$jscomp$308;
   if (canUseDOM) {
-    var isSupported$jscomp$inline_450 = "oninput" in document;
-    if (!isSupported$jscomp$inline_450) {
-      var element$jscomp$inline_451 = document.createElement("div");
-      element$jscomp$inline_451.setAttribute("oninput", "return;");
-      isSupported$jscomp$inline_450 =
-        "function" === typeof element$jscomp$inline_451.oninput;
+    var isSupported$jscomp$inline_447 = "oninput" in document;
+    if (!isSupported$jscomp$inline_447) {
+      var element$jscomp$inline_448 = document.createElement("div");
+      element$jscomp$inline_448.setAttribute("oninput", "return;");
+      isSupported$jscomp$inline_447 =
+        "function" === typeof element$jscomp$inline_448.oninput;
     }
-    JSCompiler_inline_result$jscomp$311 = isSupported$jscomp$inline_450;
-  } else JSCompiler_inline_result$jscomp$311 = !1;
+    JSCompiler_inline_result$jscomp$308 = isSupported$jscomp$inline_447;
+  } else JSCompiler_inline_result$jscomp$308 = !1;
   isInputEventSupported =
-    JSCompiler_inline_result$jscomp$311 &&
+    JSCompiler_inline_result$jscomp$308 &&
     (!document.documentMode || 9 < document.documentMode);
 }
 function stopWatchingForValueChange() {
@@ -2438,11 +2440,6 @@ function enqueueConcurrentRenderForLane(fiber, lane) {
   enqueueUpdate$1(fiber, null, null, lane);
   return getRootForUpdatedFiber(fiber);
 }
-function enqueueGestureRender(fiber) {
-  fiber = markUpdateLaneFromFiberToRoot(fiber, null, 64);
-  null !== fiber && markRootUpdated$1(fiber, 64);
-  return fiber;
-}
 function markUpdateLaneFromFiberToRoot(sourceFiber, update, lane) {
   sourceFiber.lanes |= lane;
   var alternate = sourceFiber.alternate;
@@ -2456,19 +2453,17 @@ function markUpdateLaneFromFiberToRoot(sourceFiber, update, lane) {
         null === sourceFiber || sourceFiber._visibility & 1 || (isHidden = !0)),
       (sourceFiber = parent),
       (parent = parent.return);
-  return 3 === sourceFiber.tag
-    ? ((parent = sourceFiber.stateNode),
-      isHidden &&
-        null !== update &&
-        ((isHidden = 31 - clz32(lane)),
-        (sourceFiber = parent.hiddenUpdates),
-        (alternate = sourceFiber[isHidden]),
-        null === alternate
-          ? (sourceFiber[isHidden] = [update])
-          : alternate.push(update),
-        (update.lane = lane | 536870912)),
-      parent)
-    : null;
+  isHidden &&
+    null !== update &&
+    3 === sourceFiber.tag &&
+    ((parent = sourceFiber.stateNode),
+    (isHidden = 31 - clz32(lane)),
+    (parent = parent.hiddenUpdates),
+    (sourceFiber = parent[isHidden]),
+    null === sourceFiber
+      ? (parent[isHidden] = [update])
+      : sourceFiber.push(update),
+    (update.lane = lane | 536870912));
 }
 function getRootForUpdatedFiber(sourceFiber) {
   if (50 < nestedUpdateCount)
@@ -2524,7 +2519,7 @@ function startUpdateTimerByLane(lane) {
       (blockingEventTime = lane),
       (blockingEventType = JSCompiler_temp));
   else if (
-    0 !== (lane & 4194048) &&
+    0 !== (lane & 4194176) &&
     0 > transitionUpdateTime &&
     ((transitionUpdateTime = now()), 0 > transitionStartTime)
   ) {
@@ -2638,9 +2633,9 @@ var supportsUserTiming =
   };
 function setCurrentTrackFromLanes(lanes) {
   reusableLaneDevToolDetails.track =
-    lanes & 127
+    lanes & 63
       ? "Blocking"
-      : lanes & 4194176
+      : lanes & 4194240
         ? "Transition"
         : lanes & 62914560
           ? "Suspense"
@@ -2770,13 +2765,13 @@ function logComponentEffect(fiber, startTime, endTime, selfTime, errors) {
 function logRenderPhase(startTime, endTime, lanes) {
   supportsUserTiming &&
     ((reusableLaneDevToolDetails.color =
-      (lanes & 738197653) === lanes ? "tertiary-dark" : "primary-dark"),
+      (lanes & 738197589) === lanes ? "tertiary-dark" : "primary-dark"),
     (reusableLaneOptions.start = startTime),
     (reusableLaneOptions.end = endTime),
     performance.measure(
       (lanes & 536870912) === lanes
         ? "Prepared"
-        : (lanes & 201326741) === lanes
+        : (lanes & 201326677) === lanes
           ? "Hydrated"
           : "Render",
       reusableLaneOptions
@@ -2785,7 +2780,7 @@ function logRenderPhase(startTime, endTime, lanes) {
 function logSuspendedRenderPhase(startTime, endTime, lanes) {
   supportsUserTiming &&
     ((reusableLaneDevToolDetails.color =
-      (lanes & 738197653) === lanes ? "tertiary-dark" : "primary-dark"),
+      (lanes & 738197589) === lanes ? "tertiary-dark" : "primary-dark"),
     (reusableLaneOptions.start = startTime),
     (reusableLaneOptions.end = endTime),
     performance.measure("Prewarm", reusableLaneOptions));
@@ -2793,7 +2788,7 @@ function logSuspendedRenderPhase(startTime, endTime, lanes) {
 function logSuspendedWithDelayPhase(startTime, endTime, lanes) {
   supportsUserTiming &&
     ((reusableLaneDevToolDetails.color =
-      (lanes & 738197653) === lanes ? "tertiary-dark" : "primary-dark"),
+      (lanes & 738197589) === lanes ? "tertiary-dark" : "primary-dark"),
     (reusableLaneOptions.start = startTime),
     (reusableLaneOptions.end = endTime),
     performance.measure("Suspended", reusableLaneOptions));
@@ -3106,7 +3101,7 @@ function enqueueUpdate(fiber, update, lane) {
 }
 function entangleTransitions(root, fiber, lane) {
   fiber = fiber.updateQueue;
-  if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194048))) {
+  if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194176))) {
     var queueLanes = fiber.lanes;
     queueLanes &= root.pendingLanes;
     lane |= queueLanes;
@@ -3655,76 +3650,6 @@ function getSuspendedCache() {
     ? null
     : { parent: CacheContext._currentValue, pool: cacheFromPool };
 }
-function scheduleGesture(
-  root,
-  provider,
-  initialDirection,
-  rangePrevious,
-  rangeCurrent,
-  rangeNext
-) {
-  for (var prev = root.pendingGestures; null !== prev; ) {
-    if (prev.provider === provider) return prev.count++, prev;
-    var next = prev.next;
-    if (null === next) break;
-    prev = next;
-  }
-  var isFlippedDirection = rangePrevious > rangeNext;
-  next = subscribeToGestureDirection(
-    provider,
-    rangeCurrent,
-    function (direction) {
-      isFlippedDirection && (direction = !direction);
-      gesture.direction !== direction &&
-        ((gesture.direction = direction),
-        null === gesture.prev &&
-          root.pendingGestures !== gesture &&
-          ((direction = root.pendingGestures),
-          (gesture.next = direction),
-          null !== direction && (direction.prev = gesture),
-          (root.pendingGestures = gesture),
-          (root.pendingLanes |= 64),
-          ensureRootIsScheduled(root)));
-    }
-  );
-  var gesture = {
-    provider: provider,
-    count: 1,
-    direction: initialDirection,
-    rangePrevious: rangePrevious,
-    rangeCurrent: rangeCurrent,
-    rangeNext: rangeNext,
-    cancel: next,
-    running: null,
-    prev: prev,
-    next: null
-  };
-  null === prev ? (root.pendingGestures = gesture) : (prev.next = gesture);
-  ensureRootIsScheduled(root);
-  return gesture;
-}
-function deleteScheduledGesture(root, gesture) {
-  null === gesture.prev
-    ? (root.pendingGestures === gesture &&
-        ((root.pendingGestures = gesture.next),
-        null === root.pendingGestures && (root.pendingLanes &= -65)),
-      root.stoppingGestures === gesture &&
-        (root.stoppingGestures = gesture.next))
-    : ((gesture.prev.next = gesture.next),
-      null !== gesture.next && (gesture.next.prev = gesture.prev),
-      (gesture.prev = null),
-      (gesture.next = null));
-}
-function stopCompletedGestures(root) {
-  var gesture = root.stoppingGestures;
-  for (root.stoppingGestures = null; null !== gesture; )
-    null !== gesture.running &&
-      (gesture.running.skipTransition(), (gesture.running = null)),
-      (root = gesture.next),
-      (gesture.next = null),
-      (gesture.prev = null),
-      (gesture = root);
-}
 var renderLanes = 0,
   currentlyRenderingFiber = null,
   currentHook = null,
@@ -4109,8 +4034,9 @@ function updateSyncExternalStore(subscribe, getSnapshot, getServerSnapshot) {
   snapshotChanged &&
     ((hook.memoizedState = getServerSnapshot), (didReceiveUpdate = !0));
   hook = hook.queue;
-  var create = subscribeToStore.bind(null, fiber, hook, subscribe);
-  updateEffectImpl(2048, 8, create, [subscribe]);
+  updateEffect(subscribeToStore.bind(null, fiber, hook, subscribe), [
+    subscribe
+  ]);
   if (
     hook.getSnapshot !== getSnapshot ||
     snapshotChanged ||
@@ -4131,7 +4057,7 @@ function updateSyncExternalStore(subscribe, getSnapshot, getServerSnapshot) {
     );
     if (null === workInProgressRoot) throw Error(formatProdErrorMessage(349));
     isHydrating$jscomp$0 ||
-      0 !== (renderLanes & 124) ||
+      0 !== (renderLanes & 60) ||
       pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);
   }
   return getServerSnapshot;
@@ -4458,8 +4384,8 @@ function rerenderActionState(action) {
   currentStateHook.memoizedState = action;
   return [stateHook, dispatch, !1];
 }
-function pushSimpleEffect(tag, inst, create, createDeps) {
-  tag = { tag: tag, create: create, deps: createDeps, inst: inst, next: null };
+function pushSimpleEffect(tag, inst, create, deps) {
+  tag = { tag: tag, create: create, deps: deps, inst: inst, next: null };
   inst = currentlyRenderingFiber.updateQueue;
   null === inst &&
     ((inst = createFunctionComponentUpdateQueue()),
@@ -4467,9 +4393,9 @@ function pushSimpleEffect(tag, inst, create, createDeps) {
   create = inst.lastEffect;
   null === create
     ? (inst.lastEffect = tag.next = tag)
-    : ((createDeps = create.next),
+    : ((deps = create.next),
       (create.next = tag),
-      (tag.next = createDeps),
+      (tag.next = deps),
       (inst.lastEffect = tag));
   return tag;
 }
@@ -4479,15 +4405,15 @@ function createEffectInstance() {
 function updateRef() {
   return updateWorkInProgressHook().memoizedState;
 }
-function mountEffectImpl(fiberFlags, hookFlags, create, createDeps) {
+function mountEffectImpl(fiberFlags, hookFlags, create, deps) {
   var hook = mountWorkInProgressHook();
-  createDeps = void 0 === createDeps ? null : createDeps;
+  deps = void 0 === deps ? null : deps;
   currentlyRenderingFiber.flags |= fiberFlags;
   hook.memoizedState = pushSimpleEffect(
     1 | hookFlags,
     createEffectInstance(),
     create,
-    createDeps
+    deps
   );
 }
 function updateEffectImpl(fiberFlags, hookFlags, create, deps) {
@@ -4506,11 +4432,11 @@ function updateEffectImpl(fiberFlags, hookFlags, create, deps) {
         deps
       )));
 }
-function mountEffect(create, createDeps) {
-  mountEffectImpl(8390656, 8, create, createDeps);
+function mountEffect(create, deps) {
+  mountEffectImpl(8390656, 8, create, deps);
 }
-function updateEffect(create, createDeps) {
-  updateEffectImpl(2048, 8, create, createDeps);
+function updateEffect(create, deps) {
+  updateEffectImpl(2048, 8, create, deps);
 }
 function useEffectEventImpl(payload) {
   currentlyRenderingFiber.flags |= 4;
@@ -4851,7 +4777,7 @@ function enqueueRenderPhaseUpdate(queue, update) {
   queue.pending = update;
 }
 function entangleTransitionUpdate(root, queue, lane) {
-  if (0 !== (lane & 4194048)) {
+  if (0 !== (lane & 4194176)) {
     var queueLanes = queue.lanes;
     queueLanes &= root.pendingLanes;
     lane |= queueLanes;
@@ -4859,93 +4785,6 @@ function entangleTransitionUpdate(root, queue, lane) {
     markRootEntangled(root, lane);
   }
 }
-function startGesture(fiber, queue, gestureProvider, gestureOptions) {
-  var root = enqueueGestureRender(fiber);
-  if (null === root) return function () {};
-  fiber = getCurrentGestureOffset(gestureProvider);
-  var range = gestureOptions && gestureOptions.range,
-    rangePrevious = range ? range[0] : 0,
-    rangeCurrent = range ? range[1] : fiber;
-  range = range ? range[2] : 100;
-  var isFlippedDirection = rangePrevious > range,
-    update = {
-      gesture: scheduleGesture(
-        root,
-        gestureProvider,
-        fiber < rangeCurrent
-          ? isFlippedDirection
-          : fiber > rangeCurrent
-            ? !isFlippedDirection
-            : gestureOptions && "next" === gestureOptions.direction
-              ? !0
-              : gestureOptions && "previous" === gestureOptions.direction
-                ? !1
-                : queue.initialDirection,
-        rangePrevious,
-        rangeCurrent,
-        range
-      ),
-      prev: null,
-      next: queue.pending
-    };
-  null !== queue.pending && (queue.pending.prev = update);
-  queue.pending = update;
-  return function () {
-    if (null === update.prev)
-      if (queue.pending === update) queue.pending = update.next;
-      else return;
-    else
-      (update.prev.next = update.next),
-        null !== update.next && (update.next.prev = update.prev),
-        (update.prev = null),
-        (update.next = null);
-    var cancelledGestured = update.gesture;
-    cancelledGestured.count--;
-    if (0 === cancelledGestured.count) {
-      var cancelDirectionSubscription = cancelledGestured.cancel;
-      cancelDirectionSubscription();
-      deleteScheduledGesture(root, cancelledGestured);
-      cancelDirectionSubscription = cancelledGestured.running;
-      if (null !== cancelDirectionSubscription) {
-        var pendingLanesExcludingGestureLane = root.pendingLanes & -65;
-        0 !== (pendingLanesExcludingGestureLane & 124) ||
-        0 !== (pendingLanesExcludingGestureLane & 4194048)
-          ? ((cancelDirectionSubscription = root.stoppingGestures),
-            null !== cancelDirectionSubscription &&
-              ((cancelledGestured.next = cancelDirectionSubscription),
-              (cancelDirectionSubscription.prev = cancelledGestured)),
-            (root.stoppingGestures = cancelledGestured))
-          : ((cancelledGestured.running = null),
-            cancelDirectionSubscription.skipTransition());
-      }
-    }
-  };
-}
-function updateSwipeTransition(previous, current, next) {
-  var queue = updateWorkInProgressHook().queue,
-    startGestureOnHook = queue.dispatch,
-    rootRenderLanes = workInProgressRootRenderLanes,
-    value = current;
-  if (null !== queue.pending) {
-    if (64 === rootRenderLanes) {
-      rootRenderLanes = workInProgressRoot;
-      if (null === rootRenderLanes) throw Error(formatProdErrorMessage(349));
-      rootRenderLanes = rootRenderLanes.pendingGestures;
-      if (null !== rootRenderLanes)
-        for (var update = queue.pending; null !== update; ) {
-          if (rootRenderLanes === update.gesture) {
-            value = rootRenderLanes.direction ? next : previous;
-            break;
-          }
-          update = update.next;
-        }
-      didReceiveUpdate = !0;
-    }
-    currentlyRenderingFiber.lanes |= 64;
-  }
-  queue.initialDirection = previous === current;
-  return [value, startGestureOnHook];
-}
 var ContextOnlyDispatcher = {
   readContext: readContext,
   use: use,
@@ -4972,7 +4811,6 @@ var ContextOnlyDispatcher = {
   useCacheRefresh: throwInvalidHookError
 };
 ContextOnlyDispatcher.useEffectEvent = throwInvalidHookError;
-ContextOnlyDispatcher.useSwipeTransition = throwInvalidHookError;
 var HooksDispatcherOnMount = {
     readContext: readContext,
     use: use,
@@ -5084,7 +4922,7 @@ var HooksDispatcherOnMount = {
         getServerSnapshot = getSnapshot();
         if (null === workInProgressRoot)
           throw Error(formatProdErrorMessage(349));
-        0 !== (workInProgressRootRenderLanes & 124) ||
+        0 !== (workInProgressRootRenderLanes & 60) ||
           pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);
       }
       hook.memoizedState = getServerSnapshot;
@@ -5113,14 +4951,14 @@ var HooksDispatcherOnMount = {
         identifierPrefix = workInProgressRoot.identifierPrefix;
       if (isHydrating) {
         var treeId = getTreeId();
-        identifierPrefix = "\u00ab" + identifierPrefix + "R" + treeId;
+        identifierPrefix = ":" + identifierPrefix + "R" + treeId;
         treeId = localIdCounter++;
         0 < treeId && (identifierPrefix += "H" + treeId.toString(32));
-        identifierPrefix += "\u00bb";
+        identifierPrefix += ":";
       } else
         (treeId = globalClientIdCounter$1++),
           (identifierPrefix =
-            "\u00ab" + identifierPrefix + "r" + treeId.toString(32) + "\u00bb");
+            ":" + identifierPrefix + "r" + treeId.toString(32) + ":");
       return (hook.memoizedState = identifierPrefix);
     },
     useHostTransitionStatus: useHostTransitionStatus,
@@ -5162,20 +5000,6 @@ var HooksDispatcherOnMount = {
           throw Error(formatProdErrorMessage(440));
         return ref.impl.apply(void 0, arguments);
       };
-    },
-    useSwipeTransition: function (previous, current) {
-      previous = {
-        pending: null,
-        dispatch: null,
-        initialDirection: previous === current
-      };
-      var startGestureOnHook = (previous.dispatch = startGesture.bind(
-        null,
-        currentlyRenderingFiber,
-        previous
-      ));
-      mountWorkInProgressHook().queue = previous;
-      return [current, startGestureOnHook];
     }
   },
   HooksDispatcherOnUpdate = {
@@ -5226,7 +5050,6 @@ var HooksDispatcherOnMount = {
     useCacheRefresh: updateRefresh
   };
 HooksDispatcherOnUpdate.useEffectEvent = updateEvent;
-HooksDispatcherOnUpdate.useSwipeTransition = updateSwipeTransition;
 var HooksDispatcherOnRerender = {
   readContext: readContext,
   use: use,
@@ -5280,7 +5103,6 @@ var HooksDispatcherOnRerender = {
   useCacheRefresh: updateRefresh
 };
 HooksDispatcherOnRerender.useEffectEvent = updateEvent;
-HooksDispatcherOnRerender.useSwipeTransition = updateSwipeTransition;
 var thenableState = null,
   thenableIndexCounter = 0;
 function unwrapThenable(thenable) {
@@ -6135,9 +5957,9 @@ function logUncaughtError(root, errorInfo) {
   try {
     var onUncaughtError = root.onUncaughtError;
     onUncaughtError(errorInfo.value, { componentStack: errorInfo.stack });
-  } catch (e$80) {
+  } catch (e$79) {
     setTimeout(function () {
-      throw e$80;
+      throw e$79;
     });
   }
 }
@@ -6148,9 +5970,9 @@ function logCaughtError(root, boundary, errorInfo) {
       componentStack: errorInfo.stack,
       errorBoundary: 1 === boundary.tag ? boundary.stateNode : null
     });
-  } catch (e$81) {
+  } catch (e$80) {
     setTimeout(function () {
-      throw e$81;
+      throw e$80;
     });
   }
 }
@@ -7679,15 +7501,15 @@ function beginWork(current, workInProgress, renderLanes) {
           workInProgress.stateNode.containerInfo
         );
         if (null === current) throw Error(formatProdErrorMessage(387));
-        lazyComponent = workInProgress.pendingProps;
-        var prevState = workInProgress.memoizedState;
-        init = prevState.element;
+        var nextProps = workInProgress.pendingProps;
+        init = workInProgress.memoizedState;
+        lazyComponent = init.element;
         cloneUpdateQueue(current, workInProgress);
-        processUpdateQueue(workInProgress, lazyComponent, null, renderLanes);
+        processUpdateQueue(workInProgress, nextProps, null, renderLanes);
         var nextState = workInProgress.memoizedState;
-        lazyComponent = nextState.cache;
-        pushProvider(workInProgress, CacheContext, lazyComponent);
-        lazyComponent !== prevState.cache &&
+        nextProps = nextState.cache;
+        pushProvider(workInProgress, CacheContext, nextProps);
+        nextProps !== init.cache &&
           propagateContextChanges(
             workInProgress,
             [CacheContext],
@@ -7695,68 +7517,62 @@ function beginWork(current, workInProgress, renderLanes) {
             !0
           );
         suspendIfUpdateReadFromEntangledAsyncAction();
-        lazyComponent = nextState.element;
-        if (prevState.isDehydrated)
+        nextProps = nextState.element;
+        if (init.isDehydrated)
           if (
-            ((prevState = {
-              element: lazyComponent,
+            ((init = {
+              element: nextProps,
               isDehydrated: !1,
               cache: nextState.cache
             }),
-            (workInProgress.updateQueue.baseState = prevState),
-            (workInProgress.memoizedState = prevState),
+            (workInProgress.updateQueue.baseState = init),
+            (workInProgress.memoizedState = init),
             workInProgress.flags & 256)
           ) {
             workInProgress = mountHostRootWithoutHydrating(
               current,
               workInProgress,
-              lazyComponent,
+              nextProps,
               renderLanes
             );
             break a;
-          } else if (lazyComponent !== init) {
-            init = createCapturedValueAtFiber(
+          } else if (nextProps !== lazyComponent) {
+            lazyComponent = createCapturedValueAtFiber(
               Error(formatProdErrorMessage(424)),
               workInProgress
             );
-            queueHydrationError(init);
+            queueHydrationError(lazyComponent);
             workInProgress = mountHostRootWithoutHydrating(
               current,
               workInProgress,
-              lazyComponent,
+              nextProps,
               renderLanes
             );
             break a;
-          } else {
-            current = workInProgress.stateNode.containerInfo;
-            switch (current.nodeType) {
-              case 9:
-                current = current.body;
-                break;
-              default:
-                current =
-                  "HTML" === current.nodeName
-                    ? current.ownerDocument.body
-                    : current;
-            }
-            nextHydratableInstance = getNextHydratable(current.firstChild);
-            hydrationParentFiber = workInProgress;
-            isHydrating = !0;
-            hydrationErrors = null;
-            rootOrSingletonContext = !0;
-            renderLanes = mountChildFibers(
-              workInProgress,
-              null,
-              lazyComponent,
-              renderLanes
-            );
-            for (workInProgress.child = renderLanes; renderLanes; )
+          } else
+            for (
+              nextHydratableInstance = getNextHydratable(
+                workInProgress.stateNode.containerInfo.firstChild
+              ),
+                hydrationParentFiber = workInProgress,
+                isHydrating = !0,
+                hydrationErrors = null,
+                rootOrSingletonContext = !0,
+                renderLanes = mountChildFibers(
+                  workInProgress,
+                  null,
+                  nextProps,
+                  renderLanes
+                ),
+                workInProgress.child = renderLanes;
+              renderLanes;
+
+            )
               (renderLanes.flags = (renderLanes.flags & -3) | 4096),
                 (renderLanes = renderLanes.sibling);
-          }
         else {
           resetHydrationState();
-          if (lazyComponent === init) {
+          if (nextProps === lazyComponent) {
             workInProgress = bailoutOnAlreadyFinishedWork(
               current,
               workInProgress,
@@ -7764,12 +7580,7 @@ function beginWork(current, workInProgress, renderLanes) {
             );
             break a;
           }
-          reconcileChildren(
-            current,
-            workInProgress,
-            lazyComponent,
-            renderLanes
-          );
+          reconcileChildren(current, workInProgress, nextProps, renderLanes);
         }
         workInProgress = workInProgress.child;
       }
@@ -7817,21 +7628,24 @@ function beginWork(current, workInProgress, renderLanes) {
             )),
           (hydrationParentFiber = workInProgress),
           (rootOrSingletonContext = !0),
-          (init = nextHydratableInstance),
-          isSingletonScope(workInProgress.type)
-            ? ((previousHydratableOnEnteringScopedSingleton = init),
-              (nextHydratableInstance = getNextHydratable(
-                lazyComponent.firstChild
-              )))
-            : (nextHydratableInstance = init)),
-        reconcileChildren(
-          current,
-          workInProgress,
-          workInProgress.pendingProps.children,
-          renderLanes
-        ),
+          (nextHydratableInstance = getNextHydratable(
+            lazyComponent.firstChild
+          ))),
+        (lazyComponent = workInProgress.pendingProps.children),
+        null !== current || isHydrating
+          ? reconcileChildren(
+              current,
+              workInProgress,
+              lazyComponent,
+              renderLanes
+            )
+          : (workInProgress.child = reconcileChildFibers(
+              workInProgress,
+              null,
+              lazyComponent,
+              renderLanes
+            )),
         markRef(current, workInProgress),
-        null === current && (workInProgress.flags |= 4194304),
         workInProgress.child
       );
     case 5:
@@ -7859,10 +7673,10 @@ function beginWork(current, workInProgress, renderLanes) {
           init && throwOnHydrationMismatch(workInProgress)),
         pushHostContext(workInProgress),
         (init = workInProgress.type),
-        (prevState = workInProgress.pendingProps),
+        (nextProps = workInProgress.pendingProps),
         (nextState = null !== current ? current.memoizedProps : null),
-        (lazyComponent = prevState.children),
-        shouldSetTextContent(init, prevState)
+        (lazyComponent = nextProps.children),
+        shouldSetTextContent(init, nextProps)
           ? (lazyComponent = null)
           : null !== nextState &&
             shouldSetTextContent(init, nextState) &&
@@ -8020,11 +7834,11 @@ function beginWork(current, workInProgress, renderLanes) {
           ? ((init = peekCacheFromPool()),
             null === init &&
               ((init = workInProgressRoot),
-              (prevState = createCache()),
-              (init.pooledCache = prevState),
-              prevState.refCount++,
-              null !== prevState && (init.pooledCacheLanes |= renderLanes),
-              (init = prevState)),
+              (nextProps = createCache()),
+              (init.pooledCache = nextProps),
+              nextProps.refCount++,
+              null !== nextProps && (init.pooledCacheLanes |= renderLanes),
+              (init = nextProps)),
             (workInProgress.memoizedState = {
               parent: lazyComponent,
               cache: init
@@ -8036,7 +7850,7 @@ function beginWork(current, workInProgress, renderLanes) {
               processUpdateQueue(workInProgress, null, null, renderLanes),
               suspendIfUpdateReadFromEntangledAsyncAction()),
             (init = current.memoizedState),
-            (prevState = workInProgress.memoizedState),
+            (nextProps = workInProgress.memoizedState),
             init.parent !== lazyComponent
               ? ((init = { parent: lazyComponent, cache: lazyComponent }),
                 (workInProgress.memoizedState = init),
@@ -8045,7 +7859,7 @@ function beginWork(current, workInProgress, renderLanes) {
                     workInProgress.updateQueue.baseState =
                       init),
                 pushProvider(workInProgress, CacheContext, lazyComponent))
-              : ((lazyComponent = prevState.cache),
+              : ((lazyComponent = nextProps.cache),
                 pushProvider(workInProgress, CacheContext, lazyComponent),
                 lazyComponent !== init.cache &&
                   propagateContextChanges(
@@ -8067,20 +7881,22 @@ function beginWork(current, workInProgress, renderLanes) {
         (lazyComponent = workInProgress.pendingProps),
         (init = workInProgress.stateNode),
         null != lazyComponent.name && "auto" !== lazyComponent.name
-          ? (workInProgress.flags |= null === current ? 18882560 : 18874368)
+          ? ((workInProgress.flags |= 2097152),
+            null === current &&
+              trackAppearingViewTransition(init, lazyComponent.name))
           : null === init.autoName &&
-            ((prevState = workInProgressRoot.identifierPrefix),
+            ((nextProps = workInProgressRoot.identifierPrefix),
             isHydrating
               ? ((nextState = getTreeId()),
-                (prevState = "\u00ab" + prevState + "T" + nextState + "\u00bb"))
+                (nextProps = "\u00ab" + nextProps + "T" + nextState + "\u00bb"))
               : ((nextState = globalClientIdCounter++),
-                (prevState =
+                (nextProps =
                   "\u00ab" +
-                  prevState +
+                  nextProps +
                   "t" +
                   nextState.toString(32) +
                   "\u00bb")),
-            (init.autoName = prevState)),
+            (init.autoName = nextProps)),
         null !== current && current.memoizedProps.name !== lazyComponent.name
           ? (workInProgress.flags |= 4194816)
           : markRef(current, workInProgress),
@@ -8166,10 +7982,9 @@ function commitHookEffectListUnmount(
           if (void 0 !== destroy) {
             inst.destroy = void 0;
             lastEffect = finishedWork;
-            var nearestMountedAncestor = nearestMountedAncestor$jscomp$0,
-              destroy_ = destroy;
+            var nearestMountedAncestor = nearestMountedAncestor$jscomp$0;
             try {
-              destroy_();
+              destroy();
             } catch (error) {
               captureCommitPhaseError(
                 lastEffect,
@@ -8244,8 +8059,8 @@ function safelyCallComponentWillUnmount(
   } else
     try {
       instance.componentWillUnmount();
-    } catch (error$123) {
-      captureCommitPhaseError(current, nearestMountedAncestor, error$123);
+    } catch (error$122) {
+      captureCommitPhaseError(current, nearestMountedAncestor, error$122);
     }
 }
 function safelyAttachRef(current, nearestMountedAncestor) {
@@ -8311,8 +8126,8 @@ function safelyDetachRef(current, nearestMountedAncestor) {
             recordEffectDuration(current);
           }
         else ref(null);
-      } catch (error$124) {
-        captureCommitPhaseError(current, nearestMountedAncestor, error$124);
+      } catch (error$123) {
+        captureCommitPhaseError(current, nearestMountedAncestor, error$123);
       }
     else ref.current = null;
 }
@@ -8384,7 +8199,7 @@ function isHostParent(fiber) {
     5 === fiber.tag ||
     3 === fiber.tag ||
     26 === fiber.tag ||
-    (27 === fiber.tag && isSingletonScope(fiber.type)) ||
+    27 === fiber.tag ||
     4 === fiber.tag
   );
 }
@@ -8397,10 +8212,12 @@ function getHostSibling(fiber) {
     fiber.sibling.return = fiber.return;
     for (
       fiber = fiber.sibling;
-      5 !== fiber.tag && 6 !== fiber.tag && 18 !== fiber.tag;
+      5 !== fiber.tag &&
+      6 !== fiber.tag &&
+      27 !== fiber.tag &&
+      18 !== fiber.tag;
 
     ) {
-      if (27 === fiber.tag && isSingletonScope(fiber.type)) continue a;
       if (fiber.flags & 2) continue a;
       if (null === fiber.child || 4 === fiber.tag) continue a;
       else (fiber.child.return = fiber), (fiber = fiber.child);
@@ -8413,32 +8230,18 @@ function insertOrAppendPlacementNodeIntoContainer(node, before, parent) {
   if (5 === tag || 6 === tag)
     (node = node.stateNode),
       before
-        ? (9 === parent.nodeType
-            ? parent.body
-            : "HTML" === parent.nodeName
-              ? parent.ownerDocument.body
-              : parent
-          ).insertBefore(node, before)
-        : ((before =
-            9 === parent.nodeType
-              ? parent.body
-              : "HTML" === parent.nodeName
-                ? parent.ownerDocument.body
-                : parent),
-          before.appendChild(node),
+        ? 8 === parent.nodeType
+          ? parent.parentNode.insertBefore(node, before)
+          : parent.insertBefore(node, before)
+        : (8 === parent.nodeType
+            ? ((before = parent.parentNode), before.insertBefore(node, parent))
+            : ((before = parent), before.appendChild(node)),
           (parent = parent._reactRootContainer),
           (null !== parent && void 0 !== parent) ||
             null !== before.onclick ||
             (before.onclick = noop$2)),
       (viewTransitionMutationContext = !0);
-  else if (
-    4 !== tag &&
-    (27 === tag &&
-      isSingletonScope(node.type) &&
-      ((parent = node.stateNode), (before = null)),
-    (node = node.child),
-    null !== node)
-  )
+  else if (4 !== tag && 27 !== tag && ((node = node.child), null !== node))
     for (
       insertOrAppendPlacementNodeIntoContainer(node, before, parent),
         node = node.sibling;
@@ -8454,12 +8257,7 @@ function insertOrAppendPlacementNode(node, before, parent) {
     (node = node.stateNode),
       before ? parent.insertBefore(node, before) : parent.appendChild(node),
       (viewTransitionMutationContext = !0);
-  else if (
-    4 !== tag &&
-    (27 === tag && isSingletonScope(node.type) && (parent = node.stateNode),
-    (node = node.child),
-    null !== node)
-  )
+  else if (4 !== tag && 27 !== tag && ((node = node.child), null !== node))
     for (
       insertOrAppendPlacementNode(node, before, parent), node = node.sibling;
       null !== node;
@@ -8467,66 +8265,302 @@ function insertOrAppendPlacementNode(node, before, parent) {
     )
       insertOrAppendPlacementNode(node, before, parent), (node = node.sibling);
 }
-function commitHostSingletonAcquisition(finishedWork) {
-  var singleton = finishedWork.stateNode,
-    props = finishedWork.memoizedProps;
-  try {
-    for (
-      var type = finishedWork.type, attributes = singleton.attributes;
-      attributes.length;
-
+var offscreenSubtreeIsHidden = !1,
+  offscreenSubtreeWasHidden = !1,
+  needsFormReset = !1,
+  PossiblyWeakSet = "function" === typeof WeakSet ? WeakSet : Set,
+  nextEffect = null,
+  inProgressLanes = null,
+  inProgressRoot = null,
+  shouldStartViewTransition = !1,
+  viewTransitionContextChanged = !1,
+  viewTransitionCancelableChildren = null;
+function commitBeforeMutationEffects(
+  root,
+  firstChild,
+  committedLanes,
+  appearingViewTransitions
+) {
+  root = root.containerInfo;
+  eventsEnabled = _enabled;
+  root = getActiveElementDeep(root);
+  if (hasSelectionCapabilities(root)) {
+    if ("selectionStart" in root)
+      var JSCompiler_temp = {
+        start: root.selectionStart,
+        end: root.selectionEnd
+      };
+    else
+      a: {
+        JSCompiler_temp =
+          ((JSCompiler_temp = root.ownerDocument) &&
+            JSCompiler_temp.defaultView) ||
+          window;
+        var selection =
+          JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();
+        if (selection && 0 !== selection.rangeCount) {
+          JSCompiler_temp = selection.anchorNode;
+          var anchorOffset = selection.anchorOffset,
+            focusNode = selection.focusNode;
+          selection = selection.focusOffset;
+          try {
+            JSCompiler_temp.nodeType, focusNode.nodeType;
+          } catch (e$22) {
+            JSCompiler_temp = null;
+            break a;
+          }
+          var length = 0,
+            start = -1,
+            end = -1,
+            indexWithinAnchor = 0,
+            indexWithinFocus = 0,
+            node = root,
+            parentNode = null;
+          b: for (;;) {
+            for (var next; ; ) {
+              node !== JSCompiler_temp ||
+                (0 !== anchorOffset && 3 !== node.nodeType) ||
+                (start = length + anchorOffset);
+              node !== focusNode ||
+                (0 !== selection && 3 !== node.nodeType) ||
+                (end = length + selection);
+              3 === node.nodeType && (length += node.nodeValue.length);
+              if (null === (next = node.firstChild)) break;
+              parentNode = node;
+              node = next;
+            }
+            for (;;) {
+              if (node === root) break b;
+              parentNode === JSCompiler_temp &&
+                ++indexWithinAnchor === anchorOffset &&
+                (start = length);
+              parentNode === focusNode &&
+                ++indexWithinFocus === selection &&
+                (end = length);
+              if (null !== (next = node.nextSibling)) break;
+              node = parentNode;
+              parentNode = node.parentNode;
+            }
+            node = next;
+          }
+          JSCompiler_temp =
+            -1 === start || -1 === end ? null : { start: start, end: end };
+        } else JSCompiler_temp = null;
+      }
+    JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };
+  } else JSCompiler_temp = null;
+  selectionInformation = { focusedElem: root, selectionRange: JSCompiler_temp };
+  shouldStartViewTransition = _enabled = !1;
+  committedLanes = (committedLanes & 335544192) === committedLanes;
+  nextEffect = firstChild;
+  for (firstChild = committedLanes ? 9238 : 1028; null !== nextEffect; ) {
+    root = nextEffect;
+    if (
+      committedLanes &&
+      ((JSCompiler_temp = root.deletions), null !== JSCompiler_temp)
     )
-      singleton.removeAttributeNode(attributes[0]);
-    setInitialProperties(singleton, type, props);
-    singleton[internalInstanceKey] = finishedWork;
-    singleton[internalPropsKey] = props;
-  } catch (error) {
-    captureCommitPhaseError(finishedWork, finishedWork.return, error);
+      for (
+        anchorOffset = 0;
+        anchorOffset < JSCompiler_temp.length;
+        anchorOffset++
+      )
+        committedLanes &&
+          commitExitViewTransitions(
+            JSCompiler_temp[anchorOffset],
+            appearingViewTransitions
+          );
+    if (null === root.alternate && 0 !== (root.flags & 2))
+      commitBeforeMutationEffects_complete(committedLanes);
+    else {
+      if (22 === root.tag)
+        if (((JSCompiler_temp = root.alternate), null !== root.memoizedState)) {
+          null !== JSCompiler_temp &&
+            null === JSCompiler_temp.memoizedState &&
+            committedLanes &&
+            commitExitViewTransitions(
+              JSCompiler_temp,
+              appearingViewTransitions
+            );
+          commitBeforeMutationEffects_complete(committedLanes);
+          continue;
+        } else if (
+          null !== JSCompiler_temp &&
+          null !== JSCompiler_temp.memoizedState
+        ) {
+          commitBeforeMutationEffects_complete(committedLanes);
+          continue;
+        }
+      JSCompiler_temp = root.child;
+      0 !== (root.subtreeFlags & firstChild) && null !== JSCompiler_temp
+        ? ((JSCompiler_temp.return = root), (nextEffect = JSCompiler_temp))
+        : (committedLanes && commitNestedViewTransitions(root),
+          commitBeforeMutationEffects_complete(committedLanes));
+    }
   }
 }
-var shouldStartViewTransition = !1,
-  appearingViewTransitions = null,
-  viewTransitionCancelableChildren = null,
-  viewTransitionHostInstanceIdx = 0;
-function applyViewTransitionToHostInstances(
-  child,
-  name,
-  className,
-  collectMeasurements,
-  stopAtNestedViewTransitions
+function commitBeforeMutationEffects_complete(
+  isViewTransitionEligible$jscomp$0
 ) {
-  for (var inViewport = !1; null !== child; ) {
-    if (5 === child.tag) {
-      shouldStartViewTransition = !0;
-      var instance = child.stateNode;
-      if (null !== collectMeasurements) {
-        var measurement = measureInstance(instance);
-        collectMeasurements.push(measurement);
-        measurement.view && (inViewport = !0);
-      } else
-        inViewport || (measureInstance(instance).view && (inViewport = !0));
-      measurement = className;
-      instance.style.viewTransitionName =
-        0 === viewTransitionHostInstanceIdx
-          ? name
-          : name + "_" + viewTransitionHostInstanceIdx;
-      null != measurement && (instance.style.viewTransitionClass = measurement);
-      viewTransitionHostInstanceIdx++;
-    } else if (22 !== child.tag || null === child.memoizedState)
-      (30 === child.tag && stopAtNestedViewTransitions) ||
-        (applyViewTransitionToHostInstances(
-          child.child,
-          name,
-          className,
-          collectMeasurements,
-          stopAtNestedViewTransitions
-        ) &&
-          (inViewport = !0));
-    child = child.sibling;
-  }
-  return inViewport;
-}
-function restoreViewTransitionOnHostInstances(
+  for (; null !== nextEffect; ) {
+    var fiber = nextEffect,
+      isViewTransitionEligible = isViewTransitionEligible$jscomp$0,
+      current = fiber.alternate,
+      flags = fiber.flags;
+    switch (fiber.tag) {
+      case 0:
+        if (
+          0 !== (flags & 4) &&
+          ((current = fiber.updateQueue),
+          (current = null !== current ? current.events : null),
+          null !== current)
+        )
+          for (
+            isViewTransitionEligible = 0;
+            isViewTransitionEligible < current.length;
+            isViewTransitionEligible++
+          )
+            (flags = current[isViewTransitionEligible]),
+              (flags.ref.impl = flags.nextImpl);
+        break;
+      case 11:
+      case 15:
+        break;
+      case 1:
+        if (0 !== (flags & 1024) && null !== current) {
+          isViewTransitionEligible = void 0;
+          flags = current.memoizedProps;
+          current = current.memoizedState;
+          var instance = fiber.stateNode;
+          try {
+            var resolvedPrevProps = resolveClassComponentProps(
+              fiber.type,
+              flags,
+              fiber.elementType === fiber.type
+            );
+            isViewTransitionEligible = instance.getSnapshotBeforeUpdate(
+              resolvedPrevProps,
+              current
+            );
+            instance.__reactInternalSnapshotBeforeUpdate =
+              isViewTransitionEligible;
+          } catch (error) {
+            captureCommitPhaseError(fiber, fiber.return, error);
+          }
+        }
+        break;
+      case 3:
+        if (0 !== (flags & 1024))
+          if (
+            ((current = fiber.stateNode.containerInfo),
+            (isViewTransitionEligible = current.nodeType),
+            9 === isViewTransitionEligible)
+          )
+            clearContainerSparingly(current);
+          else if (1 === isViewTransitionEligible)
+            switch (current.nodeName) {
+              case "HEAD":
+              case "HTML":
+              case "BODY":
+                clearContainerSparingly(current);
+                break;
+              default:
+                current.textContent = "";
+            }
+        break;
+      case 5:
+      case 26:
+      case 27:
+      case 6:
+      case 4:
+      case 17:
+        break;
+      case 30:
+        if (
+          isViewTransitionEligible &&
+          null !== current &&
+          0 !== (fiber.subtreeFlags & 8246)
+        )
+          a: {
+            isViewTransitionEligible = getViewTransitionName(
+              current.memoizedProps,
+              current.stateNode
+            );
+            flags = fiber.memoizedProps;
+            instance = getViewTransitionClassName(
+              flags.className,
+              flags.update
+            );
+            if (
+              "none" === instance &&
+              ((instance = getViewTransitionClassName(
+                flags.className,
+                flags.layout
+              )),
+              "none" === instance)
+            )
+              break a;
+            viewTransitionHostInstanceIdx = 0;
+            applyViewTransitionToHostInstances(
+              current.child,
+              isViewTransitionEligible,
+              instance,
+              (current.memoizedState = []),
+              !0
+            );
+          }
+        break;
+      default:
+        if (0 !== (flags & 1024)) throw Error(formatProdErrorMessage(163));
+    }
+    current = fiber.sibling;
+    if (null !== current) {
+      current.return = fiber.return;
+      nextEffect = current;
+      break;
+    }
+    nextEffect = fiber.return;
+  }
+}
+var viewTransitionHostInstanceIdx = 0;
+function applyViewTransitionToHostInstances(
+  child,
+  name,
+  className,
+  collectMeasurements,
+  stopAtNestedViewTransitions
+) {
+  for (var inViewport = !1; null !== child; ) {
+    if (5 === child.tag) {
+      shouldStartViewTransition = !0;
+      var instance = child.stateNode;
+      if (null !== collectMeasurements) {
+        var measurement = measureInstance(instance);
+        collectMeasurements.push(measurement);
+        measurement.view && (inViewport = !0);
+      } else
+        inViewport || (measureInstance(instance).view && (inViewport = !0));
+      measurement = className;
+      instance.style.viewTransitionName =
+        0 === viewTransitionHostInstanceIdx
+          ? name
+          : name + "_" + viewTransitionHostInstanceIdx;
+      null != measurement && (instance.style.viewTransitionClass = measurement);
+      viewTransitionHostInstanceIdx++;
+    } else if (22 !== child.tag || null === child.memoizedState)
+      (30 === child.tag && stopAtNestedViewTransitions) ||
+        (applyViewTransitionToHostInstances(
+          child.child,
+          name,
+          className,
+          collectMeasurements,
+          stopAtNestedViewTransitions
+        ) &&
+          (inViewport = !0));
+    child = child.sibling;
+  }
+  return inViewport;
+}
+function restoreViewTransitionOnHostInstances(
   child,
   stopAtNestedViewTransitions
 ) {
@@ -8543,13 +8577,13 @@ function restoreViewTransitionOnHostInstances(
   }
 }
 function commitAppearingPairViewTransitions(placement) {
-  if (0 !== (placement.subtreeFlags & 18874368))
+  if (0 !== (placement.subtreeFlags & 2097152))
     for (placement = placement.child; null !== placement; ) {
       if (22 !== placement.tag || null !== placement.memoizedState)
         if (
           (commitAppearingPairViewTransitions(placement),
           30 === placement.tag &&
-            0 !== (placement.flags & 18874368) &&
+            0 !== (placement.flags & 2097152) &&
             placement.stateNode.paired)
         ) {
           var props = placement.memoizedProps;
@@ -8598,49 +8632,46 @@ function commitEnterViewTransitions(placement) {
       commitEnterViewTransitions(placement), (placement = placement.sibling);
   else commitAppearingPairViewTransitions(placement);
 }
-function commitDeletedPairViewTransitions(deletion) {
+function commitDeletedPairViewTransitions(deletion, appearingViewTransitions) {
   if (
-    null !== appearingViewTransitions &&
-    0 !== appearingViewTransitions.size
-  ) {
-    var pairs = appearingViewTransitions;
-    if (0 !== (deletion.subtreeFlags & 18874368))
-      for (deletion = deletion.child; null !== deletion; ) {
-        if (22 !== deletion.tag || null !== deletion.memoizedState) {
-          if (30 === deletion.tag && 0 !== (deletion.flags & 18874368)) {
-            var props = deletion.memoizedProps,
-              name = props.name;
-            if (null != name && "auto" !== name) {
-              var pair = pairs.get(name);
-              if (void 0 !== pair) {
-                var className = getViewTransitionClassName(
-                  props.className,
-                  props.share
-                );
-                "none" !== className &&
-                  ((viewTransitionHostInstanceIdx = 0),
-                  applyViewTransitionToHostInstances(
-                    deletion.child,
-                    name,
-                    className,
-                    null,
-                    !1
-                  )
-                    ? ((pair.paired = deletion.stateNode),
-                      scheduleViewTransitionEvent(deletion, props.onShare))
-                    : restoreViewTransitionOnHostInstances(deletion.child, !1));
-                pairs.delete(name);
-                if (0 === pairs.size) break;
-              }
+    0 !== appearingViewTransitions.size &&
+    0 !== (deletion.subtreeFlags & 2097152)
+  )
+    for (deletion = deletion.child; null !== deletion; ) {
+      if (22 !== deletion.tag || null !== deletion.memoizedState) {
+        if (30 === deletion.tag && 0 !== (deletion.flags & 2097152)) {
+          var props = deletion.memoizedProps,
+            name = props.name;
+          if (null != name && "auto" !== name) {
+            var pair = appearingViewTransitions.get(name);
+            if (void 0 !== pair) {
+              var className = getViewTransitionClassName(
+                props.className,
+                props.share
+              );
+              "none" !== className &&
+                ((viewTransitionHostInstanceIdx = 0),
+                applyViewTransitionToHostInstances(
+                  deletion.child,
+                  name,
+                  className,
+                  null,
+                  !1
+                )
+                  ? ((pair.paired = deletion.stateNode),
+                    scheduleViewTransitionEvent(deletion, props.onShare))
+                  : restoreViewTransitionOnHostInstances(deletion.child, !1));
+              appearingViewTransitions.delete(name);
+              if (0 === appearingViewTransitions.size) break;
             }
           }
-          commitDeletedPairViewTransitions(deletion);
         }
-        deletion = deletion.sibling;
+        commitDeletedPairViewTransitions(deletion, appearingViewTransitions);
       }
-  }
+      deletion = deletion.sibling;
+    }
 }
-function commitExitViewTransitions(deletion) {
+function commitExitViewTransitions(deletion, appearingViewTransitions) {
   if (30 === deletion.tag) {
     var props = deletion.memoizedProps,
       name = getViewTransitionName(props, deletion.stateNode),
@@ -8668,13 +8699,14 @@ function commitExitViewTransitions(deletion) {
           : scheduleViewTransitionEvent(deletion, props.onExit)
         : restoreViewTransitionOnHostInstances(deletion.child, !1));
     null !== appearingViewTransitions &&
-      commitDeletedPairViewTransitions(deletion);
+      commitDeletedPairViewTransitions(deletion, appearingViewTransitions);
   } else if (0 !== (deletion.subtreeFlags & 33554432))
     for (deletion = deletion.child; null !== deletion; )
-      commitExitViewTransitions(deletion), (deletion = deletion.sibling);
+      commitExitViewTransitions(deletion, appearingViewTransitions),
+        (deletion = deletion.sibling);
   else
     null !== appearingViewTransitions &&
-      commitDeletedPairViewTransitions(deletion);
+      commitDeletedPairViewTransitions(deletion, appearingViewTransitions);
 }
 function commitNestedViewTransitions(changedParent) {
   for (changedParent = changedParent.child; null !== changedParent; ) {
@@ -8698,10 +8730,10 @@ function commitNestedViewTransitions(changedParent) {
   }
 }
 function restorePairedViewTransitions(parent) {
-  if (0 !== (parent.subtreeFlags & 18874368))
+  if (0 !== (parent.subtreeFlags & 2097152))
     for (parent = parent.child; null !== parent; ) {
       if (22 !== parent.tag || null !== parent.memoizedState) {
-        if (30 === parent.tag && 0 !== (parent.flags & 18874368)) {
+        if (30 === parent.tag && 0 !== (parent.flags & 2097152)) {
           var instance = parent.stateNode;
           null !== instance.paired &&
             ((instance.paired = null),
@@ -8845,282 +8877,38 @@ function measureViewTransitionHostInstances(
             name,
             className,
             previousMeasurements,
-            stopAtNestedViewTransitions
-          ) && (inViewport = !0);
-    child = child.sibling;
-  }
-  return inViewport;
-}
-function measureNestedViewTransitions(changedParent) {
-  for (changedParent = changedParent.child; null !== changedParent; ) {
-    if (30 === changedParent.tag) {
-      var current = changedParent.alternate;
-      if (null !== current) {
-        var props = changedParent.memoizedProps,
-          name = getViewTransitionName(props, changedParent.stateNode),
-          className = getViewTransitionClassName(props.className, props.layout);
-        viewTransitionHostInstanceIdx = 0;
-        current = measureViewTransitionHostInstances(
-          current,
-          changedParent,
-          changedParent.child,
-          name,
-          className,
-          changedParent.memoizedState,
-          !1
-        );
-        0 !== (changedParent.flags & 4) &&
-          current &&
-          scheduleViewTransitionEvent(changedParent, props.onLayout);
-      }
-    } else
-      0 !== (changedParent.subtreeFlags & 33554432) &&
-        measureNestedViewTransitions(changedParent);
-    changedParent = changedParent.sibling;
-  }
-}
-var offscreenSubtreeIsHidden = !1,
-  offscreenSubtreeWasHidden = !1,
-  needsFormReset = !1,
-  PossiblyWeakSet = "function" === typeof WeakSet ? WeakSet : Set,
-  nextEffect = null,
-  inProgressLanes = null,
-  inProgressRoot = null,
-  viewTransitionContextChanged = !1;
-function commitBeforeMutationEffects(root, firstChild, committedLanes) {
-  root = root.containerInfo;
-  eventsEnabled = _enabled;
-  root = getActiveElementDeep(root);
-  if (hasSelectionCapabilities(root)) {
-    if ("selectionStart" in root)
-      var JSCompiler_temp = {
-        start: root.selectionStart,
-        end: root.selectionEnd
-      };
-    else
-      a: {
-        JSCompiler_temp =
-          ((JSCompiler_temp = root.ownerDocument) &&
-            JSCompiler_temp.defaultView) ||
-          window;
-        var selection =
-          JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();
-        if (selection && 0 !== selection.rangeCount) {
-          JSCompiler_temp = selection.anchorNode;
-          var anchorOffset = selection.anchorOffset,
-            focusNode = selection.focusNode;
-          selection = selection.focusOffset;
-          try {
-            JSCompiler_temp.nodeType, focusNode.nodeType;
-          } catch (e$22) {
-            JSCompiler_temp = null;
-            break a;
-          }
-          var length = 0,
-            start = -1,
-            end = -1,
-            indexWithinAnchor = 0,
-            indexWithinFocus = 0,
-            node = root,
-            parentNode = null;
-          b: for (;;) {
-            for (var next; ; ) {
-              node !== JSCompiler_temp ||
-                (0 !== anchorOffset && 3 !== node.nodeType) ||
-                (start = length + anchorOffset);
-              node !== focusNode ||
-                (0 !== selection && 3 !== node.nodeType) ||
-                (end = length + selection);
-              3 === node.nodeType && (length += node.nodeValue.length);
-              if (null === (next = node.firstChild)) break;
-              parentNode = node;
-              node = next;
-            }
-            for (;;) {
-              if (node === root) break b;
-              parentNode === JSCompiler_temp &&
-                ++indexWithinAnchor === anchorOffset &&
-                (start = length);
-              parentNode === focusNode &&
-                ++indexWithinFocus === selection &&
-                (end = length);
-              if (null !== (next = node.nextSibling)) break;
-              node = parentNode;
-              parentNode = node.parentNode;
-            }
-            node = next;
-          }
-          JSCompiler_temp =
-            -1 === start || -1 === end ? null : { start: start, end: end };
-        } else JSCompiler_temp = null;
-      }
-    JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };
-  } else JSCompiler_temp = null;
-  selectionInformation = { focusedElem: root, selectionRange: JSCompiler_temp };
-  shouldStartViewTransition = _enabled = !1;
-  committedLanes = (committedLanes & 335544064) === committedLanes;
-  nextEffect = firstChild;
-  for (firstChild = committedLanes ? 9238 : 1028; null !== nextEffect; ) {
-    root = nextEffect;
-    if (
-      committedLanes &&
-      ((JSCompiler_temp = root.deletions), null !== JSCompiler_temp)
-    )
-      for (
-        anchorOffset = 0;
-        anchorOffset < JSCompiler_temp.length;
-        anchorOffset++
-      )
-        committedLanes &&
-          commitExitViewTransitions(JSCompiler_temp[anchorOffset]);
-    if (null === root.alternate && 0 !== (root.flags & 2))
-      commitBeforeMutationEffects_complete(committedLanes);
-    else {
-      if (22 === root.tag)
-        if (((JSCompiler_temp = root.alternate), null !== root.memoizedState)) {
-          null !== JSCompiler_temp &&
-            null === JSCompiler_temp.memoizedState &&
-            committedLanes &&
-            commitExitViewTransitions(JSCompiler_temp);
-          commitBeforeMutationEffects_complete(committedLanes);
-          continue;
-        } else if (
-          null !== JSCompiler_temp &&
-          null !== JSCompiler_temp.memoizedState
-        ) {
-          commitBeforeMutationEffects_complete(committedLanes);
-          continue;
-        }
-      JSCompiler_temp = root.child;
-      0 !== (root.subtreeFlags & firstChild) && null !== JSCompiler_temp
-        ? ((JSCompiler_temp.return = root), (nextEffect = JSCompiler_temp))
-        : (committedLanes && commitNestedViewTransitions(root),
-          commitBeforeMutationEffects_complete(committedLanes));
-    }
-  }
-  appearingViewTransitions = null;
-}
-function commitBeforeMutationEffects_complete(
-  isViewTransitionEligible$jscomp$0
-) {
-  for (; null !== nextEffect; ) {
-    var fiber = nextEffect,
-      isViewTransitionEligible = isViewTransitionEligible$jscomp$0,
-      current = fiber.alternate,
-      flags = fiber.flags;
-    switch (fiber.tag) {
-      case 0:
-        if (
-          0 !== (flags & 4) &&
-          ((current = fiber.updateQueue),
-          (current = null !== current ? current.events : null),
-          null !== current)
-        )
-          for (
-            isViewTransitionEligible = 0;
-            isViewTransitionEligible < current.length;
-            isViewTransitionEligible++
-          )
-            (flags = current[isViewTransitionEligible]),
-              (flags.ref.impl = flags.nextImpl);
-        break;
-      case 11:
-      case 15:
-        break;
-      case 1:
-        if (0 !== (flags & 1024) && null !== current) {
-          isViewTransitionEligible = void 0;
-          flags = current.memoizedProps;
-          current = current.memoizedState;
-          var instance = fiber.stateNode;
-          try {
-            var resolvedPrevProps = resolveClassComponentProps(
-              fiber.type,
-              flags,
-              fiber.elementType === fiber.type
-            );
-            isViewTransitionEligible = instance.getSnapshotBeforeUpdate(
-              resolvedPrevProps,
-              current
-            );
-            instance.__reactInternalSnapshotBeforeUpdate =
-              isViewTransitionEligible;
-          } catch (error) {
-            captureCommitPhaseError(fiber, fiber.return, error);
-          }
-        }
-        break;
-      case 3:
-        if (0 !== (flags & 1024))
-          if (
-            ((current = fiber.stateNode.containerInfo),
-            (isViewTransitionEligible = current.nodeType),
-            9 === isViewTransitionEligible)
-          )
-            clearContainerSparingly(current);
-          else if (1 === isViewTransitionEligible)
-            switch (current.nodeName) {
-              case "HEAD":
-              case "HTML":
-              case "BODY":
-                clearContainerSparingly(current);
-                break;
-              default:
-                current.textContent = "";
-            }
-        break;
-      case 5:
-      case 26:
-      case 27:
-      case 6:
-      case 4:
-      case 17:
-        break;
-      case 30:
-        if (
-          isViewTransitionEligible &&
-          null !== current &&
-          0 !== (fiber.subtreeFlags & 8246)
-        )
-          a: {
-            isViewTransitionEligible = getViewTransitionName(
-              current.memoizedProps,
-              current.stateNode
-            );
-            flags = fiber.memoizedProps;
-            instance = getViewTransitionClassName(
-              flags.className,
-              flags.update
-            );
-            if (
-              "none" === instance &&
-              ((instance = getViewTransitionClassName(
-                flags.className,
-                flags.layout
-              )),
-              "none" === instance)
-            )
-              break a;
-            viewTransitionHostInstanceIdx = 0;
-            applyViewTransitionToHostInstances(
-              current.child,
-              isViewTransitionEligible,
-              instance,
-              (current.memoizedState = []),
-              !0
-            );
-          }
-        break;
-      default:
-        if (0 !== (flags & 1024)) throw Error(formatProdErrorMessage(163));
-    }
-    current = fiber.sibling;
-    if (null !== current) {
-      current.return = fiber.return;
-      nextEffect = current;
-      break;
-    }
-    nextEffect = fiber.return;
+            stopAtNestedViewTransitions
+          ) && (inViewport = !0);
+    child = child.sibling;
+  }
+  return inViewport;
+}
+function measureNestedViewTransitions(changedParent) {
+  for (changedParent = changedParent.child; null !== changedParent; ) {
+    if (30 === changedParent.tag) {
+      var current = changedParent.alternate;
+      if (null !== current) {
+        var props = changedParent.memoizedProps,
+          name = getViewTransitionName(props, changedParent.stateNode),
+          className = getViewTransitionClassName(props.className, props.layout);
+        viewTransitionHostInstanceIdx = 0;
+        current = measureViewTransitionHostInstances(
+          current,
+          changedParent,
+          changedParent.child,
+          name,
+          className,
+          changedParent.memoizedState,
+          !1
+        );
+        0 !== (changedParent.flags & 4) &&
+          current &&
+          scheduleViewTransitionEvent(changedParent, props.onLayout);
+      }
+    } else
+      0 !== (changedParent.subtreeFlags & 33554432) &&
+        measureNestedViewTransitions(changedParent);
+    changedParent = changedParent.sibling;
   }
 }
 function commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {
@@ -9149,11 +8937,11 @@ function commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {
           } else
             try {
               finishedRoot.componentDidMount();
-            } catch (error$120) {
+            } catch (error$119) {
               captureCommitPhaseError(
                 finishedWork,
                 finishedWork.return,
-                error$120
+                error$119
               );
             }
         else {
@@ -9170,11 +8958,11 @@ function commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {
                 current,
                 finishedRoot.__reactInternalSnapshotBeforeUpdate
               );
-            } catch (error$121) {
+            } catch (error$120) {
               captureCommitPhaseError(
                 finishedWork,
                 finishedWork.return,
-                error$121
+                error$120
               );
             }
             recordEffectDuration();
@@ -9185,11 +8973,11 @@ function commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {
                 current,
                 finishedRoot.__reactInternalSnapshotBeforeUpdate
               );
-            } catch (error$122) {
+            } catch (error$121) {
               captureCommitPhaseError(
                 finishedWork,
                 finishedWork.return,
-                error$122
+                error$121
               );
             }
         }
@@ -9218,11 +9006,11 @@ function commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {
       }
       finishedRoot.effectDuration += popNestedEffectDurations(current);
       break;
-    case 27:
-      null === current &&
-        flags & 4 &&
-        commitHostSingletonAcquisition(finishedWork);
     case 26:
+      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);
+      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);
+      break;
+    case 27:
     case 5:
       recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);
       null === current && flags & 4 && commitHostMount(finishedWork);
@@ -9358,14 +9146,20 @@ function commitDeletionEffectsOnFiber(
         safelyDetachRef(deletedFiber, nearestMountedAncestor);
       var prevHostParent = hostParent,
         prevHostParentIsContainer = hostParentIsContainer;
-      isSingletonScope(deletedFiber.type) &&
-        ((hostParent = deletedFiber.stateNode), (hostParentIsContainer = !1));
+      hostParent = deletedFiber.stateNode;
       recursivelyTraverseDeletionEffects(
         finishedRoot,
         nearestMountedAncestor,
         deletedFiber
       );
-      releaseSingletonInstance(deletedFiber.stateNode);
+      deletedFiber = deletedFiber.stateNode;
+      for (
+        nearestMountedAncestor = deletedFiber.attributes;
+        nearestMountedAncestor.length;
+
+      )
+        deletedFiber.removeAttributeNode(nearestMountedAncestor[0]);
+      detachDeletedInstance(deletedFiber);
       hostParent = prevHostParent;
       hostParentIsContainer = prevHostParentIsContainer;
       break;
@@ -9373,25 +9167,24 @@ function commitDeletionEffectsOnFiber(
       offscreenSubtreeWasHidden ||
         safelyDetachRef(deletedFiber, nearestMountedAncestor);
     case 6:
-      prevHostParent = hostParent;
-      prevHostParentIsContainer = hostParentIsContainer;
+      prevHostParentIsContainer = hostParent;
+      var prevHostParentIsContainer$131 = hostParentIsContainer;
       hostParent = null;
       recursivelyTraverseDeletionEffects(
         finishedRoot,
         nearestMountedAncestor,
         deletedFiber
       );
-      hostParent = prevHostParent;
-      hostParentIsContainer = prevHostParentIsContainer;
+      hostParent = prevHostParentIsContainer;
+      hostParentIsContainer = prevHostParentIsContainer$131;
       if (null !== hostParent)
         if (hostParentIsContainer)
           try {
-            (9 === hostParent.nodeType
-              ? hostParent.body
-              : "HTML" === hostParent.nodeName
-                ? hostParent.ownerDocument.body
-                : hostParent
-            ).removeChild(deletedFiber.stateNode),
+            (finishedRoot = hostParent),
+              (prevHostParent = deletedFiber.stateNode),
+              8 === finishedRoot.nodeType
+                ? finishedRoot.parentNode.removeChild(prevHostParent)
+                : finishedRoot.removeChild(prevHostParent),
               (viewTransitionMutationContext = !0);
           } catch (error) {
             captureCommitPhaseError(
@@ -9415,16 +9208,16 @@ function commitDeletionEffectsOnFiber(
     case 18:
       null !== hostParent &&
         (hostParentIsContainer
-          ? ((finishedRoot = hostParent),
-            clearSuspenseBoundary(
-              9 === finishedRoot.nodeType
-                ? finishedRoot.body
-                : "HTML" === finishedRoot.nodeName
-                  ? finishedRoot.ownerDocument.body
-                  : finishedRoot,
-              deletedFiber.stateNode
-            ),
-            retryIfBlockedOn(finishedRoot))
+          ? ((nearestMountedAncestor = hostParent),
+            (deletedFiber = deletedFiber.stateNode),
+            8 === nearestMountedAncestor.nodeType
+              ? clearSuspenseBoundary(
+                  nearestMountedAncestor.parentNode,
+                  deletedFiber
+                )
+              : 1 === nearestMountedAncestor.nodeType &&
+                clearSuspenseBoundary(nearestMountedAncestor, deletedFiber),
+            retryIfBlockedOn(nearestMountedAncestor))
           : clearSuspenseBoundary(hostParent, deletedFiber.stateNode));
       break;
     case 4:
@@ -9558,17 +9351,14 @@ function recursivelyTraverseMutationEffects(root$jscomp$0, parentFiber, lanes) {
       a: for (; null !== parent; ) {
         switch (parent.tag) {
           case 27:
-            if (isSingletonScope(parent.type)) {
-              hostParent = parent.stateNode;
-              hostParentIsContainer = !1;
-              break a;
-            }
-            break;
           case 5:
             hostParent = parent.stateNode;
             hostParentIsContainer = !1;
             break a;
           case 3:
+            hostParent = parent.stateNode.containerInfo;
+            hostParentIsContainer = !0;
+            break a;
           case 4:
             hostParent = parent.stateNode.containerInfo;
             hostParentIsContainer = !0;
@@ -9779,20 +9569,36 @@ function commitMutationEffectsOnFiber(finishedWork, root, lanes) {
               );
       break;
     case 27:
-      recursivelyTraverseMutationEffects(root, finishedWork, lanes);
-      commitReconciliationEffects(finishedWork);
-      flags & 512 &&
-        (offscreenSubtreeWasHidden ||
-          null === current ||
-          safelyDetachRef(current, current.return));
-      null !== current &&
-        flags & 4 &&
-        commitHostUpdate(
-          finishedWork,
-          finishedWork.memoizedProps,
-          current.memoizedProps
-        );
-      break;
+      if (flags & 4 && null === finishedWork.alternate) {
+        hoistableRoot = finishedWork.stateNode;
+        i = finishedWork.memoizedProps;
+        try {
+          for (var node = hoistableRoot.firstChild; node; ) {
+            var nextNode = node.nextSibling,
+              nodeName = node.nodeName;
+            node[internalHoistableMarker] ||
+              "HEAD" === nodeName ||
+              "BODY" === nodeName ||
+              "SCRIPT" === nodeName ||
+              "STYLE" === nodeName ||
+              ("LINK" === nodeName &&
+                "stylesheet" === node.rel.toLowerCase()) ||
+              hoistableRoot.removeChild(node);
+            node = nextNode;
+          }
+          for (
+            var type = finishedWork.type, attributes = hoistableRoot.attributes;
+            attributes.length;
+
+          )
+            hoistableRoot.removeAttributeNode(attributes[0]);
+          setInitialProperties(hoistableRoot, type, i);
+          hoistableRoot[internalInstanceKey] = finishedWork;
+          hoistableRoot[internalPropsKey] = i;
+        } catch (error) {
+          captureCommitPhaseError(finishedWork, finishedWork.return, error);
+        }
+      }
     case 5:
       recursivelyTraverseMutationEffects(root, finishedWork, lanes);
       commitReconciliationEffects(finishedWork);
@@ -9885,15 +9691,15 @@ function commitMutationEffectsOnFiber(finishedWork, root, lanes) {
         (offscreenSubtreeWasHidden ||
           null === current ||
           safelyDetachRef(current, current.return));
-      hoistableRoot = null !== finishedWork.memoizedState;
-      var wasHidden = null !== current && null !== current.memoizedState,
-        prevOffscreenSubtreeIsHidden = offscreenSubtreeIsHidden,
-        prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;
-      offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden || hoistableRoot;
-      offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden || wasHidden;
+      node = null !== finishedWork.memoizedState;
+      nextNode = null !== current && null !== current.memoizedState;
+      nodeName = offscreenSubtreeIsHidden;
+      type = offscreenSubtreeWasHidden;
+      offscreenSubtreeIsHidden = nodeName || node;
+      offscreenSubtreeWasHidden = type || nextNode;
       recursivelyTraverseMutationEffects(root, finishedWork, lanes);
-      offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;
-      offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden;
+      offscreenSubtreeWasHidden = type;
+      offscreenSubtreeIsHidden = nodeName;
       commitReconciliationEffects(finishedWork);
       root = finishedWork.stateNode;
       root._current = finishedWork;
@@ -9901,29 +9707,29 @@ function commitMutationEffectsOnFiber(finishedWork, root, lanes) {
       root._visibility |= root._pendingVisibility & 2;
       if (
         flags & 8192 &&
-        ((root._visibility = hoistableRoot
+        ((root._visibility = node
           ? root._visibility & -2
           : root._visibility | 1),
-        hoistableRoot &&
-          (null === current ||
-            wasHidden ||
-            offscreenSubtreeIsHidden ||
-            offscreenSubtreeWasHidden ||
+        node &&
+          ((root = offscreenSubtreeIsHidden || offscreenSubtreeWasHidden),
+          null === current ||
+            nextNode ||
+            root ||
             recursivelyTraverseDisappearLayoutEffects(finishedWork)),
         null === finishedWork.memoizedProps ||
           "manual" !== finishedWork.memoizedProps.mode)
       )
         a: for (current = null, root = finishedWork; ; ) {
-          if (5 === root.tag || 26 === root.tag) {
+          if (5 === root.tag || 26 === root.tag || 27 === root.tag) {
             if (null === current) {
               lanes = current = root;
               try {
-                if (((i = lanes.stateNode), hoistableRoot)) {
-                  var style = i.style;
-                  "function" === typeof style.setProperty
-                    ? style.setProperty("display", "none", "important")
-                    : (style.display = "none");
-                } else {
+                if (((hoistableRoot = lanes.stateNode), node))
+                  (i = hoistableRoot.style),
+                    "function" === typeof i.setProperty
+                      ? i.setProperty("display", "none", "important")
+                      : (i.display = "none");
+                else {
                   var instance = lanes.stateNode,
                     styleProp = lanes.memoizedProps.style,
                     display =
@@ -9945,9 +9751,7 @@ function commitMutationEffectsOnFiber(finishedWork, root, lanes) {
             if (null === current) {
               lanes = root;
               try {
-                lanes.stateNode.nodeValue = hoistableRoot
-                  ? ""
-                  : lanes.memoizedProps;
+                lanes.stateNode.nodeValue = node ? "" : lanes.memoizedProps;
               } catch (error) {
                 captureCommitPhaseError(lanes, lanes.return, error);
               }
@@ -9998,7 +9802,7 @@ function commitMutationEffectsOnFiber(finishedWork, root, lanes) {
       viewTransitionMutationContext = !1;
       recursivelyTraverseMutationEffects(root, finishedWork, lanes);
       commitReconciliationEffects(finishedWork);
-      (lanes & 335544064) === lanes &&
+      (lanes & 335544192) === lanes &&
         null !== current &&
         viewTransitionMutationContext &&
         (finishedWork.flags |= 4);
@@ -10028,42 +9832,44 @@ function commitReconciliationEffects(finishedWork) {
   var flags = finishedWork.flags;
   if (flags & 2) {
     try {
-      a: {
-        for (var parent = finishedWork.return; null !== parent; ) {
-          if (isHostParent(parent)) {
-            var JSCompiler_inline_result = parent;
-            break a;
+      if (27 !== finishedWork.tag) {
+        a: {
+          for (var parent = finishedWork.return; null !== parent; ) {
+            if (isHostParent(parent)) {
+              var JSCompiler_inline_result = parent;
+              break a;
+            }
+            parent = parent.return;
           }
-          parent = parent.return;
+          throw Error(formatProdErrorMessage(160));
+        }
+        switch (JSCompiler_inline_result.tag) {
+          case 27:
+            var parent$jscomp$0 = JSCompiler_inline_result.stateNode,
+              before = getHostSibling(finishedWork);
+            insertOrAppendPlacementNode(finishedWork, before, parent$jscomp$0);
+            break;
+          case 5:
+            var parent$124 = JSCompiler_inline_result.stateNode;
+            JSCompiler_inline_result.flags & 32 &&
+              (setTextContent(parent$124, ""),
+              (JSCompiler_inline_result.flags &= -33));
+            var before$125 = getHostSibling(finishedWork);
+            insertOrAppendPlacementNode(finishedWork, before$125, parent$124);
+            break;
+          case 3:
+          case 4:
+            var parent$126 = JSCompiler_inline_result.stateNode.containerInfo,
+              before$127 = getHostSibling(finishedWork);
+            insertOrAppendPlacementNodeIntoContainer(
+              finishedWork,
+              before$127,
+              parent$126
+            );
+            break;
+          default:
+            throw Error(formatProdErrorMessage(161));
         }
-        throw Error(formatProdErrorMessage(160));
-      }
-      switch (JSCompiler_inline_result.tag) {
-        case 27:
-          var parent$jscomp$0 = JSCompiler_inline_result.stateNode,
-            before = getHostSibling(finishedWork);
-          insertOrAppendPlacementNode(finishedWork, before, parent$jscomp$0);
-          break;
-        case 5:
-          var parent$125 = JSCompiler_inline_result.stateNode;
-          JSCompiler_inline_result.flags & 32 &&
-            (setTextContent(parent$125, ""),
-            (JSCompiler_inline_result.flags &= -33));
-          var before$126 = getHostSibling(finishedWork);
-          insertOrAppendPlacementNode(finishedWork, before$126, parent$125);
-          break;
-        case 3:
-        case 4:
-          var parent$127 = JSCompiler_inline_result.stateNode.containerInfo,
-            before$128 = getHostSibling(finishedWork);
-          insertOrAppendPlacementNodeIntoContainer(
-            finishedWork,
-            before$128,
-            parent$127
-          );
-          break;
-        default:
-          throw Error(formatProdErrorMessage(161));
       }
     } catch (error) {
       captureCommitPhaseError(finishedWork, finishedWork.return, error);
@@ -10116,7 +9922,30 @@ function commitAfterMutationEffectsOnFiber(finishedWork, root) {
                   }
                 );
             }
-          cancelRootViewTransitionName(root.containerInfo);
+          finishedWork = root.containerInfo;
+          finishedWork =
+            9 === finishedWork.nodeType
+              ? finishedWork.documentElement
+              : finishedWork.ownerDocument.documentElement;
+          null !== finishedWork &&
+            "" === finishedWork.style.viewTransitionName &&
+            ((finishedWork.style.viewTransitionName = "none"),
+            finishedWork.animate(
+              { opacity: [0, 0], pointerEvents: ["none", "none"] },
+              {
+                duration: 0,
+                fill: "forwards",
+                pseudoElement: "::view-transition-group(root)"
+              }
+            ),
+            finishedWork.animate(
+              { width: [0, 0], height: [0, 0] },
+              {
+                duration: 0,
+                fill: "forwards",
+                pseudoElement: "::view-transition"
+              }
+            ));
         }
         break;
       case 5:
@@ -10145,7 +9974,7 @@ function commitAfterMutationEffectsOnFiber(finishedWork, root) {
               ),
               layoutClassName = getViewTransitionClassName(
                 root.className,
-                root.layout
+                root.update
               );
             if ("none" === updateClassName) {
               if ("none" === layoutClassName) {
@@ -10235,9 +10064,8 @@ function recursivelyTraverseDisappearLayoutEffects(parentFiber) {
           );
         recursivelyTraverseDisappearLayoutEffects(finishedWork);
         break;
-      case 27:
-        releaseSingletonInstance(finishedWork.stateNode);
       case 26:
+      case 27:
       case 5:
         safelyDetachRef(finishedWork, finishedWork.return);
         recursivelyTraverseDisappearLayoutEffects(finishedWork);
@@ -10329,9 +10157,8 @@ function recursivelyTraverseReappearLayoutEffects(
           commitClassCallbacks(finishedWork);
         safelyAttachRef(finishedWork, finishedWork.return);
         break;
-      case 27:
-        commitHostSingletonAcquisition(finishedWork);
       case 26:
+      case 27:
       case 5:
         recursivelyTraverseReappearLayoutEffects(
           finishedRoot,
@@ -10446,7 +10273,7 @@ function recursivelyTraversePassiveMountEffects(
   endTime
 ) {
   var isViewTransitionEligible =
-    (committedLanes & 335544064) === committedLanes;
+    (committedLanes & 335544192) === committedLanes;
   if (
     parentFiber.subtreeFlags & (isViewTransitionEligible ? 10262 : 10256) ||
     (0 !== parentFiber.actualDuration &&
@@ -10487,7 +10314,7 @@ function commitPassiveMountOnFiber(
       inHydratedSubtree
     );
   var isViewTransitionEligible =
-    (committedLanes & 335544064) === committedLanes;
+    (committedLanes & 335544192) === committedLanes;
   isViewTransitionEligible &&
     null === finishedWork.alternate &&
     null !== finishedWork.return &&
@@ -10556,7 +10383,14 @@ function commitPassiveMountOnFiber(
       );
       inHydratedSubtree = wasInHydratedSubtree;
       isViewTransitionEligible &&
-        restoreRootViewTransitionName(finishedRoot.containerInfo);
+        ((committedLanes = finishedRoot.containerInfo),
+        (committedLanes =
+          9 === committedLanes.nodeType
+            ? committedLanes.documentElement
+            : committedLanes.ownerDocument.documentElement),
+        null !== committedLanes &&
+          "none" === committedLanes.style.viewTransitionName &&
+          (committedLanes.style.viewTransitionName = ""));
       flags & 2048 &&
         ((committedLanes = null),
         null !== finishedWork.alternate &&
@@ -10570,7 +10404,7 @@ function commitPassiveMountOnFiber(
       break;
     case 12:
       if (flags & 2048) {
-        isViewTransitionEligible = pushNestedEffectDurations();
+        flags = pushNestedEffectDurations();
         recursivelyTraversePassiveMountEffects(
           finishedRoot,
           finishedWork,
@@ -10579,9 +10413,8 @@ function commitPassiveMountOnFiber(
           endTime
         );
         finishedRoot = finishedWork.stateNode;
-        finishedRoot.passiveEffectDuration += bubbleNestedEffectDurations(
-          isViewTransitionEligible
-        );
+        finishedRoot.passiveEffectDuration +=
+          bubbleNestedEffectDurations(flags);
         try {
           prevEffectDuration = finishedWork.memoizedProps;
           wasInHydratedSubtree = prevEffectDuration.id;
@@ -10608,14 +10441,14 @@ function commitPassiveMountOnFiber(
         );
       break;
     case 13:
-      isViewTransitionEligible = inHydratedSubtree;
-      flags =
+      flags = inHydratedSubtree;
+      isViewTransitionEligible =
         null !== finishedWork.alternate
           ? finishedWork.alternate.memoizedState
           : null;
       prevEffectDuration = finishedWork.memoizedState;
-      null === flags ||
-      null === flags.dehydrated ||
+      null === isViewTransitionEligible ||
+      null === isViewTransitionEligible.dehydrated ||
       (null !== prevEffectDuration && null !== prevEffectDuration.dehydrated)
         ? (inHydratedSubtree = !1)
         : ((prevEffectDuration = finishedWork.deletions),
@@ -10623,7 +10456,7 @@ function commitPassiveMountOnFiber(
           0 < prevEffectDuration.length &&
           18 === prevEffectDuration[0].tag
             ? ((inHydratedSubtree = !1),
-              null !== flags.hydrationErrors &&
+              null !== isViewTransitionEligible.hydrationErrors &&
                 logComponentErrored(
                   finishedWork,
                   finishedWork.actualStartTime,
@@ -10637,7 +10470,7 @@ function commitPassiveMountOnFiber(
         committedTransitions,
         endTime
       );
-      inHydratedSubtree = isViewTransitionEligible;
+      inHydratedSubtree = flags;
       break;
     case 23:
       break;
@@ -10701,14 +10534,11 @@ function commitPassiveMountOnFiber(
       break;
     case 30:
       isViewTransitionEligible &&
-        ((isViewTransitionEligible = finishedWork.alternate),
-        null !== isViewTransitionEligible &&
+        ((flags = finishedWork.alternate),
+        null !== flags &&
           0 !== (finishedWork.subtreeFlags & 8246) &&
           ((finishedWork.memoizedState = null),
-          restoreViewTransitionOnHostInstances(
-            isViewTransitionEligible.child,
-            !0
-          ),
+          restoreViewTransitionOnHostInstances(flags.child, !0),
           restoreViewTransitionOnHostInstances(finishedWork.child, !0)));
       recursivelyTraversePassiveMountEffects(
         finishedRoot,
@@ -10956,20 +10786,6 @@ function accumulateSuspenseyCommitOnFiber(fiber) {
             (suspenseyCommitFlag = previousHoistableRoot))
           : recursivelyAccumulateSuspenseyCommit(fiber));
       break;
-    case 30:
-      if (
-        0 !== (fiber.flags & suspenseyCommitFlag) &&
-        ((previousHoistableRoot = fiber.memoizedProps.name),
-        null != previousHoistableRoot && "auto" !== previousHoistableRoot)
-      ) {
-        var state = fiber.stateNode;
-        state.paired = null;
-        null === appearingViewTransitions &&
-          (appearingViewTransitions = new Map());
-        appearingViewTransitions.set(previousHoistableRoot, state);
-      }
-      recursivelyAccumulateSuspenseyCommit(fiber);
-      break;
     default:
       recursivelyAccumulateSuspenseyCommit(fiber);
   }
@@ -11504,14 +11320,14 @@ function prepareToHydrateHostInstance(fiber) {
 function popToNextHostParent(fiber) {
   for (hydrationParentFiber = fiber.return; hydrationParentFiber; )
     switch (hydrationParentFiber.tag) {
+      case 3:
+      case 27:
+        rootOrSingletonContext = !0;
+        return;
       case 5:
       case 13:
         rootOrSingletonContext = !1;
         return;
-      case 27:
-      case 3:
-        rootOrSingletonContext = !0;
-        return;
       default:
         hydrationParentFiber = hydrationParentFiber.return;
     }
@@ -11519,52 +11335,46 @@ function popToNextHostParent(fiber) {
 function popHydrationState(fiber) {
   if (fiber !== hydrationParentFiber) return !1;
   if (!isHydrating) return popToNextHostParent(fiber), (isHydrating = !0), !1;
-  var tag = fiber.tag,
+  var shouldClear = !1,
     JSCompiler_temp;
-  if ((JSCompiler_temp = 3 !== tag && 27 !== tag)) {
-    if ((JSCompiler_temp = 5 === tag))
+  if ((JSCompiler_temp = 3 !== fiber.tag && 27 !== fiber.tag)) {
+    if ((JSCompiler_temp = 5 === fiber.tag))
       (JSCompiler_temp = fiber.type),
         (JSCompiler_temp =
           !("form" !== JSCompiler_temp && "button" !== JSCompiler_temp) ||
           shouldSetTextContent(fiber.type, fiber.memoizedProps));
     JSCompiler_temp = !JSCompiler_temp;
   }
-  JSCompiler_temp && nextHydratableInstance && throwOnHydrationMismatch(fiber);
+  JSCompiler_temp && (shouldClear = !0);
+  shouldClear && nextHydratableInstance && throwOnHydrationMismatch(fiber);
   popToNextHostParent(fiber);
-  if (13 === tag) {
+  if (13 === fiber.tag) {
     fiber = fiber.memoizedState;
     fiber = null !== fiber ? fiber.dehydrated : null;
     if (!fiber) throw Error(formatProdErrorMessage(317));
     a: {
       fiber = fiber.nextSibling;
-      for (tag = 0; fiber; ) {
+      for (shouldClear = 0; fiber; ) {
         if (8 === fiber.nodeType)
           if (((JSCompiler_temp = fiber.data), "/$" === JSCompiler_temp)) {
-            if (0 === tag) {
+            if (0 === shouldClear) {
               nextHydratableInstance = getNextHydratable(fiber.nextSibling);
               break a;
             }
-            tag--;
+            shouldClear--;
           } else
             ("$" !== JSCompiler_temp &&
               "$!" !== JSCompiler_temp &&
               "$?" !== JSCompiler_temp) ||
-              tag++;
+              shouldClear++;
         fiber = fiber.nextSibling;
       }
       nextHydratableInstance = null;
     }
   } else
-    27 === tag
-      ? ((tag = nextHydratableInstance),
-        isSingletonScope(fiber.type)
-          ? ((fiber = previousHydratableOnEnteringScopedSingleton),
-            (previousHydratableOnEnteringScopedSingleton = null),
-            (nextHydratableInstance = fiber))
-          : (nextHydratableInstance = tag))
-      : (nextHydratableInstance = hydrationParentFiber
-          ? getNextHydratable(fiber.stateNode.nextSibling)
-          : null);
+    nextHydratableInstance = hydrationParentFiber
+      ? getNextHydratable(fiber.stateNode.nextSibling)
+      : null;
   return !0;
 }
 function resetHydrationState() {
@@ -11594,31 +11404,14 @@ function getViewTransitionName(props, instance) {
     ? props.name
     : instance.autoName;
 }
-function getClassNameByType(classByType) {
-  if (null == classByType || "string" === typeof classByType)
-    return classByType;
-  var className = null,
-    activeTypes = pendingTransitionTypes;
-  if (null !== activeTypes)
-    for (var i = 0; i < activeTypes.length; i++) {
-      var match = classByType[activeTypes[i]];
-      if (null != match) {
-        if ("none" === match) return "none";
-        className = null == className ? match : className + (" " + match);
-      }
-    }
-  return null == className ? classByType.default : className;
-}
-function getViewTransitionClassName(defaultClass, eventClass) {
-  defaultClass = getClassNameByType(defaultClass);
-  eventClass = getClassNameByType(eventClass);
-  return null == eventClass
-    ? defaultClass
-    : "none" === eventClass
-      ? eventClass
-      : null != defaultClass && "none" !== defaultClass
-        ? defaultClass + " " + eventClass
-        : eventClass;
+function getViewTransitionClassName(className, eventClassName) {
+  return null == eventClassName
+    ? className
+    : "none" === eventClassName
+      ? eventClassName
+      : null != className
+        ? className + " " + eventClassName
+        : eventClassName;
 }
 function markUpdate(workInProgress) {
   workInProgress.flags |= 4;
@@ -11630,7 +11423,7 @@ function preloadResourceAndSuspendIfNeeded(workInProgress, resource) {
     resource = suspenseHandlerStackCursor.current;
     if (
       null !== resource &&
-      ((workInProgressRootRenderLanes & 4194048) ===
+      ((workInProgressRootRenderLanes & 4194176) ===
       workInProgressRootRenderLanes
         ? null !== shellBoundary
         : ((workInProgressRootRenderLanes & 62914560) !==
@@ -11668,14 +11461,14 @@ function cutOffTailIfNeeded(renderState, hasRenderedATailFallback) {
         break;
       case "collapsed":
         lastTailNode = renderState.tail;
-        for (var lastTailNode$153 = null; null !== lastTailNode; )
-          null !== lastTailNode.alternate && (lastTailNode$153 = lastTailNode),
+        for (var lastTailNode$150 = null; null !== lastTailNode; )
+          null !== lastTailNode.alternate && (lastTailNode$150 = lastTailNode),
             (lastTailNode = lastTailNode.sibling);
-        null === lastTailNode$153
+        null === lastTailNode$150
           ? hasRenderedATailFallback || null === renderState.tail
             ? (renderState.tail = null)
             : (renderState.tail.sibling = null)
-          : (lastTailNode$153.sibling = null);
+          : (lastTailNode$150.sibling = null);
     }
 }
 function bubbleProperties(completedWork) {
@@ -11687,57 +11480,75 @@ function bubbleProperties(completedWork) {
   if (didBailout)
     if (0 !== (completedWork.mode & 2)) {
       for (
-        var treeBaseDuration$155 = completedWork.selfBaseDuration,
-          child$156 = completedWork.child;
-        null !== child$156;
+        var treeBaseDuration$152 = completedWork.selfBaseDuration,
+          child$153 = completedWork.child;
+        null !== child$153;
 
       )
-        (newChildLanes |= child$156.lanes | child$156.childLanes),
-          (subtreeFlags |= child$156.subtreeFlags & 65011712),
-          (subtreeFlags |= child$156.flags & 65011712),
-          (treeBaseDuration$155 += child$156.treeBaseDuration),
-          (child$156 = child$156.sibling);
-      completedWork.treeBaseDuration = treeBaseDuration$155;
+        (newChildLanes |= child$153.lanes | child$153.childLanes),
+          (subtreeFlags |= child$153.subtreeFlags & 65011712),
+          (subtreeFlags |= child$153.flags & 65011712),
+          (treeBaseDuration$152 += child$153.treeBaseDuration),
+          (child$153 = child$153.sibling);
+      completedWork.treeBaseDuration = treeBaseDuration$152;
     } else
       for (
-        treeBaseDuration$155 = completedWork.child;
-        null !== treeBaseDuration$155;
+        treeBaseDuration$152 = completedWork.child;
+        null !== treeBaseDuration$152;
 
       )
         (newChildLanes |=
-          treeBaseDuration$155.lanes | treeBaseDuration$155.childLanes),
-          (subtreeFlags |= treeBaseDuration$155.subtreeFlags & 65011712),
-          (subtreeFlags |= treeBaseDuration$155.flags & 65011712),
-          (treeBaseDuration$155.return = completedWork),
-          (treeBaseDuration$155 = treeBaseDuration$155.sibling);
+          treeBaseDuration$152.lanes | treeBaseDuration$152.childLanes),
+          (subtreeFlags |= treeBaseDuration$152.subtreeFlags & 65011712),
+          (subtreeFlags |= treeBaseDuration$152.flags & 65011712),
+          (treeBaseDuration$152.return = completedWork),
+          (treeBaseDuration$152 = treeBaseDuration$152.sibling);
   else if (0 !== (completedWork.mode & 2)) {
-    treeBaseDuration$155 = completedWork.actualDuration;
-    child$156 = completedWork.selfBaseDuration;
+    treeBaseDuration$152 = completedWork.actualDuration;
+    child$153 = completedWork.selfBaseDuration;
     for (var child = completedWork.child; null !== child; )
       (newChildLanes |= child.lanes | child.childLanes),
         (subtreeFlags |= child.subtreeFlags),
         (subtreeFlags |= child.flags),
-        (treeBaseDuration$155 += child.actualDuration),
-        (child$156 += child.treeBaseDuration),
+        (treeBaseDuration$152 += child.actualDuration),
+        (child$153 += child.treeBaseDuration),
         (child = child.sibling);
-    completedWork.actualDuration = treeBaseDuration$155;
-    completedWork.treeBaseDuration = child$156;
+    completedWork.actualDuration = treeBaseDuration$152;
+    completedWork.treeBaseDuration = child$153;
   } else
     for (
-      treeBaseDuration$155 = completedWork.child;
-      null !== treeBaseDuration$155;
+      treeBaseDuration$152 = completedWork.child;
+      null !== treeBaseDuration$152;
 
     )
       (newChildLanes |=
-        treeBaseDuration$155.lanes | treeBaseDuration$155.childLanes),
-        (subtreeFlags |= treeBaseDuration$155.subtreeFlags),
-        (subtreeFlags |= treeBaseDuration$155.flags),
-        (treeBaseDuration$155.return = completedWork),
-        (treeBaseDuration$155 = treeBaseDuration$155.sibling);
+        treeBaseDuration$152.lanes | treeBaseDuration$152.childLanes),
+        (subtreeFlags |= treeBaseDuration$152.subtreeFlags),
+        (subtreeFlags |= treeBaseDuration$152.flags),
+        (treeBaseDuration$152.return = completedWork),
+        (treeBaseDuration$152 = treeBaseDuration$152.sibling);
   completedWork.subtreeFlags |= subtreeFlags;
   completedWork.childLanes = newChildLanes;
   return didBailout;
 }
+function trackReappearingViewTransitions(workInProgress) {
+  if (0 !== (workInProgress.subtreeFlags & 2097152))
+    for (workInProgress = workInProgress.child; null !== workInProgress; ) {
+      if (22 !== workInProgress.tag || null !== workInProgress.memoizedState) {
+        if (
+          30 === workInProgress.tag &&
+          0 !== (workInProgress.flags & 2097152)
+        ) {
+          var props = workInProgress.memoizedProps;
+          null != props.name &&
+            "auto" !== props.name &&
+            trackAppearingViewTransition(workInProgress.stateNode, props.name);
+        }
+        trackReappearingViewTransitions(workInProgress);
+      }
+      workInProgress = workInProgress.sibling;
+    }
+}
 function completeWork(current, workInProgress, renderLanes) {
   var newProps = workInProgress.pendingProps;
   popTreeContext(workInProgress);
@@ -12030,11 +11841,11 @@ function completeWork(current, workInProgress, renderLanes) {
           null !== newProps.alternate.memoizedState &&
           null !== newProps.alternate.memoizedState.cachePool &&
           (type = newProps.alternate.memoizedState.cachePool.pool);
-        var cache$172 = null;
+        var cache$169 = null;
         null !== newProps.memoizedState &&
           null !== newProps.memoizedState.cachePool &&
-          (cache$172 = newProps.memoizedState.cachePool.pool);
-        cache$172 !== type && (newProps.flags |= 2048);
+          (cache$169 = newProps.memoizedState.cachePool.pool);
+        cache$169 !== type && (newProps.flags |= 2048);
       }
       renderLanes !== current &&
         renderLanes &&
@@ -12064,8 +11875,8 @@ function completeWork(current, workInProgress, renderLanes) {
       type = workInProgress.memoizedState;
       if (null === type) return bubbleProperties(workInProgress), null;
       newProps = 0 !== (workInProgress.flags & 128);
-      cache$172 = type.rendering;
-      if (null === cache$172)
+      cache$169 = type.rendering;
+      if (null === cache$169)
         if (newProps) cutOffTailIfNeeded(type, !1);
         else {
           if (
@@ -12073,11 +11884,11 @@ function completeWork(current, workInProgress, renderLanes) {
             (null !== current && 0 !== (current.flags & 128))
           )
             for (current = workInProgress.child; null !== current; ) {
-              cache$172 = findFirstSuspended(current);
-              if (null !== cache$172) {
+              cache$169 = findFirstSuspended(current);
+              if (null !== cache$169) {
                 workInProgress.flags |= 128;
                 cutOffTailIfNeeded(type, !1);
-                current = cache$172.updateQueue;
+                current = cache$169.updateQueue;
                 workInProgress.updateQueue = current;
                 scheduleRetryEffect(workInProgress, current);
                 workInProgress.subtreeFlags = 0;
@@ -12102,7 +11913,7 @@ function completeWork(current, workInProgress, renderLanes) {
         }
       else {
         if (!newProps)
-          if (((current = findFirstSuspended(cache$172)), null !== current)) {
+          if (((current = findFirstSuspended(cache$169)), null !== current)) {
             if (
               ((workInProgress.flags |= 128),
               (newProps = !0),
@@ -12112,7 +11923,7 @@ function completeWork(current, workInProgress, renderLanes) {
               cutOffTailIfNeeded(type, !0),
               null === type.tail &&
                 "hidden" === type.tailMode &&
-                !cache$172.alternate &&
+                !cache$169.alternate &&
                 !isHydrating)
             )
               return bubbleProperties(workInProgress), null;
@@ -12125,13 +11936,13 @@ function completeWork(current, workInProgress, renderLanes) {
               cutOffTailIfNeeded(type, !1),
               (workInProgress.lanes = 4194304));
         type.isBackwards
-          ? ((cache$172.sibling = workInProgress.child),
-            (workInProgress.child = cache$172))
+          ? ((cache$169.sibling = workInProgress.child),
+            (workInProgress.child = cache$169))
           : ((current = type.last),
             null !== current
-              ? (current.sibling = cache$172)
-              : (workInProgress.child = cache$172),
-            (type.last = cache$172));
+              ? (current.sibling = cache$169)
+              : (workInProgress.child = cache$169),
+            (type.last = cache$169));
       }
       if (null !== type.tail)
         return (
@@ -12154,7 +11965,8 @@ function completeWork(current, workInProgress, renderLanes) {
         (newProps = null !== workInProgress.memoizedState),
         null !== current
           ? (null !== current.memoizedState) !== newProps &&
-            (workInProgress.flags |= 8192)
+            ((workInProgress.flags |= 8192),
+            newProps || trackReappearingViewTransitions(workInProgress))
           : newProps && (workInProgress.flags |= 8192),
         newProps
           ? 0 !== (renderLanes & 536870912) &&
@@ -12331,6 +12143,7 @@ var DefaultAsyncDispatcher = {
   workInProgressSuspendedRetryLanes = 0,
   workInProgressRootConcurrentErrors = null,
   workInProgressRootRecoverableErrors = null,
+  workInProgressAppearingViewTransitions = null,
   workInProgressRootDidIncludeRecursiveRenderUpdate = !1,
   globalMostRecentFallbackTime = 0,
   workInProgressRootRenderTargetTime = Infinity,
@@ -12345,7 +12158,6 @@ var DefaultAsyncDispatcher = {
   pendingPassiveTransitions = null,
   pendingRecoverableErrors = null,
   pendingViewTransitionEvents = null,
-  pendingTransitionTypes = null,
   pendingSuspendedCommitReason = 0,
   nestedUpdateCount = 0,
   rootWithNestedUpdates = null;
@@ -12452,7 +12264,7 @@ function performWorkOnRoot(root$jscomp$0, lanes, forceSync) {
   }
   var exitStatus = (yieldEndTime =
     (!forceSync &&
-      0 === (lanes & 124) &&
+      0 === (lanes & 60) &&
       0 === (lanes & root$jscomp$0.expiredLanes)) ||
     checkIfRootIsPrerendering(root$jscomp$0, lanes))
     ? renderRootConcurrent(root$jscomp$0, lanes)
@@ -12543,15 +12355,15 @@ function performWorkOnRoot(root$jscomp$0, lanes, forceSync) {
           case 1:
             throw Error(formatProdErrorMessage(345));
           case 4:
-            if ((lanes & 4194048) !== lanes) break;
+            if ((lanes & 4194176) !== lanes) break;
           case 6:
             setCurrentTrackFromLanes(lanes);
             logSuspendedRenderPhase(renderStartTime, startTime, lanes);
             finalizeRender(lanes, startTime);
             forceSync = lanes;
-            0 !== (forceSync & 3) || 0 !== (forceSync & 124)
+            0 !== (forceSync & 3) || 0 !== (forceSync & 60)
               ? (blockingSuspendedTime = startTime)
-              : 0 !== (forceSync & 4194048) &&
+              : 0 !== (forceSync & 4194176) &&
                 (transitionSuspendedTime = startTime);
             markRootSuspended(
               yieldEndTime,
@@ -12588,6 +12400,7 @@ function performWorkOnRoot(root$jscomp$0, lanes, forceSync) {
               forceSync,
               workInProgressRootRecoverableErrors,
               workInProgressTransitions,
+              workInProgressAppearingViewTransitions,
               workInProgressRootDidIncludeRecursiveRenderUpdate,
               lanes,
               workInProgressDeferredLane,
@@ -12608,6 +12421,7 @@ function performWorkOnRoot(root$jscomp$0, lanes, forceSync) {
           forceSync,
           workInProgressRootRecoverableErrors,
           workInProgressTransitions,
+          workInProgressAppearingViewTransitions,
           workInProgressRootDidIncludeRecursiveRenderUpdate,
           lanes,
           workInProgressDeferredLane,
@@ -12630,6 +12444,7 @@ function commitRootWhenReady(
   finishedWork,
   recoverableErrors,
   transitions,
+  appearingViewTransitions,
   didIncludeRenderPhaseUpdate,
   lanes,
   spawnedLane,
@@ -12643,37 +12458,29 @@ function commitRootWhenReady(
 ) {
   root.timeoutHandle = -1;
   var subtreeFlags = finishedWork.subtreeFlags,
-    isViewTransitionEligible = (lanes & 335544064) === lanes,
-    isGestureTransition = 64 === lanes;
-  if (
-    isViewTransitionEligible ||
-    subtreeFlags & 8192 ||
-    16785408 === (subtreeFlags & 16785408) ||
-    isGestureTransition
-  ) {
+    isViewTransitionEligible = (lanes & 335544192) === lanes;
+  subtreeFlags = subtreeFlags & 8192 || 16785408 === (subtreeFlags & 16785408);
+  if (isViewTransitionEligible || subtreeFlags) {
     suspendedState = { stylesheets: null, count: 0, unsuspend: noop$1 };
-    appearingViewTransitions = null;
-    accumulateSuspenseyCommitOnFiber(finishedWork);
-    if (
-      (isViewTransitionEligible || isGestureTransition) &&
-      null === root.stoppingGestures
-    ) {
-      isViewTransitionEligible = root.containerInfo;
+    subtreeFlags && accumulateSuspenseyCommitOnFiber(finishedWork);
+    if (isViewTransitionEligible) {
+      subtreeFlags = root.containerInfo;
       if (null === suspendedState) throw Error(formatProdErrorMessage(475));
-      subtreeFlags = suspendedState;
-      isViewTransitionEligible = (
-        9 === isViewTransitionEligible.nodeType
-          ? isViewTransitionEligible
-          : isViewTransitionEligible.ownerDocument
+      isViewTransitionEligible = suspendedState;
+      subtreeFlags = (
+        9 === subtreeFlags.nodeType ? subtreeFlags : subtreeFlags.ownerDocument
       ).__reactViewTransition;
-      null != isViewTransitionEligible &&
-        (subtreeFlags.count++,
-        (subtreeFlags = onUnsuspend.bind(subtreeFlags)),
-        isViewTransitionEligible.finished.then(subtreeFlags, subtreeFlags));
+      null != subtreeFlags &&
+        (isViewTransitionEligible.count++,
+        (isViewTransitionEligible = onUnsuspend.bind(isViewTransitionEligible)),
+        subtreeFlags.finished.then(
+          isViewTransitionEligible,
+          isViewTransitionEligible
+        ));
     }
-    subtreeFlags = waitForCommitToBeReady();
-    if (null !== subtreeFlags) {
-      root.cancelPendingCommit = subtreeFlags(
+    isViewTransitionEligible = waitForCommitToBeReady();
+    if (null !== isViewTransitionEligible) {
+      root.cancelPendingCommit = isViewTransitionEligible(
         commitRoot.bind(
           null,
           root,
@@ -12681,6 +12488,7 @@ function commitRootWhenReady(
           lanes,
           recoverableErrors,
           transitions,
+          appearingViewTransitions,
           didIncludeRenderPhaseUpdate,
           spawnedLane,
           updatedLanes,
@@ -12701,6 +12509,7 @@ function commitRootWhenReady(
     lanes,
     recoverableErrors,
     transitions,
+    appearingViewTransitions,
     didIncludeRenderPhaseUpdate,
     spawnedLane,
     updatedLanes,
@@ -12789,9 +12598,9 @@ function resetWorkInProgressStack() {
   }
 }
 function finalizeRender(lanes, finalizationTime) {
-  if (0 !== (lanes & 3) || 0 !== (lanes & 124))
+  if (0 !== (lanes & 3) || 0 !== (lanes & 60))
     blockingClampTime = finalizationTime;
-  0 !== (lanes & 4194048) && (transitionClampTime = finalizationTime);
+  0 !== (lanes & 4194176) && (transitionClampTime = finalizationTime);
 }
 function prepareFreshStack(root, lanes) {
   supportsUserTiming &&
@@ -12812,13 +12621,13 @@ function prepareFreshStack(root, lanes) {
       var endTime = renderStartTime;
       supportsUserTiming &&
         ((reusableLaneDevToolDetails.color =
-          (lanes & 738197653) === lanes ? "tertiary-dark" : "primary-dark"),
+          (lanes & 738197589) === lanes ? "tertiary-dark" : "primary-dark"),
         (reusableLaneOptions.start = previousRenderStartTime),
         (reusableLaneOptions.end = endTime),
         performance.measure(
           (lanes & 536870912) === lanes
             ? "Prewarm"
-            : (lanes & 201326741) === lanes
+            : (lanes & 201326677) === lanes
               ? "Interrupted Hydration"
               : "Interrupted Render",
           reusableLaneOptions
@@ -12826,7 +12635,7 @@ function prepareFreshStack(root, lanes) {
     }
     finalizeRender(workInProgressRootRenderLanes, renderStartTime);
   }
-  if (0 !== (lanes & 3) || 0 !== (lanes & 124)) {
+  if (0 !== (lanes & 3) || 0 !== (lanes & 60)) {
     previousRenderStartTime =
       0 <= blockingUpdateTime && blockingUpdateTime < blockingClampTime
         ? blockingClampTime
@@ -12869,7 +12678,7 @@ function prepareFreshStack(root, lanes) {
       0 < previousRenderStartTime &&
         ((reusableLaneDevToolDetails.color = isSpawnedUpdate
           ? "error"
-          : (lanes & 738197653) === lanes
+          : (lanes & 738197589) === lanes
             ? "tertiary-light"
             : "primary-light"),
         (reusableLaneOptions.start = previousRenderStartTime),
@@ -12882,7 +12691,7 @@ function prepareFreshStack(root, lanes) {
     blockingEventIsRepeat = !0;
     blockingSpawnedUpdate = !1;
   }
-  0 !== (lanes & 4194048) &&
+  0 !== (lanes & 4194176) &&
     ((previousRenderStartTime =
       0 <= transitionStartTime && transitionStartTime < transitionClampTime
         ? transitionClampTime
@@ -12967,6 +12776,7 @@ function prepareFreshStack(root, lanes) {
   workInProgressRootRecoverableErrors = workInProgressRootConcurrentErrors =
     null;
   workInProgressRootDidIncludeRecursiveRenderUpdate = !1;
+  workInProgressAppearingViewTransitions = null;
   0 !== (lanes & 8) && (lanes |= lanes & 32);
   endTime = root.entangledLanes;
   if (0 !== endTime)
@@ -13020,7 +12830,7 @@ function pushAsyncDispatcher() {
 function renderDidSuspendDelayIfPossible() {
   workInProgressRootExitStatus = 4;
   workInProgressRootDidSkipSuspendedSiblings ||
-    ((workInProgressRootRenderLanes & 4194048) !==
+    ((workInProgressRootRenderLanes & 4194176) !==
       workInProgressRootRenderLanes &&
       null !== suspenseHandlerStackCursor.current) ||
     (workInProgressRootIsPrerendering = !0);
@@ -13039,6 +12849,18 @@ function queueConcurrentError(error) {
     ? (workInProgressRootConcurrentErrors = [error])
     : workInProgressRootConcurrentErrors.push(error);
 }
+function trackAppearingViewTransition(instance, name) {
+  if (null === workInProgressAppearingViewTransitions) {
+    if (
+      (workInProgressRootRenderLanes & 335544192) !==
+      workInProgressRootRenderLanes
+    )
+      return;
+    workInProgressAppearingViewTransitions = new Map();
+  }
+  instance.paired = null;
+  workInProgressAppearingViewTransitions.set(name, instance);
+}
 function renderRootSync(root, lanes, shouldYieldForPrerendering) {
   var prevExecutionContext = executionContext;
   executionContext |= 2;
@@ -13094,8 +12916,8 @@ function renderRootSync(root, lanes, shouldYieldForPrerendering) {
       workLoopSync();
       memoizedUpdaters = workInProgressRootExitStatus;
       break;
-    } catch (thrownValue$193) {
-      handleThrow(root, thrownValue$193);
+    } catch (thrownValue$190) {
+      handleThrow(root, thrownValue$190);
     }
   while (1);
   lanes && root.shellSuspendCounter++;
@@ -13216,8 +13038,8 @@ function renderRootConcurrent(root, lanes) {
         }
       workLoopConcurrentByScheduler();
       break;
-    } catch (thrownValue$195) {
-      handleThrow(root, thrownValue$195);
+    } catch (thrownValue$192) {
+      handleThrow(root, thrownValue$192);
     }
   while (1);
   lastContextDependency = currentlyRenderingFiber$1 = null;
@@ -13411,6 +13233,7 @@ function commitRoot(
   lanes,
   recoverableErrors,
   transitions,
+  appearingViewTransitions,
   didIncludeRenderPhaseUpdate,
   spawnedLane,
   updatedLanes,
@@ -13449,13 +13272,10 @@ function commitRoot(
           }
         })
       : logRenderPhase(completedRenderStartTime, completedRenderEndTime, lanes);
-  if (null === finishedWork)
-    null !== root.stoppingGestures && stopCompletedGestures(root);
-  else {
+  if (null !== finishedWork) {
     if (finishedWork === root.current) throw Error(formatProdErrorMessage(177));
     didIncludeRenderPhaseUpdate = finishedWork.lanes | finishedWork.childLanes;
     didIncludeRenderPhaseUpdate |= concurrentlyUpdatedLanes;
-    null === root.pendingGestures && (didIncludeRenderPhaseUpdate &= -65);
     markRootFinished(
       root,
       lanes,
@@ -13473,65 +13293,59 @@ function commitRoot(
     pendingEffectsRemainingLanes = didIncludeRenderPhaseUpdate;
     pendingPassiveTransitions = transitions;
     pendingRecoverableErrors = recoverableErrors;
+    pendingViewTransitionEvents = null;
     pendingEffectsRenderEndTime = completedRenderEndTime;
     pendingSuspendedCommitReason = suspendedCommitReason;
-    if (64 === lanes) commitGestureOnRoot(root, finishedWork);
-    else {
-      pendingViewTransitionEvents = null;
-      (lanes & 335544064) === lanes
-        ? ((pendingTransitionTypes = ReactSharedInternals.V),
-          (ReactSharedInternals.V = null),
-          (recoverableErrors = 10262))
-        : ((pendingTransitionTypes = null), (recoverableErrors = 10256));
-      0 !== finishedWork.actualDuration ||
-      0 !== (finishedWork.subtreeFlags & recoverableErrors) ||
-      0 !== (finishedWork.flags & recoverableErrors)
-        ? ((root.callbackNode = null),
-          (root.callbackPriority = 0),
-          scheduleCallback$1(NormalPriority$1, function () {
-            schedulerEvent = window.event;
-            flushPassiveEffects(!0);
-            return null;
-          }))
-        : ((root.callbackNode = null), (root.callbackPriority = 0));
-      commitErrors = null;
-      commitStartTime = now();
-      1 === suspendedCommitReason
-        ? logSuspendedCommitPhase(completedRenderEndTime, commitStartTime)
-        : 2 === suspendedCommitReason &&
-          logSuspenseThrottlePhase(completedRenderEndTime, commitStartTime);
-      suspendedCommitReason = 0 !== (finishedWork.flags & 13878);
-      if (0 !== (finishedWork.subtreeFlags & 13878) || suspendedCommitReason) {
-        suspendedCommitReason = ReactSharedInternals.T;
-        ReactSharedInternals.T = null;
-        completedRenderEndTime = ReactDOMSharedInternals.p;
-        ReactDOMSharedInternals.p = 2;
-        recoverableErrors = executionContext;
-        executionContext |= 4;
-        try {
-          commitBeforeMutationEffects(root, finishedWork, lanes);
-        } finally {
-          (executionContext = recoverableErrors),
-            (ReactDOMSharedInternals.p = completedRenderEndTime),
-            (ReactSharedInternals.T = suspendedCommitReason);
-        }
+    recoverableErrors = (lanes & 335544192) === lanes ? 10262 : 10256;
+    0 !== finishedWork.actualDuration ||
+    0 !== (finishedWork.subtreeFlags & recoverableErrors) ||
+    0 !== (finishedWork.flags & recoverableErrors)
+      ? ((root.callbackNode = null),
+        (root.callbackPriority = 0),
+        scheduleCallback$1(NormalPriority$1, function () {
+          schedulerEvent = window.event;
+          flushPassiveEffects(!0);
+          return null;
+        }))
+      : ((root.callbackNode = null), (root.callbackPriority = 0));
+    commitErrors = null;
+    commitStartTime = now();
+    1 === suspendedCommitReason
+      ? logSuspendedCommitPhase(completedRenderEndTime, commitStartTime)
+      : 2 === suspendedCommitReason &&
+        logSuspenseThrottlePhase(completedRenderEndTime, commitStartTime);
+    suspendedCommitReason = 0 !== (finishedWork.flags & 13878);
+    if (0 !== (finishedWork.subtreeFlags & 13878) || suspendedCommitReason) {
+      suspendedCommitReason = ReactSharedInternals.T;
+      ReactSharedInternals.T = null;
+      completedRenderEndTime = ReactDOMSharedInternals.p;
+      ReactDOMSharedInternals.p = 2;
+      recoverableErrors = executionContext;
+      executionContext |= 4;
+      try {
+        commitBeforeMutationEffects(
+          root,
+          finishedWork,
+          lanes,
+          appearingViewTransitions
+        );
+      } finally {
+        (executionContext = recoverableErrors),
+          (ReactDOMSharedInternals.p = completedRenderEndTime),
+          (ReactSharedInternals.T = suspendedCommitReason);
       }
-      finishedWork = shouldStartViewTransition;
-      null !== root.stoppingGestures &&
-        (stopCompletedGestures(root), (finishedWork = !1));
-      pendingEffectsStatus = 1;
-      (finishedWork &&
-        startViewTransition(
-          root.containerInfo,
-          pendingTransitionTypes,
-          flushMutationEffects,
-          flushLayoutEffects,
-          flushAfterMutationEffects,
-          flushSpawnedWork,
-          flushPassiveEffects
-        )) ||
-        (flushMutationEffects(), flushLayoutEffects(), flushSpawnedWork());
     }
+    pendingEffectsStatus = 1;
+    (shouldStartViewTransition &&
+      startViewTransition(
+        root.containerInfo,
+        flushMutationEffects,
+        flushLayoutEffects,
+        flushAfterMutationEffects,
+        flushSpawnedWork,
+        flushPassiveEffects
+      )) ||
+      (flushMutationEffects(), flushLayoutEffects(), flushSpawnedWork());
   }
 }
 function flushAfterMutationEffects() {
@@ -13722,14 +13536,14 @@ function flushSpawnedWork() {
         (reusableLaneOptions.start = completedRenderEndTime),
         (reusableLaneOptions.end = suspendedCommitReason),
         performance.measure("Commit", reusableLaneOptions));
-    completedRenderEndTime = (lanes & 335544064) === lanes ? 10262 : 10256;
+    completedRenderEndTime = (lanes & 335544192) === lanes ? 10262 : 10256;
     (completedRenderEndTime =
       0 !== finishedWork.actualDuration ||
       0 !== (finishedWork.subtreeFlags & completedRenderEndTime) ||
       0 !== (finishedWork.flags & completedRenderEndTime))
       ? (pendingEffectsStatus = 5)
       : ((pendingEffectsStatus = 0),
-        (pendingFinishedWork = pendingEffectsRoot = null),
+        (pendingEffectsRoot = null),
         releaseRootPooledCache(root, root.pendingLanes));
     suspendedCommitReason = root.pendingLanes;
     0 === suspendedCommitReason &&
@@ -13786,21 +13600,17 @@ function flushSpawnedWork() {
       }
     }
     recoverableErrors = pendingViewTransitionEvents;
-    onRecoverableError = pendingTransitionTypes;
-    pendingTransitionTypes = null;
     if (null !== recoverableErrors)
       for (
-        pendingViewTransitionEvents = null,
-          null === onRecoverableError && (onRecoverableError = []),
-          recoverableError = 0;
-        recoverableError < recoverableErrors.length;
-        recoverableError++
+        pendingViewTransitionEvents = null, onRecoverableError = 0;
+        onRecoverableError < recoverableErrors.length;
+        onRecoverableError++
       )
-        (0, recoverableErrors[recoverableError])(onRecoverableError);
+        (0, recoverableErrors[onRecoverableError])();
     0 !== (pendingEffectsLanes & 3) && flushPendingEffects();
     ensureRootIsScheduled(root);
     suspendedCommitReason = root.pendingLanes;
-    0 !== (lanes & 4194090) && 0 !== (suspendedCommitReason & 42)
+    0 !== (lanes & 4194218) && 0 !== (suspendedCommitReason & 42)
       ? ((nestedUpdateScheduled = !0),
         root === rootWithNestedUpdates
           ? nestedUpdateCount++
@@ -13810,71 +13620,6 @@ function flushSpawnedWork() {
     flushSyncWorkAcrossRoots_impl(0, !1);
   }
 }
-function commitGestureOnRoot(root) {
-  var finishedGesture = root.pendingGestures;
-  if (null === finishedGesture) ensureRootIsScheduled(root);
-  else {
-    deleteScheduledGesture(root, finishedGesture);
-    var prevTransition = ReactSharedInternals.T,
-      previousPriority = ReactDOMSharedInternals.p,
-      prevExecutionContext = executionContext;
-    executionContext |= 4;
-    executionContext = prevExecutionContext;
-    ReactDOMSharedInternals.p = previousPriority;
-    ReactSharedInternals.T = prevTransition;
-    pendingTransitionTypes = null;
-    pendingEffectsStatus = 6;
-    finishedGesture.running = startGestureTransition(
-      root.containerInfo,
-      pendingTransitionTypes,
-      flushGestureMutations,
-      flushGestureAnimations
-    );
-  }
-}
-function flushGestureMutations() {
-  if (6 === pendingEffectsStatus) {
-    pendingEffectsStatus = 0;
-    var root = pendingEffectsRoot,
-      prevTransition = ReactSharedInternals.T;
-    ReactSharedInternals.T = null;
-    var previousPriority = ReactDOMSharedInternals.p;
-    ReactDOMSharedInternals.p = 2;
-    var prevExecutionContext = executionContext;
-    executionContext |= 4;
-    try {
-      cancelRootViewTransitionName(root.containerInfo);
-    } finally {
-      (executionContext = prevExecutionContext),
-        (ReactDOMSharedInternals.p = previousPriority),
-        (ReactSharedInternals.T = prevTransition);
-    }
-    pendingEffectsStatus = 7;
-  }
-}
-function flushGestureAnimations() {
-  flushGestureMutations();
-  if (7 === pendingEffectsStatus) {
-    pendingEffectsStatus = 0;
-    var root = pendingEffectsRoot;
-    pendingFinishedWork = pendingEffectsRoot = null;
-    pendingEffectsLanes = 0;
-    var prevTransition = ReactSharedInternals.T;
-    ReactSharedInternals.T = null;
-    var previousPriority = ReactDOMSharedInternals.p;
-    ReactDOMSharedInternals.p = 2;
-    var prevExecutionContext = executionContext;
-    executionContext |= 4;
-    try {
-      restoreRootViewTransitionName(root.containerInfo);
-    } finally {
-      (executionContext = prevExecutionContext),
-        (ReactDOMSharedInternals.p = previousPriority),
-        (ReactSharedInternals.T = prevTransition);
-    }
-    ensureRootIsScheduled(root);
-  }
-}
 function releaseRootPooledCache(root, remainingLanes) {
   0 === (root.pooledCacheLanes &= remainingLanes) &&
     ((remainingLanes = root.pooledCache),
@@ -13882,8 +13627,6 @@ function releaseRootPooledCache(root, remainingLanes) {
       ((root.pooledCache = null), releaseCache(remainingLanes)));
 }
 function flushPendingEffects(wasDelayedCommit) {
-  flushGestureMutations();
-  flushGestureAnimations();
   flushMutationEffects();
   flushLayoutEffects();
   flushSpawnedWork();
@@ -13905,7 +13648,7 @@ function flushPassiveEffects(wasDelayedCommit) {
     renderPriority = pendingEffectsRoot;
     var lanes = pendingEffectsLanes;
     pendingEffectsStatus = 0;
-    pendingFinishedWork = pendingEffectsRoot = null;
+    pendingEffectsRoot = null;
     pendingEffectsLanes = 0;
     if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(331));
     setCurrentTrackFromLanes(lanes);
@@ -14042,9 +13785,9 @@ function pingSuspendedRoot(root, wakeable, pingedLanes) {
   null !== pingCache && pingCache.delete(wakeable);
   root.pingedLanes |= root.suspendedLanes & pingedLanes;
   root.warmLanes &= ~pingedLanes;
-  0 !== (pingedLanes & 3) || 0 !== (pingedLanes & 124)
+  0 !== (pingedLanes & 3) || 0 !== (pingedLanes & 60)
     ? 0 > blockingUpdateTime && (blockingClampTime = blockingUpdateTime = now())
-    : 0 !== (pingedLanes & 4194048) &&
+    : 0 !== (pingedLanes & 4194176) &&
       0 > transitionUpdateTime &&
       (transitionClampTime = transitionUpdateTime = now());
   workInProgressRoot === root &&
@@ -14123,42 +13866,41 @@ function flushSyncWorkAcrossRoots_impl(syncTransitionLanes, onlyLegacy) {
     isFlushingWork = !0;
     do {
       var didPerformSomeWork = !1;
-      for (var root$201 = firstScheduledRoot; null !== root$201; ) {
+      for (var root$198 = firstScheduledRoot; null !== root$198; ) {
         if (!onlyLegacy)
           if (0 !== syncTransitionLanes) {
-            var pendingLanes = root$201.pendingLanes;
+            var pendingLanes = root$198.pendingLanes;
             if (0 === pendingLanes) var JSCompiler_inline_result = 0;
             else {
-              var suspendedLanes = root$201.suspendedLanes,
-                pingedLanes = root$201.pingedLanes;
+              var suspendedLanes = root$198.suspendedLanes,
+                pingedLanes = root$198.pingedLanes;
               JSCompiler_inline_result =
                 (1 << (31 - clz32(42 | syncTransitionLanes) + 1)) - 1;
               JSCompiler_inline_result &=
                 pendingLanes & ~(suspendedLanes & ~pingedLanes);
               JSCompiler_inline_result =
-                JSCompiler_inline_result & 201326741
-                  ? (JSCompiler_inline_result & 201326741) | 1
+                JSCompiler_inline_result & 201326677
+                  ? (JSCompiler_inline_result & 201326677) | 1
                   : JSCompiler_inline_result
                     ? JSCompiler_inline_result | 2
                     : 0;
             }
             0 !== JSCompiler_inline_result &&
               ((didPerformSomeWork = !0),
-              performSyncWorkOnRoot(root$201, JSCompiler_inline_result));
+              performSyncWorkOnRoot(root$198, JSCompiler_inline_result));
           } else
             (JSCompiler_inline_result = workInProgressRootRenderLanes),
               (JSCompiler_inline_result = getNextLanes(
-                root$201,
-                root$201 === workInProgressRoot ? JSCompiler_inline_result : 0,
-                null !== root$201.cancelPendingCommit ||
-                  -1 !== root$201.timeoutHandle
+                root$198,
+                root$198 === workInProgressRoot ? JSCompiler_inline_result : 0,
+                null !== root$198.cancelPendingCommit ||
+                  -1 !== root$198.timeoutHandle
               )),
-              (0 === (JSCompiler_inline_result & 3) &&
-                64 !== JSCompiler_inline_result) ||
-                checkIfRootIsPrerendering(root$201, JSCompiler_inline_result) ||
+              0 === (JSCompiler_inline_result & 3) ||
+                checkIfRootIsPrerendering(root$198, JSCompiler_inline_result) ||
                 ((didPerformSomeWork = !0),
-                performSyncWorkOnRoot(root$201, JSCompiler_inline_result));
-        root$201 = root$201.next;
+                performSyncWorkOnRoot(root$198, JSCompiler_inline_result));
+        root$198 = root$198.next;
       }
     } while (didPerformSomeWork);
     isFlushingWork = !1;
@@ -14187,8 +13929,7 @@ function processRootScheduleInMicrotask() {
         null === prev ? (firstScheduledRoot = next) : (prev.next = next),
         null === next && (lastScheduledRoot = prev);
     else if (
-      ((prev = root),
-      0 !== syncTransitionLanes || 0 !== (nextLanes & 3) || 64 === nextLanes)
+      ((prev = root), 0 !== syncTransitionLanes || 0 !== (nextLanes & 3))
     )
       mightHavePendingSyncWork = !0;
     root = next;
@@ -14407,20 +14148,20 @@ function extractEvents$1(
   }
 }
 for (
-  var i$jscomp$inline_1763 = 0;
-  i$jscomp$inline_1763 < simpleEventPluginEvents.length;
-  i$jscomp$inline_1763++
+  var i$jscomp$inline_1700 = 0;
+  i$jscomp$inline_1700 < simpleEventPluginEvents.length;
+  i$jscomp$inline_1700++
 ) {
-  var eventName$jscomp$inline_1764 =
-      simpleEventPluginEvents[i$jscomp$inline_1763],
-    domEventName$jscomp$inline_1765 =
-      eventName$jscomp$inline_1764.toLowerCase(),
-    capitalizedEvent$jscomp$inline_1766 =
-      eventName$jscomp$inline_1764[0].toUpperCase() +
-      eventName$jscomp$inline_1764.slice(1);
+  var eventName$jscomp$inline_1701 =
+      simpleEventPluginEvents[i$jscomp$inline_1700],
+    domEventName$jscomp$inline_1702 =
+      eventName$jscomp$inline_1701.toLowerCase(),
+    capitalizedEvent$jscomp$inline_1703 =
+      eventName$jscomp$inline_1701[0].toUpperCase() +
+      eventName$jscomp$inline_1701.slice(1);
   registerSimpleEvent(
-    domEventName$jscomp$inline_1765,
-    "on" + capitalizedEvent$jscomp$inline_1766
+    domEventName$jscomp$inline_1702,
+    "on" + capitalizedEvent$jscomp$inline_1703
   );
 }
 registerSimpleEvent(ANIMATION_END, "onAnimationEnd");
@@ -14628,15 +14369,22 @@ function dispatchEventForPluginEventSystem(
       var nodeTag = targetInst$jscomp$0.tag;
       if (3 === nodeTag || 4 === nodeTag) {
         var container = targetInst$jscomp$0.stateNode.containerInfo;
-        if (container === targetContainer) break;
+        if (
+          container === targetContainer ||
+          (8 === container.nodeType && container.parentNode === targetContainer)
+        )
+          break;
         if (4 === nodeTag)
           for (nodeTag = targetInst$jscomp$0.return; null !== nodeTag; ) {
             var grandTag = nodeTag.tag;
-            if (
-              (3 === grandTag || 4 === grandTag) &&
-              nodeTag.stateNode.containerInfo === targetContainer
-            )
-              return;
+            if (3 === grandTag || 4 === grandTag)
+              if (
+                ((grandTag = nodeTag.stateNode.containerInfo),
+                grandTag === targetContainer ||
+                  (8 === grandTag.nodeType &&
+                    grandTag.parentNode === targetContainer))
+              )
+                return;
             nodeTag = nodeTag.return;
           }
         for (; null !== container; ) {
@@ -15601,34 +15349,34 @@ function setInitialProperties(domElement, tag, props) {
         defaultChecked = null;
       for (hasSrc in props)
         if (props.hasOwnProperty(hasSrc)) {
-          var propValue$215 = props[hasSrc];
-          if (null != propValue$215)
+          var propValue$212 = props[hasSrc];
+          if (null != propValue$212)
             switch (hasSrc) {
               case "name":
-                hasSrcSet = propValue$215;
+                hasSrcSet = propValue$212;
                 break;
               case "type":
-                propValue = propValue$215;
+                propValue = propValue$212;
                 break;
               case "checked":
-                checked = propValue$215;
+                checked = propValue$212;
                 break;
               case "defaultChecked":
-                defaultChecked = propValue$215;
+                defaultChecked = propValue$212;
                 break;
               case "value":
-                propKey = propValue$215;
+                propKey = propValue$212;
                 break;
               case "defaultValue":
-                defaultValue = propValue$215;
+                defaultValue = propValue$212;
                 break;
               case "children":
               case "dangerouslySetInnerHTML":
-                if (null != propValue$215)
+                if (null != propValue$212)
                   throw Error(formatProdErrorMessage(137, tag));
                 break;
               default:
-                setProp(domElement, tag, hasSrc, propValue$215, props, null);
+                setProp(domElement, tag, hasSrc, propValue$212, props, null);
             }
         }
       initInput(
@@ -15765,14 +15513,14 @@ function setInitialProperties(domElement, tag, props) {
       return;
     default:
       if (isCustomElement(tag)) {
-        for (propValue$215 in props)
-          props.hasOwnProperty(propValue$215) &&
-            ((hasSrc = props[propValue$215]),
+        for (propValue$212 in props)
+          props.hasOwnProperty(propValue$212) &&
+            ((hasSrc = props[propValue$212]),
             void 0 !== hasSrc &&
               setPropOnCustomElement(
                 domElement,
                 tag,
-                propValue$215,
+                propValue$212,
                 hasSrc,
                 props,
                 void 0
@@ -15820,14 +15568,14 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
                 setProp(domElement, tag, propKey, null, nextProps, lastProp);
           }
       }
-      for (var propKey$232 in nextProps) {
-        var propKey = nextProps[propKey$232];
-        lastProp = lastProps[propKey$232];
+      for (var propKey$229 in nextProps) {
+        var propKey = nextProps[propKey$229];
+        lastProp = lastProps[propKey$229];
         if (
-          nextProps.hasOwnProperty(propKey$232) &&
+          nextProps.hasOwnProperty(propKey$229) &&
           (null != propKey || null != lastProp)
         )
-          switch (propKey$232) {
+          switch (propKey$229) {
             case "type":
               propKey !== lastProp && (viewTransitionMutationContext = !0);
               type = propKey;
@@ -15862,7 +15610,7 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
                 setProp(
                   domElement,
                   tag,
-                  propKey$232,
+                  propKey$229,
                   propKey,
                   nextProps,
                   lastProp
@@ -15881,7 +15629,7 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
       );
       return;
     case "select":
-      propKey = value = defaultValue = propKey$232 = null;
+      propKey = value = defaultValue = propKey$229 = null;
       for (type in lastProps)
         if (
           ((lastDefaultValue = lastProps[type]),
@@ -15913,7 +15661,7 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
           switch (name) {
             case "value":
               type !== lastDefaultValue && (viewTransitionMutationContext = !0);
-              propKey$232 = type;
+              propKey$229 = type;
               break;
             case "defaultValue":
               type !== lastDefaultValue && (viewTransitionMutationContext = !0);
@@ -15936,15 +15684,15 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
       tag = defaultValue;
       lastProps = value;
       nextProps = propKey;
-      null != propKey$232
-        ? updateOptions(domElement, !!lastProps, propKey$232, !1)
+      null != propKey$229
+        ? updateOptions(domElement, !!lastProps, propKey$229, !1)
         : !!nextProps !== !!lastProps &&
           (null != tag
             ? updateOptions(domElement, !!lastProps, tag, !0)
             : updateOptions(domElement, !!lastProps, lastProps ? [] : "", !1));
       return;
     case "textarea":
-      propKey = propKey$232 = null;
+      propKey = propKey$229 = null;
       for (defaultValue in lastProps)
         if (
           ((name = lastProps[defaultValue]),
@@ -15969,7 +15717,7 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
           switch (value) {
             case "value":
               name !== type && (viewTransitionMutationContext = !0);
-              propKey$232 = name;
+              propKey$229 = name;
               break;
             case "defaultValue":
               name !== type && (viewTransitionMutationContext = !0);
@@ -15984,17 +15732,17 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
               name !== type &&
                 setProp(domElement, tag, value, name, nextProps, type);
           }
-      updateTextarea(domElement, propKey$232, propKey);
+      updateTextarea(domElement, propKey$229, propKey);
       return;
     case "option":
-      for (var propKey$248 in lastProps)
+      for (var propKey$245 in lastProps)
         if (
-          ((propKey$232 = lastProps[propKey$248]),
-          lastProps.hasOwnProperty(propKey$248) &&
-            null != propKey$232 &&
-            !nextProps.hasOwnProperty(propKey$248))
+          ((propKey$229 = lastProps[propKey$245]),
+          lastProps.hasOwnProperty(propKey$245) &&
+            null != propKey$229 &&
+            !nextProps.hasOwnProperty(propKey$245))
         )
-          switch (propKey$248) {
+          switch (propKey$245) {
             case "selected":
               domElement.selected = !1;
               break;
@@ -16002,34 +15750,34 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
               setProp(
                 domElement,
                 tag,
-                propKey$248,
+                propKey$245,
                 null,
                 nextProps,
-                propKey$232
+                propKey$229
               );
           }
       for (lastDefaultValue in nextProps)
         if (
-          ((propKey$232 = nextProps[lastDefaultValue]),
+          ((propKey$229 = nextProps[lastDefaultValue]),
           (propKey = lastProps[lastDefaultValue]),
           nextProps.hasOwnProperty(lastDefaultValue) &&
-            propKey$232 !== propKey &&
-            (null != propKey$232 || null != propKey))
+            propKey$229 !== propKey &&
+            (null != propKey$229 || null != propKey))
         )
           switch (lastDefaultValue) {
             case "selected":
-              propKey$232 !== propKey && (viewTransitionMutationContext = !0);
+              propKey$229 !== propKey && (viewTransitionMutationContext = !0);
               domElement.selected =
-                propKey$232 &&
-                "function" !== typeof propKey$232 &&
-                "symbol" !== typeof propKey$232;
+                propKey$229 &&
+                "function" !== typeof propKey$229 &&
+                "symbol" !== typeof propKey$229;
               break;
             default:
               setProp(
                 domElement,
                 tag,
                 lastDefaultValue,
-                propKey$232,
+                propKey$229,
                 nextProps,
                 propKey
               );
@@ -16050,24 +15798,24 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
     case "track":
     case "wbr":
     case "menuitem":
-      for (var propKey$253 in lastProps)
-        (propKey$232 = lastProps[propKey$253]),
-          lastProps.hasOwnProperty(propKey$253) &&
-            null != propKey$232 &&
-            !nextProps.hasOwnProperty(propKey$253) &&
-            setProp(domElement, tag, propKey$253, null, nextProps, propKey$232);
+      for (var propKey$250 in lastProps)
+        (propKey$229 = lastProps[propKey$250]),
+          lastProps.hasOwnProperty(propKey$250) &&
+            null != propKey$229 &&
+            !nextProps.hasOwnProperty(propKey$250) &&
+            setProp(domElement, tag, propKey$250, null, nextProps, propKey$229);
       for (checked in nextProps)
         if (
-          ((propKey$232 = nextProps[checked]),
+          ((propKey$229 = nextProps[checked]),
           (propKey = lastProps[checked]),
           nextProps.hasOwnProperty(checked) &&
-            propKey$232 !== propKey &&
-            (null != propKey$232 || null != propKey))
+            propKey$229 !== propKey &&
+            (null != propKey$229 || null != propKey))
         )
           switch (checked) {
             case "children":
             case "dangerouslySetInnerHTML":
-              if (null != propKey$232)
+              if (null != propKey$229)
                 throw Error(formatProdErrorMessage(137, tag));
               break;
             default:
@@ -16075,7 +15823,7 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
                 domElement,
                 tag,
                 checked,
-                propKey$232,
+                propKey$229,
                 nextProps,
                 propKey
               );
@@ -16083,49 +15831,49 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
       return;
     default:
       if (isCustomElement(tag)) {
-        for (var propKey$258 in lastProps)
-          (propKey$232 = lastProps[propKey$258]),
-            lastProps.hasOwnProperty(propKey$258) &&
-              void 0 !== propKey$232 &&
-              !nextProps.hasOwnProperty(propKey$258) &&
+        for (var propKey$255 in lastProps)
+          (propKey$229 = lastProps[propKey$255]),
+            lastProps.hasOwnProperty(propKey$255) &&
+              void 0 !== propKey$229 &&
+              !nextProps.hasOwnProperty(propKey$255) &&
               setPropOnCustomElement(
                 domElement,
                 tag,
-                propKey$258,
+                propKey$255,
                 void 0,
                 nextProps,
-                propKey$232
+                propKey$229
               );
         for (defaultChecked in nextProps)
-          (propKey$232 = nextProps[defaultChecked]),
+          (propKey$229 = nextProps[defaultChecked]),
             (propKey = lastProps[defaultChecked]),
             !nextProps.hasOwnProperty(defaultChecked) ||
-              propKey$232 === propKey ||
-              (void 0 === propKey$232 && void 0 === propKey) ||
+              propKey$229 === propKey ||
+              (void 0 === propKey$229 && void 0 === propKey) ||
               setPropOnCustomElement(
                 domElement,
                 tag,
                 defaultChecked,
-                propKey$232,
+                propKey$229,
                 nextProps,
                 propKey
               );
         return;
       }
   }
-  for (var propKey$263 in lastProps)
-    (propKey$232 = lastProps[propKey$263]),
-      lastProps.hasOwnProperty(propKey$263) &&
-        null != propKey$232 &&
-        !nextProps.hasOwnProperty(propKey$263) &&
-        setProp(domElement, tag, propKey$263, null, nextProps, propKey$232);
+  for (var propKey$260 in lastProps)
+    (propKey$229 = lastProps[propKey$260]),
+      lastProps.hasOwnProperty(propKey$260) &&
+        null != propKey$229 &&
+        !nextProps.hasOwnProperty(propKey$260) &&
+        setProp(domElement, tag, propKey$260, null, nextProps, propKey$229);
   for (lastProp in nextProps)
-    (propKey$232 = nextProps[lastProp]),
+    (propKey$229 = nextProps[lastProp]),
       (propKey = lastProps[lastProp]),
       !nextProps.hasOwnProperty(lastProp) ||
-        propKey$232 === propKey ||
-        (null == propKey$232 && null == propKey) ||
-        setProp(domElement, tag, lastProp, propKey$232, nextProps, propKey);
+        propKey$229 === propKey ||
+        (null == propKey$229 && null == propKey) ||
+        setProp(domElement, tag, lastProp, propKey$229, nextProps, propKey);
 }
 var eventsEnabled = null,
   selectionInformation = null;
@@ -16209,56 +15957,21 @@ function handleErrorInNextTick(error) {
     throw error;
   });
 }
-function isSingletonScope(type) {
-  return "head" === type;
-}
 function clearSuspenseBoundary(parentInstance, suspenseInstance) {
   var node = suspenseInstance,
-    possiblePreambleContribution = 0,
     depth = 0;
   do {
     var nextNode = node.nextSibling;
     parentInstance.removeChild(node);
     if (nextNode && 8 === nextNode.nodeType)
       if (((node = nextNode.data), "/$" === node)) {
-        if (
-          0 < possiblePreambleContribution &&
-          8 > possiblePreambleContribution
-        ) {
-          node = possiblePreambleContribution;
-          var ownerDocument = parentInstance.ownerDocument;
-          node & 1 && releaseSingletonInstance(ownerDocument.documentElement);
-          node & 2 && releaseSingletonInstance(ownerDocument.body);
-          if (node & 4)
-            for (
-              node = ownerDocument.head,
-                releaseSingletonInstance(node),
-                ownerDocument = node.firstChild;
-              ownerDocument;
-
-            ) {
-              var nextNode$jscomp$0 = ownerDocument.nextSibling,
-                nodeName = ownerDocument.nodeName;
-              ownerDocument[internalHoistableMarker] ||
-                "SCRIPT" === nodeName ||
-                "STYLE" === nodeName ||
-                ("LINK" === nodeName &&
-                  "stylesheet" === ownerDocument.rel.toLowerCase()) ||
-                node.removeChild(ownerDocument);
-              ownerDocument = nextNode$jscomp$0;
-            }
-        }
         if (0 === depth) {
           parentInstance.removeChild(nextNode);
           retryIfBlockedOn(suspenseInstance);
           return;
         }
         depth--;
-      } else
-        "$" === node || "$?" === node || "$!" === node
-          ? depth++
-          : (possiblePreambleContribution = node.charCodeAt(0) - 48);
-    else possiblePreambleContribution = 0;
+      } else ("$" !== node && "$?" !== node && "$!" !== node) || depth++;
     node = nextNode;
   } while (node);
   retryIfBlockedOn(suspenseInstance);
@@ -16288,36 +16001,6 @@ function restoreViewTransitionName(instance, props) {
   instance.style.viewTransitionClass =
     null == props || "boolean" === typeof props ? "" : ("" + props).trim();
 }
-function cancelRootViewTransitionName(rootContainer) {
-  rootContainer =
-    9 === rootContainer.nodeType
-      ? rootContainer.documentElement
-      : rootContainer.ownerDocument.documentElement;
-  null !== rootContainer &&
-    "" === rootContainer.style.viewTransitionName &&
-    ((rootContainer.style.viewTransitionName = "none"),
-    rootContainer.animate(
-      { opacity: [0, 0], pointerEvents: ["none", "none"] },
-      {
-        duration: 0,
-        fill: "forwards",
-        pseudoElement: "::view-transition-group(root)"
-      }
-    ),
-    rootContainer.animate(
-      { width: [0, 0], height: [0, 0] },
-      { duration: 0, fill: "forwards", pseudoElement: "::view-transition" }
-    ));
-}
-function restoreRootViewTransitionName(rootContainer) {
-  rootContainer =
-    9 === rootContainer.nodeType
-      ? rootContainer.documentElement
-      : rootContainer.ownerDocument.documentElement;
-  null !== rootContainer &&
-    "none" === rootContainer.style.viewTransitionName &&
-    (rootContainer.style.viewTransitionName = "");
-}
 function measureInstance(instance) {
   var ownerWindow = instance.ownerDocument.defaultView,
     rect = instance.getBoundingClientRect();
@@ -16341,7 +16024,6 @@ function measureInstance(instance) {
 }
 function startViewTransition(
   rootContainer,
-  transitionTypes,
   mutationCallback,
   layoutCallback,
   afterMutationCallback,
@@ -16386,13 +16068,12 @@ function startViewTransition(
           );
         afterMutationCallback();
       },
-      types: transitionTypes
+      types: null
     });
     ownerDocument.__reactViewTransition = transition;
     transition.ready.then(spawnedWorkCallback, spawnedWorkCallback);
     transition.finished.then(function () {
-      ownerDocument.__reactViewTransition === transition &&
-        (ownerDocument.__reactViewTransition = null);
+      ownerDocument.__reactViewTransition = null;
       passiveCallback();
     });
     return !0;
@@ -16400,40 +16081,6 @@ function startViewTransition(
     return !1;
   }
 }
-function startGestureTransition(
-  rootContainer,
-  transitionTypes,
-  mutationCallback,
-  animateCallback
-) {
-  var ownerDocument =
-    9 === rootContainer.nodeType ? rootContainer : rootContainer.ownerDocument;
-  try {
-    var transition = ownerDocument.startViewTransition({
-      update: mutationCallback,
-      types: transitionTypes
-    });
-    ownerDocument.__reactViewTransition = transition;
-    var blockingAnim = null;
-    rootContainer = function () {
-      blockingAnim = ownerDocument.documentElement.animate([{}, {}], {
-        pseudoElement: "::view-transition",
-        duration: 1
-      });
-      blockingAnim.pause();
-      animateCallback();
-    };
-    transition.ready.then(rootContainer, rootContainer);
-    transition.finished.then(function () {
-      null !== blockingAnim && blockingAnim.cancel();
-      ownerDocument.__reactViewTransition === transition &&
-        (ownerDocument.__reactViewTransition = null);
-    });
-    return transition;
-  } catch (x) {
-    return mutationCallback(), animateCallback(), null;
-  }
-}
 function ViewTransitionPseudoElement(pseudo, name) {
   this._scope = document.documentElement;
   this._selector = "::view-transition-" + pseudo + "(" + name + ")";
@@ -16471,45 +16118,6 @@ function createViewTransitionInstance(name) {
     new: new ViewTransitionPseudoElement("new", name)
   };
 }
-function getCurrentGestureOffset(provider) {
-  provider = provider.currentTime;
-  if (null === provider) throw Error(formatProdErrorMessage(549));
-  return "number" === typeof provider ? provider : provider.value;
-}
-function subscribeToGestureDirection(
-  provider,
-  currentOffset,
-  directionCallback
-) {
-  function rafCallback() {
-    var newTime = provider.currentTime;
-    null !== newTime &&
-      ((newTime = "number" === typeof newTime ? newTime : newTime.value),
-      newTime !== currentOffset && directionCallback(newTime > currentOffset));
-    callbackID = requestAnimationFrame(rafCallback);
-  }
-  if (
-    "function" === typeof ScrollTimeline &&
-    provider instanceof ScrollTimeline
-  ) {
-    var element = provider.source,
-      scrollCallback = function () {
-        var newTime = provider.currentTime;
-        null !== newTime &&
-          ((newTime = "number" === typeof newTime ? newTime : newTime.value),
-          newTime !== currentOffset &&
-            directionCallback(newTime > currentOffset));
-      };
-    element.addEventListener("scroll", scrollCallback, !1);
-    return function () {
-      element.removeEventListener("scroll", scrollCallback, !1);
-    };
-  }
-  var callbackID = requestAnimationFrame(rafCallback);
-  return function () {
-    cancelAnimationFrame(callbackID);
-  };
-}
 function clearContainerSparingly(container) {
   var nextNode = container.firstChild;
   nextNode && 10 === nextNode.nodeType && (nextNode = nextNode.nextSibling);
@@ -16650,7 +16258,6 @@ function getNextHydratable(node) {
   }
   return node;
 }
-var previousHydratableOnEnteringScopedSingleton = null;
 function getParentSuspenseInstance(targetInstance) {
   targetInstance = targetInstance.previousSibling;
   for (var depth = 0; targetInstance; ) {
@@ -16684,19 +16291,12 @@ function resolveSingletonInstance(type, props, rootContainerInstance) {
       throw Error(formatProdErrorMessage(451));
   }
 }
-function releaseSingletonInstance(instance) {
-  for (var attributes = instance.attributes; attributes.length; )
-    instance.removeAttributeNode(attributes[0]);
-  detachDeletedInstance(instance);
-}
 var preloadPropsMap = new Map(),
   preconnectsSet = new Set();
 function getHoistableRoot(container) {
   return "function" === typeof container.getRootNode
     ? container.getRootNode()
-    : 9 === container.nodeType
-      ? container
-      : container.ownerDocument;
+    : container.ownerDocument;
 }
 var previousDispatcher = ReactDOMSharedInternals.d;
 ReactDOMSharedInternals.d = {
@@ -16990,26 +16590,26 @@ function getResource(type, currentProps, pendingProps, currentResource) {
         "string" === typeof pendingProps.precedence
       ) {
         type = getStyleKey(pendingProps.href);
-        var styles$271 = getResourcesFromRoot(
+        var styles$268 = getResourcesFromRoot(
             JSCompiler_inline_result
           ).hoistableStyles,
-          resource$272 = styles$271.get(type);
-        resource$272 ||
+          resource$269 = styles$268.get(type);
+        resource$269 ||
           ((JSCompiler_inline_result =
             JSCompiler_inline_result.ownerDocument || JSCompiler_inline_result),
-          (resource$272 = {
+          (resource$269 = {
             type: "stylesheet",
             instance: null,
             count: 0,
             state: { loading: 0, preload: null }
           }),
-          styles$271.set(type, resource$272),
-          (styles$271 = JSCompiler_inline_result.querySelector(
+          styles$268.set(type, resource$269),
+          (styles$268 = JSCompiler_inline_result.querySelector(
             getStylesheetSelectorFromKey(type)
           )) &&
-            !styles$271._p &&
-            ((resource$272.instance = styles$271),
-            (resource$272.state.loading = 5)),
+            !styles$268._p &&
+            ((resource$269.instance = styles$268),
+            (resource$269.state.loading = 5)),
           preloadPropsMap.has(type) ||
             ((pendingProps = {
               rel: "preload",
@@ -17022,16 +16622,16 @@ function getResource(type, currentProps, pendingProps, currentResource) {
               referrerPolicy: pendingProps.referrerPolicy
             }),
             preloadPropsMap.set(type, pendingProps),
-            styles$271 ||
+            styles$268 ||
               preloadStylesheet(
                 JSCompiler_inline_result,
                 type,
                 pendingProps,
-                resource$272.state
+                resource$269.state
               )));
         if (currentProps && null === currentResource)
           throw Error(formatProdErrorMessage(528, ""));
-        return resource$272;
+        return resource$269;
       }
       if (currentProps && null !== currentResource)
         throw Error(formatProdErrorMessage(529, ""));
@@ -17128,37 +16728,37 @@ function acquireResource(hoistableRoot, resource, props) {
         return (resource.instance = instance);
       case "stylesheet":
         styleProps = getStyleKey(props.href);
-        var instance$277 = hoistableRoot.querySelector(
+        var instance$274 = hoistableRoot.querySelector(
           getStylesheetSelectorFromKey(styleProps)
         );
-        if (instance$277)
+        if (instance$274)
           return (
             (resource.state.loading |= 4),
-            (resource.instance = instance$277),
-            markNodeAsHoistable(instance$277),
-            instance$277
+            (resource.instance = instance$274),
+            markNodeAsHoistable(instance$274),
+            instance$274
           );
         instance = stylesheetPropsFromRawProps(props);
         (styleProps = preloadPropsMap.get(styleProps)) &&
           adoptPreloadPropsForStylesheet(instance, styleProps);
-        instance$277 = (
+        instance$274 = (
           hoistableRoot.ownerDocument || hoistableRoot
         ).createElement("link");
-        markNodeAsHoistable(instance$277);
-        var linkInstance = instance$277;
+        markNodeAsHoistable(instance$274);
+        var linkInstance = instance$274;
         linkInstance._p = new Promise(function (resolve, reject) {
           linkInstance.onload = resolve;
           linkInstance.onerror = reject;
         });
-        setInitialProperties(instance$277, "link", instance);
+        setInitialProperties(instance$274, "link", instance);
         resource.state.loading |= 4;
-        insertStylesheet(instance$277, props.precedence, hoistableRoot);
-        return (resource.instance = instance$277);
+        insertStylesheet(instance$274, props.precedence, hoistableRoot);
+        return (resource.instance = instance$274);
       case "script":
-        instance$277 = getScriptKey(props.src);
+        instance$274 = getScriptKey(props.src);
         if (
           (styleProps = hoistableRoot.querySelector(
-            getScriptSelectorFromKey(instance$277)
+            getScriptSelectorFromKey(instance$274)
           ))
         )
           return (
@@ -17167,7 +16767,7 @@ function acquireResource(hoistableRoot, resource, props) {
             styleProps
           );
         instance = props;
-        if ((styleProps = preloadPropsMap.get(instance$277)))
+        if ((styleProps = preloadPropsMap.get(instance$274)))
           (instance = assign({}, props)),
             adoptPreloadPropsForScript(instance, styleProps);
         hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;
@@ -17499,7 +17099,6 @@ function FiberRootNode(
   this.pooledCache = null;
   this.pooledCacheLanes = 0;
   this.formState = formState;
-  this.stoppingGestures = this.pendingGestures = null;
   this.incompleteTransitions = new Map();
   this.passiveEffectDuration = this.effectDuration = -0;
   this.memoizedUpdaters = new Set();
@@ -18204,16 +17803,16 @@ ReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {
     0 === i && attemptExplicitHydrationTarget(target);
   }
 };
-var isomorphicReactPackageVersion$jscomp$inline_2015 = React.version;
+var isomorphicReactPackageVersion$jscomp$inline_1947 = React.version;
 if (
-  "19.1.0-experimental-d55cc79b-20250228" !==
-  isomorphicReactPackageVersion$jscomp$inline_2015
+  "19.1.0-experimental-b3a95caf-20250113" !==
+  isomorphicReactPackageVersion$jscomp$inline_1947
 )
   throw Error(
     formatProdErrorMessage(
       527,
-      isomorphicReactPackageVersion$jscomp$inline_2015,
-      "19.1.0-experimental-d55cc79b-20250228"
+      isomorphicReactPackageVersion$jscomp$inline_1947,
+      "19.1.0-experimental-b3a95caf-20250113"
     )
   );
 ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {
@@ -18233,24 +17832,24 @@ ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {
     null === componentOrElement ? null : componentOrElement.stateNode;
   return componentOrElement;
 };
-var internals$jscomp$inline_2548 = {
+var internals$jscomp$inline_2471 = {
   bundleType: 0,
-  version: "19.1.0-experimental-d55cc79b-20250228",
+  version: "19.1.0-experimental-b3a95caf-20250113",
   rendererPackageName: "react-dom",
   currentDispatcherRef: ReactSharedInternals,
-  reconcilerVersion: "19.1.0-experimental-d55cc79b-20250228"
+  reconcilerVersion: "19.1.0-experimental-b3a95caf-20250113"
 };
 if ("undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {
-  var hook$jscomp$inline_2549 = __REACT_DEVTOOLS_GLOBAL_HOOK__;
+  var hook$jscomp$inline_2472 = __REACT_DEVTOOLS_GLOBAL_HOOK__;
   if (
-    !hook$jscomp$inline_2549.isDisabled &&
-    hook$jscomp$inline_2549.supportsFiber
+    !hook$jscomp$inline_2472.isDisabled &&
+    hook$jscomp$inline_2472.supportsFiber
   )
     try {
-      (rendererID = hook$jscomp$inline_2549.inject(
-        internals$jscomp$inline_2548
+      (rendererID = hook$jscomp$inline_2472.inject(
+        internals$jscomp$inline_2471
       )),
-        (injectedHook = hook$jscomp$inline_2549);
+        (injectedHook = hook$jscomp$inline_2472);
     } catch (err) {}
 }
 function noop() {}
@@ -18317,7 +17916,9 @@ exports.createRoot = function (container, options) {
     null
   );
   container[internalContainerInstanceKey] = options.current;
-  listenToAllSupportedEvents(container);
+  listenToAllSupportedEvents(
+    8 === container.nodeType ? container.parentNode : container
+  );
   return new ReactDOMRoot(options);
 };
 exports.flushSync = function (fn) {
@@ -18503,7 +18104,7 @@ exports.useFormState = function (action, initialState, permalink) {
 exports.useFormStatus = function () {
   return ReactSharedInternals.H.useHostTransitionStatus();
 };
-exports.version = "19.1.0-experimental-d55cc79b-20250228";
+exports.version = "19.1.0-experimental-b3a95caf-20250113";
 "undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&
   "function" ===
     typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&
diff --git a/node_modules/react-dom/cjs/react-dom-server-legacy.browser.development.js b/node_modules/react-dom/cjs/react-dom-server-legacy.browser.development.js
index 069b7f0..221485b 100644
--- a/node_modules/react-dom/cjs/react-dom-server-legacy.browser.development.js
+++ b/node_modules/react-dom/cjs/react-dom-server-legacy.browser.development.js
@@ -762,14 +762,6 @@
         moduleScriptResources: {}
       };
     }
-    function createPreambleState() {
-      return {
-        htmlChunks: null,
-        headChunks: null,
-        bodyChunks: null,
-        contribution: NoContribution
-      };
-    }
     function createFormatContext(insertionMode, selectedValue, tagScope) {
       return {
         insertionMode: insertionMode,
@@ -829,26 +821,16 @@
             null,
             parentContext.tagScope
           );
-        case "head":
-          if (parentContext.insertionMode < HTML_MODE)
-            return createFormatContext(
-              HTML_HEAD_MODE,
-              null,
-              parentContext.tagScope
-            );
-          break;
-        case "html":
-          if (parentContext.insertionMode === ROOT_HTML_MODE)
-            return createFormatContext(
-              HTML_HTML_MODE,
-              null,
-              parentContext.tagScope
-            );
       }
-      return parentContext.insertionMode >= HTML_TABLE_MODE ||
-        parentContext.insertionMode < HTML_MODE
+      return parentContext.insertionMode >= HTML_TABLE_MODE
         ? createFormatContext(HTML_MODE, null, parentContext.tagScope)
-        : parentContext;
+        : parentContext.insertionMode === ROOT_HTML_MODE
+          ? "html" === type
+            ? createFormatContext(HTML_HTML_MODE, null, parentContext.tagScope)
+            : createFormatContext(HTML_MODE, null, parentContext.tagScope)
+          : parentContext.insertionMode === HTML_HTML_MODE
+            ? createFormatContext(HTML_MODE, null, parentContext.tagScope)
+            : parentContext;
     }
     function pushStyleAttribute(target, style) {
       if ("object" !== typeof style)
@@ -1477,29 +1459,6 @@
       target.push(endChunkForTag("script"));
       return null;
     }
-    function pushStartSingletonElement(target, props, tag) {
-      target.push(startChunkForTag(tag));
-      var innerHTML = (tag = null),
-        propKey;
-      for (propKey in props)
-        if (hasOwnProperty.call(props, propKey)) {
-          var propValue = props[propKey];
-          if (null != propValue)
-            switch (propKey) {
-              case "children":
-                tag = propValue;
-                break;
-              case "dangerouslySetInnerHTML":
-                innerHTML = propValue;
-                break;
-              default:
-                pushAttribute(target, propKey, propValue);
-            }
-        }
-      target.push(endOfStartTag);
-      pushInnerHTML(target, innerHTML, tag);
-      return tag;
-    }
     function pushStartGenericElement(target, props, tag) {
       target.push(startChunkForTag(tag));
       var innerHTML = (tag = null),
@@ -1540,7 +1499,6 @@
       props,
       resumableState,
       renderState,
-      preambleState,
       hoistableState,
       formatContext,
       textEmbedded,
@@ -2635,7 +2593,6 @@
                 header;
               headers &&
               0 < headers.remainingCapacity &&
-              "string" !== typeof props.srcSet &&
               ("high" === props.fetchPriority ||
                 500 > headers.highImagePreloads.length) &&
               ((header = getPreloadAsHeader(src, "image", {
@@ -2696,13 +2653,13 @@
         case "missing-glyph":
           break;
         case "head":
-          if (formatContext.insertionMode < HTML_MODE) {
-            var preamble = preambleState || renderState.preamble;
-            if (preamble.headChunks)
-              throw Error("The `<head>` tag may only be rendered once.");
-            preamble.headChunks = [];
-            var JSCompiler_inline_result$jscomp$9 = pushStartSingletonElement(
-              preamble.headChunks,
+          if (
+            formatContext.insertionMode < HTML_MODE &&
+            null === renderState.headChunks
+          ) {
+            renderState.headChunks = [];
+            var JSCompiler_inline_result$jscomp$9 = pushStartGenericElement(
+              renderState.headChunks,
               props,
               "head"
             );
@@ -2713,42 +2670,24 @@
               "head"
             );
           return JSCompiler_inline_result$jscomp$9;
-        case "body":
-          if (formatContext.insertionMode < HTML_MODE) {
-            var preamble$jscomp$0 = preambleState || renderState.preamble;
-            if (preamble$jscomp$0.bodyChunks)
-              throw Error("The `<body>` tag may only be rendered once.");
-            preamble$jscomp$0.bodyChunks = [];
-            var JSCompiler_inline_result$jscomp$10 = pushStartSingletonElement(
-              preamble$jscomp$0.bodyChunks,
-              props,
-              "body"
-            );
-          } else
-            JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
-              target$jscomp$0,
-              props,
-              "body"
-            );
-          return JSCompiler_inline_result$jscomp$10;
         case "html":
-          if (formatContext.insertionMode === ROOT_HTML_MODE) {
-            var preamble$jscomp$1 = preambleState || renderState.preamble;
-            if (preamble$jscomp$1.htmlChunks)
-              throw Error("The `<html>` tag may only be rendered once.");
-            preamble$jscomp$1.htmlChunks = [doctypeChunk];
-            var JSCompiler_inline_result$jscomp$11 = pushStartSingletonElement(
-              preamble$jscomp$1.htmlChunks,
+          if (
+            formatContext.insertionMode === ROOT_HTML_MODE &&
+            null === renderState.htmlChunks
+          ) {
+            renderState.htmlChunks = [doctypeChunk];
+            var JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
+              renderState.htmlChunks,
               props,
               "html"
             );
           } else
-            JSCompiler_inline_result$jscomp$11 = pushStartGenericElement(
+            JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
               target$jscomp$0,
               props,
               "html"
             );
-          return JSCompiler_inline_result$jscomp$11;
+          return JSCompiler_inline_result$jscomp$10;
         default:
           if (-1 !== type.indexOf("-")) {
             target$jscomp$0.push(startChunkForTag(type));
@@ -2815,21 +2754,6 @@
         ((chunk = "</" + tag + ">"), endTagCache.set(tag, chunk));
       return chunk;
     }
-    function hoistPreambleState(renderState, preambleState) {
-      renderState = renderState.preamble;
-      null === renderState.htmlChunks &&
-        preambleState.htmlChunks &&
-        ((renderState.htmlChunks = preambleState.htmlChunks),
-        (preambleState.contribution |= 1));
-      null === renderState.headChunks &&
-        preambleState.headChunks &&
-        ((renderState.headChunks = preambleState.headChunks),
-        (preambleState.contribution |= 4));
-      null === renderState.bodyChunks &&
-        preambleState.bodyChunks &&
-        ((renderState.bodyChunks = preambleState.bodyChunks),
-        (preambleState.contribution |= 2));
-    }
     function writeBootstrap(destination, renderState) {
       renderState = renderState.bootstrapChunks;
       for (var i = 0; i < renderState.length - 1; i++)
@@ -2849,18 +2773,10 @@
       destination.push(renderState);
       return destination.push(startPendingSuspenseBoundary2);
     }
-    function writePreambleContribution(destination, preambleState) {
-      preambleState = preambleState.contribution;
-      preambleState !== NoContribution &&
-        (destination.push(boundaryPreambleContributionChunkStart),
-        destination.push("" + preambleState),
-        destination.push(boundaryPreambleContributionChunkEnd));
-    }
     function writeStartSegment(destination, renderState, formatContext, id) {
       switch (formatContext.insertionMode) {
         case ROOT_HTML_MODE:
         case HTML_HTML_MODE:
-        case HTML_HEAD_MODE:
         case HTML_MODE:
           return (
             destination.push(startSegmentHTML),
@@ -2925,7 +2841,6 @@
       switch (formatContext.insertionMode) {
         case ROOT_HTML_MODE:
         case HTML_HTML_MODE:
-        case HTML_HEAD_MODE:
         case HTML_MODE:
           return destination.push(endSegmentHTML);
         case SVG_MODE:
@@ -3422,7 +3337,8 @@
         segmentPrefix: idPrefix + "S:",
         boundaryPrefix: idPrefix + "B:",
         startInlineScript: "<script>",
-        preamble: createPreambleState(),
+        htmlChunks: null,
+        headChunks: null,
         externalRuntimeScript: null,
         bootstrapChunks: bootstrapChunks,
         importMapChunks: [],
@@ -3552,7 +3468,8 @@
         segmentPrefix: idPrefix.segmentPrefix,
         boundaryPrefix: idPrefix.boundaryPrefix,
         startInlineScript: idPrefix.startInlineScript,
-        preamble: idPrefix.preamble,
+        htmlChunks: idPrefix.htmlChunks,
+        headChunks: idPrefix.headChunks,
         externalRuntimeScript: idPrefix.externalRuntimeScript,
         bootstrapChunks: idPrefix.bootstrapChunks,
         importMapChunks: idPrefix.importMapChunks,
@@ -4086,12 +4003,6 @@
           index
         );
     }
-    function unsupportedRefresh() {
-      throw Error("Cache cannot be refreshed during server rendering.");
-    }
-    function unsupportedStartGesture() {
-      throw Error("startGesture cannot be called during server rendering.");
-    }
     function noop$1() {}
     function disabledLog() {}
     function disableLogs() {
@@ -4421,7 +4332,7 @@
       this.status = 10;
       this.fatalError = null;
       this.pendingRootTasks = this.allPendingTasks = this.nextSegmentId = 0;
-      this.completedPreambleSegments = this.completedRootSegment = null;
+      this.completedRootSegment = null;
       this.abortableTasks = abortSet;
       this.pingedTasks = [];
       this.clientRenderedBoundaries = [];
@@ -4481,7 +4392,6 @@
         null,
         renderState,
         null,
-        null,
         resumableState.abortableTasks,
         null,
         rootFormatContext,
@@ -4502,12 +4412,7 @@
         ((request.flushScheduled = null !== request.destination),
         performWork(request));
     }
-    function createSuspenseBoundary(
-      request,
-      fallbackAbortableTasks,
-      contentPreamble,
-      fallbackPreamble
-    ) {
+    function createSuspenseBoundary(request, fallbackAbortableTasks) {
       return {
         status: PENDING,
         rootSegmentID: -1,
@@ -4519,8 +4424,6 @@
         errorDigest: null,
         contentState: createHoistableState(),
         fallbackState: createHoistableState(),
-        contentPreamble: contentPreamble,
-        fallbackPreamble: fallbackPreamble,
         trackedContentKeyPath: null,
         trackedFallbackNode: null,
         errorMessage: null,
@@ -4535,7 +4438,6 @@
       childIndex,
       blockedBoundary,
       blockedSegment,
-      blockedPreamble,
       hoistableState,
       abortSet,
       keyPath,
@@ -4560,7 +4462,6 @@
         },
         blockedBoundary: blockedBoundary,
         blockedSegment: blockedSegment,
-        blockedPreamble: blockedPreamble,
         hoistableState: hoistableState,
         abortSet: abortSet,
         keyPath: keyPath,
@@ -4607,7 +4508,6 @@
         },
         blockedBoundary: blockedBoundary,
         blockedSegment: null,
-        blockedPreamble: null,
         hoistableState: hoistableState,
         abortSet: abortSet,
         keyPath: keyPath,
@@ -4632,12 +4532,11 @@
     ) {
       return {
         status: PENDING,
-        parentFlushed: !1,
         id: -1,
         index: index,
+        parentFlushed: !1,
         chunks: [],
         children: [],
-        preambleChildren: [],
         parentFormatContext: parentFormatContext,
         boundary: boundary,
         lastPushedText: lastPushedText,
@@ -5340,7 +5239,6 @@
             props,
             request.resumableState,
             request.renderState,
-            task.blockedPreamble,
             task.hoistableState,
             task.formatContext,
             segment.lastPushedText,
@@ -5349,45 +5247,9 @@
           segment.lastPushedText = !1;
           var _prevContext = task.formatContext,
             _prevKeyPath2 = task.keyPath;
+          task.formatContext = getChildFormatContext(_prevContext, type, props);
           task.keyPath = keyPath;
-          if (
-            (task.formatContext = getChildFormatContext(
-              _prevContext,
-              type,
-              props
-            )).insertionMode === HTML_HEAD_MODE
-          ) {
-            var preambleSegment = createPendingSegment(
-              request,
-              0,
-              null,
-              task.formatContext,
-              !1,
-              !1
-            );
-            segment.preambleChildren.push(preambleSegment);
-            var preambleTask = createRenderTask(
-              request,
-              null,
-              _children,
-              -1,
-              task.blockedBoundary,
-              preambleSegment,
-              task.blockedPreamble,
-              task.hoistableState,
-              request.abortableTasks,
-              task.keyPath,
-              task.formatContext,
-              task.context,
-              task.treeContext,
-              task.componentStack,
-              task.isFallback,
-              emptyContextObject,
-              task.debugTask
-            );
-            pushComponentStack(preambleTask);
-            request.pingedTasks.push(preambleTask);
-          } else renderNode(request, task, _children, -1);
+          renderNode(request, task, _children, -1);
           task.formatContext = _prevContext;
           task.keyPath = _prevKeyPath2;
           a: {
@@ -5424,9 +5286,6 @@
                   resumableState.hasHtml = !0;
                   break a;
                 }
-                break;
-              case "head":
-                if (_prevContext.insertionMode <= HTML_HTML_MODE) break a;
             }
             target.push(endChunkForTag(type));
           }
@@ -5480,26 +5339,12 @@
             } else {
               var prevKeyPath$jscomp$3 = task.keyPath,
                 parentBoundary = task.blockedBoundary,
-                parentPreamble = task.blockedPreamble,
                 parentHoistableState = task.hoistableState,
                 parentSegment = task.blockedSegment,
                 fallback = props.fallback,
                 content = props.children,
-                fallbackAbortSet = new Set();
-              var newBoundary =
-                task.formatContext.insertionMode < HTML_MODE
-                  ? createSuspenseBoundary(
-                      request,
-                      fallbackAbortSet,
-                      createPreambleState(),
-                      createPreambleState()
-                    )
-                  : createSuspenseBoundary(
-                      request,
-                      fallbackAbortSet,
-                      null,
-                      null
-                    );
+                fallbackAbortSet = new Set(),
+                newBoundary = createSuspenseBoundary(request, fallbackAbortSet);
               null !== request.trackedPostpones &&
                 (newBoundary.trackedContentKeyPath = keyPath);
               var boundarySegment = createPendingSegment(
@@ -5539,7 +5384,6 @@
                 );
                 newBoundary.trackedFallbackNode = fallbackReplayNode;
                 task.blockedSegment = boundarySegment;
-                task.blockedPreamble = newBoundary.fallbackPreamble;
                 task.keyPath = fallbackKeyPath;
                 boundarySegment.status = 6;
                 try {
@@ -5558,7 +5402,6 @@
                   );
                 } finally {
                   (task.blockedSegment = parentSegment),
-                    (task.blockedPreamble = parentPreamble),
                     (task.keyPath = prevKeyPath$jscomp$3);
                 }
                 var suspendedPrimaryTask = createRenderTask(
@@ -5568,7 +5411,6 @@
                   -1,
                   newBoundary,
                   contentRootSegment,
-                  newBoundary.contentPreamble,
                   newBoundary.contentState,
                   task.abortSet,
                   keyPath,
@@ -5584,7 +5426,6 @@
                 request.pingedTasks.push(suspendedPrimaryTask);
               } else {
                 task.blockedBoundary = newBoundary;
-                task.blockedPreamble = newBoundary.contentPreamble;
                 task.hoistableState = newBoundary.contentState;
                 task.blockedSegment = contentRootSegment;
                 task.keyPath = keyPath;
@@ -5604,9 +5445,6 @@
                       newBoundary.status === PENDING)
                   ) {
                     newBoundary.status = COMPLETED;
-                    0 === request.pendingRootTasks &&
-                      task.blockedPreamble &&
-                      preparePreamble(request);
                     break a;
                   }
                 } catch (thrownValue$2) {
@@ -5646,7 +5484,6 @@
                   untrackBoundary(request, newBoundary);
                 } finally {
                   (task.blockedBoundary = parentBoundary),
-                    (task.blockedPreamble = parentPreamble),
                     (task.hoistableState = parentHoistableState),
                     (task.blockedSegment = parentSegment),
                     (task.keyPath = prevKeyPath$jscomp$3);
@@ -5658,7 +5495,6 @@
                   -1,
                   parentBoundary,
                   boundarySegment,
-                  newBoundary.fallbackPreamble,
                   newBoundary.fallbackState,
                   fallbackAbortSet,
                   [keyPath[0], "Suspense Fallback", keyPath[2]],
@@ -5897,27 +5733,17 @@
                 previousReplaySet = task.replay,
                 parentBoundary = task.blockedBoundary,
                 parentHoistableState = task.hoistableState,
-                content = props.children,
-                fallback = props.fallback,
-                fallbackAbortSet = new Set();
-              props =
-                task.formatContext.insertionMode < HTML_MODE
-                  ? createSuspenseBoundary(
-                      request,
-                      fallbackAbortSet,
-                      createPreambleState(),
-                      createPreambleState()
-                    )
-                  : createSuspenseBoundary(
-                      request,
-                      fallbackAbortSet,
-                      null,
-                      null
-                    );
-              props.parentFlushed = !0;
-              props.rootSegmentID = type;
-              task.blockedBoundary = props;
-              task.hoistableState = props.contentState;
+                content = props.children;
+              props = props.fallback;
+              var fallbackAbortSet = new Set(),
+                resumedBoundary = createSuspenseBoundary(
+                  request,
+                  fallbackAbortSet
+                );
+              resumedBoundary.parentFlushed = !0;
+              resumedBoundary.rootSegmentID = type;
+              task.blockedBoundary = resumedBoundary;
+              task.hoistableState = resumedBoundary.contentState;
               task.keyPath = keyPath;
               task.replay = { nodes: ref, slots: name, pendingTasks: 1 };
               try {
@@ -5930,13 +5756,16 @@
                     "Couldn't find all resumable slots by key/index during replaying. The tree doesn't match so React will fallback to client rendering."
                   );
                 task.replay.pendingTasks--;
-                if (0 === props.pendingTasks && props.status === PENDING) {
-                  props.status = COMPLETED;
-                  request.completedBoundaries.push(props);
+                if (
+                  0 === resumedBoundary.pendingTasks &&
+                  resumedBoundary.status === PENDING
+                ) {
+                  resumedBoundary.status = COMPLETED;
+                  request.completedBoundaries.push(resumedBoundary);
                   break a;
                 }
               } catch (error) {
-                (props.status = CLIENT_RENDERED),
+                (resumedBoundary.status = CLIENT_RENDERED),
                   (childNodes = getThrownInfo(task.componentStack)),
                   "object" === typeof error &&
                   null !== error &&
@@ -5954,9 +5783,15 @@
                         childNodes,
                         task.debugTask
                       )),
-                  encodeErrorForBoundary(props, replay, error, childNodes, !1),
+                  encodeErrorForBoundary(
+                    resumedBoundary,
+                    replay,
+                    error,
+                    childNodes,
+                    !1
+                  ),
                   task.replay.pendingTasks--,
-                  request.clientRenderedBoundaries.push(props);
+                  request.clientRenderedBoundaries.push(resumedBoundary);
               } finally {
                 (task.blockedBoundary = parentBoundary),
                   (task.hoistableState = parentHoistableState),
@@ -5967,10 +5802,10 @@
                 request,
                 null,
                 { nodes: keyOrIndex, slots: node, pendingTasks: 0 },
-                fallback,
+                props,
                 -1,
                 parentBoundary,
-                props.fallbackState,
+                resumedBoundary.fallbackState,
                 fallbackAbortSet,
                 [keyPath[0], "Suspense Fallback", keyPath[2]],
                 task.formatContext,
@@ -6515,7 +6350,6 @@
         task.childIndex,
         task.blockedBoundary,
         newSegment,
-        task.blockedPreamble,
         task.hoistableState,
         task.abortSet,
         task.keyPath,
@@ -6733,12 +6567,7 @@
             errorDigest = errorDigest$jscomp$0,
             errorInfo = errorInfo$jscomp$0,
             wasAborted = aborted,
-            resumedBoundary = createSuspenseBoundary(
-              request,
-              new Set(),
-              null,
-              null
-            );
+            resumedBoundary = createSuspenseBoundary(request, new Set());
           resumedBoundary.parentFlushed = !0;
           resumedBoundary.rootSegmentID = node;
           resumedBoundary.status = CLIENT_RENDERED;
@@ -6948,7 +6777,6 @@
     }
     function completeShell(request) {
       null === request.trackedPostpones && safelyEmitEarlyPreloads(request, !0);
-      null === request.trackedPostpones && preparePreamble(request);
       request.onShellError = noop;
       request = request.onShellReady;
       request();
@@ -6961,7 +6789,6 @@
           : null === request.completedRootSegment ||
               request.completedRootSegment.status !== POSTPONED
       );
-      preparePreamble(request);
       request = request.onAllReady;
       request();
     }
@@ -7006,11 +6833,7 @@
                     abortTaskSoft,
                     request
                   ),
-                  boundary.fallbackAbortableTasks.clear(),
-                  0 === request.pendingRootTasks &&
-                    null === request.trackedPostpones &&
-                    null !== boundary.contentPreamble &&
-                    preparePreamble(request)))
+                  boundary.fallbackAbortableTasks.clear()))
               : null !== segment &&
                 segment.parentFlushed &&
                 segment.status === COMPLETED &&
@@ -7268,11 +7091,7 @@
                             ),
                             untrackBoundary(request, boundary),
                             boundary.parentFlushed &&
-                              request.clientRenderedBoundaries.push(boundary),
-                            0 === request.pendingRootTasks &&
-                              null === request.trackedPostpones &&
-                              null !== boundary.contentPreamble &&
-                              preparePreamble(request)));
+                              request.clientRenderedBoundaries.push(boundary)));
                       request.allPendingTasks--;
                       0 === request.allPendingTasks && completeAll(request);
                     }
@@ -7302,85 +7121,6 @@
         }
       }
     }
-    function preparePreambleFromSubtree(
-      request,
-      segment,
-      collectedPreambleSegments
-    ) {
-      segment.preambleChildren.length &&
-        collectedPreambleSegments.push(segment.preambleChildren);
-      for (var pendingPreambles = !1, i = 0; i < segment.children.length; i++)
-        pendingPreambles =
-          preparePreambleFromSegment(
-            request,
-            segment.children[i],
-            collectedPreambleSegments
-          ) || pendingPreambles;
-      return pendingPreambles;
-    }
-    function preparePreambleFromSegment(
-      request,
-      segment,
-      collectedPreambleSegments
-    ) {
-      var boundary = segment.boundary;
-      if (null === boundary)
-        return preparePreambleFromSubtree(
-          request,
-          segment,
-          collectedPreambleSegments
-        );
-      var preamble = boundary.contentPreamble,
-        fallbackPreamble = boundary.fallbackPreamble;
-      if (null === preamble || null === fallbackPreamble) return !1;
-      switch (boundary.status) {
-        case COMPLETED:
-          hoistPreambleState(request.renderState, preamble);
-          segment = boundary.completedSegments[0];
-          if (!segment)
-            throw Error(
-              "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
-            );
-          return preparePreambleFromSubtree(
-            request,
-            segment,
-            collectedPreambleSegments
-          );
-        case POSTPONED:
-          if (null !== request.trackedPostpones) return !0;
-        case CLIENT_RENDERED:
-          if (segment.status === COMPLETED)
-            return (
-              hoistPreambleState(request.renderState, fallbackPreamble),
-              preparePreambleFromSubtree(
-                request,
-                segment,
-                collectedPreambleSegments
-              )
-            );
-        default:
-          return !0;
-      }
-    }
-    function preparePreamble(request) {
-      if (
-        request.completedRootSegment &&
-        null === request.completedPreambleSegments
-      ) {
-        var collectedPreambleSegments = [],
-          hasPendingPreambles = preparePreambleFromSegment(
-            request,
-            request.completedRootSegment,
-            collectedPreambleSegments
-          ),
-          preamble = request.renderState.preamble;
-        if (
-          !1 === hasPendingPreambles ||
-          (preamble.headChunks && preamble.bodyChunks)
-        )
-          request.completedPreambleSegments = collectedPreambleSegments;
-      }
-    }
     function flushSubtree(request, destination, segment, hoistableState) {
       segment.parentFlushed = !0;
       switch (segment.status) {
@@ -7428,8 +7168,8 @@
         if (!request.renderState.generateStaticMarkup) {
           var errorDigest = boundary.errorDigest,
             errorMessage = boundary.errorMessage,
-            errorStack = boundary.errorStack,
-            errorComponentStack = boundary.errorComponentStack;
+            errorStack = boundary.errorStack;
+          boundary = boundary.errorComponentStack;
           destination.push(startClientRenderedSuspenseBoundary);
           destination.push(clientRenderedSuspenseBoundaryError1);
           errorDigest &&
@@ -7453,22 +7193,20 @@
             destination.push(
               clientRenderedSuspenseBoundaryErrorAttrInterstitial
             ));
-          errorComponentStack &&
+          boundary &&
             (destination.push(clientRenderedSuspenseBoundaryError1D),
-            (errorComponentStack = escapeTextForBrowser(errorComponentStack)),
-            destination.push(errorComponentStack),
+            (errorStack = escapeTextForBrowser(boundary)),
+            destination.push(errorStack),
             destination.push(
               clientRenderedSuspenseBoundaryErrorAttrInterstitial
             ));
           destination.push(clientRenderedSuspenseBoundaryError2);
         }
         flushSubtree(request, destination, segment, hoistableState);
-        request.renderState.generateStaticMarkup
-          ? (destination = !0)
-          : ((request = boundary.fallbackPreamble) &&
-              writePreambleContribution(destination, request),
-            (destination = destination.push(endSuspenseBoundary)));
-        return destination;
+        request = request.renderState.generateStaticMarkup
+          ? !0
+          : destination.push(endSuspenseBoundary);
+        return request;
       }
       if (boundary.status !== COMPLETED)
         return (
@@ -7482,9 +7220,12 @@
             boundary.rootSegmentID
           ),
           hoistableState &&
-            ((boundary = boundary.fallbackState),
-            boundary.styles.forEach(hoistStyleQueueDependency, hoistableState),
-            boundary.stylesheets.forEach(
+            ((errorStack = boundary.fallbackState),
+            errorStack.styles.forEach(
+              hoistStyleQueueDependency,
+              hoistableState
+            ),
+            errorStack.stylesheets.forEach(
               hoistStylesheetDependency,
               hoistableState
             )),
@@ -7515,12 +7256,10 @@
           "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
         );
       flushSegment(request, destination, segment[0], hoistableState);
-      request.renderState.generateStaticMarkup
-        ? (destination = !0)
-        : ((request = boundary.contentPreamble) &&
-            writePreambleContribution(destination, request),
-          (destination = destination.push(endSuspenseBoundary)));
-      return destination;
+      request = request.renderState.generateStaticMarkup
+        ? !0
+        : destination.push(endSuspenseBoundary);
+      return request;
     }
     function flushSegmentContainer(
       request,
@@ -7671,8 +7410,6 @@
             completedRootSegment = request.completedRootSegment;
           if (null !== completedRootSegment) {
             if (completedRootSegment.status === POSTPONED) return;
-            var completedPreambleSegments = request.completedPreambleSegments;
-            if (null === completedPreambleSegments) return;
             var renderState = request.renderState;
             if (
               (0 !== request.allPendingTasks ||
@@ -7687,9 +7424,8 @@
                 ((resumableState.scriptResources[src] = EXISTS),
                 renderState.scripts.add(chunks));
             }
-            var preamble = renderState.preamble,
-              htmlChunks = preamble.htmlChunks,
-              headChunks = preamble.headChunks,
+            var htmlChunks = renderState.htmlChunks,
+              headChunks = renderState.headChunks,
               i$jscomp$0;
             if (htmlChunks) {
               for (i$jscomp$0 = 0; i$jscomp$0 < htmlChunks.length; i$jscomp$0++)
@@ -7752,38 +7488,11 @@
               i$jscomp$0++
             )
               destination.push(hoistableChunks[i$jscomp$0]);
-            for (
-              renderState = hoistableChunks.length = 0;
-              renderState < completedPreambleSegments.length;
-              renderState++
-            ) {
-              var segments = completedPreambleSegments[renderState];
-              for (
-                _renderState$external = 0;
-                _renderState$external < segments.length;
-                _renderState$external++
-              )
-                flushSegment(
-                  request,
-                  destination,
-                  segments[_renderState$external],
-                  null
-                );
-            }
-            var preamble$jscomp$0 = request.renderState.preamble,
-              headChunks$jscomp$0 = preamble$jscomp$0.headChunks;
-            if (preamble$jscomp$0.htmlChunks || headChunks$jscomp$0) {
+            hoistableChunks.length = 0;
+            if (htmlChunks && null === headChunks) {
               var chunk$jscomp$0 = endChunkForTag("head");
               destination.push(chunk$jscomp$0);
             }
-            var bodyChunks = preamble$jscomp$0.bodyChunks;
-            if (bodyChunks)
-              for (
-                completedPreambleSegments = 0;
-                completedPreambleSegments < bodyChunks.length;
-                completedPreambleSegments++
-              )
-                destination.push(bodyChunks[completedPreambleSegments]);
             flushSegment(request, destination, completedRootSegment, null);
             request.completedRootSegment = null;
             writeBootstrap(destination, request.renderState);
@@ -8149,7 +7858,6 @@
       REACT_SCOPE_TYPE = Symbol.for("react.scope"),
       REACT_OFFSCREEN_TYPE = Symbol.for("react.offscreen"),
       REACT_LEGACY_HIDDEN_TYPE = Symbol.for("react.legacy_hidden"),
-      REACT_MEMO_CACHE_SENTINEL = Symbol.for("react.memo_cache_sentinel"),
       REACT_POSTPONE_TYPE = Symbol.for("react.postpone"),
       REACT_VIEW_TRANSITION_TYPE = Symbol.for("react.view_transition"),
       MAYBE_ITERATOR_SYMBOL = Symbol.iterator,
@@ -8957,7 +8665,6 @@
                 var header;
                 resumableState &&
                 0 < resumableState.remainingCapacity &&
-                "string" !== typeof imageSrcSet &&
                 "high" === fetchPriority &&
                 ((header = getPreloadAsHeader(href, as, options)),
                 0 <= (resumableState.remainingCapacity -= header.length + 2))
@@ -9207,17 +8914,15 @@
     Object.freeze(PRELOAD_NO_CREDS);
     var scriptRegex = /(<\/|<)(s)(cript)/gi;
     var didWarnForNewBooleanPropsWithEmptyValue = {};
-    var NoContribution = 0,
-      ROOT_HTML_MODE = 0,
+    var ROOT_HTML_MODE = 0,
       HTML_HTML_MODE = 1,
       HTML_MODE = 2,
-      HTML_HEAD_MODE = 3,
-      SVG_MODE = 4,
-      MATHML_MODE = 5,
-      HTML_TABLE_MODE = 6,
-      HTML_TABLE_BODY_MODE = 7,
-      HTML_TABLE_ROW_MODE = 8,
-      HTML_COLGROUP_MODE = 9,
+      SVG_MODE = 3,
+      MATHML_MODE = 4,
+      HTML_TABLE_MODE = 5,
+      HTML_TABLE_BODY_MODE = 6,
+      HTML_TABLE_ROW_MODE = 7,
+      HTML_COLGROUP_MODE = 8,
       styleNameCache = new Map(),
       styleAttributeStart = ' style="',
       styleAssign = ":",
@@ -9263,8 +8968,6 @@
       clientRenderedSuspenseBoundaryError1C = ' data-stck="',
       clientRenderedSuspenseBoundaryError1D = ' data-cstck="',
       clientRenderedSuspenseBoundaryError2 = "></template>",
-      boundaryPreambleContributionChunkStart = "\x3c!--",
-      boundaryPreambleContributionChunkEnd = "--\x3e",
       startSegmentHTML = '<div hidden id="',
       startSegmentHTML2 = '">',
       endSegmentHTML = "</div>",
@@ -9481,9 +9184,9 @@
               "Invalid hook call. Hooks can only be called inside of the body of a function component."
             );
           overflow = localIdCounter++;
-          treeId = "\u00ab" + resumableState.idPrefix + "R" + treeId;
+          treeId = ":" + resumableState.idPrefix + "R" + treeId;
           0 < overflow && (treeId += "H" + overflow.toString(32));
-          return treeId + "\u00bb";
+          return treeId + ":";
         },
         useSyncExternalStore: function (
           subscribe,
@@ -9506,20 +9209,8 @@
           resolveCurrentlyRenderingComponent();
           return NotPending;
         },
-        useMemoCache: function (size) {
-          for (var data = Array(size), i = 0; i < size; i++)
-            data[i] = REACT_MEMO_CACHE_SENTINEL;
-          return data;
-        },
-        useCacheRefresh: function () {
-          return unsupportedRefresh;
-        },
         useEffectEvent: function () {
           return throwOnUseEffectEventCall;
-        },
-        useSwipeTransition: function (previous, current) {
-          resolveCurrentlyRenderingComponent();
-          return [current, unsupportedStartGesture];
         }
       },
       currentResumableState = null,
@@ -9600,5 +9291,5 @@
         'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server'
       );
     };
-    exports.version = "19.1.0-experimental-d55cc79b-20250228";
+    exports.version = "19.1.0-experimental-b3a95caf-20250113";
   })();
diff --git a/node_modules/react-dom/cjs/react-dom-server-legacy.browser.production.js b/node_modules/react-dom/cjs/react-dom-server-legacy.browser.production.js
index ba31b63..602d27e 100644
--- a/node_modules/react-dom/cjs/react-dom-server-legacy.browser.production.js
+++ b/node_modules/react-dom/cjs/react-dom-server-legacy.browser.production.js
@@ -66,7 +66,6 @@ var REACT_ELEMENT_TYPE = Symbol.for("react.transitional.element"),
   REACT_SCOPE_TYPE = Symbol.for("react.scope"),
   REACT_OFFSCREEN_TYPE = Symbol.for("react.offscreen"),
   REACT_LEGACY_HIDDEN_TYPE = Symbol.for("react.legacy_hidden"),
-  REACT_MEMO_CACHE_SENTINEL = Symbol.for("react.memo_cache_sentinel"),
   REACT_POSTPONE_TYPE = Symbol.for("react.postpone"),
   REACT_VIEW_TRANSITION_TYPE = Symbol.for("react.view_transition"),
   MAYBE_ITERATOR_SYMBOL = Symbol.iterator,
@@ -333,14 +332,6 @@ function createResumableState(
     moduleScriptResources: {}
   };
 }
-function createPreambleState() {
-  return {
-    htmlChunks: null,
-    headChunks: null,
-    bodyChunks: null,
-    contribution: 0
-  };
-}
 function createFormatContext(insertionMode, selectedValue, tagScope) {
   return {
     insertionMode: insertionMode,
@@ -359,34 +350,33 @@ function getChildFormatContext(parentContext, type, props) {
         parentContext.tagScope
       );
     case "svg":
-      return createFormatContext(4, null, parentContext.tagScope);
+      return createFormatContext(3, null, parentContext.tagScope);
     case "picture":
       return createFormatContext(2, null, parentContext.tagScope | 2);
     case "math":
-      return createFormatContext(5, null, parentContext.tagScope);
+      return createFormatContext(4, null, parentContext.tagScope);
     case "foreignObject":
       return createFormatContext(2, null, parentContext.tagScope);
     case "table":
-      return createFormatContext(6, null, parentContext.tagScope);
+      return createFormatContext(5, null, parentContext.tagScope);
     case "thead":
     case "tbody":
     case "tfoot":
-      return createFormatContext(7, null, parentContext.tagScope);
+      return createFormatContext(6, null, parentContext.tagScope);
     case "colgroup":
-      return createFormatContext(9, null, parentContext.tagScope);
-    case "tr":
       return createFormatContext(8, null, parentContext.tagScope);
-    case "head":
-      if (2 > parentContext.insertionMode)
-        return createFormatContext(3, null, parentContext.tagScope);
-      break;
-    case "html":
-      if (0 === parentContext.insertionMode)
-        return createFormatContext(1, null, parentContext.tagScope);
+    case "tr":
+      return createFormatContext(7, null, parentContext.tagScope);
   }
-  return 6 <= parentContext.insertionMode || 2 > parentContext.insertionMode
+  return 5 <= parentContext.insertionMode
     ? createFormatContext(2, null, parentContext.tagScope)
-    : parentContext;
+    : 0 === parentContext.insertionMode
+      ? "html" === type
+        ? createFormatContext(1, null, parentContext.tagScope)
+        : createFormatContext(2, null, parentContext.tagScope)
+      : 1 === parentContext.insertionMode
+        ? createFormatContext(2, null, parentContext.tagScope)
+        : parentContext;
 }
 var styleNameCache = new Map();
 function pushStyleAttribute(target, style) {
@@ -795,29 +785,6 @@ function pushScriptImpl(target, props) {
   target.push(endChunkForTag("script"));
   return null;
 }
-function pushStartSingletonElement(target, props, tag) {
-  target.push(startChunkForTag(tag));
-  var innerHTML = (tag = null),
-    propKey;
-  for (propKey in props)
-    if (hasOwnProperty.call(props, propKey)) {
-      var propValue = props[propKey];
-      if (null != propValue)
-        switch (propKey) {
-          case "children":
-            tag = propValue;
-            break;
-          case "dangerouslySetInnerHTML":
-            innerHTML = propValue;
-            break;
-          default:
-            pushAttribute(target, propKey, propValue);
-        }
-    }
-  target.push(">");
-  pushInnerHTML(target, innerHTML, tag);
-  return tag;
-}
 function pushStartGenericElement(target, props, tag) {
   target.push(startChunkForTag(tag));
   var innerHTML = (tag = null),
@@ -861,7 +828,6 @@ function pushStartInstance(
   props,
   resumableState,
   renderState,
-  preambleState,
   hoistableState,
   formatContext,
   textEmbedded,
@@ -1332,7 +1298,7 @@ function pushStartInstance(
       return JSCompiler_inline_result$jscomp$2;
     case "title":
       if (
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp
       )
@@ -1351,7 +1317,7 @@ function pushStartInstance(
         href = props.href,
         precedence = props.precedence;
       if (
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp ||
         "string" !== typeof rel ||
@@ -1433,7 +1399,7 @@ function pushStartInstance(
         "symbol" === typeof asyncProp ||
         props.onLoad ||
         props.onError ||
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp
       )
@@ -1474,7 +1440,7 @@ function pushStartInstance(
       var precedence$jscomp$0 = props.precedence,
         href$jscomp$0 = props.href;
       if (
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp ||
         "string" !== typeof precedence$jscomp$0 ||
@@ -1577,7 +1543,7 @@ function pushStartInstance(
       return JSCompiler_inline_result$jscomp$6;
     case "meta":
       if (
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp
       )
@@ -1691,7 +1657,6 @@ function pushStartInstance(
             header;
           headers &&
           0 < headers.remainingCapacity &&
-          "string" !== typeof props.srcSet &&
           ("high" === props.fetchPriority ||
             500 > headers.highImagePreloads.length) &&
           ((header = getPreloadAsHeader(src, "image", {
@@ -1751,13 +1716,10 @@ function pushStartInstance(
     case "missing-glyph":
       break;
     case "head":
-      if (2 > formatContext.insertionMode) {
-        var preamble = preambleState || renderState.preamble;
-        if (preamble.headChunks)
-          throw Error(formatProdErrorMessage(545, "`<head>`"));
-        preamble.headChunks = [];
-        var JSCompiler_inline_result$jscomp$9 = pushStartSingletonElement(
-          preamble.headChunks,
+      if (2 > formatContext.insertionMode && null === renderState.headChunks) {
+        renderState.headChunks = [];
+        var JSCompiler_inline_result$jscomp$9 = pushStartGenericElement(
+          renderState.headChunks,
           props,
           "head"
         );
@@ -1768,42 +1730,24 @@ function pushStartInstance(
           "head"
         );
       return JSCompiler_inline_result$jscomp$9;
-    case "body":
-      if (2 > formatContext.insertionMode) {
-        var preamble$jscomp$0 = preambleState || renderState.preamble;
-        if (preamble$jscomp$0.bodyChunks)
-          throw Error(formatProdErrorMessage(545, "`<body>`"));
-        preamble$jscomp$0.bodyChunks = [];
-        var JSCompiler_inline_result$jscomp$10 = pushStartSingletonElement(
-          preamble$jscomp$0.bodyChunks,
-          props,
-          "body"
-        );
-      } else
-        JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
-          target$jscomp$0,
-          props,
-          "body"
-        );
-      return JSCompiler_inline_result$jscomp$10;
     case "html":
-      if (0 === formatContext.insertionMode) {
-        var preamble$jscomp$1 = preambleState || renderState.preamble;
-        if (preamble$jscomp$1.htmlChunks)
-          throw Error(formatProdErrorMessage(545, "`<html>`"));
-        preamble$jscomp$1.htmlChunks = [""];
-        var JSCompiler_inline_result$jscomp$11 = pushStartSingletonElement(
-          preamble$jscomp$1.htmlChunks,
+      if (
+        0 === formatContext.insertionMode &&
+        null === renderState.htmlChunks
+      ) {
+        renderState.htmlChunks = [""];
+        var JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
+          renderState.htmlChunks,
           props,
           "html"
         );
       } else
-        JSCompiler_inline_result$jscomp$11 = pushStartGenericElement(
+        JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
           target$jscomp$0,
           props,
           "html"
         );
-      return JSCompiler_inline_result$jscomp$11;
+      return JSCompiler_inline_result$jscomp$10;
     default:
       if (-1 !== type.indexOf("-")) {
         target$jscomp$0.push(startChunkForTag(type));
@@ -1864,21 +1808,6 @@ function endChunkForTag(tag) {
   void 0 === chunk && ((chunk = "</" + tag + ">"), endTagCache.set(tag, chunk));
   return chunk;
 }
-function hoistPreambleState(renderState, preambleState) {
-  renderState = renderState.preamble;
-  null === renderState.htmlChunks &&
-    preambleState.htmlChunks &&
-    ((renderState.htmlChunks = preambleState.htmlChunks),
-    (preambleState.contribution |= 1));
-  null === renderState.headChunks &&
-    preambleState.headChunks &&
-    ((renderState.headChunks = preambleState.headChunks),
-    (preambleState.contribution |= 4));
-  null === renderState.bodyChunks &&
-    preambleState.bodyChunks &&
-    ((renderState.bodyChunks = preambleState.bodyChunks),
-    (preambleState.contribution |= 2));
-}
 function writeBootstrap(destination, renderState) {
   renderState = renderState.bootstrapChunks;
   for (var i = 0; i < renderState.length - 1; i++)
@@ -1895,18 +1824,10 @@ function writeStartPendingSuspenseBoundary(destination, renderState, id) {
   destination.push(renderState);
   return destination.push('"></template>');
 }
-function writePreambleContribution(destination, preambleState) {
-  preambleState = preambleState.contribution;
-  0 !== preambleState &&
-    (destination.push("\x3c!--"),
-    destination.push("" + preambleState),
-    destination.push("--\x3e"));
-}
 function writeStartSegment(destination, renderState, formatContext, id) {
   switch (formatContext.insertionMode) {
     case 0:
     case 1:
-    case 3:
     case 2:
       return (
         destination.push('<div hidden id="'),
@@ -1915,7 +1836,7 @@ function writeStartSegment(destination, renderState, formatContext, id) {
         destination.push(renderState),
         destination.push('">')
       );
-    case 4:
+    case 3:
       return (
         destination.push('<svg aria-hidden="true" style="display:none" id="'),
         destination.push(renderState.segmentPrefix),
@@ -1923,7 +1844,7 @@ function writeStartSegment(destination, renderState, formatContext, id) {
         destination.push(renderState),
         destination.push('">')
       );
-    case 5:
+    case 4:
       return (
         destination.push('<math aria-hidden="true" style="display:none" id="'),
         destination.push(renderState.segmentPrefix),
@@ -1931,7 +1852,7 @@ function writeStartSegment(destination, renderState, formatContext, id) {
         destination.push(renderState),
         destination.push('">')
       );
-    case 6:
+    case 5:
       return (
         destination.push('<table hidden id="'),
         destination.push(renderState.segmentPrefix),
@@ -1939,7 +1860,7 @@ function writeStartSegment(destination, renderState, formatContext, id) {
         destination.push(renderState),
         destination.push('">')
       );
-    case 7:
+    case 6:
       return (
         destination.push('<table hidden><tbody id="'),
         destination.push(renderState.segmentPrefix),
@@ -1947,7 +1868,7 @@ function writeStartSegment(destination, renderState, formatContext, id) {
         destination.push(renderState),
         destination.push('">')
       );
-    case 8:
+    case 7:
       return (
         destination.push('<table hidden><tr id="'),
         destination.push(renderState.segmentPrefix),
@@ -1955,7 +1876,7 @@ function writeStartSegment(destination, renderState, formatContext, id) {
         destination.push(renderState),
         destination.push('">')
       );
-    case 9:
+    case 8:
       return (
         destination.push('<table hidden><colgroup id="'),
         destination.push(renderState.segmentPrefix),
@@ -1971,20 +1892,19 @@ function writeEndSegment(destination, formatContext) {
   switch (formatContext.insertionMode) {
     case 0:
     case 1:
-    case 3:
     case 2:
       return destination.push("</div>");
-    case 4:
+    case 3:
       return destination.push("</svg>");
-    case 5:
+    case 4:
       return destination.push("</math>");
-    case 6:
+    case 5:
       return destination.push("</table>");
-    case 7:
+    case 6:
       return destination.push("</tbody></table>");
-    case 8:
+    case 7:
       return destination.push("</tr></table>");
-    case 9:
+    case 8:
       return destination.push("</colgroup></table>");
     default:
       throw Error(formatProdErrorMessage(397));
@@ -2443,7 +2363,6 @@ function preload(href, as, options) {
           var header;
           resumableState &&
           0 < resumableState.remainingCapacity &&
-          "string" !== typeof imageSrcSet &&
           "high" === fetchPriority &&
           ((header = getPreloadAsHeader(href, as, options)),
           0 <= (resumableState.remainingCapacity -= header.length + 2))
@@ -2748,17 +2667,16 @@ function createRenderState(resumableState, generateStaticMarkup) {
       "\x3c/script>"
     );
   bootstrapScriptContent = idPrefix + "P:";
-  var JSCompiler_object_inline_segmentPrefix_1704 = idPrefix + "S:";
+  var JSCompiler_object_inline_segmentPrefix_1641 = idPrefix + "S:";
   idPrefix += "B:";
-  var JSCompiler_object_inline_preamble_1707 = createPreambleState(),
-    JSCompiler_object_inline_preconnects_1717 = new Set(),
-    JSCompiler_object_inline_fontPreloads_1718 = new Set(),
-    JSCompiler_object_inline_highImagePreloads_1719 = new Set(),
-    JSCompiler_object_inline_styles_1720 = new Map(),
-    JSCompiler_object_inline_bootstrapScripts_1721 = new Set(),
-    JSCompiler_object_inline_scripts_1722 = new Set(),
-    JSCompiler_object_inline_bulkPreloads_1723 = new Set(),
-    JSCompiler_object_inline_preloads_1724 = {
+  var JSCompiler_object_inline_preconnects_1655 = new Set(),
+    JSCompiler_object_inline_fontPreloads_1656 = new Set(),
+    JSCompiler_object_inline_highImagePreloads_1657 = new Set(),
+    JSCompiler_object_inline_styles_1658 = new Map(),
+    JSCompiler_object_inline_bootstrapScripts_1659 = new Set(),
+    JSCompiler_object_inline_scripts_1660 = new Set(),
+    JSCompiler_object_inline_bulkPreloads_1661 = new Set(),
+    JSCompiler_object_inline_preloads_1662 = {
       images: new Map(),
       stylesheets: new Map(),
       scripts: new Map(),
@@ -2795,7 +2713,7 @@ function createRenderState(resumableState, generateStaticMarkup) {
       scriptConfig.moduleScriptResources[href] = null;
       scriptConfig = [];
       pushLinkImpl(scriptConfig, props);
-      JSCompiler_object_inline_bootstrapScripts_1721.add(scriptConfig);
+      JSCompiler_object_inline_bootstrapScripts_1659.add(scriptConfig);
       bootstrapChunks.push('<script src="', escapeTextForBrowser(src));
       "string" === typeof integrity &&
         bootstrapChunks.push('" integrity="', escapeTextForBrowser(integrity));
@@ -2836,7 +2754,7 @@ function createRenderState(resumableState, generateStaticMarkup) {
         (props.moduleScriptResources[scriptConfig] = null),
         (props = []),
         pushLinkImpl(props, integrity),
-        JSCompiler_object_inline_bootstrapScripts_1721.add(props),
+        JSCompiler_object_inline_bootstrapScripts_1659.add(props),
         bootstrapChunks.push(
           '<script type="module" src="',
           escapeTextForBrowser(i)
@@ -2851,10 +2769,11 @@ function createRenderState(resumableState, generateStaticMarkup) {
         bootstrapChunks.push('" async="">\x3c/script>');
   return {
     placeholderPrefix: bootstrapScriptContent,
-    segmentPrefix: JSCompiler_object_inline_segmentPrefix_1704,
+    segmentPrefix: JSCompiler_object_inline_segmentPrefix_1641,
     boundaryPrefix: idPrefix,
     startInlineScript: "<script>",
-    preamble: JSCompiler_object_inline_preamble_1707,
+    htmlChunks: null,
+    headChunks: null,
     externalRuntimeScript: null,
     bootstrapChunks: bootstrapChunks,
     importMapChunks: [],
@@ -2870,14 +2789,14 @@ function createRenderState(resumableState, generateStaticMarkup) {
     charsetChunks: [],
     viewportChunks: [],
     hoistableChunks: [],
-    preconnects: JSCompiler_object_inline_preconnects_1717,
-    fontPreloads: JSCompiler_object_inline_fontPreloads_1718,
-    highImagePreloads: JSCompiler_object_inline_highImagePreloads_1719,
-    styles: JSCompiler_object_inline_styles_1720,
-    bootstrapScripts: JSCompiler_object_inline_bootstrapScripts_1721,
-    scripts: JSCompiler_object_inline_scripts_1722,
-    bulkPreloads: JSCompiler_object_inline_bulkPreloads_1723,
-    preloads: JSCompiler_object_inline_preloads_1724,
+    preconnects: JSCompiler_object_inline_preconnects_1655,
+    fontPreloads: JSCompiler_object_inline_fontPreloads_1656,
+    highImagePreloads: JSCompiler_object_inline_highImagePreloads_1657,
+    styles: JSCompiler_object_inline_styles_1658,
+    bootstrapScripts: JSCompiler_object_inline_bootstrapScripts_1659,
+    scripts: JSCompiler_object_inline_scripts_1660,
+    bulkPreloads: JSCompiler_object_inline_bulkPreloads_1661,
+    preloads: JSCompiler_object_inline_preloads_1662,
     stylesToHoist: !1,
     generateStaticMarkup: generateStaticMarkup
   };
@@ -3326,12 +3245,6 @@ function readPreviousThenableFromState() {
       index
     );
 }
-function unsupportedRefresh() {
-  throw Error(formatProdErrorMessage(393));
-}
-function unsupportedStartGesture() {
-  throw Error(formatProdErrorMessage(547));
-}
 function noop$1() {}
 var HooksDispatcher = {
     readContext: function (context) {
@@ -3394,9 +3307,9 @@ var HooksDispatcher = {
       if (null === resumableState) throw Error(formatProdErrorMessage(404));
       overflow = localIdCounter++;
       JSCompiler_inline_result =
-        "\u00ab" + resumableState.idPrefix + "R" + JSCompiler_inline_result;
+        ":" + resumableState.idPrefix + "R" + JSCompiler_inline_result;
       0 < overflow && (JSCompiler_inline_result += "H" + overflow.toString(32));
-      return JSCompiler_inline_result + "\u00bb";
+      return JSCompiler_inline_result + ":";
     },
     useSyncExternalStore: function (subscribe, getSnapshot, getServerSnapshot) {
       if (void 0 === getServerSnapshot)
@@ -3413,20 +3326,8 @@ var HooksDispatcher = {
       resolveCurrentlyRenderingComponent();
       return sharedNotPendingObject;
     },
-    useMemoCache: function (size) {
-      for (var data = Array(size), i = 0; i < size; i++)
-        data[i] = REACT_MEMO_CACHE_SENTINEL;
-      return data;
-    },
-    useCacheRefresh: function () {
-      return unsupportedRefresh;
-    },
     useEffectEvent: function () {
       return throwOnUseEffectEventCall;
-    },
-    useSwipeTransition: function (previous, current) {
-      resolveCurrentlyRenderingComponent();
-      return [current, unsupportedStartGesture];
     }
   },
   currentResumableState = null,
@@ -3675,7 +3576,7 @@ function RequestInstance(
   this.status = 10;
   this.fatalError = null;
   this.pendingRootTasks = this.allPendingTasks = this.nextSegmentId = 0;
-  this.completedPreambleSegments = this.completedRootSegment = null;
+  this.completedRootSegment = null;
   this.abortableTasks = abortSet;
   this.pingedTasks = [];
   this.clientRenderedBoundaries = [];
@@ -3734,7 +3635,6 @@ function createRequest(
     null,
     renderState,
     null,
-    null,
     resumableState.abortableTasks,
     null,
     rootFormatContext,
@@ -3754,12 +3654,7 @@ function pingTask(request, task) {
     ((request.flushScheduled = null !== request.destination),
     performWork(request));
 }
-function createSuspenseBoundary(
-  request,
-  fallbackAbortableTasks,
-  contentPreamble,
-  fallbackPreamble
-) {
+function createSuspenseBoundary(request, fallbackAbortableTasks) {
   return {
     status: 0,
     rootSegmentID: -1,
@@ -3771,8 +3666,6 @@ function createSuspenseBoundary(
     errorDigest: null,
     contentState: createHoistableState(),
     fallbackState: createHoistableState(),
-    contentPreamble: contentPreamble,
-    fallbackPreamble: fallbackPreamble,
     trackedContentKeyPath: null,
     trackedFallbackNode: null
   };
@@ -3784,7 +3677,6 @@ function createRenderTask(
   childIndex,
   blockedBoundary,
   blockedSegment,
-  blockedPreamble,
   hoistableState,
   abortSet,
   keyPath,
@@ -3807,7 +3699,6 @@ function createRenderTask(
     },
     blockedBoundary: blockedBoundary,
     blockedSegment: blockedSegment,
-    blockedPreamble: blockedPreamble,
     hoistableState: hoistableState,
     abortSet: abortSet,
     keyPath: keyPath,
@@ -3851,7 +3742,6 @@ function createReplayTask(
     },
     blockedBoundary: blockedBoundary,
     blockedSegment: null,
-    blockedPreamble: null,
     hoistableState: hoistableState,
     abortSet: abortSet,
     keyPath: keyPath,
@@ -3875,12 +3765,11 @@ function createPendingSegment(
 ) {
   return {
     status: 0,
-    parentFlushed: !1,
     id: -1,
     index: index,
+    parentFlushed: !1,
     chunks: [],
     children: [],
-    preambleChildren: [],
     parentFormatContext: parentFormatContext,
     boundary: boundary,
     lastPushedText: lastPushedText,
@@ -4112,13 +4001,12 @@ function renderElement(request, task, keyPath, type, props, ref) {
         (task.formatContext = defaultProps),
         (task.keyPath = initialState);
     else {
-      ref = pushStartInstance(
+      initialState = pushStartInstance(
         newProps.chunks,
         type,
         props,
         request.resumableState,
         request.renderState,
-        task.blockedPreamble,
         task.hoistableState,
         task.formatContext,
         newProps.lastPushedText,
@@ -4126,42 +4014,12 @@ function renderElement(request, task, keyPath, type, props, ref) {
       );
       newProps.lastPushedText = !1;
       defaultProps = task.formatContext;
-      initialState = task.keyPath;
+      ref = task.keyPath;
+      task.formatContext = getChildFormatContext(defaultProps, type, props);
       task.keyPath = keyPath;
-      3 ===
-      (task.formatContext = getChildFormatContext(defaultProps, type, props))
-        .insertionMode
-        ? ((keyPath = createPendingSegment(
-            request,
-            0,
-            null,
-            task.formatContext,
-            !1,
-            !1
-          )),
-          newProps.preambleChildren.push(keyPath),
-          (keyPath = createRenderTask(
-            request,
-            null,
-            ref,
-            -1,
-            task.blockedBoundary,
-            keyPath,
-            task.blockedPreamble,
-            task.hoistableState,
-            request.abortableTasks,
-            task.keyPath,
-            task.formatContext,
-            task.context,
-            task.treeContext,
-            task.componentStack,
-            task.isFallback
-          )),
-          pushComponentStack(keyPath),
-          request.pingedTasks.push(keyPath))
-        : renderNode(request, task, ref, -1);
+      renderNode(request, task, initialState, -1);
       task.formatContext = defaultProps;
-      task.keyPath = initialState;
+      task.keyPath = ref;
       a: {
         task = newProps.chunks;
         request = request.resumableState;
@@ -4196,9 +4054,6 @@ function renderElement(request, task, keyPath, type, props, ref) {
               request.hasHtml = !0;
               break a;
             }
-            break;
-          case "head":
-            if (1 >= defaultProps.insertionMode) break a;
         }
         task.push(endChunkForTag(type));
       }
@@ -4248,34 +4103,25 @@ function renderElement(request, task, keyPath, type, props, ref) {
           }
         } else {
           type = task.keyPath;
-          var parentBoundary = task.blockedBoundary;
-          ref = task.blockedPreamble;
-          var parentHoistableState = task.hoistableState;
-          propName$33 = task.blockedSegment;
-          propName = props.fallback;
+          var parentBoundary = task.blockedBoundary,
+            parentHoistableState = task.hoistableState;
+          ref = task.blockedSegment;
+          propName$33 = props.fallback;
           props = props.children;
           var fallbackAbortSet = new Set();
-          var newBoundary =
-            2 > task.formatContext.insertionMode
-              ? createSuspenseBoundary(
-                  request,
-                  fallbackAbortSet,
-                  createPreambleState(),
-                  createPreambleState()
-                )
-              : createSuspenseBoundary(request, fallbackAbortSet, null, null);
+          propName = createSuspenseBoundary(request, fallbackAbortSet);
           null !== request.trackedPostpones &&
-            (newBoundary.trackedContentKeyPath = keyPath);
+            (propName.trackedContentKeyPath = keyPath);
           var boundarySegment = createPendingSegment(
             request,
-            propName$33.chunks.length,
-            newBoundary,
+            ref.chunks.length,
+            propName,
             task.formatContext,
             !1,
             !1
           );
-          propName$33.children.push(boundarySegment);
-          propName$33.lastPushedText = !1;
+          ref.children.push(boundarySegment);
+          ref.lastPushedText = !1;
           var contentRootSegment = createPendingSegment(
             request,
             0,
@@ -4289,13 +4135,12 @@ function renderElement(request, task, keyPath, type, props, ref) {
             newProps = [keyPath[0], "Suspense Fallback", keyPath[2]];
             defaultProps = [newProps[1], newProps[2], [], null];
             request.trackedPostpones.workingMap.set(newProps, defaultProps);
-            newBoundary.trackedFallbackNode = defaultProps;
+            propName.trackedFallbackNode = defaultProps;
             task.blockedSegment = boundarySegment;
-            task.blockedPreamble = newBoundary.fallbackPreamble;
             task.keyPath = newProps;
             boundarySegment.status = 6;
             try {
-              renderNode(request, task, propName, -1),
+              renderNode(request, task, propName$33, -1),
                 pushSegmentFinale(
                   boundarySegment.chunks,
                   request.renderState,
@@ -4309,19 +4154,16 @@ function renderElement(request, task, keyPath, type, props, ref) {
                 thrownValue)
               );
             } finally {
-              (task.blockedSegment = propName$33),
-                (task.blockedPreamble = ref),
-                (task.keyPath = type);
+              (task.blockedSegment = ref), (task.keyPath = type);
             }
             task = createRenderTask(
               request,
               null,
               props,
               -1,
-              newBoundary,
+              propName,
               contentRootSegment,
-              newBoundary.contentPreamble,
-              newBoundary.contentState,
+              propName.contentState,
               task.abortSet,
               keyPath,
               task.formatContext,
@@ -4333,9 +4175,8 @@ function renderElement(request, task, keyPath, type, props, ref) {
             pushComponentStack(task);
             request.pingedTasks.push(task);
           } else {
-            task.blockedBoundary = newBoundary;
-            task.blockedPreamble = newBoundary.contentPreamble;
-            task.hoistableState = newBoundary.contentState;
+            task.blockedBoundary = propName;
+            task.hoistableState = propName.contentState;
             task.blockedSegment = contentRootSegment;
             task.keyPath = keyPath;
             contentRootSegment.status = 6;
@@ -4349,17 +4190,14 @@ function renderElement(request, task, keyPath, type, props, ref) {
                   contentRootSegment.textEmbedded
                 ),
                 (contentRootSegment.status = 1),
-                queueCompletedSegment(newBoundary, contentRootSegment),
-                0 === newBoundary.pendingTasks && 0 === newBoundary.status)
+                queueCompletedSegment(propName, contentRootSegment),
+                0 === propName.pendingTasks && 0 === propName.status)
               ) {
-                newBoundary.status = 1;
-                0 === request.pendingRootTasks &&
-                  task.blockedPreamble &&
-                  preparePreamble(request);
+                propName.status = 1;
                 break a;
               }
             } catch (thrownValue$28) {
-              (newBoundary.status = 4),
+              (propName.status = 4),
                 12 === request.status
                   ? ((contentRootSegment.status = 3),
                     (newProps = request.fatalError))
@@ -4376,24 +4214,22 @@ function renderElement(request, task, keyPath, type, props, ref) {
                       newProps,
                       defaultProps
                     )),
-                (newBoundary.errorDigest = initialState),
-                untrackBoundary(request, newBoundary);
+                (propName.errorDigest = initialState),
+                untrackBoundary(request, propName);
             } finally {
               (task.blockedBoundary = parentBoundary),
-                (task.blockedPreamble = ref),
                 (task.hoistableState = parentHoistableState),
-                (task.blockedSegment = propName$33),
+                (task.blockedSegment = ref),
                 (task.keyPath = type);
             }
             task = createRenderTask(
               request,
               null,
-              propName,
+              propName$33,
               -1,
               parentBoundary,
               boundarySegment,
-              newBoundary.fallbackPreamble,
-              newBoundary.fallbackState,
+              propName.fallbackState,
               fallbackAbortSet,
               [keyPath[0], "Suspense Fallback", keyPath[2]],
               task.formatContext,
@@ -4412,9 +4248,9 @@ function renderElement(request, task, keyPath, type, props, ref) {
       switch (type.$$typeof) {
         case REACT_FORWARD_REF_TYPE:
           if ("ref" in props)
-            for (newBoundary in ((newProps = {}), props))
-              "ref" !== newBoundary &&
-                (newProps[newBoundary] = props[newBoundary]);
+            for (boundarySegment in ((newProps = {}), props))
+              "ref" !== boundarySegment &&
+                (newProps[boundarySegment] = props[boundarySegment]);
           else newProps = props;
           type = renderWithHooks(
             request,
@@ -4608,27 +4444,17 @@ function retryNode(request, task) {
                         previousReplaySet = task.replay,
                         parentBoundary = task.blockedBoundary,
                         parentHoistableState = task.hoistableState,
-                        content = props.children,
-                        fallback = props.fallback,
-                        fallbackAbortSet = new Set();
-                      props =
-                        2 > task.formatContext.insertionMode
-                          ? createSuspenseBoundary(
-                              request,
-                              fallbackAbortSet,
-                              createPreambleState(),
-                              createPreambleState()
-                            )
-                          : createSuspenseBoundary(
-                              request,
-                              fallbackAbortSet,
-                              null,
-                              null
-                            );
-                      props.parentFlushed = !0;
-                      props.rootSegmentID = ref;
-                      task.blockedBoundary = props;
-                      task.hoistableState = props.contentState;
+                        content = props.children;
+                      props = props.fallback;
+                      var fallbackAbortSet = new Set(),
+                        resumedBoundary = createSuspenseBoundary(
+                          request,
+                          fallbackAbortSet
+                        );
+                      resumedBoundary.parentFlushed = !0;
+                      resumedBoundary.rootSegmentID = ref;
+                      task.blockedBoundary = resumedBoundary;
+                      task.hoistableState = resumedBoundary.contentState;
                       task.keyPath = key;
                       task.replay = {
                         nodes: replay,
@@ -4643,13 +4469,16 @@ function retryNode(request, task) {
                         )
                           throw Error(formatProdErrorMessage(488));
                         task.replay.pendingTasks--;
-                        if (0 === props.pendingTasks && 0 === props.status) {
-                          props.status = 1;
-                          request.completedBoundaries.push(props);
+                        if (
+                          0 === resumedBoundary.pendingTasks &&
+                          0 === resumedBoundary.status
+                        ) {
+                          resumedBoundary.status = 1;
+                          request.completedBoundaries.push(resumedBoundary);
                           break b;
                         }
                       } catch (error) {
-                        (props.status = 4),
+                        (resumedBoundary.status = 4),
                           (childNodes = getThrownInfo(task.componentStack)),
                           "object" === typeof error &&
                           null !== error &&
@@ -4661,9 +4490,11 @@ function retryNode(request, task) {
                                 error,
                                 childNodes
                               )),
-                          (props.errorDigest = type),
+                          (resumedBoundary.errorDigest = type),
                           task.replay.pendingTasks--,
-                          request.clientRenderedBoundaries.push(props);
+                          request.clientRenderedBoundaries.push(
+                            resumedBoundary
+                          );
                       } finally {
                         (task.blockedBoundary = parentBoundary),
                           (task.hoistableState = parentHoistableState),
@@ -4678,10 +4509,10 @@ function retryNode(request, task) {
                           slots: node$jscomp$0,
                           pendingTasks: 0
                         },
-                        fallback,
+                        props,
                         -1,
                         parentBoundary,
-                        props.fallbackState,
+                        resumedBoundary.fallbackState,
                         fallbackAbortSet,
                         [key[0], "Suspense Fallback", key[2]],
                         task.formatContext,
@@ -5009,7 +4840,6 @@ function spawnNewSuspendedRenderTask(request, task, thenableState) {
     task.childIndex,
     task.blockedBoundary,
     newSegment,
-    task.blockedPreamble,
     task.hoistableState,
     task.abortSet,
     task.keyPath,
@@ -5195,12 +5025,7 @@ function abortRemainingReplayNodes(
       node = node[5];
       var request = request$jscomp$0,
         errorDigest = errorDigest$jscomp$0,
-        resumedBoundary = createSuspenseBoundary(
-          request,
-          new Set(),
-          null,
-          null
-        );
+        resumedBoundary = createSuspenseBoundary(request, new Set());
       resumedBoundary.parentFlushed = !0;
       resumedBoundary.rootSegmentID = node;
       resumedBoundary.status = 4;
@@ -5384,7 +5209,6 @@ function safelyEmitEarlyPreloads(request, shellComplete) {
 }
 function completeShell(request) {
   null === request.trackedPostpones && safelyEmitEarlyPreloads(request, !0);
-  null === request.trackedPostpones && preparePreamble(request);
   request.onShellError = noop;
   request = request.onShellReady;
   request();
@@ -5397,7 +5221,6 @@ function completeAll(request) {
       : null === request.completedRootSegment ||
           5 !== request.completedRootSegment.status
   );
-  preparePreamble(request);
   request = request.onAllReady;
   request();
 }
@@ -5436,11 +5259,7 @@ function finishedTask(request, boundary, segment) {
               request.completedBoundaries.push(boundary),
             1 === boundary.status &&
               (boundary.fallbackAbortableTasks.forEach(abortTaskSoft, request),
-              boundary.fallbackAbortableTasks.clear(),
-              0 === request.pendingRootTasks &&
-                null === request.trackedPostpones &&
-                null !== boundary.contentPreamble &&
-                preparePreamble(request)))
+              boundary.fallbackAbortableTasks.clear()))
           : null !== segment &&
             segment.parentFlushed &&
             1 === segment.status &&
@@ -5635,11 +5454,7 @@ function performWork(request$jscomp$1) {
                         (boundary.errorDigest = request$jscomp$0),
                         untrackBoundary(request, boundary),
                         boundary.parentFlushed &&
-                          request.clientRenderedBoundaries.push(boundary),
-                        0 === request.pendingRootTasks &&
-                          null === request.trackedPostpones &&
-                          null !== boundary.contentPreamble &&
-                          preparePreamble(request)));
+                          request.clientRenderedBoundaries.push(boundary)));
                   request.allPendingTasks--;
                   0 === request.allPendingTasks && completeAll(request);
                 }
@@ -5663,82 +5478,6 @@ function performWork(request$jscomp$1) {
     }
   }
 }
-function preparePreambleFromSubtree(
-  request,
-  segment,
-  collectedPreambleSegments
-) {
-  segment.preambleChildren.length &&
-    collectedPreambleSegments.push(segment.preambleChildren);
-  for (var pendingPreambles = !1, i = 0; i < segment.children.length; i++)
-    pendingPreambles =
-      preparePreambleFromSegment(
-        request,
-        segment.children[i],
-        collectedPreambleSegments
-      ) || pendingPreambles;
-  return pendingPreambles;
-}
-function preparePreambleFromSegment(
-  request,
-  segment,
-  collectedPreambleSegments
-) {
-  var boundary = segment.boundary;
-  if (null === boundary)
-    return preparePreambleFromSubtree(
-      request,
-      segment,
-      collectedPreambleSegments
-    );
-  var preamble = boundary.contentPreamble,
-    fallbackPreamble = boundary.fallbackPreamble;
-  if (null === preamble || null === fallbackPreamble) return !1;
-  switch (boundary.status) {
-    case 1:
-      hoistPreambleState(request.renderState, preamble);
-      segment = boundary.completedSegments[0];
-      if (!segment) throw Error(formatProdErrorMessage(391));
-      return preparePreambleFromSubtree(
-        request,
-        segment,
-        collectedPreambleSegments
-      );
-    case 5:
-      if (null !== request.trackedPostpones) return !0;
-    case 4:
-      if (1 === segment.status)
-        return (
-          hoistPreambleState(request.renderState, fallbackPreamble),
-          preparePreambleFromSubtree(
-            request,
-            segment,
-            collectedPreambleSegments
-          )
-        );
-    default:
-      return !0;
-  }
-}
-function preparePreamble(request) {
-  if (
-    request.completedRootSegment &&
-    null === request.completedPreambleSegments
-  ) {
-    var collectedPreambleSegments = [],
-      hasPendingPreambles = preparePreambleFromSegment(
-        request,
-        request.completedRootSegment,
-        collectedPreambleSegments
-      ),
-      preamble = request.renderState.preamble;
-    if (
-      !1 === hasPendingPreambles ||
-      (preamble.headChunks && preamble.bodyChunks)
-    )
-      request.completedPreambleSegments = collectedPreambleSegments;
-  }
-}
 function flushSubtree(request, destination, segment, hoistableState) {
   segment.parentFlushed = !0;
   switch (segment.status) {
@@ -5780,26 +5519,24 @@ function flushSegment(request, destination, segment, hoistableState) {
   if (null === boundary)
     return flushSubtree(request, destination, segment, hoistableState);
   boundary.parentFlushed = !0;
-  if (4 === boundary.status) {
-    if (!request.renderState.generateStaticMarkup) {
-      var errorDigest = boundary.errorDigest;
-      destination.push("\x3c!--$!--\x3e");
-      destination.push("<template");
-      errorDigest &&
-        (destination.push(' data-dgst="'),
-        (errorDigest = escapeTextForBrowser(errorDigest)),
-        destination.push(errorDigest),
-        destination.push('"'));
-      destination.push("></template>");
-    }
-    flushSubtree(request, destination, segment, hoistableState);
-    request.renderState.generateStaticMarkup
-      ? (destination = !0)
-      : ((request = boundary.fallbackPreamble) &&
-          writePreambleContribution(destination, request),
-        (destination = destination.push("\x3c!--/$--\x3e")));
-    return destination;
-  }
+  if (4 === boundary.status)
+    return (
+      request.renderState.generateStaticMarkup ||
+        ((boundary = boundary.errorDigest),
+        destination.push("\x3c!--$!--\x3e"),
+        destination.push("<template"),
+        boundary &&
+          (destination.push(' data-dgst="'),
+          (boundary = escapeTextForBrowser(boundary)),
+          destination.push(boundary),
+          destination.push('"')),
+        destination.push("></template>")),
+      flushSubtree(request, destination, segment, hoistableState),
+      (request = request.renderState.generateStaticMarkup
+        ? !0
+        : destination.push("\x3c!--/$--\x3e")),
+      request
+    );
   if (1 !== boundary.status)
     return (
       0 === boundary.status &&
@@ -5842,12 +5579,10 @@ function flushSegment(request, destination, segment, hoistableState) {
   segment = boundary.completedSegments;
   if (1 !== segment.length) throw Error(formatProdErrorMessage(391));
   flushSegment(request, destination, segment[0], hoistableState);
-  request.renderState.generateStaticMarkup
-    ? (destination = !0)
-    : ((request = boundary.contentPreamble) &&
-        writePreambleContribution(destination, request),
-      (destination = destination.push("\x3c!--/$--\x3e")));
-  return destination;
+  request = request.renderState.generateStaticMarkup
+    ? !0
+    : destination.push("\x3c!--/$--\x3e");
+  return request;
 }
 function flushSegmentContainer(request, destination, segment, hoistableState) {
   writeStartSegment(
@@ -5971,8 +5706,6 @@ function flushCompletedQueues(request, destination) {
         completedRootSegment = request.completedRootSegment;
       if (null !== completedRootSegment) {
         if (5 === completedRootSegment.status) return;
-        var completedPreambleSegments = request.completedPreambleSegments;
-        if (null === completedPreambleSegments) return;
         var renderState = request.renderState;
         if (
           (0 !== request.allPendingTasks ||
@@ -5987,9 +5720,8 @@ function flushCompletedQueues(request, destination) {
             ((resumableState.scriptResources[src] = null),
             renderState.scripts.add(chunks));
         }
-        var preamble = renderState.preamble,
-          htmlChunks = preamble.htmlChunks,
-          headChunks = preamble.headChunks,
+        var htmlChunks = renderState.htmlChunks,
+          headChunks = renderState.headChunks,
           i$jscomp$0;
         if (htmlChunks) {
           for (i$jscomp$0 = 0; i$jscomp$0 < htmlChunks.length; i$jscomp$0++)
@@ -6032,38 +5764,11 @@ function flushCompletedQueues(request, destination) {
         var hoistableChunks = renderState.hoistableChunks;
         for (i$jscomp$0 = 0; i$jscomp$0 < hoistableChunks.length; i$jscomp$0++)
           destination.push(hoistableChunks[i$jscomp$0]);
-        for (
-          renderState = hoistableChunks.length = 0;
-          renderState < completedPreambleSegments.length;
-          renderState++
-        ) {
-          var segments = completedPreambleSegments[renderState];
-          for (
-            _renderState$external = 0;
-            _renderState$external < segments.length;
-            _renderState$external++
-          )
-            flushSegment(
-              request,
-              destination,
-              segments[_renderState$external],
-              null
-            );
-        }
-        var preamble$jscomp$0 = request.renderState.preamble,
-          headChunks$jscomp$0 = preamble$jscomp$0.headChunks;
-        if (preamble$jscomp$0.htmlChunks || headChunks$jscomp$0) {
+        hoistableChunks.length = 0;
+        if (htmlChunks && null === headChunks) {
           var chunk$jscomp$0 = endChunkForTag("head");
           destination.push(chunk$jscomp$0);
         }
-        var bodyChunks = preamble$jscomp$0.bodyChunks;
-        if (bodyChunks)
-          for (
-            completedPreambleSegments = 0;
-            completedPreambleSegments < bodyChunks.length;
-            completedPreambleSegments++
-          )
-            destination.push(bodyChunks[completedPreambleSegments]);
         flushSegment(request, destination, completedRootSegment, null);
         request.completedRootSegment = null;
         writeBootstrap(destination, request.renderState);
@@ -6351,4 +6056,4 @@ exports.renderToString = function (children, options) {
     'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server'
   );
 };
-exports.version = "19.1.0-experimental-d55cc79b-20250228";
+exports.version = "19.1.0-experimental-b3a95caf-20250113";
diff --git a/node_modules/react-dom/cjs/react-dom-server-legacy.node.development.js b/node_modules/react-dom/cjs/react-dom-server-legacy.node.development.js
index dc8ffe8..354a05e 100644
--- a/node_modules/react-dom/cjs/react-dom-server-legacy.node.development.js
+++ b/node_modules/react-dom/cjs/react-dom-server-legacy.node.development.js
@@ -762,14 +762,6 @@
         moduleScriptResources: {}
       };
     }
-    function createPreambleState() {
-      return {
-        htmlChunks: null,
-        headChunks: null,
-        bodyChunks: null,
-        contribution: NoContribution
-      };
-    }
     function createFormatContext(insertionMode, selectedValue, tagScope) {
       return {
         insertionMode: insertionMode,
@@ -829,26 +821,16 @@
             null,
             parentContext.tagScope
           );
-        case "head":
-          if (parentContext.insertionMode < HTML_MODE)
-            return createFormatContext(
-              HTML_HEAD_MODE,
-              null,
-              parentContext.tagScope
-            );
-          break;
-        case "html":
-          if (parentContext.insertionMode === ROOT_HTML_MODE)
-            return createFormatContext(
-              HTML_HTML_MODE,
-              null,
-              parentContext.tagScope
-            );
       }
-      return parentContext.insertionMode >= HTML_TABLE_MODE ||
-        parentContext.insertionMode < HTML_MODE
+      return parentContext.insertionMode >= HTML_TABLE_MODE
         ? createFormatContext(HTML_MODE, null, parentContext.tagScope)
-        : parentContext;
+        : parentContext.insertionMode === ROOT_HTML_MODE
+          ? "html" === type
+            ? createFormatContext(HTML_HTML_MODE, null, parentContext.tagScope)
+            : createFormatContext(HTML_MODE, null, parentContext.tagScope)
+          : parentContext.insertionMode === HTML_HTML_MODE
+            ? createFormatContext(HTML_MODE, null, parentContext.tagScope)
+            : parentContext;
     }
     function pushStyleAttribute(target, style) {
       if ("object" !== typeof style)
@@ -1477,29 +1459,6 @@
       target.push(endChunkForTag("script"));
       return null;
     }
-    function pushStartSingletonElement(target, props, tag) {
-      target.push(startChunkForTag(tag));
-      var innerHTML = (tag = null),
-        propKey;
-      for (propKey in props)
-        if (hasOwnProperty.call(props, propKey)) {
-          var propValue = props[propKey];
-          if (null != propValue)
-            switch (propKey) {
-              case "children":
-                tag = propValue;
-                break;
-              case "dangerouslySetInnerHTML":
-                innerHTML = propValue;
-                break;
-              default:
-                pushAttribute(target, propKey, propValue);
-            }
-        }
-      target.push(endOfStartTag);
-      pushInnerHTML(target, innerHTML, tag);
-      return tag;
-    }
     function pushStartGenericElement(target, props, tag) {
       target.push(startChunkForTag(tag));
       var innerHTML = (tag = null),
@@ -1540,7 +1499,6 @@
       props,
       resumableState,
       renderState,
-      preambleState,
       hoistableState,
       formatContext,
       textEmbedded,
@@ -2635,7 +2593,6 @@
                 header;
               headers &&
               0 < headers.remainingCapacity &&
-              "string" !== typeof props.srcSet &&
               ("high" === props.fetchPriority ||
                 500 > headers.highImagePreloads.length) &&
               ((header = getPreloadAsHeader(src, "image", {
@@ -2696,13 +2653,13 @@
         case "missing-glyph":
           break;
         case "head":
-          if (formatContext.insertionMode < HTML_MODE) {
-            var preamble = preambleState || renderState.preamble;
-            if (preamble.headChunks)
-              throw Error("The `<head>` tag may only be rendered once.");
-            preamble.headChunks = [];
-            var JSCompiler_inline_result$jscomp$9 = pushStartSingletonElement(
-              preamble.headChunks,
+          if (
+            formatContext.insertionMode < HTML_MODE &&
+            null === renderState.headChunks
+          ) {
+            renderState.headChunks = [];
+            var JSCompiler_inline_result$jscomp$9 = pushStartGenericElement(
+              renderState.headChunks,
               props,
               "head"
             );
@@ -2713,42 +2670,24 @@
               "head"
             );
           return JSCompiler_inline_result$jscomp$9;
-        case "body":
-          if (formatContext.insertionMode < HTML_MODE) {
-            var preamble$jscomp$0 = preambleState || renderState.preamble;
-            if (preamble$jscomp$0.bodyChunks)
-              throw Error("The `<body>` tag may only be rendered once.");
-            preamble$jscomp$0.bodyChunks = [];
-            var JSCompiler_inline_result$jscomp$10 = pushStartSingletonElement(
-              preamble$jscomp$0.bodyChunks,
-              props,
-              "body"
-            );
-          } else
-            JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
-              target$jscomp$0,
-              props,
-              "body"
-            );
-          return JSCompiler_inline_result$jscomp$10;
         case "html":
-          if (formatContext.insertionMode === ROOT_HTML_MODE) {
-            var preamble$jscomp$1 = preambleState || renderState.preamble;
-            if (preamble$jscomp$1.htmlChunks)
-              throw Error("The `<html>` tag may only be rendered once.");
-            preamble$jscomp$1.htmlChunks = [doctypeChunk];
-            var JSCompiler_inline_result$jscomp$11 = pushStartSingletonElement(
-              preamble$jscomp$1.htmlChunks,
+          if (
+            formatContext.insertionMode === ROOT_HTML_MODE &&
+            null === renderState.htmlChunks
+          ) {
+            renderState.htmlChunks = [doctypeChunk];
+            var JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
+              renderState.htmlChunks,
               props,
               "html"
             );
           } else
-            JSCompiler_inline_result$jscomp$11 = pushStartGenericElement(
+            JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
               target$jscomp$0,
               props,
               "html"
             );
-          return JSCompiler_inline_result$jscomp$11;
+          return JSCompiler_inline_result$jscomp$10;
         default:
           if (-1 !== type.indexOf("-")) {
             target$jscomp$0.push(startChunkForTag(type));
@@ -2815,21 +2754,6 @@
         ((chunk = "</" + tag + ">"), endTagCache.set(tag, chunk));
       return chunk;
     }
-    function hoistPreambleState(renderState, preambleState) {
-      renderState = renderState.preamble;
-      null === renderState.htmlChunks &&
-        preambleState.htmlChunks &&
-        ((renderState.htmlChunks = preambleState.htmlChunks),
-        (preambleState.contribution |= 1));
-      null === renderState.headChunks &&
-        preambleState.headChunks &&
-        ((renderState.headChunks = preambleState.headChunks),
-        (preambleState.contribution |= 4));
-      null === renderState.bodyChunks &&
-        preambleState.bodyChunks &&
-        ((renderState.bodyChunks = preambleState.bodyChunks),
-        (preambleState.contribution |= 2));
-    }
     function writeBootstrap(destination, renderState) {
       renderState = renderState.bootstrapChunks;
       for (var i = 0; i < renderState.length - 1; i++)
@@ -2849,18 +2773,10 @@
       destination.push(renderState);
       return destination.push(startPendingSuspenseBoundary2);
     }
-    function writePreambleContribution(destination, preambleState) {
-      preambleState = preambleState.contribution;
-      preambleState !== NoContribution &&
-        (destination.push(boundaryPreambleContributionChunkStart),
-        destination.push("" + preambleState),
-        destination.push(boundaryPreambleContributionChunkEnd));
-    }
     function writeStartSegment(destination, renderState, formatContext, id) {
       switch (formatContext.insertionMode) {
         case ROOT_HTML_MODE:
         case HTML_HTML_MODE:
-        case HTML_HEAD_MODE:
         case HTML_MODE:
           return (
             destination.push(startSegmentHTML),
@@ -2925,7 +2841,6 @@
       switch (formatContext.insertionMode) {
         case ROOT_HTML_MODE:
         case HTML_HTML_MODE:
-        case HTML_HEAD_MODE:
         case HTML_MODE:
           return destination.push(endSegmentHTML);
         case SVG_MODE:
@@ -3422,7 +3337,8 @@
         segmentPrefix: idPrefix + "S:",
         boundaryPrefix: idPrefix + "B:",
         startInlineScript: "<script>",
-        preamble: createPreambleState(),
+        htmlChunks: null,
+        headChunks: null,
         externalRuntimeScript: null,
         bootstrapChunks: bootstrapChunks,
         importMapChunks: [],
@@ -3552,7 +3468,8 @@
         segmentPrefix: idPrefix.segmentPrefix,
         boundaryPrefix: idPrefix.boundaryPrefix,
         startInlineScript: idPrefix.startInlineScript,
-        preamble: idPrefix.preamble,
+        htmlChunks: idPrefix.htmlChunks,
+        headChunks: idPrefix.headChunks,
         externalRuntimeScript: idPrefix.externalRuntimeScript,
         bootstrapChunks: idPrefix.bootstrapChunks,
         importMapChunks: idPrefix.importMapChunks,
@@ -4086,12 +4003,6 @@
           index
         );
     }
-    function unsupportedRefresh() {
-      throw Error("Cache cannot be refreshed during server rendering.");
-    }
-    function unsupportedStartGesture() {
-      throw Error("startGesture cannot be called during server rendering.");
-    }
     function noop$1() {}
     function disabledLog() {}
     function disableLogs() {
@@ -4421,7 +4332,7 @@
       this.status = 10;
       this.fatalError = null;
       this.pendingRootTasks = this.allPendingTasks = this.nextSegmentId = 0;
-      this.completedPreambleSegments = this.completedRootSegment = null;
+      this.completedRootSegment = null;
       this.abortableTasks = abortSet;
       this.pingedTasks = [];
       this.clientRenderedBoundaries = [];
@@ -4481,7 +4392,6 @@
         null,
         renderState,
         null,
-        null,
         resumableState.abortableTasks,
         null,
         rootFormatContext,
@@ -4502,12 +4412,7 @@
         ((request.flushScheduled = null !== request.destination),
         performWork(request));
     }
-    function createSuspenseBoundary(
-      request,
-      fallbackAbortableTasks,
-      contentPreamble,
-      fallbackPreamble
-    ) {
+    function createSuspenseBoundary(request, fallbackAbortableTasks) {
       return {
         status: PENDING,
         rootSegmentID: -1,
@@ -4519,8 +4424,6 @@
         errorDigest: null,
         contentState: createHoistableState(),
         fallbackState: createHoistableState(),
-        contentPreamble: contentPreamble,
-        fallbackPreamble: fallbackPreamble,
         trackedContentKeyPath: null,
         trackedFallbackNode: null,
         errorMessage: null,
@@ -4535,7 +4438,6 @@
       childIndex,
       blockedBoundary,
       blockedSegment,
-      blockedPreamble,
       hoistableState,
       abortSet,
       keyPath,
@@ -4560,7 +4462,6 @@
         },
         blockedBoundary: blockedBoundary,
         blockedSegment: blockedSegment,
-        blockedPreamble: blockedPreamble,
         hoistableState: hoistableState,
         abortSet: abortSet,
         keyPath: keyPath,
@@ -4607,7 +4508,6 @@
         },
         blockedBoundary: blockedBoundary,
         blockedSegment: null,
-        blockedPreamble: null,
         hoistableState: hoistableState,
         abortSet: abortSet,
         keyPath: keyPath,
@@ -4632,12 +4532,11 @@
     ) {
       return {
         status: PENDING,
-        parentFlushed: !1,
         id: -1,
         index: index,
+        parentFlushed: !1,
         chunks: [],
         children: [],
-        preambleChildren: [],
         parentFormatContext: parentFormatContext,
         boundary: boundary,
         lastPushedText: lastPushedText,
@@ -5340,7 +5239,6 @@
             props,
             request.resumableState,
             request.renderState,
-            task.blockedPreamble,
             task.hoistableState,
             task.formatContext,
             segment.lastPushedText,
@@ -5349,45 +5247,9 @@
           segment.lastPushedText = !1;
           var _prevContext = task.formatContext,
             _prevKeyPath2 = task.keyPath;
+          task.formatContext = getChildFormatContext(_prevContext, type, props);
           task.keyPath = keyPath;
-          if (
-            (task.formatContext = getChildFormatContext(
-              _prevContext,
-              type,
-              props
-            )).insertionMode === HTML_HEAD_MODE
-          ) {
-            var preambleSegment = createPendingSegment(
-              request,
-              0,
-              null,
-              task.formatContext,
-              !1,
-              !1
-            );
-            segment.preambleChildren.push(preambleSegment);
-            var preambleTask = createRenderTask(
-              request,
-              null,
-              _children,
-              -1,
-              task.blockedBoundary,
-              preambleSegment,
-              task.blockedPreamble,
-              task.hoistableState,
-              request.abortableTasks,
-              task.keyPath,
-              task.formatContext,
-              task.context,
-              task.treeContext,
-              task.componentStack,
-              task.isFallback,
-              emptyContextObject,
-              task.debugTask
-            );
-            pushComponentStack(preambleTask);
-            request.pingedTasks.push(preambleTask);
-          } else renderNode(request, task, _children, -1);
+          renderNode(request, task, _children, -1);
           task.formatContext = _prevContext;
           task.keyPath = _prevKeyPath2;
           a: {
@@ -5424,9 +5286,6 @@
                   resumableState.hasHtml = !0;
                   break a;
                 }
-                break;
-              case "head":
-                if (_prevContext.insertionMode <= HTML_HTML_MODE) break a;
             }
             target.push(endChunkForTag(type));
           }
@@ -5480,26 +5339,12 @@
             } else {
               var prevKeyPath$jscomp$3 = task.keyPath,
                 parentBoundary = task.blockedBoundary,
-                parentPreamble = task.blockedPreamble,
                 parentHoistableState = task.hoistableState,
                 parentSegment = task.blockedSegment,
                 fallback = props.fallback,
                 content = props.children,
-                fallbackAbortSet = new Set();
-              var newBoundary =
-                task.formatContext.insertionMode < HTML_MODE
-                  ? createSuspenseBoundary(
-                      request,
-                      fallbackAbortSet,
-                      createPreambleState(),
-                      createPreambleState()
-                    )
-                  : createSuspenseBoundary(
-                      request,
-                      fallbackAbortSet,
-                      null,
-                      null
-                    );
+                fallbackAbortSet = new Set(),
+                newBoundary = createSuspenseBoundary(request, fallbackAbortSet);
               null !== request.trackedPostpones &&
                 (newBoundary.trackedContentKeyPath = keyPath);
               var boundarySegment = createPendingSegment(
@@ -5539,7 +5384,6 @@
                 );
                 newBoundary.trackedFallbackNode = fallbackReplayNode;
                 task.blockedSegment = boundarySegment;
-                task.blockedPreamble = newBoundary.fallbackPreamble;
                 task.keyPath = fallbackKeyPath;
                 boundarySegment.status = 6;
                 try {
@@ -5558,7 +5402,6 @@
                   );
                 } finally {
                   (task.blockedSegment = parentSegment),
-                    (task.blockedPreamble = parentPreamble),
                     (task.keyPath = prevKeyPath$jscomp$3);
                 }
                 var suspendedPrimaryTask = createRenderTask(
@@ -5568,7 +5411,6 @@
                   -1,
                   newBoundary,
                   contentRootSegment,
-                  newBoundary.contentPreamble,
                   newBoundary.contentState,
                   task.abortSet,
                   keyPath,
@@ -5584,7 +5426,6 @@
                 request.pingedTasks.push(suspendedPrimaryTask);
               } else {
                 task.blockedBoundary = newBoundary;
-                task.blockedPreamble = newBoundary.contentPreamble;
                 task.hoistableState = newBoundary.contentState;
                 task.blockedSegment = contentRootSegment;
                 task.keyPath = keyPath;
@@ -5604,9 +5445,6 @@
                       newBoundary.status === PENDING)
                   ) {
                     newBoundary.status = COMPLETED;
-                    0 === request.pendingRootTasks &&
-                      task.blockedPreamble &&
-                      preparePreamble(request);
                     break a;
                   }
                 } catch (thrownValue$2) {
@@ -5646,7 +5484,6 @@
                   untrackBoundary(request, newBoundary);
                 } finally {
                   (task.blockedBoundary = parentBoundary),
-                    (task.blockedPreamble = parentPreamble),
                     (task.hoistableState = parentHoistableState),
                     (task.blockedSegment = parentSegment),
                     (task.keyPath = prevKeyPath$jscomp$3);
@@ -5658,7 +5495,6 @@
                   -1,
                   parentBoundary,
                   boundarySegment,
-                  newBoundary.fallbackPreamble,
                   newBoundary.fallbackState,
                   fallbackAbortSet,
                   [keyPath[0], "Suspense Fallback", keyPath[2]],
@@ -5897,27 +5733,17 @@
                 previousReplaySet = task.replay,
                 parentBoundary = task.blockedBoundary,
                 parentHoistableState = task.hoistableState,
-                content = props.children,
-                fallback = props.fallback,
-                fallbackAbortSet = new Set();
-              props =
-                task.formatContext.insertionMode < HTML_MODE
-                  ? createSuspenseBoundary(
-                      request,
-                      fallbackAbortSet,
-                      createPreambleState(),
-                      createPreambleState()
-                    )
-                  : createSuspenseBoundary(
-                      request,
-                      fallbackAbortSet,
-                      null,
-                      null
-                    );
-              props.parentFlushed = !0;
-              props.rootSegmentID = type;
-              task.blockedBoundary = props;
-              task.hoistableState = props.contentState;
+                content = props.children;
+              props = props.fallback;
+              var fallbackAbortSet = new Set(),
+                resumedBoundary = createSuspenseBoundary(
+                  request,
+                  fallbackAbortSet
+                );
+              resumedBoundary.parentFlushed = !0;
+              resumedBoundary.rootSegmentID = type;
+              task.blockedBoundary = resumedBoundary;
+              task.hoistableState = resumedBoundary.contentState;
               task.keyPath = keyPath;
               task.replay = { nodes: ref, slots: name, pendingTasks: 1 };
               try {
@@ -5930,13 +5756,16 @@
                     "Couldn't find all resumable slots by key/index during replaying. The tree doesn't match so React will fallback to client rendering."
                   );
                 task.replay.pendingTasks--;
-                if (0 === props.pendingTasks && props.status === PENDING) {
-                  props.status = COMPLETED;
-                  request.completedBoundaries.push(props);
+                if (
+                  0 === resumedBoundary.pendingTasks &&
+                  resumedBoundary.status === PENDING
+                ) {
+                  resumedBoundary.status = COMPLETED;
+                  request.completedBoundaries.push(resumedBoundary);
                   break a;
                 }
               } catch (error) {
-                (props.status = CLIENT_RENDERED),
+                (resumedBoundary.status = CLIENT_RENDERED),
                   (childNodes = getThrownInfo(task.componentStack)),
                   "object" === typeof error &&
                   null !== error &&
@@ -5954,9 +5783,15 @@
                         childNodes,
                         task.debugTask
                       )),
-                  encodeErrorForBoundary(props, replay, error, childNodes, !1),
+                  encodeErrorForBoundary(
+                    resumedBoundary,
+                    replay,
+                    error,
+                    childNodes,
+                    !1
+                  ),
                   task.replay.pendingTasks--,
-                  request.clientRenderedBoundaries.push(props);
+                  request.clientRenderedBoundaries.push(resumedBoundary);
               } finally {
                 (task.blockedBoundary = parentBoundary),
                   (task.hoistableState = parentHoistableState),
@@ -5967,10 +5802,10 @@
                 request,
                 null,
                 { nodes: keyOrIndex, slots: node, pendingTasks: 0 },
-                fallback,
+                props,
                 -1,
                 parentBoundary,
-                props.fallbackState,
+                resumedBoundary.fallbackState,
                 fallbackAbortSet,
                 [keyPath[0], "Suspense Fallback", keyPath[2]],
                 task.formatContext,
@@ -6515,7 +6350,6 @@
         task.childIndex,
         task.blockedBoundary,
         newSegment,
-        task.blockedPreamble,
         task.hoistableState,
         task.abortSet,
         task.keyPath,
@@ -6733,12 +6567,7 @@
             errorDigest = errorDigest$jscomp$0,
             errorInfo = errorInfo$jscomp$0,
             wasAborted = aborted,
-            resumedBoundary = createSuspenseBoundary(
-              request,
-              new Set(),
-              null,
-              null
-            );
+            resumedBoundary = createSuspenseBoundary(request, new Set());
           resumedBoundary.parentFlushed = !0;
           resumedBoundary.rootSegmentID = node;
           resumedBoundary.status = CLIENT_RENDERED;
@@ -6948,7 +6777,6 @@
     }
     function completeShell(request) {
       null === request.trackedPostpones && safelyEmitEarlyPreloads(request, !0);
-      null === request.trackedPostpones && preparePreamble(request);
       request.onShellError = noop;
       request = request.onShellReady;
       request();
@@ -6961,7 +6789,6 @@
           : null === request.completedRootSegment ||
               request.completedRootSegment.status !== POSTPONED
       );
-      preparePreamble(request);
       request = request.onAllReady;
       request();
     }
@@ -7006,11 +6833,7 @@
                     abortTaskSoft,
                     request
                   ),
-                  boundary.fallbackAbortableTasks.clear(),
-                  0 === request.pendingRootTasks &&
-                    null === request.trackedPostpones &&
-                    null !== boundary.contentPreamble &&
-                    preparePreamble(request)))
+                  boundary.fallbackAbortableTasks.clear()))
               : null !== segment &&
                 segment.parentFlushed &&
                 segment.status === COMPLETED &&
@@ -7268,11 +7091,7 @@
                             ),
                             untrackBoundary(request, boundary),
                             boundary.parentFlushed &&
-                              request.clientRenderedBoundaries.push(boundary),
-                            0 === request.pendingRootTasks &&
-                              null === request.trackedPostpones &&
-                              null !== boundary.contentPreamble &&
-                              preparePreamble(request)));
+                              request.clientRenderedBoundaries.push(boundary)));
                       request.allPendingTasks--;
                       0 === request.allPendingTasks && completeAll(request);
                     }
@@ -7302,85 +7121,6 @@
         }
       }
     }
-    function preparePreambleFromSubtree(
-      request,
-      segment,
-      collectedPreambleSegments
-    ) {
-      segment.preambleChildren.length &&
-        collectedPreambleSegments.push(segment.preambleChildren);
-      for (var pendingPreambles = !1, i = 0; i < segment.children.length; i++)
-        pendingPreambles =
-          preparePreambleFromSegment(
-            request,
-            segment.children[i],
-            collectedPreambleSegments
-          ) || pendingPreambles;
-      return pendingPreambles;
-    }
-    function preparePreambleFromSegment(
-      request,
-      segment,
-      collectedPreambleSegments
-    ) {
-      var boundary = segment.boundary;
-      if (null === boundary)
-        return preparePreambleFromSubtree(
-          request,
-          segment,
-          collectedPreambleSegments
-        );
-      var preamble = boundary.contentPreamble,
-        fallbackPreamble = boundary.fallbackPreamble;
-      if (null === preamble || null === fallbackPreamble) return !1;
-      switch (boundary.status) {
-        case COMPLETED:
-          hoistPreambleState(request.renderState, preamble);
-          segment = boundary.completedSegments[0];
-          if (!segment)
-            throw Error(
-              "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
-            );
-          return preparePreambleFromSubtree(
-            request,
-            segment,
-            collectedPreambleSegments
-          );
-        case POSTPONED:
-          if (null !== request.trackedPostpones) return !0;
-        case CLIENT_RENDERED:
-          if (segment.status === COMPLETED)
-            return (
-              hoistPreambleState(request.renderState, fallbackPreamble),
-              preparePreambleFromSubtree(
-                request,
-                segment,
-                collectedPreambleSegments
-              )
-            );
-        default:
-          return !0;
-      }
-    }
-    function preparePreamble(request) {
-      if (
-        request.completedRootSegment &&
-        null === request.completedPreambleSegments
-      ) {
-        var collectedPreambleSegments = [],
-          hasPendingPreambles = preparePreambleFromSegment(
-            request,
-            request.completedRootSegment,
-            collectedPreambleSegments
-          ),
-          preamble = request.renderState.preamble;
-        if (
-          !1 === hasPendingPreambles ||
-          (preamble.headChunks && preamble.bodyChunks)
-        )
-          request.completedPreambleSegments = collectedPreambleSegments;
-      }
-    }
     function flushSubtree(request, destination, segment, hoistableState) {
       segment.parentFlushed = !0;
       switch (segment.status) {
@@ -7428,8 +7168,8 @@
         if (!request.renderState.generateStaticMarkup) {
           var errorDigest = boundary.errorDigest,
             errorMessage = boundary.errorMessage,
-            errorStack = boundary.errorStack,
-            errorComponentStack = boundary.errorComponentStack;
+            errorStack = boundary.errorStack;
+          boundary = boundary.errorComponentStack;
           destination.push(startClientRenderedSuspenseBoundary);
           destination.push(clientRenderedSuspenseBoundaryError1);
           errorDigest &&
@@ -7453,22 +7193,20 @@
             destination.push(
               clientRenderedSuspenseBoundaryErrorAttrInterstitial
             ));
-          errorComponentStack &&
+          boundary &&
             (destination.push(clientRenderedSuspenseBoundaryError1D),
-            (errorComponentStack = escapeTextForBrowser(errorComponentStack)),
-            destination.push(errorComponentStack),
+            (errorStack = escapeTextForBrowser(boundary)),
+            destination.push(errorStack),
             destination.push(
               clientRenderedSuspenseBoundaryErrorAttrInterstitial
             ));
           destination.push(clientRenderedSuspenseBoundaryError2);
         }
         flushSubtree(request, destination, segment, hoistableState);
-        request.renderState.generateStaticMarkup
-          ? (destination = !0)
-          : ((request = boundary.fallbackPreamble) &&
-              writePreambleContribution(destination, request),
-            (destination = destination.push(endSuspenseBoundary)));
-        return destination;
+        request = request.renderState.generateStaticMarkup
+          ? !0
+          : destination.push(endSuspenseBoundary);
+        return request;
       }
       if (boundary.status !== COMPLETED)
         return (
@@ -7482,9 +7220,12 @@
             boundary.rootSegmentID
           ),
           hoistableState &&
-            ((boundary = boundary.fallbackState),
-            boundary.styles.forEach(hoistStyleQueueDependency, hoistableState),
-            boundary.stylesheets.forEach(
+            ((errorStack = boundary.fallbackState),
+            errorStack.styles.forEach(
+              hoistStyleQueueDependency,
+              hoistableState
+            ),
+            errorStack.stylesheets.forEach(
               hoistStylesheetDependency,
               hoistableState
             )),
@@ -7515,12 +7256,10 @@
           "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
         );
       flushSegment(request, destination, segment[0], hoistableState);
-      request.renderState.generateStaticMarkup
-        ? (destination = !0)
-        : ((request = boundary.contentPreamble) &&
-            writePreambleContribution(destination, request),
-          (destination = destination.push(endSuspenseBoundary)));
-      return destination;
+      request = request.renderState.generateStaticMarkup
+        ? !0
+        : destination.push(endSuspenseBoundary);
+      return request;
     }
     function flushSegmentContainer(
       request,
@@ -7671,8 +7410,6 @@
             completedRootSegment = request.completedRootSegment;
           if (null !== completedRootSegment) {
             if (completedRootSegment.status === POSTPONED) return;
-            var completedPreambleSegments = request.completedPreambleSegments;
-            if (null === completedPreambleSegments) return;
             var renderState = request.renderState;
             if (
               (0 !== request.allPendingTasks ||
@@ -7687,9 +7424,8 @@
                 ((resumableState.scriptResources[src] = EXISTS),
                 renderState.scripts.add(chunks));
             }
-            var preamble = renderState.preamble,
-              htmlChunks = preamble.htmlChunks,
-              headChunks = preamble.headChunks,
+            var htmlChunks = renderState.htmlChunks,
+              headChunks = renderState.headChunks,
               i$jscomp$0;
             if (htmlChunks) {
               for (i$jscomp$0 = 0; i$jscomp$0 < htmlChunks.length; i$jscomp$0++)
@@ -7752,38 +7488,11 @@
               i$jscomp$0++
             )
               destination.push(hoistableChunks[i$jscomp$0]);
-            for (
-              renderState = hoistableChunks.length = 0;
-              renderState < completedPreambleSegments.length;
-              renderState++
-            ) {
-              var segments = completedPreambleSegments[renderState];
-              for (
-                _renderState$external = 0;
-                _renderState$external < segments.length;
-                _renderState$external++
-              )
-                flushSegment(
-                  request,
-                  destination,
-                  segments[_renderState$external],
-                  null
-                );
-            }
-            var preamble$jscomp$0 = request.renderState.preamble,
-              headChunks$jscomp$0 = preamble$jscomp$0.headChunks;
-            if (preamble$jscomp$0.htmlChunks || headChunks$jscomp$0) {
+            hoistableChunks.length = 0;
+            if (htmlChunks && null === headChunks) {
               var chunk$jscomp$0 = endChunkForTag("head");
               destination.push(chunk$jscomp$0);
             }
-            var bodyChunks = preamble$jscomp$0.bodyChunks;
-            if (bodyChunks)
-              for (
-                completedPreambleSegments = 0;
-                completedPreambleSegments < bodyChunks.length;
-                completedPreambleSegments++
-              )
-                destination.push(bodyChunks[completedPreambleSegments]);
             flushSegment(request, destination, completedRootSegment, null);
             request.completedRootSegment = null;
             writeBootstrap(destination, request.renderState);
@@ -8149,7 +7858,6 @@
       REACT_SCOPE_TYPE = Symbol.for("react.scope"),
       REACT_OFFSCREEN_TYPE = Symbol.for("react.offscreen"),
       REACT_LEGACY_HIDDEN_TYPE = Symbol.for("react.legacy_hidden"),
-      REACT_MEMO_CACHE_SENTINEL = Symbol.for("react.memo_cache_sentinel"),
       REACT_POSTPONE_TYPE = Symbol.for("react.postpone"),
       REACT_VIEW_TRANSITION_TYPE = Symbol.for("react.view_transition"),
       MAYBE_ITERATOR_SYMBOL = Symbol.iterator,
@@ -8957,7 +8665,6 @@
                 var header;
                 resumableState &&
                 0 < resumableState.remainingCapacity &&
-                "string" !== typeof imageSrcSet &&
                 "high" === fetchPriority &&
                 ((header = getPreloadAsHeader(href, as, options)),
                 0 <= (resumableState.remainingCapacity -= header.length + 2))
@@ -9207,17 +8914,15 @@
     Object.freeze(PRELOAD_NO_CREDS);
     var scriptRegex = /(<\/|<)(s)(cript)/gi;
     var didWarnForNewBooleanPropsWithEmptyValue = {};
-    var NoContribution = 0,
-      ROOT_HTML_MODE = 0,
+    var ROOT_HTML_MODE = 0,
       HTML_HTML_MODE = 1,
       HTML_MODE = 2,
-      HTML_HEAD_MODE = 3,
-      SVG_MODE = 4,
-      MATHML_MODE = 5,
-      HTML_TABLE_MODE = 6,
-      HTML_TABLE_BODY_MODE = 7,
-      HTML_TABLE_ROW_MODE = 8,
-      HTML_COLGROUP_MODE = 9,
+      SVG_MODE = 3,
+      MATHML_MODE = 4,
+      HTML_TABLE_MODE = 5,
+      HTML_TABLE_BODY_MODE = 6,
+      HTML_TABLE_ROW_MODE = 7,
+      HTML_COLGROUP_MODE = 8,
       styleNameCache = new Map(),
       styleAttributeStart = ' style="',
       styleAssign = ":",
@@ -9263,8 +8968,6 @@
       clientRenderedSuspenseBoundaryError1C = ' data-stck="',
       clientRenderedSuspenseBoundaryError1D = ' data-cstck="',
       clientRenderedSuspenseBoundaryError2 = "></template>",
-      boundaryPreambleContributionChunkStart = "\x3c!--",
-      boundaryPreambleContributionChunkEnd = "--\x3e",
       startSegmentHTML = '<div hidden id="',
       startSegmentHTML2 = '">',
       endSegmentHTML = "</div>",
@@ -9481,9 +9184,9 @@
               "Invalid hook call. Hooks can only be called inside of the body of a function component."
             );
           overflow = localIdCounter++;
-          treeId = "\u00ab" + resumableState.idPrefix + "R" + treeId;
+          treeId = ":" + resumableState.idPrefix + "R" + treeId;
           0 < overflow && (treeId += "H" + overflow.toString(32));
-          return treeId + "\u00bb";
+          return treeId + ":";
         },
         useSyncExternalStore: function (
           subscribe,
@@ -9506,20 +9209,8 @@
           resolveCurrentlyRenderingComponent();
           return NotPending;
         },
-        useMemoCache: function (size) {
-          for (var data = Array(size), i = 0; i < size; i++)
-            data[i] = REACT_MEMO_CACHE_SENTINEL;
-          return data;
-        },
-        useCacheRefresh: function () {
-          return unsupportedRefresh;
-        },
         useEffectEvent: function () {
           return throwOnUseEffectEventCall;
-        },
-        useSwipeTransition: function (previous, current) {
-          resolveCurrentlyRenderingComponent();
-          return [current, unsupportedStartGesture];
         }
       },
       currentResumableState = null,
@@ -9600,5 +9291,5 @@
         'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToPipeableStream" which supports Suspense on the server'
       );
     };
-    exports.version = "19.1.0-experimental-d55cc79b-20250228";
+    exports.version = "19.1.0-experimental-b3a95caf-20250113";
   })();
diff --git a/node_modules/react-dom/cjs/react-dom-server-legacy.node.production.js b/node_modules/react-dom/cjs/react-dom-server-legacy.node.production.js
index 8ee3ad1..4e86876 100644
--- a/node_modules/react-dom/cjs/react-dom-server-legacy.node.production.js
+++ b/node_modules/react-dom/cjs/react-dom-server-legacy.node.production.js
@@ -51,7 +51,6 @@ var React = require("react"),
   REACT_SCOPE_TYPE = Symbol.for("react.scope"),
   REACT_OFFSCREEN_TYPE = Symbol.for("react.offscreen"),
   REACT_LEGACY_HIDDEN_TYPE = Symbol.for("react.legacy_hidden"),
-  REACT_MEMO_CACHE_SENTINEL = Symbol.for("react.memo_cache_sentinel"),
   REACT_POSTPONE_TYPE = Symbol.for("react.postpone"),
   REACT_VIEW_TRANSITION_TYPE = Symbol.for("react.view_transition"),
   MAYBE_ITERATOR_SYMBOL = Symbol.iterator,
@@ -318,14 +317,6 @@ function createResumableState(
     moduleScriptResources: {}
   };
 }
-function createPreambleState() {
-  return {
-    htmlChunks: null,
-    headChunks: null,
-    bodyChunks: null,
-    contribution: 0
-  };
-}
 function createFormatContext(insertionMode, selectedValue, tagScope) {
   return {
     insertionMode: insertionMode,
@@ -344,34 +335,33 @@ function getChildFormatContext(parentContext, type, props) {
         parentContext.tagScope
       );
     case "svg":
-      return createFormatContext(4, null, parentContext.tagScope);
+      return createFormatContext(3, null, parentContext.tagScope);
     case "picture":
       return createFormatContext(2, null, parentContext.tagScope | 2);
     case "math":
-      return createFormatContext(5, null, parentContext.tagScope);
+      return createFormatContext(4, null, parentContext.tagScope);
     case "foreignObject":
       return createFormatContext(2, null, parentContext.tagScope);
     case "table":
-      return createFormatContext(6, null, parentContext.tagScope);
+      return createFormatContext(5, null, parentContext.tagScope);
     case "thead":
     case "tbody":
     case "tfoot":
-      return createFormatContext(7, null, parentContext.tagScope);
+      return createFormatContext(6, null, parentContext.tagScope);
     case "colgroup":
-      return createFormatContext(9, null, parentContext.tagScope);
-    case "tr":
       return createFormatContext(8, null, parentContext.tagScope);
-    case "head":
-      if (2 > parentContext.insertionMode)
-        return createFormatContext(3, null, parentContext.tagScope);
-      break;
-    case "html":
-      if (0 === parentContext.insertionMode)
-        return createFormatContext(1, null, parentContext.tagScope);
+    case "tr":
+      return createFormatContext(7, null, parentContext.tagScope);
   }
-  return 6 <= parentContext.insertionMode || 2 > parentContext.insertionMode
+  return 5 <= parentContext.insertionMode
     ? createFormatContext(2, null, parentContext.tagScope)
-    : parentContext;
+    : 0 === parentContext.insertionMode
+      ? "html" === type
+        ? createFormatContext(1, null, parentContext.tagScope)
+        : createFormatContext(2, null, parentContext.tagScope)
+      : 1 === parentContext.insertionMode
+        ? createFormatContext(2, null, parentContext.tagScope)
+        : parentContext;
 }
 var styleNameCache = new Map();
 function pushStyleAttribute(target, style) {
@@ -796,29 +786,6 @@ function pushScriptImpl(target, props) {
   target.push(endChunkForTag("script"));
   return null;
 }
-function pushStartSingletonElement(target, props, tag) {
-  target.push(startChunkForTag(tag));
-  var innerHTML = (tag = null),
-    propKey;
-  for (propKey in props)
-    if (hasOwnProperty.call(props, propKey)) {
-      var propValue = props[propKey];
-      if (null != propValue)
-        switch (propKey) {
-          case "children":
-            tag = propValue;
-            break;
-          case "dangerouslySetInnerHTML":
-            innerHTML = propValue;
-            break;
-          default:
-            pushAttribute(target, propKey, propValue);
-        }
-    }
-  target.push(">");
-  pushInnerHTML(target, innerHTML, tag);
-  return tag;
-}
 function pushStartGenericElement(target, props, tag) {
   target.push(startChunkForTag(tag));
   var innerHTML = (tag = null),
@@ -861,7 +828,6 @@ function pushStartInstance(
   props,
   resumableState,
   renderState,
-  preambleState,
   hoistableState,
   formatContext,
   textEmbedded,
@@ -1341,7 +1307,7 @@ function pushStartInstance(
       return JSCompiler_inline_result$jscomp$2;
     case "title":
       if (
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp
       )
@@ -1360,7 +1326,7 @@ function pushStartInstance(
         href = props.href,
         precedence = props.precedence;
       if (
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp ||
         "string" !== typeof rel ||
@@ -1442,7 +1408,7 @@ function pushStartInstance(
         "symbol" === typeof asyncProp ||
         props.onLoad ||
         props.onError ||
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp
       )
@@ -1483,7 +1449,7 @@ function pushStartInstance(
       var precedence$jscomp$0 = props.precedence,
         href$jscomp$0 = props.href;
       if (
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp ||
         "string" !== typeof precedence$jscomp$0 ||
@@ -1586,7 +1552,7 @@ function pushStartInstance(
       return JSCompiler_inline_result$jscomp$6;
     case "meta":
       if (
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp
       )
@@ -1705,7 +1671,6 @@ function pushStartInstance(
             header;
           headers &&
           0 < headers.remainingCapacity &&
-          "string" !== typeof props.srcSet &&
           ("high" === props.fetchPriority ||
             500 > headers.highImagePreloads.length) &&
           ((header = getPreloadAsHeader(src, "image", {
@@ -1765,13 +1730,10 @@ function pushStartInstance(
     case "missing-glyph":
       break;
     case "head":
-      if (2 > formatContext.insertionMode) {
-        var preamble = preambleState || renderState.preamble;
-        if (preamble.headChunks)
-          throw Error("The `<head>` tag may only be rendered once.");
-        preamble.headChunks = [];
-        var JSCompiler_inline_result$jscomp$9 = pushStartSingletonElement(
-          preamble.headChunks,
+      if (2 > formatContext.insertionMode && null === renderState.headChunks) {
+        renderState.headChunks = [];
+        var JSCompiler_inline_result$jscomp$9 = pushStartGenericElement(
+          renderState.headChunks,
           props,
           "head"
         );
@@ -1782,42 +1744,24 @@ function pushStartInstance(
           "head"
         );
       return JSCompiler_inline_result$jscomp$9;
-    case "body":
-      if (2 > formatContext.insertionMode) {
-        var preamble$jscomp$0 = preambleState || renderState.preamble;
-        if (preamble$jscomp$0.bodyChunks)
-          throw Error("The `<body>` tag may only be rendered once.");
-        preamble$jscomp$0.bodyChunks = [];
-        var JSCompiler_inline_result$jscomp$10 = pushStartSingletonElement(
-          preamble$jscomp$0.bodyChunks,
-          props,
-          "body"
-        );
-      } else
-        JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
-          target$jscomp$0,
-          props,
-          "body"
-        );
-      return JSCompiler_inline_result$jscomp$10;
     case "html":
-      if (0 === formatContext.insertionMode) {
-        var preamble$jscomp$1 = preambleState || renderState.preamble;
-        if (preamble$jscomp$1.htmlChunks)
-          throw Error("The `<html>` tag may only be rendered once.");
-        preamble$jscomp$1.htmlChunks = [""];
-        var JSCompiler_inline_result$jscomp$11 = pushStartSingletonElement(
-          preamble$jscomp$1.htmlChunks,
+      if (
+        0 === formatContext.insertionMode &&
+        null === renderState.htmlChunks
+      ) {
+        renderState.htmlChunks = [""];
+        var JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
+          renderState.htmlChunks,
           props,
           "html"
         );
       } else
-        JSCompiler_inline_result$jscomp$11 = pushStartGenericElement(
+        JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
           target$jscomp$0,
           props,
           "html"
         );
-      return JSCompiler_inline_result$jscomp$11;
+      return JSCompiler_inline_result$jscomp$10;
     default:
       if (-1 !== type.indexOf("-")) {
         target$jscomp$0.push(startChunkForTag(type));
@@ -1878,21 +1822,6 @@ function endChunkForTag(tag) {
   void 0 === chunk && ((chunk = "</" + tag + ">"), endTagCache.set(tag, chunk));
   return chunk;
 }
-function hoistPreambleState(renderState, preambleState) {
-  renderState = renderState.preamble;
-  null === renderState.htmlChunks &&
-    preambleState.htmlChunks &&
-    ((renderState.htmlChunks = preambleState.htmlChunks),
-    (preambleState.contribution |= 1));
-  null === renderState.headChunks &&
-    preambleState.headChunks &&
-    ((renderState.headChunks = preambleState.headChunks),
-    (preambleState.contribution |= 4));
-  null === renderState.bodyChunks &&
-    preambleState.bodyChunks &&
-    ((renderState.bodyChunks = preambleState.bodyChunks),
-    (preambleState.contribution |= 2));
-}
 function writeBootstrap(destination, renderState) {
   renderState = renderState.bootstrapChunks;
   for (var i = 0; i < renderState.length - 1; i++)
@@ -1912,18 +1841,10 @@ function writeStartPendingSuspenseBoundary(destination, renderState, id) {
   destination.push(renderState);
   return destination.push('"></template>');
 }
-function writePreambleContribution(destination, preambleState) {
-  preambleState = preambleState.contribution;
-  0 !== preambleState &&
-    (destination.push("\x3c!--"),
-    destination.push("" + preambleState),
-    destination.push("--\x3e"));
-}
 function writeStartSegment(destination, renderState, formatContext, id) {
   switch (formatContext.insertionMode) {
     case 0:
     case 1:
-    case 3:
     case 2:
       return (
         destination.push('<div hidden id="'),
@@ -1932,7 +1853,7 @@ function writeStartSegment(destination, renderState, formatContext, id) {
         destination.push(renderState),
         destination.push('">')
       );
-    case 4:
+    case 3:
       return (
         destination.push('<svg aria-hidden="true" style="display:none" id="'),
         destination.push(renderState.segmentPrefix),
@@ -1940,7 +1861,7 @@ function writeStartSegment(destination, renderState, formatContext, id) {
         destination.push(renderState),
         destination.push('">')
       );
-    case 5:
+    case 4:
       return (
         destination.push('<math aria-hidden="true" style="display:none" id="'),
         destination.push(renderState.segmentPrefix),
@@ -1948,7 +1869,7 @@ function writeStartSegment(destination, renderState, formatContext, id) {
         destination.push(renderState),
         destination.push('">')
       );
-    case 6:
+    case 5:
       return (
         destination.push('<table hidden id="'),
         destination.push(renderState.segmentPrefix),
@@ -1956,7 +1877,7 @@ function writeStartSegment(destination, renderState, formatContext, id) {
         destination.push(renderState),
         destination.push('">')
       );
-    case 7:
+    case 6:
       return (
         destination.push('<table hidden><tbody id="'),
         destination.push(renderState.segmentPrefix),
@@ -1964,7 +1885,7 @@ function writeStartSegment(destination, renderState, formatContext, id) {
         destination.push(renderState),
         destination.push('">')
       );
-    case 8:
+    case 7:
       return (
         destination.push('<table hidden><tr id="'),
         destination.push(renderState.segmentPrefix),
@@ -1972,7 +1893,7 @@ function writeStartSegment(destination, renderState, formatContext, id) {
         destination.push(renderState),
         destination.push('">')
       );
-    case 9:
+    case 8:
       return (
         destination.push('<table hidden><colgroup id="'),
         destination.push(renderState.segmentPrefix),
@@ -1988,20 +1909,19 @@ function writeEndSegment(destination, formatContext) {
   switch (formatContext.insertionMode) {
     case 0:
     case 1:
-    case 3:
     case 2:
       return destination.push("</div>");
-    case 4:
+    case 3:
       return destination.push("</svg>");
-    case 5:
+    case 4:
       return destination.push("</math>");
-    case 6:
+    case 5:
       return destination.push("</table>");
-    case 7:
+    case 6:
       return destination.push("</tbody></table>");
-    case 8:
+    case 7:
       return destination.push("</tr></table>");
-    case 9:
+    case 8:
       return destination.push("</colgroup></table>");
     default:
       throw Error("Unknown insertion mode. This is a bug in React.");
@@ -2464,7 +2384,6 @@ function preload(href, as, options) {
           var header;
           resumableState &&
           0 < resumableState.remainingCapacity &&
-          "string" !== typeof imageSrcSet &&
           "high" === fetchPriority &&
           ((header = getPreloadAsHeader(href, as, options)),
           0 <= (resumableState.remainingCapacity -= header.length + 2))
@@ -2769,17 +2688,16 @@ function createRenderState(resumableState, generateStaticMarkup) {
       "\x3c/script>"
     );
   bootstrapScriptContent = idPrefix + "P:";
-  var JSCompiler_object_inline_segmentPrefix_1704 = idPrefix + "S:";
+  var JSCompiler_object_inline_segmentPrefix_1641 = idPrefix + "S:";
   idPrefix += "B:";
-  var JSCompiler_object_inline_preamble_1707 = createPreambleState(),
-    JSCompiler_object_inline_preconnects_1717 = new Set(),
-    JSCompiler_object_inline_fontPreloads_1718 = new Set(),
-    JSCompiler_object_inline_highImagePreloads_1719 = new Set(),
-    JSCompiler_object_inline_styles_1720 = new Map(),
-    JSCompiler_object_inline_bootstrapScripts_1721 = new Set(),
-    JSCompiler_object_inline_scripts_1722 = new Set(),
-    JSCompiler_object_inline_bulkPreloads_1723 = new Set(),
-    JSCompiler_object_inline_preloads_1724 = {
+  var JSCompiler_object_inline_preconnects_1655 = new Set(),
+    JSCompiler_object_inline_fontPreloads_1656 = new Set(),
+    JSCompiler_object_inline_highImagePreloads_1657 = new Set(),
+    JSCompiler_object_inline_styles_1658 = new Map(),
+    JSCompiler_object_inline_bootstrapScripts_1659 = new Set(),
+    JSCompiler_object_inline_scripts_1660 = new Set(),
+    JSCompiler_object_inline_bulkPreloads_1661 = new Set(),
+    JSCompiler_object_inline_preloads_1662 = {
       images: new Map(),
       stylesheets: new Map(),
       scripts: new Map(),
@@ -2816,7 +2734,7 @@ function createRenderState(resumableState, generateStaticMarkup) {
       scriptConfig.moduleScriptResources[href] = null;
       scriptConfig = [];
       pushLinkImpl(scriptConfig, props);
-      JSCompiler_object_inline_bootstrapScripts_1721.add(scriptConfig);
+      JSCompiler_object_inline_bootstrapScripts_1659.add(scriptConfig);
       bootstrapChunks.push('<script src="', escapeTextForBrowser(src));
       "string" === typeof integrity &&
         bootstrapChunks.push('" integrity="', escapeTextForBrowser(integrity));
@@ -2857,7 +2775,7 @@ function createRenderState(resumableState, generateStaticMarkup) {
         (props.moduleScriptResources[scriptConfig] = null),
         (props = []),
         pushLinkImpl(props, integrity),
-        JSCompiler_object_inline_bootstrapScripts_1721.add(props),
+        JSCompiler_object_inline_bootstrapScripts_1659.add(props),
         bootstrapChunks.push(
           '<script type="module" src="',
           escapeTextForBrowser(i)
@@ -2872,10 +2790,11 @@ function createRenderState(resumableState, generateStaticMarkup) {
         bootstrapChunks.push('" async="">\x3c/script>');
   return {
     placeholderPrefix: bootstrapScriptContent,
-    segmentPrefix: JSCompiler_object_inline_segmentPrefix_1704,
+    segmentPrefix: JSCompiler_object_inline_segmentPrefix_1641,
     boundaryPrefix: idPrefix,
     startInlineScript: "<script>",
-    preamble: JSCompiler_object_inline_preamble_1707,
+    htmlChunks: null,
+    headChunks: null,
     externalRuntimeScript: null,
     bootstrapChunks: bootstrapChunks,
     importMapChunks: [],
@@ -2891,14 +2810,14 @@ function createRenderState(resumableState, generateStaticMarkup) {
     charsetChunks: [],
     viewportChunks: [],
     hoistableChunks: [],
-    preconnects: JSCompiler_object_inline_preconnects_1717,
-    fontPreloads: JSCompiler_object_inline_fontPreloads_1718,
-    highImagePreloads: JSCompiler_object_inline_highImagePreloads_1719,
-    styles: JSCompiler_object_inline_styles_1720,
-    bootstrapScripts: JSCompiler_object_inline_bootstrapScripts_1721,
-    scripts: JSCompiler_object_inline_scripts_1722,
-    bulkPreloads: JSCompiler_object_inline_bulkPreloads_1723,
-    preloads: JSCompiler_object_inline_preloads_1724,
+    preconnects: JSCompiler_object_inline_preconnects_1655,
+    fontPreloads: JSCompiler_object_inline_fontPreloads_1656,
+    highImagePreloads: JSCompiler_object_inline_highImagePreloads_1657,
+    styles: JSCompiler_object_inline_styles_1658,
+    bootstrapScripts: JSCompiler_object_inline_bootstrapScripts_1659,
+    scripts: JSCompiler_object_inline_scripts_1660,
+    bulkPreloads: JSCompiler_object_inline_bulkPreloads_1661,
+    preloads: JSCompiler_object_inline_preloads_1662,
     stylesToHoist: !1,
     generateStaticMarkup: generateStaticMarkup
   };
@@ -3372,12 +3291,6 @@ function readPreviousThenableFromState() {
       index
     );
 }
-function unsupportedRefresh() {
-  throw Error("Cache cannot be refreshed during server rendering.");
-}
-function unsupportedStartGesture() {
-  throw Error("startGesture cannot be called during server rendering.");
-}
 function noop$1() {}
 var HooksDispatcher = {
     readContext: function (context) {
@@ -3443,9 +3356,9 @@ var HooksDispatcher = {
         );
       overflow = localIdCounter++;
       JSCompiler_inline_result =
-        "\u00ab" + resumableState.idPrefix + "R" + JSCompiler_inline_result;
+        ":" + resumableState.idPrefix + "R" + JSCompiler_inline_result;
       0 < overflow && (JSCompiler_inline_result += "H" + overflow.toString(32));
-      return JSCompiler_inline_result + "\u00bb";
+      return JSCompiler_inline_result + ":";
     },
     useSyncExternalStore: function (subscribe, getSnapshot, getServerSnapshot) {
       if (void 0 === getServerSnapshot)
@@ -3464,20 +3377,8 @@ var HooksDispatcher = {
       resolveCurrentlyRenderingComponent();
       return sharedNotPendingObject;
     },
-    useMemoCache: function (size) {
-      for (var data = Array(size), i = 0; i < size; i++)
-        data[i] = REACT_MEMO_CACHE_SENTINEL;
-      return data;
-    },
-    useCacheRefresh: function () {
-      return unsupportedRefresh;
-    },
     useEffectEvent: function () {
       return throwOnUseEffectEventCall;
-    },
-    useSwipeTransition: function (previous, current) {
-      resolveCurrentlyRenderingComponent();
-      return [current, unsupportedStartGesture];
     }
   },
   currentResumableState = null,
@@ -3726,7 +3627,7 @@ function RequestInstance(
   this.status = 10;
   this.fatalError = null;
   this.pendingRootTasks = this.allPendingTasks = this.nextSegmentId = 0;
-  this.completedPreambleSegments = this.completedRootSegment = null;
+  this.completedRootSegment = null;
   this.abortableTasks = abortSet;
   this.pingedTasks = [];
   this.clientRenderedBoundaries = [];
@@ -3785,7 +3686,6 @@ function createRequest(
     null,
     renderState,
     null,
-    null,
     resumableState.abortableTasks,
     null,
     rootFormatContext,
@@ -3805,12 +3705,7 @@ function pingTask(request, task) {
     ((request.flushScheduled = null !== request.destination),
     performWork(request));
 }
-function createSuspenseBoundary(
-  request,
-  fallbackAbortableTasks,
-  contentPreamble,
-  fallbackPreamble
-) {
+function createSuspenseBoundary(request, fallbackAbortableTasks) {
   return {
     status: 0,
     rootSegmentID: -1,
@@ -3822,8 +3717,6 @@ function createSuspenseBoundary(
     errorDigest: null,
     contentState: createHoistableState(),
     fallbackState: createHoistableState(),
-    contentPreamble: contentPreamble,
-    fallbackPreamble: fallbackPreamble,
     trackedContentKeyPath: null,
     trackedFallbackNode: null
   };
@@ -3835,7 +3728,6 @@ function createRenderTask(
   childIndex,
   blockedBoundary,
   blockedSegment,
-  blockedPreamble,
   hoistableState,
   abortSet,
   keyPath,
@@ -3858,7 +3750,6 @@ function createRenderTask(
     },
     blockedBoundary: blockedBoundary,
     blockedSegment: blockedSegment,
-    blockedPreamble: blockedPreamble,
     hoistableState: hoistableState,
     abortSet: abortSet,
     keyPath: keyPath,
@@ -3902,7 +3793,6 @@ function createReplayTask(
     },
     blockedBoundary: blockedBoundary,
     blockedSegment: null,
-    blockedPreamble: null,
     hoistableState: hoistableState,
     abortSet: abortSet,
     keyPath: keyPath,
@@ -3926,12 +3816,11 @@ function createPendingSegment(
 ) {
   return {
     status: 0,
-    parentFlushed: !1,
     id: -1,
     index: index,
+    parentFlushed: !1,
     chunks: [],
     children: [],
-    preambleChildren: [],
     parentFormatContext: parentFormatContext,
     boundary: boundary,
     lastPushedText: lastPushedText,
@@ -4163,13 +4052,12 @@ function renderElement(request, task, keyPath, type, props, ref) {
         (task.formatContext = defaultProps),
         (task.keyPath = initialState);
     else {
-      ref = pushStartInstance(
+      initialState = pushStartInstance(
         newProps.chunks,
         type,
         props,
         request.resumableState,
         request.renderState,
-        task.blockedPreamble,
         task.hoistableState,
         task.formatContext,
         newProps.lastPushedText,
@@ -4177,42 +4065,12 @@ function renderElement(request, task, keyPath, type, props, ref) {
       );
       newProps.lastPushedText = !1;
       defaultProps = task.formatContext;
-      initialState = task.keyPath;
+      ref = task.keyPath;
+      task.formatContext = getChildFormatContext(defaultProps, type, props);
       task.keyPath = keyPath;
-      3 ===
-      (task.formatContext = getChildFormatContext(defaultProps, type, props))
-        .insertionMode
-        ? ((keyPath = createPendingSegment(
-            request,
-            0,
-            null,
-            task.formatContext,
-            !1,
-            !1
-          )),
-          newProps.preambleChildren.push(keyPath),
-          (keyPath = createRenderTask(
-            request,
-            null,
-            ref,
-            -1,
-            task.blockedBoundary,
-            keyPath,
-            task.blockedPreamble,
-            task.hoistableState,
-            request.abortableTasks,
-            task.keyPath,
-            task.formatContext,
-            task.context,
-            task.treeContext,
-            task.componentStack,
-            task.isFallback
-          )),
-          pushComponentStack(keyPath),
-          request.pingedTasks.push(keyPath))
-        : renderNode(request, task, ref, -1);
+      renderNode(request, task, initialState, -1);
       task.formatContext = defaultProps;
-      task.keyPath = initialState;
+      task.keyPath = ref;
       a: {
         task = newProps.chunks;
         request = request.resumableState;
@@ -4247,9 +4105,6 @@ function renderElement(request, task, keyPath, type, props, ref) {
               request.hasHtml = !0;
               break a;
             }
-            break;
-          case "head":
-            if (1 >= defaultProps.insertionMode) break a;
         }
         task.push(endChunkForTag(type));
       }
@@ -4299,34 +4154,25 @@ function renderElement(request, task, keyPath, type, props, ref) {
           }
         } else {
           type = task.keyPath;
-          var parentBoundary = task.blockedBoundary;
-          ref = task.blockedPreamble;
-          var parentHoistableState = task.hoistableState;
-          propName$33 = task.blockedSegment;
-          propName = props.fallback;
+          var parentBoundary = task.blockedBoundary,
+            parentHoistableState = task.hoistableState;
+          ref = task.blockedSegment;
+          propName$33 = props.fallback;
           props = props.children;
           var fallbackAbortSet = new Set();
-          var newBoundary =
-            2 > task.formatContext.insertionMode
-              ? createSuspenseBoundary(
-                  request,
-                  fallbackAbortSet,
-                  createPreambleState(),
-                  createPreambleState()
-                )
-              : createSuspenseBoundary(request, fallbackAbortSet, null, null);
+          propName = createSuspenseBoundary(request, fallbackAbortSet);
           null !== request.trackedPostpones &&
-            (newBoundary.trackedContentKeyPath = keyPath);
+            (propName.trackedContentKeyPath = keyPath);
           var boundarySegment = createPendingSegment(
             request,
-            propName$33.chunks.length,
-            newBoundary,
+            ref.chunks.length,
+            propName,
             task.formatContext,
             !1,
             !1
           );
-          propName$33.children.push(boundarySegment);
-          propName$33.lastPushedText = !1;
+          ref.children.push(boundarySegment);
+          ref.lastPushedText = !1;
           var contentRootSegment = createPendingSegment(
             request,
             0,
@@ -4340,13 +4186,12 @@ function renderElement(request, task, keyPath, type, props, ref) {
             newProps = [keyPath[0], "Suspense Fallback", keyPath[2]];
             defaultProps = [newProps[1], newProps[2], [], null];
             request.trackedPostpones.workingMap.set(newProps, defaultProps);
-            newBoundary.trackedFallbackNode = defaultProps;
+            propName.trackedFallbackNode = defaultProps;
             task.blockedSegment = boundarySegment;
-            task.blockedPreamble = newBoundary.fallbackPreamble;
             task.keyPath = newProps;
             boundarySegment.status = 6;
             try {
-              renderNode(request, task, propName, -1),
+              renderNode(request, task, propName$33, -1),
                 pushSegmentFinale(
                   boundarySegment.chunks,
                   request.renderState,
@@ -4360,19 +4205,16 @@ function renderElement(request, task, keyPath, type, props, ref) {
                 thrownValue)
               );
             } finally {
-              (task.blockedSegment = propName$33),
-                (task.blockedPreamble = ref),
-                (task.keyPath = type);
+              (task.blockedSegment = ref), (task.keyPath = type);
             }
             task = createRenderTask(
               request,
               null,
               props,
               -1,
-              newBoundary,
+              propName,
               contentRootSegment,
-              newBoundary.contentPreamble,
-              newBoundary.contentState,
+              propName.contentState,
               task.abortSet,
               keyPath,
               task.formatContext,
@@ -4384,9 +4226,8 @@ function renderElement(request, task, keyPath, type, props, ref) {
             pushComponentStack(task);
             request.pingedTasks.push(task);
           } else {
-            task.blockedBoundary = newBoundary;
-            task.blockedPreamble = newBoundary.contentPreamble;
-            task.hoistableState = newBoundary.contentState;
+            task.blockedBoundary = propName;
+            task.hoistableState = propName.contentState;
             task.blockedSegment = contentRootSegment;
             task.keyPath = keyPath;
             contentRootSegment.status = 6;
@@ -4400,17 +4241,14 @@ function renderElement(request, task, keyPath, type, props, ref) {
                   contentRootSegment.textEmbedded
                 ),
                 (contentRootSegment.status = 1),
-                queueCompletedSegment(newBoundary, contentRootSegment),
-                0 === newBoundary.pendingTasks && 0 === newBoundary.status)
+                queueCompletedSegment(propName, contentRootSegment),
+                0 === propName.pendingTasks && 0 === propName.status)
               ) {
-                newBoundary.status = 1;
-                0 === request.pendingRootTasks &&
-                  task.blockedPreamble &&
-                  preparePreamble(request);
+                propName.status = 1;
                 break a;
               }
             } catch (thrownValue$28) {
-              (newBoundary.status = 4),
+              (propName.status = 4),
                 12 === request.status
                   ? ((contentRootSegment.status = 3),
                     (newProps = request.fatalError))
@@ -4427,24 +4265,22 @@ function renderElement(request, task, keyPath, type, props, ref) {
                       newProps,
                       defaultProps
                     )),
-                (newBoundary.errorDigest = initialState),
-                untrackBoundary(request, newBoundary);
+                (propName.errorDigest = initialState),
+                untrackBoundary(request, propName);
             } finally {
               (task.blockedBoundary = parentBoundary),
-                (task.blockedPreamble = ref),
                 (task.hoistableState = parentHoistableState),
-                (task.blockedSegment = propName$33),
+                (task.blockedSegment = ref),
                 (task.keyPath = type);
             }
             task = createRenderTask(
               request,
               null,
-              propName,
+              propName$33,
               -1,
               parentBoundary,
               boundarySegment,
-              newBoundary.fallbackPreamble,
-              newBoundary.fallbackState,
+              propName.fallbackState,
               fallbackAbortSet,
               [keyPath[0], "Suspense Fallback", keyPath[2]],
               task.formatContext,
@@ -4463,9 +4299,9 @@ function renderElement(request, task, keyPath, type, props, ref) {
       switch (type.$$typeof) {
         case REACT_FORWARD_REF_TYPE:
           if ("ref" in props)
-            for (newBoundary in ((newProps = {}), props))
-              "ref" !== newBoundary &&
-                (newProps[newBoundary] = props[newBoundary]);
+            for (boundarySegment in ((newProps = {}), props))
+              "ref" !== boundarySegment &&
+                (newProps[boundarySegment] = props[boundarySegment]);
           else newProps = props;
           type = renderWithHooks(
             request,
@@ -4667,27 +4503,17 @@ function retryNode(request, task) {
                         previousReplaySet = task.replay,
                         parentBoundary = task.blockedBoundary,
                         parentHoistableState = task.hoistableState,
-                        content = props.children,
-                        fallback = props.fallback,
-                        fallbackAbortSet = new Set();
-                      props =
-                        2 > task.formatContext.insertionMode
-                          ? createSuspenseBoundary(
-                              request,
-                              fallbackAbortSet,
-                              createPreambleState(),
-                              createPreambleState()
-                            )
-                          : createSuspenseBoundary(
-                              request,
-                              fallbackAbortSet,
-                              null,
-                              null
-                            );
-                      props.parentFlushed = !0;
-                      props.rootSegmentID = ref;
-                      task.blockedBoundary = props;
-                      task.hoistableState = props.contentState;
+                        content = props.children;
+                      props = props.fallback;
+                      var fallbackAbortSet = new Set(),
+                        resumedBoundary = createSuspenseBoundary(
+                          request,
+                          fallbackAbortSet
+                        );
+                      resumedBoundary.parentFlushed = !0;
+                      resumedBoundary.rootSegmentID = ref;
+                      task.blockedBoundary = resumedBoundary;
+                      task.hoistableState = resumedBoundary.contentState;
                       task.keyPath = key;
                       task.replay = {
                         nodes: replay,
@@ -4704,13 +4530,16 @@ function retryNode(request, task) {
                             "Couldn't find all resumable slots by key/index during replaying. The tree doesn't match so React will fallback to client rendering."
                           );
                         task.replay.pendingTasks--;
-                        if (0 === props.pendingTasks && 0 === props.status) {
-                          props.status = 1;
-                          request.completedBoundaries.push(props);
+                        if (
+                          0 === resumedBoundary.pendingTasks &&
+                          0 === resumedBoundary.status
+                        ) {
+                          resumedBoundary.status = 1;
+                          request.completedBoundaries.push(resumedBoundary);
                           break b;
                         }
                       } catch (error) {
-                        (props.status = 4),
+                        (resumedBoundary.status = 4),
                           (childNodes = getThrownInfo(task.componentStack)),
                           "object" === typeof error &&
                           null !== error &&
@@ -4722,9 +4551,11 @@ function retryNode(request, task) {
                                 error,
                                 childNodes
                               )),
-                          (props.errorDigest = type),
+                          (resumedBoundary.errorDigest = type),
                           task.replay.pendingTasks--,
-                          request.clientRenderedBoundaries.push(props);
+                          request.clientRenderedBoundaries.push(
+                            resumedBoundary
+                          );
                       } finally {
                         (task.blockedBoundary = parentBoundary),
                           (task.hoistableState = parentHoistableState),
@@ -4739,10 +4570,10 @@ function retryNode(request, task) {
                           slots: node$jscomp$0,
                           pendingTasks: 0
                         },
-                        fallback,
+                        props,
                         -1,
                         parentBoundary,
-                        props.fallbackState,
+                        resumedBoundary.fallbackState,
                         fallbackAbortSet,
                         [key[0], "Suspense Fallback", key[2]],
                         task.formatContext,
@@ -5080,7 +4911,6 @@ function spawnNewSuspendedRenderTask(request, task, thenableState) {
     task.childIndex,
     task.blockedBoundary,
     newSegment,
-    task.blockedPreamble,
     task.hoistableState,
     task.abortSet,
     task.keyPath,
@@ -5266,12 +5096,7 @@ function abortRemainingReplayNodes(
       node = node[5];
       var request = request$jscomp$0,
         errorDigest = errorDigest$jscomp$0,
-        resumedBoundary = createSuspenseBoundary(
-          request,
-          new Set(),
-          null,
-          null
-        );
+        resumedBoundary = createSuspenseBoundary(request, new Set());
       resumedBoundary.parentFlushed = !0;
       resumedBoundary.rootSegmentID = node;
       resumedBoundary.status = 4;
@@ -5461,7 +5286,6 @@ function safelyEmitEarlyPreloads(request, shellComplete) {
 }
 function completeShell(request) {
   null === request.trackedPostpones && safelyEmitEarlyPreloads(request, !0);
-  null === request.trackedPostpones && preparePreamble(request);
   request.onShellError = noop;
   request = request.onShellReady;
   request();
@@ -5474,7 +5298,6 @@ function completeAll(request) {
       : null === request.completedRootSegment ||
           5 !== request.completedRootSegment.status
   );
-  preparePreamble(request);
   request = request.onAllReady;
   request();
 }
@@ -5515,11 +5338,7 @@ function finishedTask(request, boundary, segment) {
               request.completedBoundaries.push(boundary),
             1 === boundary.status &&
               (boundary.fallbackAbortableTasks.forEach(abortTaskSoft, request),
-              boundary.fallbackAbortableTasks.clear(),
-              0 === request.pendingRootTasks &&
-                null === request.trackedPostpones &&
-                null !== boundary.contentPreamble &&
-                preparePreamble(request)))
+              boundary.fallbackAbortableTasks.clear()))
           : null !== segment &&
             segment.parentFlushed &&
             1 === segment.status &&
@@ -5716,11 +5535,7 @@ function performWork(request$jscomp$1) {
                         (boundary.errorDigest = request$jscomp$0),
                         untrackBoundary(request, boundary),
                         boundary.parentFlushed &&
-                          request.clientRenderedBoundaries.push(boundary),
-                        0 === request.pendingRootTasks &&
-                          null === request.trackedPostpones &&
-                          null !== boundary.contentPreamble &&
-                          preparePreamble(request)));
+                          request.clientRenderedBoundaries.push(boundary)));
                   request.allPendingTasks--;
                   0 === request.allPendingTasks && completeAll(request);
                 }
@@ -5744,85 +5559,6 @@ function performWork(request$jscomp$1) {
     }
   }
 }
-function preparePreambleFromSubtree(
-  request,
-  segment,
-  collectedPreambleSegments
-) {
-  segment.preambleChildren.length &&
-    collectedPreambleSegments.push(segment.preambleChildren);
-  for (var pendingPreambles = !1, i = 0; i < segment.children.length; i++)
-    pendingPreambles =
-      preparePreambleFromSegment(
-        request,
-        segment.children[i],
-        collectedPreambleSegments
-      ) || pendingPreambles;
-  return pendingPreambles;
-}
-function preparePreambleFromSegment(
-  request,
-  segment,
-  collectedPreambleSegments
-) {
-  var boundary = segment.boundary;
-  if (null === boundary)
-    return preparePreambleFromSubtree(
-      request,
-      segment,
-      collectedPreambleSegments
-    );
-  var preamble = boundary.contentPreamble,
-    fallbackPreamble = boundary.fallbackPreamble;
-  if (null === preamble || null === fallbackPreamble) return !1;
-  switch (boundary.status) {
-    case 1:
-      hoistPreambleState(request.renderState, preamble);
-      segment = boundary.completedSegments[0];
-      if (!segment)
-        throw Error(
-          "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
-        );
-      return preparePreambleFromSubtree(
-        request,
-        segment,
-        collectedPreambleSegments
-      );
-    case 5:
-      if (null !== request.trackedPostpones) return !0;
-    case 4:
-      if (1 === segment.status)
-        return (
-          hoistPreambleState(request.renderState, fallbackPreamble),
-          preparePreambleFromSubtree(
-            request,
-            segment,
-            collectedPreambleSegments
-          )
-        );
-    default:
-      return !0;
-  }
-}
-function preparePreamble(request) {
-  if (
-    request.completedRootSegment &&
-    null === request.completedPreambleSegments
-  ) {
-    var collectedPreambleSegments = [],
-      hasPendingPreambles = preparePreambleFromSegment(
-        request,
-        request.completedRootSegment,
-        collectedPreambleSegments
-      ),
-      preamble = request.renderState.preamble;
-    if (
-      !1 === hasPendingPreambles ||
-      (preamble.headChunks && preamble.bodyChunks)
-    )
-      request.completedPreambleSegments = collectedPreambleSegments;
-  }
-}
 function flushSubtree(request, destination, segment, hoistableState) {
   segment.parentFlushed = !0;
   switch (segment.status) {
@@ -5866,26 +5602,24 @@ function flushSegment(request, destination, segment, hoistableState) {
   if (null === boundary)
     return flushSubtree(request, destination, segment, hoistableState);
   boundary.parentFlushed = !0;
-  if (4 === boundary.status) {
-    if (!request.renderState.generateStaticMarkup) {
-      var errorDigest = boundary.errorDigest;
-      destination.push("\x3c!--$!--\x3e");
-      destination.push("<template");
-      errorDigest &&
-        (destination.push(' data-dgst="'),
-        (errorDigest = escapeTextForBrowser(errorDigest)),
-        destination.push(errorDigest),
-        destination.push('"'));
-      destination.push("></template>");
-    }
-    flushSubtree(request, destination, segment, hoistableState);
-    request.renderState.generateStaticMarkup
-      ? (destination = !0)
-      : ((request = boundary.fallbackPreamble) &&
-          writePreambleContribution(destination, request),
-        (destination = destination.push("\x3c!--/$--\x3e")));
-    return destination;
-  }
+  if (4 === boundary.status)
+    return (
+      request.renderState.generateStaticMarkup ||
+        ((boundary = boundary.errorDigest),
+        destination.push("\x3c!--$!--\x3e"),
+        destination.push("<template"),
+        boundary &&
+          (destination.push(' data-dgst="'),
+          (boundary = escapeTextForBrowser(boundary)),
+          destination.push(boundary),
+          destination.push('"')),
+        destination.push("></template>")),
+      flushSubtree(request, destination, segment, hoistableState),
+      (request = request.renderState.generateStaticMarkup
+        ? !0
+        : destination.push("\x3c!--/$--\x3e")),
+      request
+    );
   if (1 !== boundary.status)
     return (
       0 === boundary.status &&
@@ -5931,12 +5665,10 @@ function flushSegment(request, destination, segment, hoistableState) {
       "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
     );
   flushSegment(request, destination, segment[0], hoistableState);
-  request.renderState.generateStaticMarkup
-    ? (destination = !0)
-    : ((request = boundary.contentPreamble) &&
-        writePreambleContribution(destination, request),
-      (destination = destination.push("\x3c!--/$--\x3e")));
-  return destination;
+  request = request.renderState.generateStaticMarkup
+    ? !0
+    : destination.push("\x3c!--/$--\x3e");
+  return request;
 }
 function flushSegmentContainer(request, destination, segment, hoistableState) {
   writeStartSegment(
@@ -6062,8 +5794,6 @@ function flushCompletedQueues(request, destination) {
         completedRootSegment = request.completedRootSegment;
       if (null !== completedRootSegment) {
         if (5 === completedRootSegment.status) return;
-        var completedPreambleSegments = request.completedPreambleSegments;
-        if (null === completedPreambleSegments) return;
         var renderState = request.renderState;
         if (
           (0 !== request.allPendingTasks ||
@@ -6078,9 +5808,8 @@ function flushCompletedQueues(request, destination) {
             ((resumableState.scriptResources[src] = null),
             renderState.scripts.add(chunks));
         }
-        var preamble = renderState.preamble,
-          htmlChunks = preamble.htmlChunks,
-          headChunks = preamble.headChunks,
+        var htmlChunks = renderState.htmlChunks,
+          headChunks = renderState.headChunks,
           i$jscomp$0;
         if (htmlChunks) {
           for (i$jscomp$0 = 0; i$jscomp$0 < htmlChunks.length; i$jscomp$0++)
@@ -6123,38 +5852,11 @@ function flushCompletedQueues(request, destination) {
         var hoistableChunks = renderState.hoistableChunks;
         for (i$jscomp$0 = 0; i$jscomp$0 < hoistableChunks.length; i$jscomp$0++)
           destination.push(hoistableChunks[i$jscomp$0]);
-        for (
-          renderState = hoistableChunks.length = 0;
-          renderState < completedPreambleSegments.length;
-          renderState++
-        ) {
-          var segments = completedPreambleSegments[renderState];
-          for (
-            _renderState$external = 0;
-            _renderState$external < segments.length;
-            _renderState$external++
-          )
-            flushSegment(
-              request,
-              destination,
-              segments[_renderState$external],
-              null
-            );
-        }
-        var preamble$jscomp$0 = request.renderState.preamble,
-          headChunks$jscomp$0 = preamble$jscomp$0.headChunks;
-        if (preamble$jscomp$0.htmlChunks || headChunks$jscomp$0) {
+        hoistableChunks.length = 0;
+        if (htmlChunks && null === headChunks) {
           var chunk$jscomp$0 = endChunkForTag("head");
           destination.push(chunk$jscomp$0);
         }
-        var bodyChunks = preamble$jscomp$0.bodyChunks;
-        if (bodyChunks)
-          for (
-            completedPreambleSegments = 0;
-            completedPreambleSegments < bodyChunks.length;
-            completedPreambleSegments++
-          )
-            destination.push(bodyChunks[completedPreambleSegments]);
         flushSegment(request, destination, completedRootSegment, null);
         request.completedRootSegment = null;
         writeBootstrap(destination, request.renderState);
@@ -6445,4 +6147,4 @@ exports.renderToString = function (children, options) {
     'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToPipeableStream" which supports Suspense on the server'
   );
 };
-exports.version = "19.1.0-experimental-d55cc79b-20250228";
+exports.version = "19.1.0-experimental-b3a95caf-20250113";
diff --git a/node_modules/react-dom/cjs/react-dom-server.browser.development.js b/node_modules/react-dom/cjs/react-dom-server.browser.development.js
index 86762db..530298b 100644
--- a/node_modules/react-dom/cjs/react-dom-server.browser.development.js
+++ b/node_modules/react-dom/cjs/react-dom-server.browser.development.js
@@ -879,7 +879,8 @@
         segmentPrefix: stringToPrecomputedChunk(idPrefix + "S:"),
         boundaryPrefix: stringToPrecomputedChunk(idPrefix + "B:"),
         startInlineScript: inlineScriptWithNonce,
-        preamble: createPreambleState(),
+        htmlChunks: null,
+        headChunks: null,
         externalRuntimeScript: externalRuntimeScript,
         bootstrapChunks: bootstrapChunks,
         importMapChunks: externalRuntimeConfig,
@@ -1050,14 +1051,6 @@
         moduleScriptResources: {}
       };
     }
-    function createPreambleState() {
-      return {
-        htmlChunks: null,
-        headChunks: null,
-        bodyChunks: null,
-        contribution: NoContribution
-      };
-    }
     function createFormatContext(insertionMode, selectedValue, tagScope) {
       return {
         insertionMode: insertionMode,
@@ -1128,26 +1121,16 @@
             null,
             parentContext.tagScope
           );
-        case "head":
-          if (parentContext.insertionMode < HTML_MODE)
-            return createFormatContext(
-              HTML_HEAD_MODE,
-              null,
-              parentContext.tagScope
-            );
-          break;
-        case "html":
-          if (parentContext.insertionMode === ROOT_HTML_MODE)
-            return createFormatContext(
-              HTML_HTML_MODE,
-              null,
-              parentContext.tagScope
-            );
       }
-      return parentContext.insertionMode >= HTML_TABLE_MODE ||
-        parentContext.insertionMode < HTML_MODE
+      return parentContext.insertionMode >= HTML_TABLE_MODE
         ? createFormatContext(HTML_MODE, null, parentContext.tagScope)
-        : parentContext;
+        : parentContext.insertionMode === ROOT_HTML_MODE
+          ? "html" === type
+            ? createFormatContext(HTML_HTML_MODE, null, parentContext.tagScope)
+            : createFormatContext(HTML_MODE, null, parentContext.tagScope)
+          : parentContext.insertionMode === HTML_HTML_MODE
+            ? createFormatContext(HTML_MODE, null, parentContext.tagScope)
+            : parentContext;
     }
     function pushTextInstance(target, text, renderState, textEmbedded) {
       if ("" === text) return textEmbedded;
@@ -1799,29 +1782,6 @@
       target.push(endChunkForTag("script"));
       return null;
     }
-    function pushStartSingletonElement(target, props, tag) {
-      target.push(startChunkForTag(tag));
-      var innerHTML = (tag = null),
-        propKey;
-      for (propKey in props)
-        if (hasOwnProperty.call(props, propKey)) {
-          var propValue = props[propKey];
-          if (null != propValue)
-            switch (propKey) {
-              case "children":
-                tag = propValue;
-                break;
-              case "dangerouslySetInnerHTML":
-                innerHTML = propValue;
-                break;
-              default:
-                pushAttribute(target, propKey, propValue);
-            }
-        }
-      target.push(endOfStartTag);
-      pushInnerHTML(target, innerHTML, tag);
-      return tag;
-    }
     function pushStartGenericElement(target, props, tag) {
       target.push(startChunkForTag(tag));
       var innerHTML = (tag = null),
@@ -1862,7 +1822,6 @@
       props,
       resumableState,
       renderState,
-      preambleState,
       hoistableState,
       formatContext,
       textEmbedded,
@@ -2971,7 +2930,6 @@
                 header;
               headers &&
               0 < headers.remainingCapacity &&
-              "string" !== typeof props.srcSet &&
               ("high" === props.fetchPriority ||
                 500 > headers.highImagePreloads.length) &&
               ((header = getPreloadAsHeader(src, "image", {
@@ -3032,13 +2990,13 @@
         case "missing-glyph":
           break;
         case "head":
-          if (formatContext.insertionMode < HTML_MODE) {
-            var preamble = preambleState || renderState.preamble;
-            if (preamble.headChunks)
-              throw Error("The `<head>` tag may only be rendered once.");
-            preamble.headChunks = [];
-            var JSCompiler_inline_result$jscomp$9 = pushStartSingletonElement(
-              preamble.headChunks,
+          if (
+            formatContext.insertionMode < HTML_MODE &&
+            null === renderState.headChunks
+          ) {
+            renderState.headChunks = [];
+            var JSCompiler_inline_result$jscomp$9 = pushStartGenericElement(
+              renderState.headChunks,
               props,
               "head"
             );
@@ -3049,42 +3007,24 @@
               "head"
             );
           return JSCompiler_inline_result$jscomp$9;
-        case "body":
-          if (formatContext.insertionMode < HTML_MODE) {
-            var preamble$jscomp$0 = preambleState || renderState.preamble;
-            if (preamble$jscomp$0.bodyChunks)
-              throw Error("The `<body>` tag may only be rendered once.");
-            preamble$jscomp$0.bodyChunks = [];
-            var JSCompiler_inline_result$jscomp$10 = pushStartSingletonElement(
-              preamble$jscomp$0.bodyChunks,
-              props,
-              "body"
-            );
-          } else
-            JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
-              target$jscomp$0,
-              props,
-              "body"
-            );
-          return JSCompiler_inline_result$jscomp$10;
         case "html":
-          if (formatContext.insertionMode === ROOT_HTML_MODE) {
-            var preamble$jscomp$1 = preambleState || renderState.preamble;
-            if (preamble$jscomp$1.htmlChunks)
-              throw Error("The `<html>` tag may only be rendered once.");
-            preamble$jscomp$1.htmlChunks = [doctypeChunk];
-            var JSCompiler_inline_result$jscomp$11 = pushStartSingletonElement(
-              preamble$jscomp$1.htmlChunks,
+          if (
+            formatContext.insertionMode === ROOT_HTML_MODE &&
+            null === renderState.htmlChunks
+          ) {
+            renderState.htmlChunks = [doctypeChunk];
+            var JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
+              renderState.htmlChunks,
               props,
               "html"
             );
           } else
-            JSCompiler_inline_result$jscomp$11 = pushStartGenericElement(
+            JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
               target$jscomp$0,
               props,
               "html"
             );
-          return JSCompiler_inline_result$jscomp$11;
+          return JSCompiler_inline_result$jscomp$10;
         default:
           if (-1 !== type.indexOf("-")) {
             target$jscomp$0.push(startChunkForTag(type));
@@ -3154,21 +3094,6 @@
         endTagCache.set(tag, chunk));
       return chunk;
     }
-    function hoistPreambleState(renderState, preambleState) {
-      renderState = renderState.preamble;
-      null === renderState.htmlChunks &&
-        preambleState.htmlChunks &&
-        ((renderState.htmlChunks = preambleState.htmlChunks),
-        (preambleState.contribution |= 1));
-      null === renderState.headChunks &&
-        preambleState.headChunks &&
-        ((renderState.headChunks = preambleState.headChunks),
-        (preambleState.contribution |= 4));
-      null === renderState.bodyChunks &&
-        preambleState.bodyChunks &&
-        ((renderState.bodyChunks = preambleState.bodyChunks),
-        (preambleState.contribution |= 2));
-    }
     function writeBootstrap(destination, renderState) {
       renderState = renderState.bootstrapChunks;
       for (var i = 0; i < renderState.length - 1; i++)
@@ -3189,18 +3114,10 @@
       writeChunk(destination, stringToChunk(id.toString(16)));
       return writeChunkAndReturn(destination, startPendingSuspenseBoundary2);
     }
-    function writePreambleContribution(destination, preambleState) {
-      preambleState = preambleState.contribution;
-      preambleState !== NoContribution &&
-        (writeChunk(destination, boundaryPreambleContributionChunkStart),
-        writeChunk(destination, stringToChunk("" + preambleState)),
-        writeChunk(destination, boundaryPreambleContributionChunkEnd));
-    }
     function writeStartSegment(destination, renderState, formatContext, id) {
       switch (formatContext.insertionMode) {
         case ROOT_HTML_MODE:
         case HTML_HTML_MODE:
-        case HTML_HEAD_MODE:
         case HTML_MODE:
           return (
             writeChunk(destination, startSegmentHTML),
@@ -3258,7 +3175,6 @@
       switch (formatContext.insertionMode) {
         case ROOT_HTML_MODE:
         case HTML_HTML_MODE:
-        case HTML_HEAD_MODE:
         case HTML_MODE:
           return writeChunkAndReturn(destination, endSegmentHTML);
         case SVG_MODE:
@@ -4263,12 +4179,6 @@
           index
         );
     }
-    function unsupportedRefresh() {
-      throw Error("Cache cannot be refreshed during server rendering.");
-    }
-    function unsupportedStartGesture() {
-      throw Error("startGesture cannot be called during server rendering.");
-    }
     function noop$1() {}
     function disabledLog() {}
     function disableLogs() {
@@ -4607,7 +4517,7 @@
       this.status = 10;
       this.fatalError = null;
       this.pendingRootTasks = this.allPendingTasks = this.nextSegmentId = 0;
-      this.completedPreambleSegments = this.completedRootSegment = null;
+      this.completedRootSegment = null;
       this.abortableTasks = abortSet;
       this.pingedTasks = [];
       this.clientRenderedBoundaries = [];
@@ -4667,7 +4577,6 @@
         null,
         renderState,
         null,
-        null,
         resumableState.abortableTasks,
         null,
         rootFormatContext,
@@ -4762,7 +4671,6 @@
             null,
             onAllReady,
             null,
-            null,
             renderState.abortableTasks,
             null,
             postponedState.rootFormatContext,
@@ -4844,12 +4752,7 @@
               return performWork(request);
             }));
     }
-    function createSuspenseBoundary(
-      request,
-      fallbackAbortableTasks,
-      contentPreamble,
-      fallbackPreamble
-    ) {
+    function createSuspenseBoundary(request, fallbackAbortableTasks) {
       return {
         status: PENDING,
         rootSegmentID: -1,
@@ -4861,8 +4764,6 @@
         errorDigest: null,
         contentState: createHoistableState(),
         fallbackState: createHoistableState(),
-        contentPreamble: contentPreamble,
-        fallbackPreamble: fallbackPreamble,
         trackedContentKeyPath: null,
         trackedFallbackNode: null,
         errorMessage: null,
@@ -4877,7 +4778,6 @@
       childIndex,
       blockedBoundary,
       blockedSegment,
-      blockedPreamble,
       hoistableState,
       abortSet,
       keyPath,
@@ -4902,7 +4802,6 @@
         },
         blockedBoundary: blockedBoundary,
         blockedSegment: blockedSegment,
-        blockedPreamble: blockedPreamble,
         hoistableState: hoistableState,
         abortSet: abortSet,
         keyPath: keyPath,
@@ -4949,7 +4848,6 @@
         },
         blockedBoundary: blockedBoundary,
         blockedSegment: null,
-        blockedPreamble: null,
         hoistableState: hoistableState,
         abortSet: abortSet,
         keyPath: keyPath,
@@ -4974,12 +4872,11 @@
     ) {
       return {
         status: PENDING,
-        parentFlushed: !1,
         id: -1,
         index: index,
+        parentFlushed: !1,
         chunks: [],
         children: [],
-        preambleChildren: [],
         parentFormatContext: parentFormatContext,
         boundary: boundary,
         lastPushedText: lastPushedText,
@@ -5683,7 +5580,6 @@
             props,
             request.resumableState,
             request.renderState,
-            task.blockedPreamble,
             task.hoistableState,
             task.formatContext,
             segment.lastPushedText,
@@ -5692,45 +5588,9 @@
           segment.lastPushedText = !1;
           var _prevContext = task.formatContext,
             _prevKeyPath2 = task.keyPath;
+          task.formatContext = getChildFormatContext(_prevContext, type, props);
           task.keyPath = keyPath;
-          if (
-            (task.formatContext = getChildFormatContext(
-              _prevContext,
-              type,
-              props
-            )).insertionMode === HTML_HEAD_MODE
-          ) {
-            var preambleSegment = createPendingSegment(
-              request,
-              0,
-              null,
-              task.formatContext,
-              !1,
-              !1
-            );
-            segment.preambleChildren.push(preambleSegment);
-            var preambleTask = createRenderTask(
-              request,
-              null,
-              _children,
-              -1,
-              task.blockedBoundary,
-              preambleSegment,
-              task.blockedPreamble,
-              task.hoistableState,
-              request.abortableTasks,
-              task.keyPath,
-              task.formatContext,
-              task.context,
-              task.treeContext,
-              task.componentStack,
-              task.isFallback,
-              emptyContextObject,
-              task.debugTask
-            );
-            pushComponentStack(preambleTask);
-            request.pingedTasks.push(preambleTask);
-          } else renderNode(request, task, _children, -1);
+          renderNode(request, task, _children, -1);
           task.formatContext = _prevContext;
           task.keyPath = _prevKeyPath2;
           a: {
@@ -5767,9 +5627,6 @@
                   resumableState.hasHtml = !0;
                   break a;
                 }
-                break;
-              case "head":
-                if (_prevContext.insertionMode <= HTML_HTML_MODE) break a;
             }
             target.push(endChunkForTag(type));
           }
@@ -5823,26 +5680,12 @@
             } else {
               var prevKeyPath$jscomp$3 = task.keyPath,
                 parentBoundary = task.blockedBoundary,
-                parentPreamble = task.blockedPreamble,
                 parentHoistableState = task.hoistableState,
                 parentSegment = task.blockedSegment,
                 fallback = props.fallback,
                 content = props.children,
-                fallbackAbortSet = new Set();
-              var newBoundary =
-                task.formatContext.insertionMode < HTML_MODE
-                  ? createSuspenseBoundary(
-                      request,
-                      fallbackAbortSet,
-                      createPreambleState(),
-                      createPreambleState()
-                    )
-                  : createSuspenseBoundary(
-                      request,
-                      fallbackAbortSet,
-                      null,
-                      null
-                    );
+                fallbackAbortSet = new Set(),
+                newBoundary = createSuspenseBoundary(request, fallbackAbortSet);
               null !== request.trackedPostpones &&
                 (newBoundary.trackedContentKeyPath = keyPath);
               var boundarySegment = createPendingSegment(
@@ -5882,7 +5725,6 @@
                 );
                 newBoundary.trackedFallbackNode = fallbackReplayNode;
                 task.blockedSegment = boundarySegment;
-                task.blockedPreamble = newBoundary.fallbackPreamble;
                 task.keyPath = fallbackKeyPath;
                 boundarySegment.status = 6;
                 try {
@@ -5898,7 +5740,6 @@
                   );
                 } finally {
                   (task.blockedSegment = parentSegment),
-                    (task.blockedPreamble = parentPreamble),
                     (task.keyPath = prevKeyPath$jscomp$3);
                 }
                 var suspendedPrimaryTask = createRenderTask(
@@ -5908,7 +5749,6 @@
                   -1,
                   newBoundary,
                   contentRootSegment,
-                  newBoundary.contentPreamble,
                   newBoundary.contentState,
                   task.abortSet,
                   keyPath,
@@ -5924,7 +5764,6 @@
                 request.pingedTasks.push(suspendedPrimaryTask);
               } else {
                 task.blockedBoundary = newBoundary;
-                task.blockedPreamble = newBoundary.contentPreamble;
                 task.hoistableState = newBoundary.contentState;
                 task.blockedSegment = contentRootSegment;
                 task.keyPath = keyPath;
@@ -5941,9 +5780,6 @@
                       newBoundary.status === PENDING)
                   ) {
                     newBoundary.status = COMPLETED;
-                    0 === request.pendingRootTasks &&
-                      task.blockedPreamble &&
-                      preparePreamble(request);
                     break a;
                   }
                 } catch (thrownValue$2) {
@@ -5983,7 +5819,6 @@
                   untrackBoundary(request, newBoundary);
                 } finally {
                   (task.blockedBoundary = parentBoundary),
-                    (task.blockedPreamble = parentPreamble),
                     (task.hoistableState = parentHoistableState),
                     (task.blockedSegment = parentSegment),
                     (task.keyPath = prevKeyPath$jscomp$3);
@@ -5995,7 +5830,6 @@
                   -1,
                   parentBoundary,
                   boundarySegment,
-                  newBoundary.fallbackPreamble,
                   newBoundary.fallbackState,
                   fallbackAbortSet,
                   [keyPath[0], "Suspense Fallback", keyPath[2]],
@@ -6234,27 +6068,17 @@
                 previousReplaySet = task.replay,
                 parentBoundary = task.blockedBoundary,
                 parentHoistableState = task.hoistableState,
-                content = props.children,
-                fallback = props.fallback,
-                fallbackAbortSet = new Set();
-              props =
-                task.formatContext.insertionMode < HTML_MODE
-                  ? createSuspenseBoundary(
-                      request,
-                      fallbackAbortSet,
-                      createPreambleState(),
-                      createPreambleState()
-                    )
-                  : createSuspenseBoundary(
-                      request,
-                      fallbackAbortSet,
-                      null,
-                      null
-                    );
-              props.parentFlushed = !0;
-              props.rootSegmentID = type;
-              task.blockedBoundary = props;
-              task.hoistableState = props.contentState;
+                content = props.children;
+              props = props.fallback;
+              var fallbackAbortSet = new Set(),
+                resumedBoundary = createSuspenseBoundary(
+                  request,
+                  fallbackAbortSet
+                );
+              resumedBoundary.parentFlushed = !0;
+              resumedBoundary.rootSegmentID = type;
+              task.blockedBoundary = resumedBoundary;
+              task.hoistableState = resumedBoundary.contentState;
               task.keyPath = keyPath;
               task.replay = { nodes: ref, slots: name, pendingTasks: 1 };
               try {
@@ -6267,13 +6091,16 @@
                     "Couldn't find all resumable slots by key/index during replaying. The tree doesn't match so React will fallback to client rendering."
                   );
                 task.replay.pendingTasks--;
-                if (0 === props.pendingTasks && props.status === PENDING) {
-                  props.status = COMPLETED;
-                  request.completedBoundaries.push(props);
+                if (
+                  0 === resumedBoundary.pendingTasks &&
+                  resumedBoundary.status === PENDING
+                ) {
+                  resumedBoundary.status = COMPLETED;
+                  request.completedBoundaries.push(resumedBoundary);
                   break a;
                 }
               } catch (error) {
-                (props.status = CLIENT_RENDERED),
+                (resumedBoundary.status = CLIENT_RENDERED),
                   (childNodes = getThrownInfo(task.componentStack)),
                   "object" === typeof error &&
                   null !== error &&
@@ -6291,9 +6118,15 @@
                         childNodes,
                         task.debugTask
                       )),
-                  encodeErrorForBoundary(props, replay, error, childNodes, !1),
+                  encodeErrorForBoundary(
+                    resumedBoundary,
+                    replay,
+                    error,
+                    childNodes,
+                    !1
+                  ),
                   task.replay.pendingTasks--,
-                  request.clientRenderedBoundaries.push(props);
+                  request.clientRenderedBoundaries.push(resumedBoundary);
               } finally {
                 (task.blockedBoundary = parentBoundary),
                   (task.hoistableState = parentHoistableState),
@@ -6304,10 +6137,10 @@
                 request,
                 null,
                 { nodes: keyOrIndex, slots: node, pendingTasks: 0 },
-                fallback,
+                props,
                 -1,
                 parentBoundary,
-                props.fallbackState,
+                resumedBoundary.fallbackState,
                 fallbackAbortSet,
                 [keyPath[0], "Suspense Fallback", keyPath[2]],
                 task.formatContext,
@@ -6852,7 +6685,6 @@
         task.childIndex,
         task.blockedBoundary,
         newSegment,
-        task.blockedPreamble,
         task.hoistableState,
         task.abortSet,
         task.keyPath,
@@ -7070,12 +6902,7 @@
             errorDigest = errorDigest$jscomp$0,
             errorInfo = errorInfo$jscomp$0,
             wasAborted = aborted,
-            resumedBoundary = createSuspenseBoundary(
-              request,
-              new Set(),
-              null,
-              null
-            );
+            resumedBoundary = createSuspenseBoundary(request, new Set());
           resumedBoundary.parentFlushed = !0;
           resumedBoundary.rootSegmentID = node;
           resumedBoundary.status = CLIENT_RENDERED;
@@ -7285,7 +7112,6 @@
     }
     function completeShell(request) {
       null === request.trackedPostpones && safelyEmitEarlyPreloads(request, !0);
-      null === request.trackedPostpones && preparePreamble(request);
       request.onShellError = noop;
       request = request.onShellReady;
       request();
@@ -7298,7 +7124,6 @@
           : null === request.completedRootSegment ||
               request.completedRootSegment.status !== POSTPONED
       );
-      preparePreamble(request);
       request = request.onAllReady;
       request();
     }
@@ -7343,11 +7168,7 @@
                     abortTaskSoft,
                     request
                   ),
-                  boundary.fallbackAbortableTasks.clear(),
-                  0 === request.pendingRootTasks &&
-                    null === request.trackedPostpones &&
-                    null !== boundary.contentPreamble &&
-                    preparePreamble(request)))
+                  boundary.fallbackAbortableTasks.clear()))
               : null !== segment &&
                 segment.parentFlushed &&
                 segment.status === COMPLETED &&
@@ -7602,11 +7423,7 @@
                             ),
                             untrackBoundary(request, boundary),
                             boundary.parentFlushed &&
-                              request.clientRenderedBoundaries.push(boundary),
-                            0 === request.pendingRootTasks &&
-                              null === request.trackedPostpones &&
-                              null !== boundary.contentPreamble &&
-                              preparePreamble(request)));
+                              request.clientRenderedBoundaries.push(boundary)));
                       request.allPendingTasks--;
                       0 === request.allPendingTasks && completeAll(request);
                     }
@@ -7636,85 +7453,6 @@
         }
       }
     }
-    function preparePreambleFromSubtree(
-      request,
-      segment,
-      collectedPreambleSegments
-    ) {
-      segment.preambleChildren.length &&
-        collectedPreambleSegments.push(segment.preambleChildren);
-      for (var pendingPreambles = !1, i = 0; i < segment.children.length; i++)
-        pendingPreambles =
-          preparePreambleFromSegment(
-            request,
-            segment.children[i],
-            collectedPreambleSegments
-          ) || pendingPreambles;
-      return pendingPreambles;
-    }
-    function preparePreambleFromSegment(
-      request,
-      segment,
-      collectedPreambleSegments
-    ) {
-      var boundary = segment.boundary;
-      if (null === boundary)
-        return preparePreambleFromSubtree(
-          request,
-          segment,
-          collectedPreambleSegments
-        );
-      var preamble = boundary.contentPreamble,
-        fallbackPreamble = boundary.fallbackPreamble;
-      if (null === preamble || null === fallbackPreamble) return !1;
-      switch (boundary.status) {
-        case COMPLETED:
-          hoistPreambleState(request.renderState, preamble);
-          segment = boundary.completedSegments[0];
-          if (!segment)
-            throw Error(
-              "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
-            );
-          return preparePreambleFromSubtree(
-            request,
-            segment,
-            collectedPreambleSegments
-          );
-        case POSTPONED:
-          if (null !== request.trackedPostpones) return !0;
-        case CLIENT_RENDERED:
-          if (segment.status === COMPLETED)
-            return (
-              hoistPreambleState(request.renderState, fallbackPreamble),
-              preparePreambleFromSubtree(
-                request,
-                segment,
-                collectedPreambleSegments
-              )
-            );
-        default:
-          return !0;
-      }
-    }
-    function preparePreamble(request) {
-      if (
-        request.completedRootSegment &&
-        null === request.completedPreambleSegments
-      ) {
-        var collectedPreambleSegments = [],
-          hasPendingPreambles = preparePreambleFromSegment(
-            request,
-            request.completedRootSegment,
-            collectedPreambleSegments
-          ),
-          preamble = request.renderState.preamble;
-        if (
-          !1 === hasPendingPreambles ||
-          (preamble.headChunks && preamble.bodyChunks)
-        )
-          request.completedPreambleSegments = collectedPreambleSegments;
-      }
-    }
     function flushSubtree(request, destination, segment, hoistableState) {
       segment.parentFlushed = !0;
       switch (segment.status) {
@@ -7762,8 +7500,8 @@
       if (boundary.status === CLIENT_RENDERED) {
         var errorDigest = boundary.errorDigest,
           errorMessage = boundary.errorMessage,
-          errorStack = boundary.errorStack,
-          errorComponentStack = boundary.errorComponentStack;
+          errorStack = boundary.errorStack;
+        boundary = boundary.errorComponentStack;
         writeChunkAndReturn(destination, startClientRenderedSuspenseBoundary);
         writeChunk(destination, clientRenderedSuspenseBoundaryError1);
         errorDigest &&
@@ -7796,11 +7534,11 @@
             destination,
             clientRenderedSuspenseBoundaryErrorAttrInterstitial
           ));
-        errorComponentStack &&
+        boundary &&
           (writeChunk(destination, clientRenderedSuspenseBoundaryError1D),
           writeChunk(
             destination,
-            stringToChunk(escapeTextForBrowser(errorComponentStack))
+            stringToChunk(escapeTextForBrowser(boundary))
           ),
           writeChunk(
             destination,
@@ -7808,14 +7546,9 @@
           ));
         writeChunkAndReturn(destination, clientRenderedSuspenseBoundaryError2);
         flushSubtree(request, destination, segment, hoistableState);
-        (request = boundary.fallbackPreamble) &&
-          writePreambleContribution(destination, request);
-        return writeChunkAndReturn(destination, endSuspenseBoundary);
-      }
-      if (boundary.status !== COMPLETED)
-        return (
-          boundary.status === PENDING &&
-            (boundary.rootSegmentID = request.nextSegmentId++),
+      } else if (boundary.status !== COMPLETED)
+        boundary.status === PENDING &&
+          (boundary.rootSegmentID = request.nextSegmentId++),
           0 < boundary.completedSegments.length &&
             request.partialBoundaries.push(boundary),
           writeStartPendingSuspenseBoundary(
@@ -7830,34 +7563,32 @@
               hoistStylesheetDependency,
               hoistableState
             )),
-          flushSubtree(request, destination, segment, hoistableState),
-          writeChunkAndReturn(destination, endSuspenseBoundary)
-        );
-      if (boundary.byteSize > request.progressiveChunkSize)
-        return (
-          (boundary.rootSegmentID = request.nextSegmentId++),
+          flushSubtree(request, destination, segment, hoistableState);
+      else if (boundary.byteSize > request.progressiveChunkSize)
+        (boundary.rootSegmentID = request.nextSegmentId++),
           request.completedBoundaries.push(boundary),
           writeStartPendingSuspenseBoundary(
             destination,
             request.renderState,
             boundary.rootSegmentID
           ),
-          flushSubtree(request, destination, segment, hoistableState),
-          writeChunkAndReturn(destination, endSuspenseBoundary)
-        );
-      hoistableState &&
-        ((segment = boundary.contentState),
-        segment.styles.forEach(hoistStyleQueueDependency, hoistableState),
-        segment.stylesheets.forEach(hoistStylesheetDependency, hoistableState));
-      writeChunkAndReturn(destination, startCompletedSuspenseBoundary);
-      segment = boundary.completedSegments;
-      if (1 !== segment.length)
-        throw Error(
-          "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
-        );
-      flushSegment(request, destination, segment[0], hoistableState);
-      (request = boundary.contentPreamble) &&
-        writePreambleContribution(destination, request);
+          flushSubtree(request, destination, segment, hoistableState);
+      else {
+        hoistableState &&
+          ((segment = boundary.contentState),
+          segment.styles.forEach(hoistStyleQueueDependency, hoistableState),
+          segment.stylesheets.forEach(
+            hoistStylesheetDependency,
+            hoistableState
+          ));
+        writeChunkAndReturn(destination, startCompletedSuspenseBoundary);
+        segment = boundary.completedSegments;
+        if (1 !== segment.length)
+          throw Error(
+            "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
+          );
+        flushSegment(request, destination, segment[0], hoistableState);
+      }
       return writeChunkAndReturn(destination, endSuspenseBoundary);
     }
     function flushSegmentContainer(
@@ -8018,8 +7749,6 @@
             completedRootSegment = request.completedRootSegment;
           if (null !== completedRootSegment) {
             if (completedRootSegment.status === POSTPONED) return;
-            var completedPreambleSegments = request.completedPreambleSegments;
-            if (null === completedPreambleSegments) return;
             var renderState = request.renderState;
             if (
               (0 !== request.allPendingTasks ||
@@ -8034,9 +7763,8 @@
                 ((resumableState.scriptResources[src] = EXISTS),
                 renderState.scripts.add(chunks));
             }
-            var preamble = renderState.preamble,
-              htmlChunks = preamble.htmlChunks,
-              headChunks = preamble.headChunks,
+            var htmlChunks = renderState.htmlChunks,
+              headChunks = renderState.headChunks,
               i$jscomp$0;
             if (htmlChunks) {
               for (i$jscomp$0 = 0; i$jscomp$0 < htmlChunks.length; i$jscomp$0++)
@@ -8097,36 +7825,10 @@
               i$jscomp$0++
             )
               writeChunk(destination, hoistableChunks[i$jscomp$0]);
-            for (
-              renderState = hoistableChunks.length = 0;
-              renderState < completedPreambleSegments.length;
-              renderState++
-            ) {
-              var segments = completedPreambleSegments[renderState];
-              for (
-                _renderState$external = 0;
-                _renderState$external < segments.length;
-                _renderState$external++
-              )
-                flushSegment(
-                  request,
-                  destination,
-                  segments[_renderState$external],
-                  null
-                );
-            }
-            var preamble$jscomp$0 = request.renderState.preamble,
-              headChunks$jscomp$0 = preamble$jscomp$0.headChunks;
-            (preamble$jscomp$0.htmlChunks || headChunks$jscomp$0) &&
+            hoistableChunks.length = 0;
+            htmlChunks &&
+              null === headChunks &&
               writeChunk(destination, endChunkForTag("head"));
-            var bodyChunks = preamble$jscomp$0.bodyChunks;
-            if (bodyChunks)
-              for (
-                completedPreambleSegments = 0;
-                completedPreambleSegments < bodyChunks.length;
-                completedPreambleSegments++
-              )
-                writeChunk(destination, bodyChunks[completedPreambleSegments]);
             flushSegment(request, destination, completedRootSegment, null);
             request.completedRootSegment = null;
             writeBootstrap(destination, request.renderState);
@@ -8467,19 +8169,11 @@
       )
         return (request.trackedPostpones = null);
       if (
-        null === request.completedRootSegment ||
-        (request.completedRootSegment.status !== POSTPONED &&
-          null !== request.completedPreambleSegments)
+        null !== request.completedRootSegment &&
+        request.completedRootSegment.status === POSTPONED
       ) {
-        var replaySlots = trackedPostpones.rootSlots;
-        var resumableState = request.resumableState;
-        resumableState.bootstrapScriptContent = void 0;
-        resumableState.bootstrapScripts = void 0;
-        resumableState.bootstrapModules = void 0;
-      } else {
-        replaySlots = request.completedRootSegment.id;
-        resumableState = request.resumableState;
-        var renderState = request.renderState;
+        var resumableState = request.resumableState,
+          renderState = request.renderState;
         resumableState.nextFormID = 0;
         resumableState.hasBody = !1;
         resumableState.hasHtml = !1;
@@ -8491,23 +8185,27 @@
         resumableState.scriptResources = {};
         resumableState.moduleUnknownResources = {};
         resumableState.moduleScriptResources = {};
-      }
+      } else
+        (resumableState = request.resumableState),
+          (resumableState.bootstrapScriptContent = void 0),
+          (resumableState.bootstrapScripts = void 0),
+          (resumableState.bootstrapModules = void 0);
       return {
         nextSegmentId: request.nextSegmentId,
         rootFormatContext: request.rootFormatContext,
         progressiveChunkSize: request.progressiveChunkSize,
         resumableState: request.resumableState,
         replayNodes: trackedPostpones.rootNodes,
-        replaySlots: replaySlots
+        replaySlots: trackedPostpones.rootSlots
       };
     }
     function ensureCorrectIsomorphicReactVersion() {
       var isomorphicReactPackageVersion = React.version;
-      if ("19.1.0-experimental-d55cc79b-20250228" !== isomorphicReactPackageVersion)
+      if ("19.1.0-experimental-b3a95caf-20250113" !== isomorphicReactPackageVersion)
         throw Error(
           'Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:\n  - react:      ' +
             (isomorphicReactPackageVersion +
-              "\n  - react-dom:  19.1.0-experimental-d55cc79b-20250228\nLearn more: https://react.dev/warnings/version-mismatch")
+              "\n  - react-dom:  19.1.0-experimental-b3a95caf-20250113\nLearn more: https://react.dev/warnings/version-mismatch")
         );
     }
     var React = require("react"),
@@ -8528,7 +8226,6 @@
       REACT_SCOPE_TYPE = Symbol.for("react.scope"),
       REACT_OFFSCREEN_TYPE = Symbol.for("react.offscreen"),
       REACT_LEGACY_HIDDEN_TYPE = Symbol.for("react.legacy_hidden"),
-      REACT_MEMO_CACHE_SENTINEL = Symbol.for("react.memo_cache_sentinel"),
       REACT_POSTPONE_TYPE = Symbol.for("react.postpone"),
       REACT_VIEW_TRANSITION_TYPE = Symbol.for("react.view_transition"),
       MAYBE_ITERATOR_SYMBOL = Symbol.iterator,
@@ -9354,7 +9051,6 @@
                 var header;
                 resumableState &&
                 0 < resumableState.remainingCapacity &&
-                "string" !== typeof imageSrcSet &&
                 "high" === fetchPriority &&
                 ((header = getPreloadAsHeader(href, as, options)),
                 0 <= (resumableState.remainingCapacity -= header.length + 2))
@@ -9617,17 +9313,15 @@
       ),
       importMapScriptEnd = stringToPrecomputedChunk("\x3c/script>");
     var didWarnForNewBooleanPropsWithEmptyValue = {};
-    var NoContribution = 0,
-      ROOT_HTML_MODE = 0,
+    var ROOT_HTML_MODE = 0,
       HTML_HTML_MODE = 1,
       HTML_MODE = 2,
-      HTML_HEAD_MODE = 3,
-      SVG_MODE = 4,
-      MATHML_MODE = 5,
-      HTML_TABLE_MODE = 6,
-      HTML_TABLE_BODY_MODE = 7,
-      HTML_TABLE_ROW_MODE = 8,
-      HTML_COLGROUP_MODE = 9,
+      SVG_MODE = 3,
+      MATHML_MODE = 4,
+      HTML_TABLE_MODE = 5,
+      HTML_TABLE_BODY_MODE = 6,
+      HTML_TABLE_ROW_MODE = 7,
+      HTML_COLGROUP_MODE = 8,
       textSeparator = stringToPrecomputedChunk("\x3c!-- --\x3e"),
       styleNameCache = new Map(),
       styleAttributeStart = stringToPrecomputedChunk(' style="'),
@@ -9693,9 +9387,6 @@
         stringToPrecomputedChunk(' data-cstck="'),
       clientRenderedSuspenseBoundaryError2 =
         stringToPrecomputedChunk("></template>"),
-      boundaryPreambleContributionChunkStart =
-        stringToPrecomputedChunk("\x3c!--"),
-      boundaryPreambleContributionChunkEnd = stringToPrecomputedChunk("--\x3e"),
       startSegmentHTML = stringToPrecomputedChunk('<div hidden id="'),
       startSegmentHTML2 = stringToPrecomputedChunk('">'),
       endSegmentHTML = stringToPrecomputedChunk("</div>"),
@@ -9937,9 +9628,9 @@
               "Invalid hook call. Hooks can only be called inside of the body of a function component."
             );
           overflow = localIdCounter++;
-          treeId = "\u00ab" + resumableState.idPrefix + "R" + treeId;
+          treeId = ":" + resumableState.idPrefix + "R" + treeId;
           0 < overflow && (treeId += "H" + overflow.toString(32));
-          return treeId + "\u00bb";
+          return treeId + ":";
         },
         useSyncExternalStore: function (
           subscribe,
@@ -9962,20 +9653,8 @@
           resolveCurrentlyRenderingComponent();
           return NotPending;
         },
-        useMemoCache: function (size) {
-          for (var data = Array(size), i = 0; i < size; i++)
-            data[i] = REACT_MEMO_CACHE_SENTINEL;
-          return data;
-        },
-        useCacheRefresh: function () {
-          return unsupportedRefresh;
-        },
         useEffectEvent: function () {
           return throwOnUseEffectEventCall;
-        },
-        useSwipeTransition: function (previous, current) {
-          resolveCurrentlyRenderingComponent();
-          return [current, unsupportedStartGesture];
         }
       },
       currentResumableState = null,
@@ -10294,5 +9973,5 @@
         startWork(request);
       });
     };
-    exports.version = "19.1.0-experimental-d55cc79b-20250228";
+    exports.version = "19.1.0-experimental-b3a95caf-20250113";
   })();
diff --git a/node_modules/react-dom/cjs/react-dom-server.browser.production.js b/node_modules/react-dom/cjs/react-dom-server.browser.production.js
index 3567d8e..37204c6 100644
--- a/node_modules/react-dom/cjs/react-dom-server.browser.production.js
+++ b/node_modules/react-dom/cjs/react-dom-server.browser.production.js
@@ -66,7 +66,6 @@ var REACT_ELEMENT_TYPE = Symbol.for("react.transitional.element"),
   REACT_SCOPE_TYPE = Symbol.for("react.scope"),
   REACT_OFFSCREEN_TYPE = Symbol.for("react.offscreen"),
   REACT_LEGACY_HIDDEN_TYPE = Symbol.for("react.legacy_hidden"),
-  REACT_MEMO_CACHE_SENTINEL = Symbol.for("react.memo_cache_sentinel"),
   REACT_POSTPONE_TYPE = Symbol.for("react.postpone"),
   REACT_VIEW_TRANSITION_TYPE = Symbol.for("react.view_transition"),
   MAYBE_ITERATOR_SYMBOL = Symbol.iterator,
@@ -460,7 +459,8 @@ function createRenderState(
     segmentPrefix: stringToPrecomputedChunk(idPrefix + "S:"),
     boundaryPrefix: stringToPrecomputedChunk(idPrefix + "B:"),
     startInlineScript: inlineScriptWithNonce,
-    preamble: createPreambleState(),
+    htmlChunks: null,
+    headChunks: null,
     externalRuntimeScript: externalRuntimeScript,
     bootstrapChunks: bootstrapChunks,
     importMapChunks: externalRuntimeConfig,
@@ -634,14 +634,6 @@ function createResumableState(
     moduleScriptResources: {}
   };
 }
-function createPreambleState() {
-  return {
-    htmlChunks: null,
-    headChunks: null,
-    bodyChunks: null,
-    contribution: 0
-  };
-}
 function createFormatContext(insertionMode, selectedValue, tagScope) {
   return {
     insertionMode: insertionMode,
@@ -652,9 +644,9 @@ function createFormatContext(insertionMode, selectedValue, tagScope) {
 function createRootFormatContext(namespaceURI) {
   return createFormatContext(
     "http://www.w3.org/2000/svg" === namespaceURI
-      ? 4
+      ? 3
       : "http://www.w3.org/1998/Math/MathML" === namespaceURI
-        ? 5
+        ? 4
         : 0,
     null,
     0
@@ -671,34 +663,33 @@ function getChildFormatContext(parentContext, type, props) {
         parentContext.tagScope
       );
     case "svg":
-      return createFormatContext(4, null, parentContext.tagScope);
+      return createFormatContext(3, null, parentContext.tagScope);
     case "picture":
       return createFormatContext(2, null, parentContext.tagScope | 2);
     case "math":
-      return createFormatContext(5, null, parentContext.tagScope);
+      return createFormatContext(4, null, parentContext.tagScope);
     case "foreignObject":
       return createFormatContext(2, null, parentContext.tagScope);
     case "table":
-      return createFormatContext(6, null, parentContext.tagScope);
+      return createFormatContext(5, null, parentContext.tagScope);
     case "thead":
     case "tbody":
     case "tfoot":
-      return createFormatContext(7, null, parentContext.tagScope);
+      return createFormatContext(6, null, parentContext.tagScope);
     case "colgroup":
-      return createFormatContext(9, null, parentContext.tagScope);
-    case "tr":
       return createFormatContext(8, null, parentContext.tagScope);
-    case "head":
-      if (2 > parentContext.insertionMode)
-        return createFormatContext(3, null, parentContext.tagScope);
-      break;
-    case "html":
-      if (0 === parentContext.insertionMode)
-        return createFormatContext(1, null, parentContext.tagScope);
+    case "tr":
+      return createFormatContext(7, null, parentContext.tagScope);
   }
-  return 6 <= parentContext.insertionMode || 2 > parentContext.insertionMode
+  return 5 <= parentContext.insertionMode
     ? createFormatContext(2, null, parentContext.tagScope)
-    : parentContext;
+    : 0 === parentContext.insertionMode
+      ? "html" === type
+        ? createFormatContext(1, null, parentContext.tagScope)
+        : createFormatContext(2, null, parentContext.tagScope)
+      : 1 === parentContext.insertionMode
+        ? createFormatContext(2, null, parentContext.tagScope)
+        : parentContext;
 }
 var textSeparator = stringToPrecomputedChunk("\x3c!-- --\x3e");
 function pushTextInstance(target, text, renderState, textEmbedded) {
@@ -1209,29 +1200,6 @@ function pushScriptImpl(target, props) {
   target.push(endChunkForTag("script"));
   return null;
 }
-function pushStartSingletonElement(target, props, tag) {
-  target.push(startChunkForTag(tag));
-  var innerHTML = (tag = null),
-    propKey;
-  for (propKey in props)
-    if (hasOwnProperty.call(props, propKey)) {
-      var propValue = props[propKey];
-      if (null != propValue)
-        switch (propKey) {
-          case "children":
-            tag = propValue;
-            break;
-          case "dangerouslySetInnerHTML":
-            innerHTML = propValue;
-            break;
-          default:
-            pushAttribute(target, propKey, propValue);
-        }
-    }
-  target.push(endOfStartTag);
-  pushInnerHTML(target, innerHTML, tag);
-  return tag;
-}
 function pushStartGenericElement(target, props, tag) {
   target.push(startChunkForTag(tag));
   var innerHTML = (tag = null),
@@ -1277,7 +1245,6 @@ function pushStartInstance(
   props,
   resumableState,
   renderState,
-  preambleState,
   hoistableState,
   formatContext,
   textEmbedded,
@@ -1756,7 +1723,7 @@ function pushStartInstance(
       return JSCompiler_inline_result$jscomp$2;
     case "title":
       if (
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp
       )
@@ -1775,7 +1742,7 @@ function pushStartInstance(
         href = props.href,
         precedence = props.precedence;
       if (
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp ||
         "string" !== typeof rel ||
@@ -1857,7 +1824,7 @@ function pushStartInstance(
         "symbol" === typeof asyncProp ||
         props.onLoad ||
         props.onError ||
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp
       )
@@ -1898,7 +1865,7 @@ function pushStartInstance(
       var precedence$jscomp$0 = props.precedence,
         href$jscomp$0 = props.href;
       if (
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp ||
         "string" !== typeof precedence$jscomp$0 ||
@@ -2007,7 +1974,7 @@ function pushStartInstance(
       return JSCompiler_inline_result$jscomp$6;
     case "meta":
       if (
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp
       )
@@ -2121,7 +2088,6 @@ function pushStartInstance(
             header;
           headers &&
           0 < headers.remainingCapacity &&
-          "string" !== typeof props.srcSet &&
           ("high" === props.fetchPriority ||
             500 > headers.highImagePreloads.length) &&
           ((header = getPreloadAsHeader(src, "image", {
@@ -2181,13 +2147,10 @@ function pushStartInstance(
     case "missing-glyph":
       break;
     case "head":
-      if (2 > formatContext.insertionMode) {
-        var preamble = preambleState || renderState.preamble;
-        if (preamble.headChunks)
-          throw Error(formatProdErrorMessage(545, "`<head>`"));
-        preamble.headChunks = [];
-        var JSCompiler_inline_result$jscomp$9 = pushStartSingletonElement(
-          preamble.headChunks,
+      if (2 > formatContext.insertionMode && null === renderState.headChunks) {
+        renderState.headChunks = [];
+        var JSCompiler_inline_result$jscomp$9 = pushStartGenericElement(
+          renderState.headChunks,
           props,
           "head"
         );
@@ -2198,42 +2161,24 @@ function pushStartInstance(
           "head"
         );
       return JSCompiler_inline_result$jscomp$9;
-    case "body":
-      if (2 > formatContext.insertionMode) {
-        var preamble$jscomp$0 = preambleState || renderState.preamble;
-        if (preamble$jscomp$0.bodyChunks)
-          throw Error(formatProdErrorMessage(545, "`<body>`"));
-        preamble$jscomp$0.bodyChunks = [];
-        var JSCompiler_inline_result$jscomp$10 = pushStartSingletonElement(
-          preamble$jscomp$0.bodyChunks,
-          props,
-          "body"
-        );
-      } else
-        JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
-          target$jscomp$0,
-          props,
-          "body"
-        );
-      return JSCompiler_inline_result$jscomp$10;
     case "html":
-      if (0 === formatContext.insertionMode) {
-        var preamble$jscomp$1 = preambleState || renderState.preamble;
-        if (preamble$jscomp$1.htmlChunks)
-          throw Error(formatProdErrorMessage(545, "`<html>`"));
-        preamble$jscomp$1.htmlChunks = [doctypeChunk];
-        var JSCompiler_inline_result$jscomp$11 = pushStartSingletonElement(
-          preamble$jscomp$1.htmlChunks,
+      if (
+        0 === formatContext.insertionMode &&
+        null === renderState.htmlChunks
+      ) {
+        renderState.htmlChunks = [doctypeChunk];
+        var JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
+          renderState.htmlChunks,
           props,
           "html"
         );
       } else
-        JSCompiler_inline_result$jscomp$11 = pushStartGenericElement(
+        JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
           target$jscomp$0,
           props,
           "html"
         );
-      return JSCompiler_inline_result$jscomp$11;
+      return JSCompiler_inline_result$jscomp$10;
     default:
       if (-1 !== type.indexOf("-")) {
         target$jscomp$0.push(startChunkForTag(type));
@@ -2296,21 +2241,6 @@ function endChunkForTag(tag) {
     endTagCache.set(tag, chunk));
   return chunk;
 }
-function hoistPreambleState(renderState, preambleState) {
-  renderState = renderState.preamble;
-  null === renderState.htmlChunks &&
-    preambleState.htmlChunks &&
-    ((renderState.htmlChunks = preambleState.htmlChunks),
-    (preambleState.contribution |= 1));
-  null === renderState.headChunks &&
-    preambleState.headChunks &&
-    ((renderState.headChunks = preambleState.headChunks),
-    (preambleState.contribution |= 4));
-  null === renderState.bodyChunks &&
-    preambleState.bodyChunks &&
-    ((renderState.bodyChunks = preambleState.bodyChunks),
-    (preambleState.contribution |= 2));
-}
 function writeBootstrap(destination, renderState) {
   renderState = renderState.bootstrapChunks;
   for (var i = 0; i < renderState.length - 1; i++)
@@ -2348,16 +2278,6 @@ function writeStartPendingSuspenseBoundary(destination, renderState, id) {
   writeChunk(destination, stringToChunk(id.toString(16)));
   return writeChunkAndReturn(destination, startPendingSuspenseBoundary2);
 }
-var boundaryPreambleContributionChunkStart =
-    stringToPrecomputedChunk("\x3c!--"),
-  boundaryPreambleContributionChunkEnd = stringToPrecomputedChunk("--\x3e");
-function writePreambleContribution(destination, preambleState) {
-  preambleState = preambleState.contribution;
-  0 !== preambleState &&
-    (writeChunk(destination, boundaryPreambleContributionChunkStart),
-    writeChunk(destination, stringToChunk("" + preambleState)),
-    writeChunk(destination, boundaryPreambleContributionChunkEnd));
-}
 var startSegmentHTML = stringToPrecomputedChunk('<div hidden id="'),
   startSegmentHTML2 = stringToPrecomputedChunk('">'),
   endSegmentHTML = stringToPrecomputedChunk("</div>"),
@@ -2389,7 +2309,6 @@ function writeStartSegment(destination, renderState, formatContext, id) {
   switch (formatContext.insertionMode) {
     case 0:
     case 1:
-    case 3:
     case 2:
       return (
         writeChunk(destination, startSegmentHTML),
@@ -2397,42 +2316,42 @@ function writeStartSegment(destination, renderState, formatContext, id) {
         writeChunk(destination, stringToChunk(id.toString(16))),
         writeChunkAndReturn(destination, startSegmentHTML2)
       );
-    case 4:
+    case 3:
       return (
         writeChunk(destination, startSegmentSVG),
         writeChunk(destination, renderState.segmentPrefix),
         writeChunk(destination, stringToChunk(id.toString(16))),
         writeChunkAndReturn(destination, startSegmentSVG2)
       );
-    case 5:
+    case 4:
       return (
         writeChunk(destination, startSegmentMathML),
         writeChunk(destination, renderState.segmentPrefix),
         writeChunk(destination, stringToChunk(id.toString(16))),
         writeChunkAndReturn(destination, startSegmentMathML2)
       );
-    case 6:
+    case 5:
       return (
         writeChunk(destination, startSegmentTable),
         writeChunk(destination, renderState.segmentPrefix),
         writeChunk(destination, stringToChunk(id.toString(16))),
         writeChunkAndReturn(destination, startSegmentTable2)
       );
-    case 7:
+    case 6:
       return (
         writeChunk(destination, startSegmentTableBody),
         writeChunk(destination, renderState.segmentPrefix),
         writeChunk(destination, stringToChunk(id.toString(16))),
         writeChunkAndReturn(destination, startSegmentTableBody2)
       );
-    case 8:
+    case 7:
       return (
         writeChunk(destination, startSegmentTableRow),
         writeChunk(destination, renderState.segmentPrefix),
         writeChunk(destination, stringToChunk(id.toString(16))),
         writeChunkAndReturn(destination, startSegmentTableRow2)
       );
-    case 9:
+    case 8:
       return (
         writeChunk(destination, startSegmentColGroup),
         writeChunk(destination, renderState.segmentPrefix),
@@ -2447,20 +2366,19 @@ function writeEndSegment(destination, formatContext) {
   switch (formatContext.insertionMode) {
     case 0:
     case 1:
-    case 3:
     case 2:
       return writeChunkAndReturn(destination, endSegmentHTML);
-    case 4:
+    case 3:
       return writeChunkAndReturn(destination, endSegmentSVG);
-    case 5:
+    case 4:
       return writeChunkAndReturn(destination, endSegmentMathML);
-    case 6:
+    case 5:
       return writeChunkAndReturn(destination, endSegmentTable);
-    case 7:
+    case 6:
       return writeChunkAndReturn(destination, endSegmentTableBody);
-    case 8:
+    case 7:
       return writeChunkAndReturn(destination, endSegmentTableRow);
-    case 9:
+    case 8:
       return writeChunkAndReturn(destination, endSegmentColGroup);
     default:
       throw Error(formatProdErrorMessage(397));
@@ -3006,7 +2924,6 @@ function preload(href, as, options) {
           var header;
           resumableState &&
           0 < resumableState.remainingCapacity &&
-          "string" !== typeof imageSrcSet &&
           "high" === fetchPriority &&
           ((header = getPreloadAsHeader(href, as, options)),
           0 <= (resumableState.remainingCapacity -= header.length + 2))
@@ -3728,12 +3645,6 @@ function readPreviousThenableFromState() {
       index
     );
 }
-function unsupportedRefresh() {
-  throw Error(formatProdErrorMessage(393));
-}
-function unsupportedStartGesture() {
-  throw Error(formatProdErrorMessage(547));
-}
 function noop$1() {}
 var HooksDispatcher = {
     readContext: function (context) {
@@ -3795,9 +3706,9 @@ var HooksDispatcher = {
       if (null === resumableState) throw Error(formatProdErrorMessage(404));
       overflow = localIdCounter++;
       JSCompiler_inline_result =
-        "\u00ab" + resumableState.idPrefix + "R" + JSCompiler_inline_result;
+        ":" + resumableState.idPrefix + "R" + JSCompiler_inline_result;
       0 < overflow && (JSCompiler_inline_result += "H" + overflow.toString(32));
-      return JSCompiler_inline_result + "\u00bb";
+      return JSCompiler_inline_result + ":";
     },
     useSyncExternalStore: function (subscribe, getSnapshot, getServerSnapshot) {
       if (void 0 === getServerSnapshot)
@@ -3814,20 +3725,8 @@ var HooksDispatcher = {
       resolveCurrentlyRenderingComponent();
       return sharedNotPendingObject;
     },
-    useMemoCache: function (size) {
-      for (var data = Array(size), i = 0; i < size; i++)
-        data[i] = REACT_MEMO_CACHE_SENTINEL;
-      return data;
-    },
-    useCacheRefresh: function () {
-      return unsupportedRefresh;
-    },
     useEffectEvent: function () {
       return throwOnUseEffectEventCall;
-    },
-    useSwipeTransition: function (previous, current) {
-      resolveCurrentlyRenderingComponent();
-      return [current, unsupportedStartGesture];
     }
   },
   currentResumableState = null,
@@ -4085,7 +3984,7 @@ function RequestInstance(
   this.status = 10;
   this.fatalError = null;
   this.pendingRootTasks = this.allPendingTasks = this.nextSegmentId = 0;
-  this.completedPreambleSegments = this.completedRootSegment = null;
+  this.completedRootSegment = null;
   this.abortableTasks = abortSet;
   this.pingedTasks = [];
   this.clientRenderedBoundaries = [];
@@ -4144,7 +4043,6 @@ function createRequest(
     null,
     renderState,
     null,
-    null,
     resumableState.abortableTasks,
     null,
     rootFormatContext,
@@ -4237,7 +4135,6 @@ function resumeRequest(
         null,
         onAllReady,
         null,
-        null,
         renderState.abortableTasks,
         null,
         postponedState.rootFormatContext,
@@ -4316,12 +4213,7 @@ function pingTask(request, task) {
           return performWork(request);
         }));
 }
-function createSuspenseBoundary(
-  request,
-  fallbackAbortableTasks,
-  contentPreamble,
-  fallbackPreamble
-) {
+function createSuspenseBoundary(request, fallbackAbortableTasks) {
   return {
     status: 0,
     rootSegmentID: -1,
@@ -4333,8 +4225,6 @@ function createSuspenseBoundary(
     errorDigest: null,
     contentState: createHoistableState(),
     fallbackState: createHoistableState(),
-    contentPreamble: contentPreamble,
-    fallbackPreamble: fallbackPreamble,
     trackedContentKeyPath: null,
     trackedFallbackNode: null
   };
@@ -4346,7 +4236,6 @@ function createRenderTask(
   childIndex,
   blockedBoundary,
   blockedSegment,
-  blockedPreamble,
   hoistableState,
   abortSet,
   keyPath,
@@ -4369,7 +4258,6 @@ function createRenderTask(
     },
     blockedBoundary: blockedBoundary,
     blockedSegment: blockedSegment,
-    blockedPreamble: blockedPreamble,
     hoistableState: hoistableState,
     abortSet: abortSet,
     keyPath: keyPath,
@@ -4413,7 +4301,6 @@ function createReplayTask(
     },
     blockedBoundary: blockedBoundary,
     blockedSegment: null,
-    blockedPreamble: null,
     hoistableState: hoistableState,
     abortSet: abortSet,
     keyPath: keyPath,
@@ -4437,12 +4324,11 @@ function createPendingSegment(
 ) {
   return {
     status: 0,
-    parentFlushed: !1,
     id: -1,
     index: index,
+    parentFlushed: !1,
     chunks: [],
     children: [],
-    preambleChildren: [],
     parentFormatContext: parentFormatContext,
     boundary: boundary,
     lastPushedText: lastPushedText,
@@ -4674,13 +4560,12 @@ function renderElement(request, task, keyPath, type, props, ref) {
         (task.formatContext = defaultProps),
         (task.keyPath = initialState);
     else {
-      ref = pushStartInstance(
+      initialState = pushStartInstance(
         newProps.chunks,
         type,
         props,
         request.resumableState,
         request.renderState,
-        task.blockedPreamble,
         task.hoistableState,
         task.formatContext,
         newProps.lastPushedText,
@@ -4688,42 +4573,12 @@ function renderElement(request, task, keyPath, type, props, ref) {
       );
       newProps.lastPushedText = !1;
       defaultProps = task.formatContext;
-      initialState = task.keyPath;
+      ref = task.keyPath;
+      task.formatContext = getChildFormatContext(defaultProps, type, props);
       task.keyPath = keyPath;
-      3 ===
-      (task.formatContext = getChildFormatContext(defaultProps, type, props))
-        .insertionMode
-        ? ((keyPath = createPendingSegment(
-            request,
-            0,
-            null,
-            task.formatContext,
-            !1,
-            !1
-          )),
-          newProps.preambleChildren.push(keyPath),
-          (keyPath = createRenderTask(
-            request,
-            null,
-            ref,
-            -1,
-            task.blockedBoundary,
-            keyPath,
-            task.blockedPreamble,
-            task.hoistableState,
-            request.abortableTasks,
-            task.keyPath,
-            task.formatContext,
-            task.context,
-            task.treeContext,
-            task.componentStack,
-            task.isFallback
-          )),
-          pushComponentStack(keyPath),
-          request.pingedTasks.push(keyPath))
-        : renderNode(request, task, ref, -1);
+      renderNode(request, task, initialState, -1);
       task.formatContext = defaultProps;
-      task.keyPath = initialState;
+      task.keyPath = ref;
       a: {
         task = newProps.chunks;
         request = request.resumableState;
@@ -4758,9 +4613,6 @@ function renderElement(request, task, keyPath, type, props, ref) {
               request.hasHtml = !0;
               break a;
             }
-            break;
-          case "head":
-            if (1 >= defaultProps.insertionMode) break a;
         }
         task.push(endChunkForTag(type));
       }
@@ -4810,34 +4662,25 @@ function renderElement(request, task, keyPath, type, props, ref) {
           }
         } else {
           type = task.keyPath;
-          var parentBoundary = task.blockedBoundary;
-          ref = task.blockedPreamble;
-          var parentHoistableState = task.hoistableState;
-          propName$34 = task.blockedSegment;
-          propName = props.fallback;
+          var parentBoundary = task.blockedBoundary,
+            parentHoistableState = task.hoistableState;
+          ref = task.blockedSegment;
+          propName$34 = props.fallback;
           props = props.children;
           var fallbackAbortSet = new Set();
-          var newBoundary =
-            2 > task.formatContext.insertionMode
-              ? createSuspenseBoundary(
-                  request,
-                  fallbackAbortSet,
-                  createPreambleState(),
-                  createPreambleState()
-                )
-              : createSuspenseBoundary(request, fallbackAbortSet, null, null);
+          propName = createSuspenseBoundary(request, fallbackAbortSet);
           null !== request.trackedPostpones &&
-            (newBoundary.trackedContentKeyPath = keyPath);
+            (propName.trackedContentKeyPath = keyPath);
           var boundarySegment = createPendingSegment(
             request,
-            propName$34.chunks.length,
-            newBoundary,
+            ref.chunks.length,
+            propName,
             task.formatContext,
             !1,
             !1
           );
-          propName$34.children.push(boundarySegment);
-          propName$34.lastPushedText = !1;
+          ref.children.push(boundarySegment);
+          ref.lastPushedText = !1;
           var contentRootSegment = createPendingSegment(
             request,
             0,
@@ -4851,13 +4694,12 @@ function renderElement(request, task, keyPath, type, props, ref) {
             newProps = [keyPath[0], "Suspense Fallback", keyPath[2]];
             defaultProps = [newProps[1], newProps[2], [], null];
             request.trackedPostpones.workingMap.set(newProps, defaultProps);
-            newBoundary.trackedFallbackNode = defaultProps;
+            propName.trackedFallbackNode = defaultProps;
             task.blockedSegment = boundarySegment;
-            task.blockedPreamble = newBoundary.fallbackPreamble;
             task.keyPath = newProps;
             boundarySegment.status = 6;
             try {
-              renderNode(request, task, propName, -1),
+              renderNode(request, task, propName$34, -1),
                 boundarySegment.lastPushedText &&
                   boundarySegment.textEmbedded &&
                   boundarySegment.chunks.push(textSeparator),
@@ -4868,19 +4710,16 @@ function renderElement(request, task, keyPath, type, props, ref) {
                 thrownValue)
               );
             } finally {
-              (task.blockedSegment = propName$34),
-                (task.blockedPreamble = ref),
-                (task.keyPath = type);
+              (task.blockedSegment = ref), (task.keyPath = type);
             }
             task = createRenderTask(
               request,
               null,
               props,
               -1,
-              newBoundary,
+              propName,
               contentRootSegment,
-              newBoundary.contentPreamble,
-              newBoundary.contentState,
+              propName.contentState,
               task.abortSet,
               keyPath,
               task.formatContext,
@@ -4892,9 +4731,8 @@ function renderElement(request, task, keyPath, type, props, ref) {
             pushComponentStack(task);
             request.pingedTasks.push(task);
           } else {
-            task.blockedBoundary = newBoundary;
-            task.blockedPreamble = newBoundary.contentPreamble;
-            task.hoistableState = newBoundary.contentState;
+            task.blockedBoundary = propName;
+            task.hoistableState = propName.contentState;
             task.blockedSegment = contentRootSegment;
             task.keyPath = keyPath;
             contentRootSegment.status = 6;
@@ -4905,17 +4743,14 @@ function renderElement(request, task, keyPath, type, props, ref) {
                   contentRootSegment.textEmbedded &&
                   contentRootSegment.chunks.push(textSeparator),
                 (contentRootSegment.status = 1),
-                queueCompletedSegment(newBoundary, contentRootSegment),
-                0 === newBoundary.pendingTasks && 0 === newBoundary.status)
+                queueCompletedSegment(propName, contentRootSegment),
+                0 === propName.pendingTasks && 0 === propName.status)
               ) {
-                newBoundary.status = 1;
-                0 === request.pendingRootTasks &&
-                  task.blockedPreamble &&
-                  preparePreamble(request);
+                propName.status = 1;
                 break a;
               }
             } catch (thrownValue$29) {
-              (newBoundary.status = 4),
+              (propName.status = 4),
                 12 === request.status
                   ? ((contentRootSegment.status = 3),
                     (newProps = request.fatalError))
@@ -4932,24 +4767,22 @@ function renderElement(request, task, keyPath, type, props, ref) {
                       newProps,
                       defaultProps
                     )),
-                (newBoundary.errorDigest = initialState),
-                untrackBoundary(request, newBoundary);
+                (propName.errorDigest = initialState),
+                untrackBoundary(request, propName);
             } finally {
               (task.blockedBoundary = parentBoundary),
-                (task.blockedPreamble = ref),
                 (task.hoistableState = parentHoistableState),
-                (task.blockedSegment = propName$34),
+                (task.blockedSegment = ref),
                 (task.keyPath = type);
             }
             task = createRenderTask(
               request,
               null,
-              propName,
+              propName$34,
               -1,
               parentBoundary,
               boundarySegment,
-              newBoundary.fallbackPreamble,
-              newBoundary.fallbackState,
+              propName.fallbackState,
               fallbackAbortSet,
               [keyPath[0], "Suspense Fallback", keyPath[2]],
               task.formatContext,
@@ -4968,9 +4801,9 @@ function renderElement(request, task, keyPath, type, props, ref) {
       switch (type.$$typeof) {
         case REACT_FORWARD_REF_TYPE:
           if ("ref" in props)
-            for (newBoundary in ((newProps = {}), props))
-              "ref" !== newBoundary &&
-                (newProps[newBoundary] = props[newBoundary]);
+            for (boundarySegment in ((newProps = {}), props))
+              "ref" !== boundarySegment &&
+                (newProps[boundarySegment] = props[boundarySegment]);
           else newProps = props;
           type = renderWithHooks(
             request,
@@ -5164,27 +4997,17 @@ function retryNode(request, task) {
                         previousReplaySet = task.replay,
                         parentBoundary = task.blockedBoundary,
                         parentHoistableState = task.hoistableState,
-                        content = props.children,
-                        fallback = props.fallback,
-                        fallbackAbortSet = new Set();
-                      props =
-                        2 > task.formatContext.insertionMode
-                          ? createSuspenseBoundary(
-                              request,
-                              fallbackAbortSet,
-                              createPreambleState(),
-                              createPreambleState()
-                            )
-                          : createSuspenseBoundary(
-                              request,
-                              fallbackAbortSet,
-                              null,
-                              null
-                            );
-                      props.parentFlushed = !0;
-                      props.rootSegmentID = ref;
-                      task.blockedBoundary = props;
-                      task.hoistableState = props.contentState;
+                        content = props.children;
+                      props = props.fallback;
+                      var fallbackAbortSet = new Set(),
+                        resumedBoundary = createSuspenseBoundary(
+                          request,
+                          fallbackAbortSet
+                        );
+                      resumedBoundary.parentFlushed = !0;
+                      resumedBoundary.rootSegmentID = ref;
+                      task.blockedBoundary = resumedBoundary;
+                      task.hoistableState = resumedBoundary.contentState;
                       task.keyPath = key;
                       task.replay = {
                         nodes: replay,
@@ -5199,13 +5022,16 @@ function retryNode(request, task) {
                         )
                           throw Error(formatProdErrorMessage(488));
                         task.replay.pendingTasks--;
-                        if (0 === props.pendingTasks && 0 === props.status) {
-                          props.status = 1;
-                          request.completedBoundaries.push(props);
+                        if (
+                          0 === resumedBoundary.pendingTasks &&
+                          0 === resumedBoundary.status
+                        ) {
+                          resumedBoundary.status = 1;
+                          request.completedBoundaries.push(resumedBoundary);
                           break b;
                         }
                       } catch (error) {
-                        (props.status = 4),
+                        (resumedBoundary.status = 4),
                           (childNodes = getThrownInfo(task.componentStack)),
                           "object" === typeof error &&
                           null !== error &&
@@ -5217,9 +5043,11 @@ function retryNode(request, task) {
                                 error,
                                 childNodes
                               )),
-                          (props.errorDigest = type),
+                          (resumedBoundary.errorDigest = type),
                           task.replay.pendingTasks--,
-                          request.clientRenderedBoundaries.push(props);
+                          request.clientRenderedBoundaries.push(
+                            resumedBoundary
+                          );
                       } finally {
                         (task.blockedBoundary = parentBoundary),
                           (task.hoistableState = parentHoistableState),
@@ -5234,10 +5062,10 @@ function retryNode(request, task) {
                           slots: node$jscomp$0,
                           pendingTasks: 0
                         },
-                        fallback,
+                        props,
                         -1,
                         parentBoundary,
-                        props.fallbackState,
+                        resumedBoundary.fallbackState,
                         fallbackAbortSet,
                         [key[0], "Suspense Fallback", key[2]],
                         task.formatContext,
@@ -5565,7 +5393,6 @@ function spawnNewSuspendedRenderTask(request, task, thenableState) {
     task.childIndex,
     task.blockedBoundary,
     newSegment,
-    task.blockedPreamble,
     task.hoistableState,
     task.abortSet,
     task.keyPath,
@@ -5751,12 +5578,7 @@ function abortRemainingReplayNodes(
       node = node[5];
       var request = request$jscomp$0,
         errorDigest = errorDigest$jscomp$0,
-        resumedBoundary = createSuspenseBoundary(
-          request,
-          new Set(),
-          null,
-          null
-        );
+        resumedBoundary = createSuspenseBoundary(request, new Set());
       resumedBoundary.parentFlushed = !0;
       resumedBoundary.rootSegmentID = node;
       resumedBoundary.status = 4;
@@ -5940,7 +5762,6 @@ function safelyEmitEarlyPreloads(request, shellComplete) {
 }
 function completeShell(request) {
   null === request.trackedPostpones && safelyEmitEarlyPreloads(request, !0);
-  null === request.trackedPostpones && preparePreamble(request);
   request.onShellError = noop;
   request = request.onShellReady;
   request();
@@ -5953,7 +5774,6 @@ function completeAll(request) {
       : null === request.completedRootSegment ||
           5 !== request.completedRootSegment.status
   );
-  preparePreamble(request);
   request = request.onAllReady;
   request();
 }
@@ -5992,11 +5812,7 @@ function finishedTask(request, boundary, segment) {
               request.completedBoundaries.push(boundary),
             1 === boundary.status &&
               (boundary.fallbackAbortableTasks.forEach(abortTaskSoft, request),
-              boundary.fallbackAbortableTasks.clear(),
-              0 === request.pendingRootTasks &&
-                null === request.trackedPostpones &&
-                null !== boundary.contentPreamble &&
-                preparePreamble(request)))
+              boundary.fallbackAbortableTasks.clear()))
           : null !== segment &&
             segment.parentFlushed &&
             1 === segment.status &&
@@ -6188,11 +6004,7 @@ function performWork(request$jscomp$1) {
                         (boundary.errorDigest = request$jscomp$0),
                         untrackBoundary(request, boundary),
                         boundary.parentFlushed &&
-                          request.clientRenderedBoundaries.push(boundary),
-                        0 === request.pendingRootTasks &&
-                          null === request.trackedPostpones &&
-                          null !== boundary.contentPreamble &&
-                          preparePreamble(request)));
+                          request.clientRenderedBoundaries.push(boundary)));
                   request.allPendingTasks--;
                   0 === request.allPendingTasks && completeAll(request);
                 }
@@ -6216,82 +6028,6 @@ function performWork(request$jscomp$1) {
     }
   }
 }
-function preparePreambleFromSubtree(
-  request,
-  segment,
-  collectedPreambleSegments
-) {
-  segment.preambleChildren.length &&
-    collectedPreambleSegments.push(segment.preambleChildren);
-  for (var pendingPreambles = !1, i = 0; i < segment.children.length; i++)
-    pendingPreambles =
-      preparePreambleFromSegment(
-        request,
-        segment.children[i],
-        collectedPreambleSegments
-      ) || pendingPreambles;
-  return pendingPreambles;
-}
-function preparePreambleFromSegment(
-  request,
-  segment,
-  collectedPreambleSegments
-) {
-  var boundary = segment.boundary;
-  if (null === boundary)
-    return preparePreambleFromSubtree(
-      request,
-      segment,
-      collectedPreambleSegments
-    );
-  var preamble = boundary.contentPreamble,
-    fallbackPreamble = boundary.fallbackPreamble;
-  if (null === preamble || null === fallbackPreamble) return !1;
-  switch (boundary.status) {
-    case 1:
-      hoistPreambleState(request.renderState, preamble);
-      segment = boundary.completedSegments[0];
-      if (!segment) throw Error(formatProdErrorMessage(391));
-      return preparePreambleFromSubtree(
-        request,
-        segment,
-        collectedPreambleSegments
-      );
-    case 5:
-      if (null !== request.trackedPostpones) return !0;
-    case 4:
-      if (1 === segment.status)
-        return (
-          hoistPreambleState(request.renderState, fallbackPreamble),
-          preparePreambleFromSubtree(
-            request,
-            segment,
-            collectedPreambleSegments
-          )
-        );
-    default:
-      return !0;
-  }
-}
-function preparePreamble(request) {
-  if (
-    request.completedRootSegment &&
-    null === request.completedPreambleSegments
-  ) {
-    var collectedPreambleSegments = [],
-      hasPendingPreambles = preparePreambleFromSegment(
-        request,
-        request.completedRootSegment,
-        collectedPreambleSegments
-      ),
-      preamble = request.renderState.preamble;
-    if (
-      !1 === hasPendingPreambles ||
-      (preamble.headChunks && preamble.bodyChunks)
-    )
-      request.completedPreambleSegments = collectedPreambleSegments;
-  }
-}
 function flushSubtree(request, destination, segment, hoistableState) {
   segment.parentFlushed = !0;
   switch (segment.status) {
@@ -6334,27 +6070,21 @@ function flushSegment(request, destination, segment, hoistableState) {
   if (null === boundary)
     return flushSubtree(request, destination, segment, hoistableState);
   boundary.parentFlushed = !0;
-  if (4 === boundary.status) {
-    var errorDigest = boundary.errorDigest;
-    writeChunkAndReturn(destination, startClientRenderedSuspenseBoundary);
-    writeChunk(destination, clientRenderedSuspenseBoundaryError1);
-    errorDigest &&
-      (writeChunk(destination, clientRenderedSuspenseBoundaryError1A),
-      writeChunk(destination, stringToChunk(escapeTextForBrowser(errorDigest))),
-      writeChunk(
-        destination,
-        clientRenderedSuspenseBoundaryErrorAttrInterstitial
-      ));
-    writeChunkAndReturn(destination, clientRenderedSuspenseBoundaryError2);
-    flushSubtree(request, destination, segment, hoistableState);
-    (request = boundary.fallbackPreamble) &&
-      writePreambleContribution(destination, request);
-    return writeChunkAndReturn(destination, endSuspenseBoundary);
-  }
-  if (1 !== boundary.status)
-    return (
-      0 === boundary.status &&
-        (boundary.rootSegmentID = request.nextSegmentId++),
+  if (4 === boundary.status)
+    (boundary = boundary.errorDigest),
+      writeChunkAndReturn(destination, startClientRenderedSuspenseBoundary),
+      writeChunk(destination, clientRenderedSuspenseBoundaryError1),
+      boundary &&
+        (writeChunk(destination, clientRenderedSuspenseBoundaryError1A),
+        writeChunk(destination, stringToChunk(escapeTextForBrowser(boundary))),
+        writeChunk(
+          destination,
+          clientRenderedSuspenseBoundaryErrorAttrInterstitial
+        )),
+      writeChunkAndReturn(destination, clientRenderedSuspenseBoundaryError2),
+      flushSubtree(request, destination, segment, hoistableState);
+  else if (1 !== boundary.status)
+    0 === boundary.status && (boundary.rootSegmentID = request.nextSegmentId++),
       0 < boundary.completedSegments.length &&
         request.partialBoundaries.push(boundary),
       writeStartPendingSuspenseBoundary(
@@ -6369,31 +6099,26 @@ function flushSegment(request, destination, segment, hoistableState) {
           hoistStylesheetDependency,
           hoistableState
         )),
-      flushSubtree(request, destination, segment, hoistableState),
-      writeChunkAndReturn(destination, endSuspenseBoundary)
-    );
-  if (boundary.byteSize > request.progressiveChunkSize)
-    return (
-      (boundary.rootSegmentID = request.nextSegmentId++),
+      flushSubtree(request, destination, segment, hoistableState);
+  else if (boundary.byteSize > request.progressiveChunkSize)
+    (boundary.rootSegmentID = request.nextSegmentId++),
       request.completedBoundaries.push(boundary),
       writeStartPendingSuspenseBoundary(
         destination,
         request.renderState,
         boundary.rootSegmentID
       ),
-      flushSubtree(request, destination, segment, hoistableState),
-      writeChunkAndReturn(destination, endSuspenseBoundary)
-    );
-  hoistableState &&
-    ((segment = boundary.contentState),
-    segment.styles.forEach(hoistStyleQueueDependency, hoistableState),
-    segment.stylesheets.forEach(hoistStylesheetDependency, hoistableState));
-  writeChunkAndReturn(destination, startCompletedSuspenseBoundary);
-  segment = boundary.completedSegments;
-  if (1 !== segment.length) throw Error(formatProdErrorMessage(391));
-  flushSegment(request, destination, segment[0], hoistableState);
-  (request = boundary.contentPreamble) &&
-    writePreambleContribution(destination, request);
+      flushSubtree(request, destination, segment, hoistableState);
+  else {
+    hoistableState &&
+      ((segment = boundary.contentState),
+      segment.styles.forEach(hoistStyleQueueDependency, hoistableState),
+      segment.stylesheets.forEach(hoistStylesheetDependency, hoistableState));
+    writeChunkAndReturn(destination, startCompletedSuspenseBoundary);
+    segment = boundary.completedSegments;
+    if (1 !== segment.length) throw Error(formatProdErrorMessage(391));
+    flushSegment(request, destination, segment[0], hoistableState);
+  }
   return writeChunkAndReturn(destination, endSuspenseBoundary);
 }
 function flushSegmentContainer(request, destination, segment, hoistableState) {
@@ -6519,8 +6244,6 @@ function flushCompletedQueues(request, destination) {
         completedRootSegment = request.completedRootSegment;
       if (null !== completedRootSegment) {
         if (5 === completedRootSegment.status) return;
-        var completedPreambleSegments = request.completedPreambleSegments;
-        if (null === completedPreambleSegments) return;
         var renderState = request.renderState;
         if (
           (0 !== request.allPendingTasks ||
@@ -6535,9 +6258,8 @@ function flushCompletedQueues(request, destination) {
             ((resumableState.scriptResources[src] = null),
             renderState.scripts.add(chunks));
         }
-        var preamble = renderState.preamble,
-          htmlChunks = preamble.htmlChunks,
-          headChunks = preamble.headChunks,
+        var htmlChunks = renderState.htmlChunks,
+          headChunks = renderState.headChunks,
           i$jscomp$0;
         if (htmlChunks) {
           for (i$jscomp$0 = 0; i$jscomp$0 < htmlChunks.length; i$jscomp$0++)
@@ -6578,36 +6300,10 @@ function flushCompletedQueues(request, destination) {
         var hoistableChunks = renderState.hoistableChunks;
         for (i$jscomp$0 = 0; i$jscomp$0 < hoistableChunks.length; i$jscomp$0++)
           writeChunk(destination, hoistableChunks[i$jscomp$0]);
-        for (
-          renderState = hoistableChunks.length = 0;
-          renderState < completedPreambleSegments.length;
-          renderState++
-        ) {
-          var segments = completedPreambleSegments[renderState];
-          for (
-            _renderState$external = 0;
-            _renderState$external < segments.length;
-            _renderState$external++
-          )
-            flushSegment(
-              request,
-              destination,
-              segments[_renderState$external],
-              null
-            );
-        }
-        var preamble$jscomp$0 = request.renderState.preamble,
-          headChunks$jscomp$0 = preamble$jscomp$0.headChunks;
-        (preamble$jscomp$0.htmlChunks || headChunks$jscomp$0) &&
+        hoistableChunks.length = 0;
+        htmlChunks &&
+          null === headChunks &&
           writeChunk(destination, endChunkForTag("head"));
-        var bodyChunks = preamble$jscomp$0.bodyChunks;
-        if (bodyChunks)
-          for (
-            completedPreambleSegments = 0;
-            completedPreambleSegments < bodyChunks.length;
-            completedPreambleSegments++
-          )
-            writeChunk(destination, bodyChunks[completedPreambleSegments]);
         flushSegment(request, destination, completedRootSegment, null);
         request.completedRootSegment = null;
         writeBootstrap(destination, request.renderState);
@@ -6856,19 +6552,11 @@ function getPostponedState(request) {
   )
     return (request.trackedPostpones = null);
   if (
-    null === request.completedRootSegment ||
-    (5 !== request.completedRootSegment.status &&
-      null !== request.completedPreambleSegments)
+    null !== request.completedRootSegment &&
+    5 === request.completedRootSegment.status
   ) {
-    var replaySlots = trackedPostpones.rootSlots;
-    var resumableState = request.resumableState;
-    resumableState.bootstrapScriptContent = void 0;
-    resumableState.bootstrapScripts = void 0;
-    resumableState.bootstrapModules = void 0;
-  } else {
-    replaySlots = request.completedRootSegment.id;
-    resumableState = request.resumableState;
-    var renderState = request.renderState;
+    var resumableState = request.resumableState,
+      renderState = request.renderState;
     resumableState.nextFormID = 0;
     resumableState.hasBody = !1;
     resumableState.hasHtml = !1;
@@ -6880,24 +6568,28 @@ function getPostponedState(request) {
     resumableState.scriptResources = {};
     resumableState.moduleUnknownResources = {};
     resumableState.moduleScriptResources = {};
-  }
+  } else
+    (resumableState = request.resumableState),
+      (resumableState.bootstrapScriptContent = void 0),
+      (resumableState.bootstrapScripts = void 0),
+      (resumableState.bootstrapModules = void 0);
   return {
     nextSegmentId: request.nextSegmentId,
     rootFormatContext: request.rootFormatContext,
     progressiveChunkSize: request.progressiveChunkSize,
     resumableState: request.resumableState,
     replayNodes: trackedPostpones.rootNodes,
-    replaySlots: replaySlots
+    replaySlots: trackedPostpones.rootSlots
   };
 }
 function ensureCorrectIsomorphicReactVersion() {
   var isomorphicReactPackageVersion = React.version;
-  if ("19.1.0-experimental-d55cc79b-20250228" !== isomorphicReactPackageVersion)
+  if ("19.1.0-experimental-b3a95caf-20250113" !== isomorphicReactPackageVersion)
     throw Error(
       formatProdErrorMessage(
         527,
         isomorphicReactPackageVersion,
-        "19.1.0-experimental-d55cc79b-20250228"
+        "19.1.0-experimental-b3a95caf-20250113"
       )
     );
 }
@@ -7152,4 +6844,4 @@ exports.resumeAndPrerender = function (children, postponedState, options) {
     startWork(request);
   });
 };
-exports.version = "19.1.0-experimental-d55cc79b-20250228";
+exports.version = "19.1.0-experimental-b3a95caf-20250113";
diff --git a/node_modules/react-dom/cjs/react-dom-server.bun.development.js b/node_modules/react-dom/cjs/react-dom-server.bun.development.js
index 13646a7..74ecefc 100644
--- a/node_modules/react-dom/cjs/react-dom-server.bun.development.js
+++ b/node_modules/react-dom/cjs/react-dom-server.bun.development.js
@@ -27,7 +27,6 @@ var React = require("react"),
   REACT_SCOPE_TYPE = Symbol.for("react.scope"),
   REACT_OFFSCREEN_TYPE = Symbol.for("react.offscreen"),
   REACT_LEGACY_HIDDEN_TYPE = Symbol.for("react.legacy_hidden"),
-  REACT_MEMO_CACHE_SENTINEL = Symbol.for("react.memo_cache_sentinel"),
   REACT_POSTPONE_TYPE = Symbol.for("react.postpone"),
   REACT_VIEW_TRANSITION_TYPE = Symbol.for("react.view_transition"),
   MAYBE_ITERATOR_SYMBOL = Symbol.iterator,
@@ -1446,26 +1445,26 @@ function createRenderState(
       "React expected a positive non-zero `maxHeadersLength` option but found %s instead. When using the `onHeaders` option you may supply an optional `maxHeadersLength` option as well however, when setting this value to zero or less no headers will be captured.",
       0 === maxHeadersLength ? "zero" : maxHeadersLength
     );
-  importMap = onHeaders
-    ? {
-        preconnects: "",
-        fontPreloads: "",
-        highImagePreloads: "",
-        remainingCapacity:
-          2 + ("number" === typeof maxHeadersLength ? maxHeadersLength : 2e3)
-      }
-    : null;
-  onHeaders = {
+  importMap = {
     placeholderPrefix: idPrefix + "P:",
     segmentPrefix: idPrefix + "S:",
     boundaryPrefix: idPrefix + "B:",
     startInlineScript: inlineScriptWithNonce,
-    preamble: createPreambleState(),
+    htmlChunks: null,
+    headChunks: null,
     externalRuntimeScript: externalRuntimeScript,
     bootstrapChunks: bootstrapChunks,
     importMapChunks: externalRuntimeConfig,
     onHeaders: onHeaders,
-    headers: importMap,
+    headers: onHeaders
+      ? {
+          preconnects: "",
+          fontPreloads: "",
+          highImagePreloads: "",
+          remainingCapacity:
+            2 + ("number" === typeof maxHeadersLength ? maxHeadersLength : 2e3)
+        }
+      : null,
     resets: {
       font: {},
       dns: {},
@@ -1494,53 +1493,51 @@ function createRenderState(
     stylesToHoist: !1
   };
   if (void 0 !== bootstrapScripts)
-    for (
-      inlineScriptWithNonce = 0;
-      inlineScriptWithNonce < bootstrapScripts.length;
-      inlineScriptWithNonce++
-    )
-      (idPrefix = bootstrapScripts[inlineScriptWithNonce]),
-        (maxHeadersLength = importMap = void 0),
+    for (onHeaders = 0; onHeaders < bootstrapScripts.length; onHeaders++)
+      (maxHeadersLength = bootstrapScripts[onHeaders]),
+        (externalRuntimeScript = idPrefix = void 0),
         (externalRuntimeConfig = {
           rel: "preload",
           as: "script",
           fetchPriority: "low",
           nonce: nonce
         }),
-        "string" === typeof idPrefix
-          ? (externalRuntimeConfig.href = externalRuntimeScript = idPrefix)
-          : ((externalRuntimeConfig.href = externalRuntimeScript =
-              idPrefix.src),
-            (externalRuntimeConfig.integrity = maxHeadersLength =
-              "string" === typeof idPrefix.integrity
-                ? idPrefix.integrity
+        "string" === typeof maxHeadersLength
+          ? (externalRuntimeConfig.href = inlineScriptWithNonce =
+              maxHeadersLength)
+          : ((externalRuntimeConfig.href = inlineScriptWithNonce =
+              maxHeadersLength.src),
+            (externalRuntimeConfig.integrity = externalRuntimeScript =
+              "string" === typeof maxHeadersLength.integrity
+                ? maxHeadersLength.integrity
                 : void 0),
-            (externalRuntimeConfig.crossOrigin = importMap =
-              "string" === typeof idPrefix || null == idPrefix.crossOrigin
+            (externalRuntimeConfig.crossOrigin = idPrefix =
+              "string" === typeof maxHeadersLength ||
+              null == maxHeadersLength.crossOrigin
                 ? void 0
-                : "use-credentials" === idPrefix.crossOrigin
+                : "use-credentials" === maxHeadersLength.crossOrigin
                   ? "use-credentials"
                   : "")),
         preloadBootstrapScriptOrModule(
           resumableState,
-          onHeaders,
-          externalRuntimeScript,
+          importMap,
+          inlineScriptWithNonce,
           externalRuntimeConfig
         ),
         bootstrapChunks.push(
           '<script src="',
-          escapeTextForBrowser(externalRuntimeScript)
+          escapeTextForBrowser(inlineScriptWithNonce)
         ),
         nonce && bootstrapChunks.push('" nonce="', escapeTextForBrowser(nonce)),
-        "string" === typeof maxHeadersLength &&
+        "string" === typeof externalRuntimeScript &&
           bootstrapChunks.push(
             '" integrity="',
-            escapeTextForBrowser(maxHeadersLength)
+            escapeTextForBrowser(externalRuntimeScript)
           ),
-        "string" === typeof importMap &&
+        "string" === typeof idPrefix &&
           bootstrapChunks.push(
             '" crossorigin="',
-            escapeTextForBrowser(importMap)
+            escapeTextForBrowser(idPrefix)
           ),
         bootstrapChunks.push('" async="">\x3c/script>');
   if (void 0 !== bootstrapModules)
@@ -1549,50 +1546,46 @@ function createRenderState(
       bootstrapScripts < bootstrapModules.length;
       bootstrapScripts++
     )
-      (inlineScriptWithNonce = bootstrapModules[bootstrapScripts]),
-        (importMap = externalRuntimeScript = void 0),
-        (maxHeadersLength = {
+      (onHeaders = bootstrapModules[bootstrapScripts]),
+        (idPrefix = inlineScriptWithNonce = void 0),
+        (externalRuntimeScript = {
           rel: "modulepreload",
           fetchPriority: "low",
           nonce: nonce
         }),
-        "string" === typeof inlineScriptWithNonce
-          ? (maxHeadersLength.href = idPrefix = inlineScriptWithNonce)
-          : ((maxHeadersLength.href = idPrefix = inlineScriptWithNonce.src),
-            (maxHeadersLength.integrity = importMap =
-              "string" === typeof inlineScriptWithNonce.integrity
-                ? inlineScriptWithNonce.integrity
+        "string" === typeof onHeaders
+          ? (externalRuntimeScript.href = maxHeadersLength = onHeaders)
+          : ((externalRuntimeScript.href = maxHeadersLength = onHeaders.src),
+            (externalRuntimeScript.integrity = idPrefix =
+              "string" === typeof onHeaders.integrity
+                ? onHeaders.integrity
                 : void 0),
-            (maxHeadersLength.crossOrigin = externalRuntimeScript =
-              "string" === typeof inlineScriptWithNonce ||
-              null == inlineScriptWithNonce.crossOrigin
+            (externalRuntimeScript.crossOrigin = inlineScriptWithNonce =
+              "string" === typeof onHeaders || null == onHeaders.crossOrigin
                 ? void 0
-                : "use-credentials" === inlineScriptWithNonce.crossOrigin
+                : "use-credentials" === onHeaders.crossOrigin
                   ? "use-credentials"
                   : "")),
         preloadBootstrapScriptOrModule(
           resumableState,
-          onHeaders,
-          idPrefix,
-          maxHeadersLength
+          importMap,
+          maxHeadersLength,
+          externalRuntimeScript
         ),
         bootstrapChunks.push(
           '<script type="module" src="',
-          escapeTextForBrowser(idPrefix)
+          escapeTextForBrowser(maxHeadersLength)
         ),
         nonce && bootstrapChunks.push('" nonce="', escapeTextForBrowser(nonce)),
-        "string" === typeof importMap &&
-          bootstrapChunks.push(
-            '" integrity="',
-            escapeTextForBrowser(importMap)
-          ),
-        "string" === typeof externalRuntimeScript &&
+        "string" === typeof idPrefix &&
+          bootstrapChunks.push('" integrity="', escapeTextForBrowser(idPrefix)),
+        "string" === typeof inlineScriptWithNonce &&
           bootstrapChunks.push(
             '" crossorigin="',
-            escapeTextForBrowser(externalRuntimeScript)
+            escapeTextForBrowser(inlineScriptWithNonce)
           ),
         bootstrapChunks.push('" async="">\x3c/script>');
-  return onHeaders;
+  return importMap;
 }
 function createResumableState(
   identifierPrefix,
@@ -1623,25 +1616,15 @@ function createResumableState(
     moduleScriptResources: {}
   };
 }
-var NoContribution = 0;
-function createPreambleState() {
-  return {
-    htmlChunks: null,
-    headChunks: null,
-    bodyChunks: null,
-    contribution: NoContribution
-  };
-}
 var ROOT_HTML_MODE = 0,
   HTML_HTML_MODE = 1,
   HTML_MODE = 2,
-  HTML_HEAD_MODE = 3,
-  SVG_MODE = 4,
-  MATHML_MODE = 5,
-  HTML_TABLE_MODE = 6,
-  HTML_TABLE_BODY_MODE = 7,
-  HTML_TABLE_ROW_MODE = 8,
-  HTML_COLGROUP_MODE = 9;
+  SVG_MODE = 3,
+  MATHML_MODE = 4,
+  HTML_TABLE_MODE = 5,
+  HTML_TABLE_BODY_MODE = 6,
+  HTML_TABLE_ROW_MODE = 7,
+  HTML_COLGROUP_MODE = 8;
 function createFormatContext(insertionMode, selectedValue, tagScope) {
   return {
     insertionMode: insertionMode,
@@ -1700,26 +1683,16 @@ function getChildFormatContext(parentContext, type, props) {
         null,
         parentContext.tagScope
       );
-    case "head":
-      if (parentContext.insertionMode < HTML_MODE)
-        return createFormatContext(
-          HTML_HEAD_MODE,
-          null,
-          parentContext.tagScope
-        );
-      break;
-    case "html":
-      if (parentContext.insertionMode === ROOT_HTML_MODE)
-        return createFormatContext(
-          HTML_HTML_MODE,
-          null,
-          parentContext.tagScope
-        );
   }
-  return parentContext.insertionMode >= HTML_TABLE_MODE ||
-    parentContext.insertionMode < HTML_MODE
+  return parentContext.insertionMode >= HTML_TABLE_MODE
     ? createFormatContext(HTML_MODE, null, parentContext.tagScope)
-    : parentContext;
+    : parentContext.insertionMode === ROOT_HTML_MODE
+      ? "html" === type
+        ? createFormatContext(HTML_HTML_MODE, null, parentContext.tagScope)
+        : createFormatContext(HTML_MODE, null, parentContext.tagScope)
+      : parentContext.insertionMode === HTML_HTML_MODE
+        ? createFormatContext(HTML_MODE, null, parentContext.tagScope)
+        : parentContext;
 }
 function pushTextInstance(target, text, renderState, textEmbedded) {
   if ("" === text) return textEmbedded;
@@ -2372,29 +2345,6 @@ function pushScriptImpl(target, props) {
   target.push(endChunkForTag("script"));
   return null;
 }
-function pushStartSingletonElement(target, props, tag) {
-  target.push(startChunkForTag(tag));
-  var innerHTML = (tag = null),
-    propKey;
-  for (propKey in props)
-    if (hasOwnProperty.call(props, propKey)) {
-      var propValue = props[propKey];
-      if (null != propValue)
-        switch (propKey) {
-          case "children":
-            tag = propValue;
-            break;
-          case "dangerouslySetInnerHTML":
-            innerHTML = propValue;
-            break;
-          default:
-            pushAttribute(target, propKey, propValue);
-        }
-    }
-  target.push(endOfStartTag);
-  pushInnerHTML(target, innerHTML, tag);
-  return tag;
-}
 function pushStartGenericElement(target, props, tag) {
   target.push(startChunkForTag(tag));
   var innerHTML = (tag = null),
@@ -2437,7 +2387,6 @@ function pushStartInstance(
   props,
   resumableState,
   renderState,
-  preambleState,
   hoistableState,
   formatContext,
   textEmbedded,
@@ -3513,7 +3462,6 @@ function pushStartInstance(
             header;
           headers &&
           0 < headers.remainingCapacity &&
-          "string" !== typeof props.srcSet &&
           ("high" === props.fetchPriority ||
             500 > headers.highImagePreloads.length) &&
           ((header = getPreloadAsHeader(src, "image", {
@@ -3573,13 +3521,13 @@ function pushStartInstance(
     case "missing-glyph":
       break;
     case "head":
-      if (formatContext.insertionMode < HTML_MODE) {
-        var preamble = preambleState || renderState.preamble;
-        if (preamble.headChunks)
-          throw Error("The `<head>` tag may only be rendered once.");
-        preamble.headChunks = [];
-        var JSCompiler_inline_result$jscomp$9 = pushStartSingletonElement(
-          preamble.headChunks,
+      if (
+        formatContext.insertionMode < HTML_MODE &&
+        null === renderState.headChunks
+      ) {
+        renderState.headChunks = [];
+        var JSCompiler_inline_result$jscomp$9 = pushStartGenericElement(
+          renderState.headChunks,
           props,
           "head"
         );
@@ -3590,42 +3538,24 @@ function pushStartInstance(
           "head"
         );
       return JSCompiler_inline_result$jscomp$9;
-    case "body":
-      if (formatContext.insertionMode < HTML_MODE) {
-        var preamble$jscomp$0 = preambleState || renderState.preamble;
-        if (preamble$jscomp$0.bodyChunks)
-          throw Error("The `<body>` tag may only be rendered once.");
-        preamble$jscomp$0.bodyChunks = [];
-        var JSCompiler_inline_result$jscomp$10 = pushStartSingletonElement(
-          preamble$jscomp$0.bodyChunks,
-          props,
-          "body"
-        );
-      } else
-        JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
-          target$jscomp$0,
-          props,
-          "body"
-        );
-      return JSCompiler_inline_result$jscomp$10;
     case "html":
-      if (formatContext.insertionMode === ROOT_HTML_MODE) {
-        var preamble$jscomp$1 = preambleState || renderState.preamble;
-        if (preamble$jscomp$1.htmlChunks)
-          throw Error("The `<html>` tag may only be rendered once.");
-        preamble$jscomp$1.htmlChunks = ["<!DOCTYPE html>"];
-        var JSCompiler_inline_result$jscomp$11 = pushStartSingletonElement(
-          preamble$jscomp$1.htmlChunks,
+      if (
+        formatContext.insertionMode === ROOT_HTML_MODE &&
+        null === renderState.htmlChunks
+      ) {
+        renderState.htmlChunks = ["<!DOCTYPE html>"];
+        var JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
+          renderState.htmlChunks,
           props,
           "html"
         );
       } else
-        JSCompiler_inline_result$jscomp$11 = pushStartGenericElement(
+        JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
           target$jscomp$0,
           props,
           "html"
         );
-      return JSCompiler_inline_result$jscomp$11;
+      return JSCompiler_inline_result$jscomp$10;
     default:
       if (-1 !== type.indexOf("-")) {
         target$jscomp$0.push(startChunkForTag(type));
@@ -3686,21 +3616,6 @@ function endChunkForTag(tag) {
   void 0 === chunk && ((chunk = "</" + tag + ">"), endTagCache.set(tag, chunk));
   return chunk;
 }
-function hoistPreambleState(renderState, preambleState) {
-  renderState = renderState.preamble;
-  null === renderState.htmlChunks &&
-    preambleState.htmlChunks &&
-    ((renderState.htmlChunks = preambleState.htmlChunks),
-    (preambleState.contribution |= 1));
-  null === renderState.headChunks &&
-    preambleState.headChunks &&
-    ((renderState.headChunks = preambleState.headChunks),
-    (preambleState.contribution |= 4));
-  null === renderState.bodyChunks &&
-    preambleState.bodyChunks &&
-    ((renderState.bodyChunks = preambleState.bodyChunks),
-    (preambleState.contribution |= 2));
-}
 function writeBootstrap(destination, renderState) {
   renderState = renderState.bootstrapChunks;
   for (var i = 0; i < renderState.length - 1; i++)
@@ -3733,15 +3648,6 @@ function writeStartPendingSuspenseBoundary(destination, renderState, id) {
   writeChunk(destination, id.toString(16));
   return !!destination.write(startPendingSuspenseBoundary2);
 }
-var boundaryPreambleContributionChunkStart = "\x3c!--",
-  boundaryPreambleContributionChunkEnd = "--\x3e";
-function writePreambleContribution(destination, preambleState) {
-  preambleState = preambleState.contribution;
-  preambleState !== NoContribution &&
-    (writeChunk(destination, boundaryPreambleContributionChunkStart),
-    writeChunk(destination, "" + preambleState),
-    writeChunk(destination, boundaryPreambleContributionChunkEnd));
-}
 var startSegmentHTML = '<div hidden id="',
   startSegmentHTML2 = '">',
   endSegmentHTML = "</div>",
@@ -3767,7 +3673,6 @@ function writeStartSegment(destination, renderState, formatContext, id) {
   switch (formatContext.insertionMode) {
     case ROOT_HTML_MODE:
     case HTML_HTML_MODE:
-    case HTML_HEAD_MODE:
     case HTML_MODE:
       return (
         writeChunk(destination, startSegmentHTML),
@@ -3825,7 +3730,6 @@ function writeEndSegment(destination, formatContext) {
   switch (formatContext.insertionMode) {
     case ROOT_HTML_MODE:
     case HTML_HTML_MODE:
-    case HTML_HEAD_MODE:
     case HTML_MODE:
       return !!destination.write(endSegmentHTML);
     case SVG_MODE:
@@ -4369,7 +4273,6 @@ function preload(href, as, options) {
           var header;
           resumableState &&
           0 < resumableState.remainingCapacity &&
-          "string" !== typeof imageSrcSet &&
           "high" === fetchPriority &&
           ((header = getPreloadAsHeader(href, as, options)),
           0 <= (resumableState.remainingCapacity -= header.length + 2))
@@ -5255,12 +5158,6 @@ function readPreviousThenableFromState() {
       index
     );
 }
-function unsupportedRefresh() {
-  throw Error("Cache cannot be refreshed during server rendering.");
-}
-function unsupportedStartGesture() {
-  throw Error("startGesture cannot be called during server rendering.");
-}
 function noop$1() {}
 var HooksDispatcher = {
     readContext: readContext,
@@ -5322,9 +5219,9 @@ var HooksDispatcher = {
           "Invalid hook call. Hooks can only be called inside of the body of a function component."
         );
       overflow = localIdCounter++;
-      treeId = "\u00ab" + resumableState.idPrefix + "R" + treeId;
+      treeId = ":" + resumableState.idPrefix + "R" + treeId;
       0 < overflow && (treeId += "H" + overflow.toString(32));
-      return treeId + "\u00bb";
+      return treeId + ":";
     },
     useSyncExternalStore: function (subscribe, getSnapshot, getServerSnapshot) {
       if (void 0 === getServerSnapshot)
@@ -5343,20 +5240,8 @@ var HooksDispatcher = {
       resolveCurrentlyRenderingComponent();
       return NotPending;
     },
-    useMemoCache: function (size) {
-      for (var data = Array(size), i = 0; i < size; i++)
-        data[i] = REACT_MEMO_CACHE_SENTINEL;
-      return data;
-    },
-    useCacheRefresh: function () {
-      return unsupportedRefresh;
-    },
     useEffectEvent: function () {
       return throwOnUseEffectEventCall;
-    },
-    useSwipeTransition: function (previous, current) {
-      resolveCurrentlyRenderingComponent();
-      return [current, unsupportedStartGesture];
     }
   },
   currentResumableState = null,
@@ -5738,7 +5623,7 @@ function RequestInstance(
   this.status = 10;
   this.fatalError = null;
   this.pendingRootTasks = this.allPendingTasks = this.nextSegmentId = 0;
-  this.completedPreambleSegments = this.completedRootSegment = null;
+  this.completedRootSegment = null;
   this.abortableTasks = abortSet;
   this.pingedTasks = [];
   this.clientRenderedBoundaries = [];
@@ -5798,7 +5683,6 @@ function createRequest(
     null,
     renderState,
     null,
-    null,
     resumableState.abortableTasks,
     null,
     rootFormatContext,
@@ -5826,12 +5710,7 @@ function pingTask(request, task) {
           return performWork(request);
         }, 0));
 }
-function createSuspenseBoundary(
-  request,
-  fallbackAbortableTasks,
-  contentPreamble,
-  fallbackPreamble
-) {
+function createSuspenseBoundary(request, fallbackAbortableTasks) {
   return {
     status: PENDING,
     rootSegmentID: -1,
@@ -5843,8 +5722,6 @@ function createSuspenseBoundary(
     errorDigest: null,
     contentState: createHoistableState(),
     fallbackState: createHoistableState(),
-    contentPreamble: contentPreamble,
-    fallbackPreamble: fallbackPreamble,
     trackedContentKeyPath: null,
     trackedFallbackNode: null,
     errorMessage: null,
@@ -5859,7 +5736,6 @@ function createRenderTask(
   childIndex,
   blockedBoundary,
   blockedSegment,
-  blockedPreamble,
   hoistableState,
   abortSet,
   keyPath,
@@ -5884,7 +5760,6 @@ function createRenderTask(
     },
     blockedBoundary: blockedBoundary,
     blockedSegment: blockedSegment,
-    blockedPreamble: blockedPreamble,
     hoistableState: hoistableState,
     abortSet: abortSet,
     keyPath: keyPath,
@@ -5931,7 +5806,6 @@ function createReplayTask(
     },
     blockedBoundary: blockedBoundary,
     blockedSegment: null,
-    blockedPreamble: null,
     hoistableState: hoistableState,
     abortSet: abortSet,
     keyPath: keyPath,
@@ -5956,12 +5830,11 @@ function createPendingSegment(
 ) {
   return {
     status: PENDING,
-    parentFlushed: !1,
     id: -1,
     index: index,
+    parentFlushed: !1,
     chunks: [],
     children: [],
-    preambleChildren: [],
     parentFormatContext: parentFormatContext,
     boundary: boundary,
     lastPushedText: lastPushedText,
@@ -6626,7 +6499,6 @@ function renderElement(request, task, keyPath, type, props, ref) {
         props,
         request.resumableState,
         request.renderState,
-        task.blockedPreamble,
         task.hoistableState,
         task.formatContext,
         segment.lastPushedText,
@@ -6635,42 +6507,9 @@ function renderElement(request, task, keyPath, type, props, ref) {
       segment.lastPushedText = !1;
       var _prevContext = task.formatContext,
         _prevKeyPath2 = task.keyPath;
+      task.formatContext = getChildFormatContext(_prevContext, type, props);
       task.keyPath = keyPath;
-      if (
-        (task.formatContext = getChildFormatContext(_prevContext, type, props))
-          .insertionMode === HTML_HEAD_MODE
-      ) {
-        var preambleSegment = createPendingSegment(
-          request,
-          0,
-          null,
-          task.formatContext,
-          !1,
-          !1
-        );
-        segment.preambleChildren.push(preambleSegment);
-        var preambleTask = createRenderTask(
-          request,
-          null,
-          _children,
-          -1,
-          task.blockedBoundary,
-          preambleSegment,
-          task.blockedPreamble,
-          task.hoistableState,
-          request.abortableTasks,
-          task.keyPath,
-          task.formatContext,
-          task.context,
-          task.treeContext,
-          task.componentStack,
-          task.isFallback,
-          emptyContextObject,
-          task.debugTask
-        );
-        pushComponentStack(preambleTask);
-        request.pingedTasks.push(preambleTask);
-      } else renderNode(request, task, _children, -1);
+      renderNode(request, task, _children, -1);
       task.formatContext = _prevContext;
       task.keyPath = _prevKeyPath2;
       a: {
@@ -6707,9 +6546,6 @@ function renderElement(request, task, keyPath, type, props, ref) {
               resumableState.hasHtml = !0;
               break a;
             }
-            break;
-          case "head":
-            if (_prevContext.insertionMode <= HTML_HTML_MODE) break a;
         }
         target.push(endChunkForTag(type));
       }
@@ -6761,21 +6597,12 @@ function renderElement(request, task, keyPath, type, props, ref) {
         } else {
           var prevKeyPath$jscomp$3 = task.keyPath,
             parentBoundary = task.blockedBoundary,
-            parentPreamble = task.blockedPreamble,
             parentHoistableState = task.hoistableState,
             parentSegment = task.blockedSegment,
             fallback = props.fallback,
             content = props.children,
-            fallbackAbortSet = new Set();
-          var newBoundary =
-            task.formatContext.insertionMode < HTML_MODE
-              ? createSuspenseBoundary(
-                  request,
-                  fallbackAbortSet,
-                  createPreambleState(),
-                  createPreambleState()
-                )
-              : createSuspenseBoundary(request, fallbackAbortSet, null, null);
+            fallbackAbortSet = new Set(),
+            newBoundary = createSuspenseBoundary(request, fallbackAbortSet);
           null !== request.trackedPostpones &&
             (newBoundary.trackedContentKeyPath = keyPath);
           var boundarySegment = createPendingSegment(
@@ -6811,7 +6638,6 @@ function renderElement(request, task, keyPath, type, props, ref) {
             );
             newBoundary.trackedFallbackNode = fallbackReplayNode;
             task.blockedSegment = boundarySegment;
-            task.blockedPreamble = newBoundary.fallbackPreamble;
             task.keyPath = fallbackKeyPath;
             boundarySegment.status = 6;
             try {
@@ -6827,7 +6653,6 @@ function renderElement(request, task, keyPath, type, props, ref) {
               );
             } finally {
               (task.blockedSegment = parentSegment),
-                (task.blockedPreamble = parentPreamble),
                 (task.keyPath = prevKeyPath$jscomp$3);
             }
             var suspendedPrimaryTask = createRenderTask(
@@ -6837,7 +6662,6 @@ function renderElement(request, task, keyPath, type, props, ref) {
               -1,
               newBoundary,
               contentRootSegment,
-              newBoundary.contentPreamble,
               newBoundary.contentState,
               task.abortSet,
               keyPath,
@@ -6853,7 +6677,6 @@ function renderElement(request, task, keyPath, type, props, ref) {
             request.pingedTasks.push(suspendedPrimaryTask);
           } else {
             task.blockedBoundary = newBoundary;
-            task.blockedPreamble = newBoundary.contentPreamble;
             task.hoistableState = newBoundary.contentState;
             task.blockedSegment = contentRootSegment;
             task.keyPath = keyPath;
@@ -6870,9 +6693,6 @@ function renderElement(request, task, keyPath, type, props, ref) {
                   newBoundary.status === PENDING)
               ) {
                 newBoundary.status = COMPLETED;
-                0 === request.pendingRootTasks &&
-                  task.blockedPreamble &&
-                  preparePreamble(request);
                 break a;
               }
             } catch (thrownValue$2) {
@@ -6906,7 +6726,6 @@ function renderElement(request, task, keyPath, type, props, ref) {
               untrackBoundary(request, newBoundary);
             } finally {
               (task.blockedBoundary = parentBoundary),
-                (task.blockedPreamble = parentPreamble),
                 (task.hoistableState = parentHoistableState),
                 (task.blockedSegment = parentSegment),
                 (task.keyPath = prevKeyPath$jscomp$3);
@@ -6918,7 +6737,6 @@ function renderElement(request, task, keyPath, type, props, ref) {
               -1,
               parentBoundary,
               boundarySegment,
-              newBoundary.fallbackPreamble,
               newBoundary.fallbackState,
               fallbackAbortSet,
               [keyPath[0], "Suspense Fallback", keyPath[2]],
@@ -7154,22 +6972,14 @@ function replayElement(
             previousReplaySet = task.replay,
             parentBoundary = task.blockedBoundary,
             parentHoistableState = task.hoistableState,
-            content = props.children,
-            fallback = props.fallback,
-            fallbackAbortSet = new Set();
-          props =
-            task.formatContext.insertionMode < HTML_MODE
-              ? createSuspenseBoundary(
-                  request,
-                  fallbackAbortSet,
-                  createPreambleState(),
-                  createPreambleState()
-                )
-              : createSuspenseBoundary(request, fallbackAbortSet, null, null);
-          props.parentFlushed = !0;
-          props.rootSegmentID = type;
-          task.blockedBoundary = props;
-          task.hoistableState = props.contentState;
+            content = props.children;
+          props = props.fallback;
+          var fallbackAbortSet = new Set(),
+            resumedBoundary = createSuspenseBoundary(request, fallbackAbortSet);
+          resumedBoundary.parentFlushed = !0;
+          resumedBoundary.rootSegmentID = type;
+          task.blockedBoundary = resumedBoundary;
+          task.hoistableState = resumedBoundary.contentState;
           task.keyPath = keyPath;
           task.replay = { nodes: ref, slots: name, pendingTasks: 1 };
           try {
@@ -7179,13 +6989,16 @@ function replayElement(
                 "Couldn't find all resumable slots by key/index during replaying. The tree doesn't match so React will fallback to client rendering."
               );
             task.replay.pendingTasks--;
-            if (0 === props.pendingTasks && props.status === PENDING) {
-              props.status = COMPLETED;
-              request.completedBoundaries.push(props);
+            if (
+              0 === resumedBoundary.pendingTasks &&
+              resumedBoundary.status === PENDING
+            ) {
+              resumedBoundary.status = COMPLETED;
+              request.completedBoundaries.push(resumedBoundary);
               break a;
             }
           } catch (error) {
-            (props.status = CLIENT_RENDERED),
+            (resumedBoundary.status = CLIENT_RENDERED),
               (childNodes = getThrownInfo(task.componentStack)),
               "object" === typeof error &&
               null !== error &&
@@ -7203,9 +7016,15 @@ function replayElement(
                     childNodes,
                     task.debugTask
                   )),
-              encodeErrorForBoundary(props, replay, error, childNodes, !1),
+              encodeErrorForBoundary(
+                resumedBoundary,
+                replay,
+                error,
+                childNodes,
+                !1
+              ),
               task.replay.pendingTasks--,
-              request.clientRenderedBoundaries.push(props);
+              request.clientRenderedBoundaries.push(resumedBoundary);
           } finally {
             (task.blockedBoundary = parentBoundary),
               (task.hoistableState = parentHoistableState),
@@ -7216,10 +7035,10 @@ function replayElement(
             request,
             null,
             { nodes: keyOrIndex, slots: node, pendingTasks: 0 },
-            fallback,
+            props,
             -1,
             parentBoundary,
-            props.fallbackState,
+            resumedBoundary.fallbackState,
             fallbackAbortSet,
             [keyPath[0], "Suspense Fallback", keyPath[2]],
             task.formatContext,
@@ -7755,7 +7574,6 @@ function spawnNewSuspendedRenderTask(request, task, thenableState) {
     task.childIndex,
     task.blockedBoundary,
     newSegment,
-    task.blockedPreamble,
     task.hoistableState,
     task.abortSet,
     task.keyPath,
@@ -7960,12 +7778,7 @@ function abortRemainingReplayNodes(
         errorDigest = errorDigest$jscomp$0,
         errorInfo = errorInfo$jscomp$0,
         wasAborted = aborted,
-        resumedBoundary = createSuspenseBoundary(
-          request,
-          new Set(),
-          null,
-          null
-        );
+        resumedBoundary = createSuspenseBoundary(request, new Set());
       resumedBoundary.parentFlushed = !0;
       resumedBoundary.rootSegmentID = node;
       resumedBoundary.status = CLIENT_RENDERED;
@@ -8169,7 +7982,6 @@ function safelyEmitEarlyPreloads(request, shellComplete) {
 }
 function completeShell(request) {
   null === request.trackedPostpones && safelyEmitEarlyPreloads(request, !0);
-  null === request.trackedPostpones && preparePreamble(request);
   request.onShellError = noop;
   request = request.onShellReady;
   request();
@@ -8182,7 +7994,6 @@ function completeAll(request) {
       : null === request.completedRootSegment ||
           request.completedRootSegment.status !== POSTPONED
   );
-  preparePreamble(request);
   request = request.onAllReady;
   request();
 }
@@ -8224,11 +8035,7 @@ function finishedTask(request, boundary, segment) {
               request.completedBoundaries.push(boundary),
             boundary.status === COMPLETED &&
               (boundary.fallbackAbortableTasks.forEach(abortTaskSoft, request),
-              boundary.fallbackAbortableTasks.clear(),
-              0 === request.pendingRootTasks &&
-                null === request.trackedPostpones &&
-                null !== boundary.contentPreamble &&
-                preparePreamble(request)))
+              boundary.fallbackAbortableTasks.clear()))
           : null !== segment &&
             segment.parentFlushed &&
             segment.status === COMPLETED &&
@@ -8475,11 +8282,7 @@ function performWork(request$jscomp$1) {
                         ),
                         untrackBoundary(request, boundary),
                         boundary.parentFlushed &&
-                          request.clientRenderedBoundaries.push(boundary),
-                        0 === request.pendingRootTasks &&
-                          null === request.trackedPostpones &&
-                          null !== boundary.contentPreamble &&
-                          preparePreamble(request)));
+                          request.clientRenderedBoundaries.push(boundary)));
                   request.allPendingTasks--;
                   0 === request.allPendingTasks && completeAll(request);
                 }
@@ -8506,85 +8309,6 @@ function performWork(request$jscomp$1) {
     }
   }
 }
-function preparePreambleFromSubtree(
-  request,
-  segment,
-  collectedPreambleSegments
-) {
-  segment.preambleChildren.length &&
-    collectedPreambleSegments.push(segment.preambleChildren);
-  for (var pendingPreambles = !1, i = 0; i < segment.children.length; i++)
-    pendingPreambles =
-      preparePreambleFromSegment(
-        request,
-        segment.children[i],
-        collectedPreambleSegments
-      ) || pendingPreambles;
-  return pendingPreambles;
-}
-function preparePreambleFromSegment(
-  request,
-  segment,
-  collectedPreambleSegments
-) {
-  var boundary = segment.boundary;
-  if (null === boundary)
-    return preparePreambleFromSubtree(
-      request,
-      segment,
-      collectedPreambleSegments
-    );
-  var preamble = boundary.contentPreamble,
-    fallbackPreamble = boundary.fallbackPreamble;
-  if (null === preamble || null === fallbackPreamble) return !1;
-  switch (boundary.status) {
-    case COMPLETED:
-      hoistPreambleState(request.renderState, preamble);
-      segment = boundary.completedSegments[0];
-      if (!segment)
-        throw Error(
-          "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
-        );
-      return preparePreambleFromSubtree(
-        request,
-        segment,
-        collectedPreambleSegments
-      );
-    case POSTPONED:
-      if (null !== request.trackedPostpones) return !0;
-    case CLIENT_RENDERED:
-      if (segment.status === COMPLETED)
-        return (
-          hoistPreambleState(request.renderState, fallbackPreamble),
-          preparePreambleFromSubtree(
-            request,
-            segment,
-            collectedPreambleSegments
-          )
-        );
-    default:
-      return !0;
-  }
-}
-function preparePreamble(request) {
-  if (
-    request.completedRootSegment &&
-    null === request.completedPreambleSegments
-  ) {
-    var collectedPreambleSegments = [],
-      hasPendingPreambles = preparePreambleFromSegment(
-        request,
-        request.completedRootSegment,
-        collectedPreambleSegments
-      ),
-      preamble = request.renderState.preamble;
-    if (
-      !1 === hasPendingPreambles ||
-      (preamble.headChunks && preamble.bodyChunks)
-    )
-      request.completedPreambleSegments = collectedPreambleSegments;
-  }
-}
 function flushSubtree(request, destination, segment, hoistableState) {
   segment.parentFlushed = !0;
   switch (segment.status) {
@@ -8631,8 +8355,8 @@ function flushSegment(request, destination, segment, hoistableState) {
   if (boundary.status === CLIENT_RENDERED) {
     var errorDigest = boundary.errorDigest,
       errorMessage = boundary.errorMessage,
-      errorStack = boundary.errorStack,
-      errorComponentStack = boundary.errorComponentStack;
+      errorStack = boundary.errorStack;
+    boundary = boundary.errorComponentStack;
     destination.write(startClientRenderedSuspenseBoundary);
     writeChunk(destination, clientRenderedSuspenseBoundaryError1);
     errorDigest &&
@@ -8656,23 +8380,18 @@ function flushSegment(request, destination, segment, hoistableState) {
         destination,
         clientRenderedSuspenseBoundaryErrorAttrInterstitial
       ));
-    errorComponentStack &&
+    boundary &&
       (writeChunk(destination, clientRenderedSuspenseBoundaryError1D),
-      writeChunk(destination, escapeTextForBrowser(errorComponentStack)),
+      writeChunk(destination, escapeTextForBrowser(boundary)),
       writeChunk(
         destination,
         clientRenderedSuspenseBoundaryErrorAttrInterstitial
       ));
     destination.write(clientRenderedSuspenseBoundaryError2);
     flushSubtree(request, destination, segment, hoistableState);
-    (request = boundary.fallbackPreamble) &&
-      writePreambleContribution(destination, request);
-    return !!destination.write(endSuspenseBoundary);
-  }
-  if (boundary.status !== COMPLETED)
-    return (
-      boundary.status === PENDING &&
-        (boundary.rootSegmentID = request.nextSegmentId++),
+  } else if (boundary.status !== COMPLETED)
+    boundary.status === PENDING &&
+      (boundary.rootSegmentID = request.nextSegmentId++),
       0 < boundary.completedSegments.length &&
         request.partialBoundaries.push(boundary),
       writeStartPendingSuspenseBoundary(
@@ -8687,34 +8406,29 @@ function flushSegment(request, destination, segment, hoistableState) {
           hoistStylesheetDependency,
           hoistableState
         )),
-      flushSubtree(request, destination, segment, hoistableState),
-      !!destination.write(endSuspenseBoundary)
-    );
-  if (boundary.byteSize > request.progressiveChunkSize)
-    return (
-      (boundary.rootSegmentID = request.nextSegmentId++),
+      flushSubtree(request, destination, segment, hoistableState);
+  else if (boundary.byteSize > request.progressiveChunkSize)
+    (boundary.rootSegmentID = request.nextSegmentId++),
       request.completedBoundaries.push(boundary),
       writeStartPendingSuspenseBoundary(
         destination,
         request.renderState,
         boundary.rootSegmentID
       ),
-      flushSubtree(request, destination, segment, hoistableState),
-      !!destination.write(endSuspenseBoundary)
-    );
-  hoistableState &&
-    ((segment = boundary.contentState),
-    segment.styles.forEach(hoistStyleQueueDependency, hoistableState),
-    segment.stylesheets.forEach(hoistStylesheetDependency, hoistableState));
-  destination.write(startCompletedSuspenseBoundary);
-  segment = boundary.completedSegments;
-  if (1 !== segment.length)
-    throw Error(
-      "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
-    );
-  flushSegment(request, destination, segment[0], hoistableState);
-  (request = boundary.contentPreamble) &&
-    writePreambleContribution(destination, request);
+      flushSubtree(request, destination, segment, hoistableState);
+  else {
+    hoistableState &&
+      ((segment = boundary.contentState),
+      segment.styles.forEach(hoistStyleQueueDependency, hoistableState),
+      segment.stylesheets.forEach(hoistStylesheetDependency, hoistableState));
+    destination.write(startCompletedSuspenseBoundary);
+    segment = boundary.completedSegments;
+    if (1 !== segment.length)
+      throw Error(
+        "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
+      );
+    flushSegment(request, destination, segment[0], hoistableState);
+  }
   return !!destination.write(endSuspenseBoundary);
 }
 function flushSegmentContainer(request, destination, segment, hoistableState) {
@@ -8847,8 +8561,6 @@ function flushCompletedQueues(request, destination) {
         completedRootSegment = request.completedRootSegment;
       if (null !== completedRootSegment) {
         if (completedRootSegment.status === POSTPONED) return;
-        var completedPreambleSegments = request.completedPreambleSegments;
-        if (null === completedPreambleSegments) return;
         var renderState = request.renderState;
         if (
           (0 !== request.allPendingTasks ||
@@ -8863,9 +8575,8 @@ function flushCompletedQueues(request, destination) {
             ((resumableState.scriptResources[src] = EXISTS),
             renderState.scripts.add(chunks));
         }
-        var preamble = renderState.preamble,
-          htmlChunks = preamble.htmlChunks,
-          headChunks = preamble.headChunks,
+        var htmlChunks = renderState.htmlChunks,
+          headChunks = renderState.headChunks,
           i$jscomp$0;
         if (htmlChunks) {
           for (i$jscomp$0 = 0; i$jscomp$0 < htmlChunks.length; i$jscomp$0++)
@@ -8906,36 +8617,10 @@ function flushCompletedQueues(request, destination) {
         var hoistableChunks = renderState.hoistableChunks;
         for (i$jscomp$0 = 0; i$jscomp$0 < hoistableChunks.length; i$jscomp$0++)
           writeChunk(destination, hoistableChunks[i$jscomp$0]);
-        for (
-          renderState = hoistableChunks.length = 0;
-          renderState < completedPreambleSegments.length;
-          renderState++
-        ) {
-          var segments = completedPreambleSegments[renderState];
-          for (
-            _renderState$external = 0;
-            _renderState$external < segments.length;
-            _renderState$external++
-          )
-            flushSegment(
-              request,
-              destination,
-              segments[_renderState$external],
-              null
-            );
-        }
-        var preamble$jscomp$0 = request.renderState.preamble,
-          headChunks$jscomp$0 = preamble$jscomp$0.headChunks;
-        (preamble$jscomp$0.htmlChunks || headChunks$jscomp$0) &&
+        hoistableChunks.length = 0;
+        htmlChunks &&
+          null === headChunks &&
           writeChunk(destination, endChunkForTag("head"));
-        var bodyChunks = preamble$jscomp$0.bodyChunks;
-        if (bodyChunks)
-          for (
-            completedPreambleSegments = 0;
-            completedPreambleSegments < bodyChunks.length;
-            completedPreambleSegments++
-          )
-            writeChunk(destination, bodyChunks[completedPreambleSegments]);
         flushSegment(request, destination, completedRootSegment, null);
         request.completedRootSegment = null;
         writeBootstrap(destination, request.renderState);
@@ -9216,15 +8901,15 @@ function addToReplayParent(node, parentKeyPath, trackedPostpones) {
     parentNode[2].push(node);
   }
 }
-var isomorphicReactPackageVersion$jscomp$inline_780 = React.version;
+var isomorphicReactPackageVersion$jscomp$inline_747 = React.version;
 if (
-  "19.1.0-experimental-d55cc79b-20250228" !==
-  isomorphicReactPackageVersion$jscomp$inline_780
+  "19.1.0-experimental-b3a95caf-20250113" !==
+  isomorphicReactPackageVersion$jscomp$inline_747
 )
   throw Error(
     'Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:\n  - react:      ' +
-      (isomorphicReactPackageVersion$jscomp$inline_780 +
-        "\n  - react-dom:  19.1.0-experimental-d55cc79b-20250228\nLearn more: https://react.dev/warnings/version-mismatch")
+      (isomorphicReactPackageVersion$jscomp$inline_747 +
+        "\n  - react-dom:  19.1.0-experimental-b3a95caf-20250113\nLearn more: https://react.dev/warnings/version-mismatch")
   );
 exports.renderToReadableStream = function (children, options) {
   return new Promise(function (resolve, reject) {
@@ -9317,4 +9002,4 @@ exports.renderToReadableStream = function (children, options) {
     startWork(request$jscomp$0);
   });
 };
-exports.version = "19.1.0-experimental-d55cc79b-20250228";
+exports.version = "19.1.0-experimental-b3a95caf-20250113";
diff --git a/node_modules/react-dom/cjs/react-dom-server.bun.production.js b/node_modules/react-dom/cjs/react-dom-server.bun.production.js
index 95cbe20..b72106e 100644
--- a/node_modules/react-dom/cjs/react-dom-server.bun.production.js
+++ b/node_modules/react-dom/cjs/react-dom-server.bun.production.js
@@ -27,7 +27,6 @@ var React = require("react"),
   REACT_SCOPE_TYPE = Symbol.for("react.scope"),
   REACT_OFFSCREEN_TYPE = Symbol.for("react.offscreen"),
   REACT_LEGACY_HIDDEN_TYPE = Symbol.for("react.legacy_hidden"),
-  REACT_MEMO_CACHE_SENTINEL = Symbol.for("react.memo_cache_sentinel"),
   REACT_POSTPONE_TYPE = Symbol.for("react.postpone"),
   REACT_VIEW_TRANSITION_TYPE = Symbol.for("react.view_transition"),
   MAYBE_ITERATOR_SYMBOL = Symbol.iterator,
@@ -274,26 +273,26 @@ function createRenderState(
       ("" + JSON.stringify(importMap)).replace(scriptRegex, scriptReplacer)
     ),
     externalRuntimeConfig.push("\x3c/script>"));
-  importMap = onHeaders
-    ? {
-        preconnects: "",
-        fontPreloads: "",
-        highImagePreloads: "",
-        remainingCapacity:
-          2 + ("number" === typeof maxHeadersLength ? maxHeadersLength : 2e3)
-      }
-    : null;
-  onHeaders = {
+  importMap = {
     placeholderPrefix: idPrefix + "P:",
     segmentPrefix: idPrefix + "S:",
     boundaryPrefix: idPrefix + "B:",
     startInlineScript: inlineScriptWithNonce,
-    preamble: createPreambleState(),
+    htmlChunks: null,
+    headChunks: null,
     externalRuntimeScript: externalRuntimeScript,
     bootstrapChunks: bootstrapChunks,
     importMapChunks: externalRuntimeConfig,
     onHeaders: onHeaders,
-    headers: importMap,
+    headers: onHeaders
+      ? {
+          preconnects: "",
+          fontPreloads: "",
+          highImagePreloads: "",
+          remainingCapacity:
+            2 + ("number" === typeof maxHeadersLength ? maxHeadersLength : 2e3)
+        }
+      : null,
     resets: {
       font: {},
       dns: {},
@@ -322,27 +321,25 @@ function createRenderState(
     stylesToHoist: !1
   };
   if (void 0 !== bootstrapScripts)
-    for (
-      inlineScriptWithNonce = 0;
-      inlineScriptWithNonce < bootstrapScripts.length;
-      inlineScriptWithNonce++
-    )
-      (externalRuntimeConfig = bootstrapScripts[inlineScriptWithNonce]),
-        (importMap = externalRuntimeScript = void 0),
-        (maxHeadersLength = {
+    for (onHeaders = 0; onHeaders < bootstrapScripts.length; onHeaders++)
+      (externalRuntimeConfig = bootstrapScripts[onHeaders]),
+        (idPrefix = inlineScriptWithNonce = void 0),
+        (externalRuntimeScript = {
           rel: "preload",
           as: "script",
           fetchPriority: "low",
           nonce: nonce
         }),
         "string" === typeof externalRuntimeConfig
-          ? (maxHeadersLength.href = idPrefix = externalRuntimeConfig)
-          : ((maxHeadersLength.href = idPrefix = externalRuntimeConfig.src),
-            (maxHeadersLength.integrity = importMap =
+          ? (externalRuntimeScript.href = maxHeadersLength =
+              externalRuntimeConfig)
+          : ((externalRuntimeScript.href = maxHeadersLength =
+              externalRuntimeConfig.src),
+            (externalRuntimeScript.integrity = idPrefix =
               "string" === typeof externalRuntimeConfig.integrity
                 ? externalRuntimeConfig.integrity
                 : void 0),
-            (maxHeadersLength.crossOrigin = externalRuntimeScript =
+            (externalRuntimeScript.crossOrigin = inlineScriptWithNonce =
               "string" === typeof externalRuntimeConfig ||
               null == externalRuntimeConfig.crossOrigin
                 ? void 0
@@ -350,24 +347,24 @@ function createRenderState(
                   ? "use-credentials"
                   : "")),
         (externalRuntimeConfig = resumableState),
-        (bootstrapScriptContent = idPrefix),
+        (bootstrapScriptContent = maxHeadersLength),
         (externalRuntimeConfig.scriptResources[bootstrapScriptContent] = null),
         (externalRuntimeConfig.moduleScriptResources[bootstrapScriptContent] =
           null),
         (externalRuntimeConfig = []),
-        pushLinkImpl(externalRuntimeConfig, maxHeadersLength),
-        onHeaders.bootstrapScripts.add(externalRuntimeConfig),
-        bootstrapChunks.push('<script src="', escapeTextForBrowser(idPrefix)),
+        pushLinkImpl(externalRuntimeConfig, externalRuntimeScript),
+        importMap.bootstrapScripts.add(externalRuntimeConfig),
+        bootstrapChunks.push(
+          '<script src="',
+          escapeTextForBrowser(maxHeadersLength)
+        ),
         nonce && bootstrapChunks.push('" nonce="', escapeTextForBrowser(nonce)),
-        "string" === typeof importMap &&
-          bootstrapChunks.push(
-            '" integrity="',
-            escapeTextForBrowser(importMap)
-          ),
-        "string" === typeof externalRuntimeScript &&
+        "string" === typeof idPrefix &&
+          bootstrapChunks.push('" integrity="', escapeTextForBrowser(idPrefix)),
+        "string" === typeof inlineScriptWithNonce &&
           bootstrapChunks.push(
             '" crossorigin="',
-            escapeTextForBrowser(externalRuntimeScript)
+            escapeTextForBrowser(inlineScriptWithNonce)
           ),
         bootstrapChunks.push('" async="">\x3c/script>');
   if (void 0 !== bootstrapModules)
@@ -376,51 +373,52 @@ function createRenderState(
       bootstrapScripts < bootstrapModules.length;
       bootstrapScripts++
     )
-      (maxHeadersLength = bootstrapModules[bootstrapScripts]),
-        (externalRuntimeScript = idPrefix = void 0),
-        (importMap = {
+      (externalRuntimeScript = bootstrapModules[bootstrapScripts]),
+        (inlineScriptWithNonce = maxHeadersLength = void 0),
+        (idPrefix = {
           rel: "modulepreload",
           fetchPriority: "low",
           nonce: nonce
         }),
-        "string" === typeof maxHeadersLength
-          ? (importMap.href = inlineScriptWithNonce = maxHeadersLength)
-          : ((importMap.href = inlineScriptWithNonce = maxHeadersLength.src),
-            (importMap.integrity = externalRuntimeScript =
-              "string" === typeof maxHeadersLength.integrity
-                ? maxHeadersLength.integrity
+        "string" === typeof externalRuntimeScript
+          ? (idPrefix.href = onHeaders = externalRuntimeScript)
+          : ((idPrefix.href = onHeaders = externalRuntimeScript.src),
+            (idPrefix.integrity = inlineScriptWithNonce =
+              "string" === typeof externalRuntimeScript.integrity
+                ? externalRuntimeScript.integrity
                 : void 0),
-            (importMap.crossOrigin = idPrefix =
-              "string" === typeof maxHeadersLength ||
-              null == maxHeadersLength.crossOrigin
+            (idPrefix.crossOrigin = maxHeadersLength =
+              "string" === typeof externalRuntimeScript ||
+              null == externalRuntimeScript.crossOrigin
                 ? void 0
-                : "use-credentials" === maxHeadersLength.crossOrigin
+                : "use-credentials" === externalRuntimeScript.crossOrigin
                   ? "use-credentials"
                   : "")),
-        (maxHeadersLength = resumableState),
-        (externalRuntimeConfig = inlineScriptWithNonce),
-        (maxHeadersLength.scriptResources[externalRuntimeConfig] = null),
-        (maxHeadersLength.moduleScriptResources[externalRuntimeConfig] = null),
-        (maxHeadersLength = []),
-        pushLinkImpl(maxHeadersLength, importMap),
-        onHeaders.bootstrapScripts.add(maxHeadersLength),
+        (externalRuntimeScript = resumableState),
+        (externalRuntimeConfig = onHeaders),
+        (externalRuntimeScript.scriptResources[externalRuntimeConfig] = null),
+        (externalRuntimeScript.moduleScriptResources[externalRuntimeConfig] =
+          null),
+        (externalRuntimeScript = []),
+        pushLinkImpl(externalRuntimeScript, idPrefix),
+        importMap.bootstrapScripts.add(externalRuntimeScript),
         bootstrapChunks.push(
           '<script type="module" src="',
-          escapeTextForBrowser(inlineScriptWithNonce)
+          escapeTextForBrowser(onHeaders)
         ),
         nonce && bootstrapChunks.push('" nonce="', escapeTextForBrowser(nonce)),
-        "string" === typeof externalRuntimeScript &&
+        "string" === typeof inlineScriptWithNonce &&
           bootstrapChunks.push(
             '" integrity="',
-            escapeTextForBrowser(externalRuntimeScript)
+            escapeTextForBrowser(inlineScriptWithNonce)
           ),
-        "string" === typeof idPrefix &&
+        "string" === typeof maxHeadersLength &&
           bootstrapChunks.push(
             '" crossorigin="',
-            escapeTextForBrowser(idPrefix)
+            escapeTextForBrowser(maxHeadersLength)
           ),
         bootstrapChunks.push('" async="">\x3c/script>');
-  return onHeaders;
+  return importMap;
 }
 function createResumableState(
   identifierPrefix,
@@ -451,14 +449,6 @@ function createResumableState(
     moduleScriptResources: {}
   };
 }
-function createPreambleState() {
-  return {
-    htmlChunks: null,
-    headChunks: null,
-    bodyChunks: null,
-    contribution: 0
-  };
-}
 function createFormatContext(insertionMode, selectedValue, tagScope) {
   return {
     insertionMode: insertionMode,
@@ -469,9 +459,9 @@ function createFormatContext(insertionMode, selectedValue, tagScope) {
 function createRootFormatContext(namespaceURI) {
   return createFormatContext(
     "http://www.w3.org/2000/svg" === namespaceURI
-      ? 4
+      ? 3
       : "http://www.w3.org/1998/Math/MathML" === namespaceURI
-        ? 5
+        ? 4
         : 0,
     null,
     0
@@ -488,34 +478,33 @@ function getChildFormatContext(parentContext, type, props) {
         parentContext.tagScope
       );
     case "svg":
-      return createFormatContext(4, null, parentContext.tagScope);
+      return createFormatContext(3, null, parentContext.tagScope);
     case "picture":
       return createFormatContext(2, null, parentContext.tagScope | 2);
     case "math":
-      return createFormatContext(5, null, parentContext.tagScope);
+      return createFormatContext(4, null, parentContext.tagScope);
     case "foreignObject":
       return createFormatContext(2, null, parentContext.tagScope);
     case "table":
-      return createFormatContext(6, null, parentContext.tagScope);
+      return createFormatContext(5, null, parentContext.tagScope);
     case "thead":
     case "tbody":
     case "tfoot":
-      return createFormatContext(7, null, parentContext.tagScope);
+      return createFormatContext(6, null, parentContext.tagScope);
     case "colgroup":
-      return createFormatContext(9, null, parentContext.tagScope);
-    case "tr":
       return createFormatContext(8, null, parentContext.tagScope);
-    case "head":
-      if (2 > parentContext.insertionMode)
-        return createFormatContext(3, null, parentContext.tagScope);
-      break;
-    case "html":
-      if (0 === parentContext.insertionMode)
-        return createFormatContext(1, null, parentContext.tagScope);
+    case "tr":
+      return createFormatContext(7, null, parentContext.tagScope);
   }
-  return 6 <= parentContext.insertionMode || 2 > parentContext.insertionMode
+  return 5 <= parentContext.insertionMode
     ? createFormatContext(2, null, parentContext.tagScope)
-    : parentContext;
+    : 0 === parentContext.insertionMode
+      ? "html" === type
+        ? createFormatContext(1, null, parentContext.tagScope)
+        : createFormatContext(2, null, parentContext.tagScope)
+      : 1 === parentContext.insertionMode
+        ? createFormatContext(2, null, parentContext.tagScope)
+        : parentContext;
 }
 function pushTextInstance(target, text, renderState, textEmbedded) {
   if ("" === text) return textEmbedded;
@@ -946,29 +935,6 @@ function pushScriptImpl(target, props) {
   target.push(endChunkForTag("script"));
   return null;
 }
-function pushStartSingletonElement(target, props, tag) {
-  target.push(startChunkForTag(tag));
-  var innerHTML = (tag = null),
-    propKey;
-  for (propKey in props)
-    if (hasOwnProperty.call(props, propKey)) {
-      var propValue = props[propKey];
-      if (null != propValue)
-        switch (propKey) {
-          case "children":
-            tag = propValue;
-            break;
-          case "dangerouslySetInnerHTML":
-            innerHTML = propValue;
-            break;
-          default:
-            pushAttribute(target, propKey, propValue);
-        }
-    }
-  target.push(">");
-  pushInnerHTML(target, innerHTML, tag);
-  return tag;
-}
 function pushStartGenericElement(target, props, tag) {
   target.push(startChunkForTag(tag));
   var innerHTML = (tag = null),
@@ -1011,7 +977,6 @@ function pushStartInstance(
   props,
   resumableState,
   renderState,
-  preambleState,
   hoistableState,
   formatContext,
   textEmbedded,
@@ -1491,7 +1456,7 @@ function pushStartInstance(
       return JSCompiler_inline_result$jscomp$2;
     case "title":
       if (
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp
       )
@@ -1510,7 +1475,7 @@ function pushStartInstance(
         href = props.href,
         precedence = props.precedence;
       if (
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp ||
         "string" !== typeof rel ||
@@ -1592,7 +1557,7 @@ function pushStartInstance(
         "symbol" === typeof asyncProp ||
         props.onLoad ||
         props.onError ||
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp
       )
@@ -1633,7 +1598,7 @@ function pushStartInstance(
       var precedence$jscomp$0 = props.precedence,
         href$jscomp$0 = props.href;
       if (
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp ||
         "string" !== typeof precedence$jscomp$0 ||
@@ -1736,7 +1701,7 @@ function pushStartInstance(
       return JSCompiler_inline_result$jscomp$6;
     case "meta":
       if (
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp
       )
@@ -1855,7 +1820,6 @@ function pushStartInstance(
             header;
           headers &&
           0 < headers.remainingCapacity &&
-          "string" !== typeof props.srcSet &&
           ("high" === props.fetchPriority ||
             500 > headers.highImagePreloads.length) &&
           ((header = getPreloadAsHeader(src, "image", {
@@ -1915,13 +1879,10 @@ function pushStartInstance(
     case "missing-glyph":
       break;
     case "head":
-      if (2 > formatContext.insertionMode) {
-        var preamble = preambleState || renderState.preamble;
-        if (preamble.headChunks)
-          throw Error("The `<head>` tag may only be rendered once.");
-        preamble.headChunks = [];
-        var JSCompiler_inline_result$jscomp$9 = pushStartSingletonElement(
-          preamble.headChunks,
+      if (2 > formatContext.insertionMode && null === renderState.headChunks) {
+        renderState.headChunks = [];
+        var JSCompiler_inline_result$jscomp$9 = pushStartGenericElement(
+          renderState.headChunks,
           props,
           "head"
         );
@@ -1932,42 +1893,24 @@ function pushStartInstance(
           "head"
         );
       return JSCompiler_inline_result$jscomp$9;
-    case "body":
-      if (2 > formatContext.insertionMode) {
-        var preamble$jscomp$0 = preambleState || renderState.preamble;
-        if (preamble$jscomp$0.bodyChunks)
-          throw Error("The `<body>` tag may only be rendered once.");
-        preamble$jscomp$0.bodyChunks = [];
-        var JSCompiler_inline_result$jscomp$10 = pushStartSingletonElement(
-          preamble$jscomp$0.bodyChunks,
-          props,
-          "body"
-        );
-      } else
-        JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
-          target$jscomp$0,
-          props,
-          "body"
-        );
-      return JSCompiler_inline_result$jscomp$10;
     case "html":
-      if (0 === formatContext.insertionMode) {
-        var preamble$jscomp$1 = preambleState || renderState.preamble;
-        if (preamble$jscomp$1.htmlChunks)
-          throw Error("The `<html>` tag may only be rendered once.");
-        preamble$jscomp$1.htmlChunks = ["<!DOCTYPE html>"];
-        var JSCompiler_inline_result$jscomp$11 = pushStartSingletonElement(
-          preamble$jscomp$1.htmlChunks,
+      if (
+        0 === formatContext.insertionMode &&
+        null === renderState.htmlChunks
+      ) {
+        renderState.htmlChunks = ["<!DOCTYPE html>"];
+        var JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
+          renderState.htmlChunks,
           props,
           "html"
         );
       } else
-        JSCompiler_inline_result$jscomp$11 = pushStartGenericElement(
+        JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
           target$jscomp$0,
           props,
           "html"
         );
-      return JSCompiler_inline_result$jscomp$11;
+      return JSCompiler_inline_result$jscomp$10;
     default:
       if (-1 !== type.indexOf("-")) {
         target$jscomp$0.push(startChunkForTag(type));
@@ -2028,21 +1971,6 @@ function endChunkForTag(tag) {
   void 0 === chunk && ((chunk = "</" + tag + ">"), endTagCache.set(tag, chunk));
   return chunk;
 }
-function hoistPreambleState(renderState, preambleState) {
-  renderState = renderState.preamble;
-  null === renderState.htmlChunks &&
-    preambleState.htmlChunks &&
-    ((renderState.htmlChunks = preambleState.htmlChunks),
-    (preambleState.contribution |= 1));
-  null === renderState.headChunks &&
-    preambleState.headChunks &&
-    ((renderState.headChunks = preambleState.headChunks),
-    (preambleState.contribution |= 4));
-  null === renderState.bodyChunks &&
-    preambleState.bodyChunks &&
-    ((renderState.bodyChunks = preambleState.bodyChunks),
-    (preambleState.contribution |= 2));
-}
 function writeBootstrap(destination, renderState) {
   renderState = renderState.bootstrapChunks;
   for (var i = 0; i < renderState.length - 1; i++)
@@ -2061,18 +1989,10 @@ function writeStartPendingSuspenseBoundary(destination, renderState, id) {
   writeChunk(destination, id.toString(16));
   return !!destination.write('"></template>');
 }
-function writePreambleContribution(destination, preambleState) {
-  preambleState = preambleState.contribution;
-  0 !== preambleState &&
-    (writeChunk(destination, "\x3c!--"),
-    writeChunk(destination, "" + preambleState),
-    writeChunk(destination, "--\x3e"));
-}
 function writeStartSegment(destination, renderState, formatContext, id) {
   switch (formatContext.insertionMode) {
     case 0:
     case 1:
-    case 3:
     case 2:
       return (
         writeChunk(destination, '<div hidden id="'),
@@ -2080,7 +2000,7 @@ function writeStartSegment(destination, renderState, formatContext, id) {
         writeChunk(destination, id.toString(16)),
         !!destination.write('">')
       );
-    case 4:
+    case 3:
       return (
         writeChunk(
           destination,
@@ -2090,7 +2010,7 @@ function writeStartSegment(destination, renderState, formatContext, id) {
         writeChunk(destination, id.toString(16)),
         !!destination.write('">')
       );
-    case 5:
+    case 4:
       return (
         writeChunk(
           destination,
@@ -2100,28 +2020,28 @@ function writeStartSegment(destination, renderState, formatContext, id) {
         writeChunk(destination, id.toString(16)),
         !!destination.write('">')
       );
-    case 6:
+    case 5:
       return (
         writeChunk(destination, '<table hidden id="'),
         writeChunk(destination, renderState.segmentPrefix),
         writeChunk(destination, id.toString(16)),
         !!destination.write('">')
       );
-    case 7:
+    case 6:
       return (
         writeChunk(destination, '<table hidden><tbody id="'),
         writeChunk(destination, renderState.segmentPrefix),
         writeChunk(destination, id.toString(16)),
         !!destination.write('">')
       );
-    case 8:
+    case 7:
       return (
         writeChunk(destination, '<table hidden><tr id="'),
         writeChunk(destination, renderState.segmentPrefix),
         writeChunk(destination, id.toString(16)),
         !!destination.write('">')
       );
-    case 9:
+    case 8:
       return (
         writeChunk(destination, '<table hidden><colgroup id="'),
         writeChunk(destination, renderState.segmentPrefix),
@@ -2136,20 +2056,19 @@ function writeEndSegment(destination, formatContext) {
   switch (formatContext.insertionMode) {
     case 0:
     case 1:
-    case 3:
     case 2:
       return !!destination.write("</div>");
-    case 4:
+    case 3:
       return !!destination.write("</svg>");
-    case 5:
+    case 4:
       return !!destination.write("</math>");
-    case 6:
+    case 5:
       return !!destination.write("</table>");
-    case 7:
+    case 6:
       return !!destination.write("</tbody></table>");
-    case 8:
+    case 7:
       return !!destination.write("</tr></table>");
-    case 9:
+    case 8:
       return !!destination.write("</colgroup></table>");
     default:
       throw Error("Unknown insertion mode. This is a bug in React.");
@@ -2616,7 +2535,6 @@ function preload(href, as, options) {
           var header;
           resumableState &&
           0 < resumableState.remainingCapacity &&
-          "string" !== typeof imageSrcSet &&
           "high" === fetchPriority &&
           ((header = getPreloadAsHeader(href, as, options)),
           0 <= (resumableState.remainingCapacity -= header.length + 2))
@@ -3361,12 +3279,6 @@ function readPreviousThenableFromState() {
       index
     );
 }
-function unsupportedRefresh() {
-  throw Error("Cache cannot be refreshed during server rendering.");
-}
-function unsupportedStartGesture() {
-  throw Error("startGesture cannot be called during server rendering.");
-}
 function noop$1() {}
 var HooksDispatcher = {
     readContext: function (context) {
@@ -3431,9 +3343,9 @@ var HooksDispatcher = {
         );
       overflow = localIdCounter++;
       JSCompiler_inline_result =
-        "\u00ab" + resumableState.idPrefix + "R" + JSCompiler_inline_result;
+        ":" + resumableState.idPrefix + "R" + JSCompiler_inline_result;
       0 < overflow && (JSCompiler_inline_result += "H" + overflow.toString(32));
-      return JSCompiler_inline_result + "\u00bb";
+      return JSCompiler_inline_result + ":";
     },
     useSyncExternalStore: function (subscribe, getSnapshot, getServerSnapshot) {
       if (void 0 === getServerSnapshot)
@@ -3452,20 +3364,8 @@ var HooksDispatcher = {
       resolveCurrentlyRenderingComponent();
       return sharedNotPendingObject;
     },
-    useMemoCache: function (size) {
-      for (var data = Array(size), i = 0; i < size; i++)
-        data[i] = REACT_MEMO_CACHE_SENTINEL;
-      return data;
-    },
-    useCacheRefresh: function () {
-      return unsupportedRefresh;
-    },
     useEffectEvent: function () {
       return throwOnUseEffectEventCall;
-    },
-    useSwipeTransition: function (previous, current) {
-      resolveCurrentlyRenderingComponent();
-      return [current, unsupportedStartGesture];
     }
   },
   currentResumableState = null,
@@ -3723,7 +3623,7 @@ function RequestInstance(
   this.status = 10;
   this.fatalError = null;
   this.pendingRootTasks = this.allPendingTasks = this.nextSegmentId = 0;
-  this.completedPreambleSegments = this.completedRootSegment = null;
+  this.completedRootSegment = null;
   this.abortableTasks = abortSet;
   this.pingedTasks = [];
   this.clientRenderedBoundaries = [];
@@ -3782,7 +3682,6 @@ function createRequest(
     null,
     renderState,
     null,
-    null,
     resumableState.abortableTasks,
     null,
     rootFormatContext,
@@ -3808,12 +3707,7 @@ function pingTask(request, task) {
           return performWork(request);
         }, 0));
 }
-function createSuspenseBoundary(
-  request,
-  fallbackAbortableTasks,
-  contentPreamble,
-  fallbackPreamble
-) {
+function createSuspenseBoundary(request, fallbackAbortableTasks) {
   return {
     status: 0,
     rootSegmentID: -1,
@@ -3825,8 +3719,6 @@ function createSuspenseBoundary(
     errorDigest: null,
     contentState: createHoistableState(),
     fallbackState: createHoistableState(),
-    contentPreamble: contentPreamble,
-    fallbackPreamble: fallbackPreamble,
     trackedContentKeyPath: null,
     trackedFallbackNode: null
   };
@@ -3838,7 +3730,6 @@ function createRenderTask(
   childIndex,
   blockedBoundary,
   blockedSegment,
-  blockedPreamble,
   hoistableState,
   abortSet,
   keyPath,
@@ -3861,7 +3752,6 @@ function createRenderTask(
     },
     blockedBoundary: blockedBoundary,
     blockedSegment: blockedSegment,
-    blockedPreamble: blockedPreamble,
     hoistableState: hoistableState,
     abortSet: abortSet,
     keyPath: keyPath,
@@ -3905,7 +3795,6 @@ function createReplayTask(
     },
     blockedBoundary: blockedBoundary,
     blockedSegment: null,
-    blockedPreamble: null,
     hoistableState: hoistableState,
     abortSet: abortSet,
     keyPath: keyPath,
@@ -3929,12 +3818,11 @@ function createPendingSegment(
 ) {
   return {
     status: 0,
-    parentFlushed: !1,
     id: -1,
     index: index,
+    parentFlushed: !1,
     chunks: [],
     children: [],
-    preambleChildren: [],
     parentFormatContext: parentFormatContext,
     boundary: boundary,
     lastPushedText: lastPushedText,
@@ -4166,13 +4054,12 @@ function renderElement(request, task, keyPath, type, props, ref) {
         (task.formatContext = defaultProps),
         (task.keyPath = initialState);
     else {
-      ref = pushStartInstance(
+      initialState = pushStartInstance(
         newProps.chunks,
         type,
         props,
         request.resumableState,
         request.renderState,
-        task.blockedPreamble,
         task.hoistableState,
         task.formatContext,
         newProps.lastPushedText,
@@ -4180,42 +4067,12 @@ function renderElement(request, task, keyPath, type, props, ref) {
       );
       newProps.lastPushedText = !1;
       defaultProps = task.formatContext;
-      initialState = task.keyPath;
+      ref = task.keyPath;
+      task.formatContext = getChildFormatContext(defaultProps, type, props);
       task.keyPath = keyPath;
-      3 ===
-      (task.formatContext = getChildFormatContext(defaultProps, type, props))
-        .insertionMode
-        ? ((keyPath = createPendingSegment(
-            request,
-            0,
-            null,
-            task.formatContext,
-            !1,
-            !1
-          )),
-          newProps.preambleChildren.push(keyPath),
-          (keyPath = createRenderTask(
-            request,
-            null,
-            ref,
-            -1,
-            task.blockedBoundary,
-            keyPath,
-            task.blockedPreamble,
-            task.hoistableState,
-            request.abortableTasks,
-            task.keyPath,
-            task.formatContext,
-            task.context,
-            task.treeContext,
-            task.componentStack,
-            task.isFallback
-          )),
-          pushComponentStack(keyPath),
-          request.pingedTasks.push(keyPath))
-        : renderNode(request, task, ref, -1);
+      renderNode(request, task, initialState, -1);
       task.formatContext = defaultProps;
-      task.keyPath = initialState;
+      task.keyPath = ref;
       a: {
         task = newProps.chunks;
         request = request.resumableState;
@@ -4250,9 +4107,6 @@ function renderElement(request, task, keyPath, type, props, ref) {
               request.hasHtml = !0;
               break a;
             }
-            break;
-          case "head":
-            if (1 >= defaultProps.insertionMode) break a;
         }
         task.push(endChunkForTag(type));
       }
@@ -4302,34 +4156,25 @@ function renderElement(request, task, keyPath, type, props, ref) {
           }
         } else {
           type = task.keyPath;
-          var parentBoundary = task.blockedBoundary;
-          ref = task.blockedPreamble;
-          var parentHoistableState = task.hoistableState;
-          propName$33 = task.blockedSegment;
-          propName = props.fallback;
+          var parentBoundary = task.blockedBoundary,
+            parentHoistableState = task.hoistableState;
+          ref = task.blockedSegment;
+          propName$33 = props.fallback;
           props = props.children;
           var fallbackAbortSet = new Set();
-          var newBoundary =
-            2 > task.formatContext.insertionMode
-              ? createSuspenseBoundary(
-                  request,
-                  fallbackAbortSet,
-                  createPreambleState(),
-                  createPreambleState()
-                )
-              : createSuspenseBoundary(request, fallbackAbortSet, null, null);
+          propName = createSuspenseBoundary(request, fallbackAbortSet);
           null !== request.trackedPostpones &&
-            (newBoundary.trackedContentKeyPath = keyPath);
+            (propName.trackedContentKeyPath = keyPath);
           var boundarySegment = createPendingSegment(
             request,
-            propName$33.chunks.length,
-            newBoundary,
+            ref.chunks.length,
+            propName,
             task.formatContext,
             !1,
             !1
           );
-          propName$33.children.push(boundarySegment);
-          propName$33.lastPushedText = !1;
+          ref.children.push(boundarySegment);
+          ref.lastPushedText = !1;
           var contentRootSegment = createPendingSegment(
             request,
             0,
@@ -4343,13 +4188,12 @@ function renderElement(request, task, keyPath, type, props, ref) {
             newProps = [keyPath[0], "Suspense Fallback", keyPath[2]];
             defaultProps = [newProps[1], newProps[2], [], null];
             request.trackedPostpones.workingMap.set(newProps, defaultProps);
-            newBoundary.trackedFallbackNode = defaultProps;
+            propName.trackedFallbackNode = defaultProps;
             task.blockedSegment = boundarySegment;
-            task.blockedPreamble = newBoundary.fallbackPreamble;
             task.keyPath = newProps;
             boundarySegment.status = 6;
             try {
-              renderNode(request, task, propName, -1),
+              renderNode(request, task, propName$33, -1),
                 boundarySegment.lastPushedText &&
                   boundarySegment.textEmbedded &&
                   boundarySegment.chunks.push("\x3c!-- --\x3e"),
@@ -4360,19 +4204,16 @@ function renderElement(request, task, keyPath, type, props, ref) {
                 thrownValue)
               );
             } finally {
-              (task.blockedSegment = propName$33),
-                (task.blockedPreamble = ref),
-                (task.keyPath = type);
+              (task.blockedSegment = ref), (task.keyPath = type);
             }
             task = createRenderTask(
               request,
               null,
               props,
               -1,
-              newBoundary,
+              propName,
               contentRootSegment,
-              newBoundary.contentPreamble,
-              newBoundary.contentState,
+              propName.contentState,
               task.abortSet,
               keyPath,
               task.formatContext,
@@ -4384,9 +4225,8 @@ function renderElement(request, task, keyPath, type, props, ref) {
             pushComponentStack(task);
             request.pingedTasks.push(task);
           } else {
-            task.blockedBoundary = newBoundary;
-            task.blockedPreamble = newBoundary.contentPreamble;
-            task.hoistableState = newBoundary.contentState;
+            task.blockedBoundary = propName;
+            task.hoistableState = propName.contentState;
             task.blockedSegment = contentRootSegment;
             task.keyPath = keyPath;
             contentRootSegment.status = 6;
@@ -4397,17 +4237,14 @@ function renderElement(request, task, keyPath, type, props, ref) {
                   contentRootSegment.textEmbedded &&
                   contentRootSegment.chunks.push("\x3c!-- --\x3e"),
                 (contentRootSegment.status = 1),
-                queueCompletedSegment(newBoundary, contentRootSegment),
-                0 === newBoundary.pendingTasks && 0 === newBoundary.status)
+                queueCompletedSegment(propName, contentRootSegment),
+                0 === propName.pendingTasks && 0 === propName.status)
               ) {
-                newBoundary.status = 1;
-                0 === request.pendingRootTasks &&
-                  task.blockedPreamble &&
-                  preparePreamble(request);
+                propName.status = 1;
                 break a;
               }
             } catch (thrownValue$28) {
-              (newBoundary.status = 4),
+              (propName.status = 4),
                 12 === request.status
                   ? ((contentRootSegment.status = 3),
                     (newProps = request.fatalError))
@@ -4424,24 +4261,22 @@ function renderElement(request, task, keyPath, type, props, ref) {
                       newProps,
                       defaultProps
                     )),
-                (newBoundary.errorDigest = initialState),
-                untrackBoundary(request, newBoundary);
+                (propName.errorDigest = initialState),
+                untrackBoundary(request, propName);
             } finally {
               (task.blockedBoundary = parentBoundary),
-                (task.blockedPreamble = ref),
                 (task.hoistableState = parentHoistableState),
-                (task.blockedSegment = propName$33),
+                (task.blockedSegment = ref),
                 (task.keyPath = type);
             }
             task = createRenderTask(
               request,
               null,
-              propName,
+              propName$33,
               -1,
               parentBoundary,
               boundarySegment,
-              newBoundary.fallbackPreamble,
-              newBoundary.fallbackState,
+              propName.fallbackState,
               fallbackAbortSet,
               [keyPath[0], "Suspense Fallback", keyPath[2]],
               task.formatContext,
@@ -4460,9 +4295,9 @@ function renderElement(request, task, keyPath, type, props, ref) {
       switch (type.$$typeof) {
         case REACT_FORWARD_REF_TYPE:
           if ("ref" in props)
-            for (newBoundary in ((newProps = {}), props))
-              "ref" !== newBoundary &&
-                (newProps[newBoundary] = props[newBoundary]);
+            for (boundarySegment in ((newProps = {}), props))
+              "ref" !== boundarySegment &&
+                (newProps[boundarySegment] = props[boundarySegment]);
           else newProps = props;
           type = renderWithHooks(
             request,
@@ -4664,27 +4499,17 @@ function retryNode(request, task) {
                         previousReplaySet = task.replay,
                         parentBoundary = task.blockedBoundary,
                         parentHoistableState = task.hoistableState,
-                        content = props.children,
-                        fallback = props.fallback,
-                        fallbackAbortSet = new Set();
-                      props =
-                        2 > task.formatContext.insertionMode
-                          ? createSuspenseBoundary(
-                              request,
-                              fallbackAbortSet,
-                              createPreambleState(),
-                              createPreambleState()
-                            )
-                          : createSuspenseBoundary(
-                              request,
-                              fallbackAbortSet,
-                              null,
-                              null
-                            );
-                      props.parentFlushed = !0;
-                      props.rootSegmentID = ref;
-                      task.blockedBoundary = props;
-                      task.hoistableState = props.contentState;
+                        content = props.children;
+                      props = props.fallback;
+                      var fallbackAbortSet = new Set(),
+                        resumedBoundary = createSuspenseBoundary(
+                          request,
+                          fallbackAbortSet
+                        );
+                      resumedBoundary.parentFlushed = !0;
+                      resumedBoundary.rootSegmentID = ref;
+                      task.blockedBoundary = resumedBoundary;
+                      task.hoistableState = resumedBoundary.contentState;
                       task.keyPath = key;
                       task.replay = {
                         nodes: replay,
@@ -4701,13 +4526,16 @@ function retryNode(request, task) {
                             "Couldn't find all resumable slots by key/index during replaying. The tree doesn't match so React will fallback to client rendering."
                           );
                         task.replay.pendingTasks--;
-                        if (0 === props.pendingTasks && 0 === props.status) {
-                          props.status = 1;
-                          request.completedBoundaries.push(props);
+                        if (
+                          0 === resumedBoundary.pendingTasks &&
+                          0 === resumedBoundary.status
+                        ) {
+                          resumedBoundary.status = 1;
+                          request.completedBoundaries.push(resumedBoundary);
                           break b;
                         }
                       } catch (error) {
-                        (props.status = 4),
+                        (resumedBoundary.status = 4),
                           (childNodes = getThrownInfo(task.componentStack)),
                           "object" === typeof error &&
                           null !== error &&
@@ -4719,9 +4547,11 @@ function retryNode(request, task) {
                                 error,
                                 childNodes
                               )),
-                          (props.errorDigest = type),
+                          (resumedBoundary.errorDigest = type),
                           task.replay.pendingTasks--,
-                          request.clientRenderedBoundaries.push(props);
+                          request.clientRenderedBoundaries.push(
+                            resumedBoundary
+                          );
                       } finally {
                         (task.blockedBoundary = parentBoundary),
                           (task.hoistableState = parentHoistableState),
@@ -4736,10 +4566,10 @@ function retryNode(request, task) {
                           slots: node$jscomp$0,
                           pendingTasks: 0
                         },
-                        fallback,
+                        props,
                         -1,
                         parentBoundary,
-                        props.fallbackState,
+                        resumedBoundary.fallbackState,
                         fallbackAbortSet,
                         [key[0], "Suspense Fallback", key[2]],
                         task.formatContext,
@@ -5077,7 +4907,6 @@ function spawnNewSuspendedRenderTask(request, task, thenableState) {
     task.childIndex,
     task.blockedBoundary,
     newSegment,
-    task.blockedPreamble,
     task.hoistableState,
     task.abortSet,
     task.keyPath,
@@ -5263,12 +5092,7 @@ function abortRemainingReplayNodes(
       node = node[5];
       var request = request$jscomp$0,
         errorDigest = errorDigest$jscomp$0,
-        resumedBoundary = createSuspenseBoundary(
-          request,
-          new Set(),
-          null,
-          null
-        );
+        resumedBoundary = createSuspenseBoundary(request, new Set());
       resumedBoundary.parentFlushed = !0;
       resumedBoundary.rootSegmentID = node;
       resumedBoundary.status = 4;
@@ -5458,7 +5282,6 @@ function safelyEmitEarlyPreloads(request, shellComplete) {
 }
 function completeShell(request) {
   null === request.trackedPostpones && safelyEmitEarlyPreloads(request, !0);
-  null === request.trackedPostpones && preparePreamble(request);
   request.onShellError = noop;
   request = request.onShellReady;
   request();
@@ -5471,7 +5294,6 @@ function completeAll(request) {
       : null === request.completedRootSegment ||
           5 !== request.completedRootSegment.status
   );
-  preparePreamble(request);
   request = request.onAllReady;
   request();
 }
@@ -5512,11 +5334,7 @@ function finishedTask(request, boundary, segment) {
               request.completedBoundaries.push(boundary),
             1 === boundary.status &&
               (boundary.fallbackAbortableTasks.forEach(abortTaskSoft, request),
-              boundary.fallbackAbortableTasks.clear(),
-              0 === request.pendingRootTasks &&
-                null === request.trackedPostpones &&
-                null !== boundary.contentPreamble &&
-                preparePreamble(request)))
+              boundary.fallbackAbortableTasks.clear()))
           : null !== segment &&
             segment.parentFlushed &&
             1 === segment.status &&
@@ -5710,11 +5528,7 @@ function performWork(request$jscomp$1) {
                         (boundary.errorDigest = request$jscomp$0),
                         untrackBoundary(request, boundary),
                         boundary.parentFlushed &&
-                          request.clientRenderedBoundaries.push(boundary),
-                        0 === request.pendingRootTasks &&
-                          null === request.trackedPostpones &&
-                          null !== boundary.contentPreamble &&
-                          preparePreamble(request)));
+                          request.clientRenderedBoundaries.push(boundary)));
                   request.allPendingTasks--;
                   0 === request.allPendingTasks && completeAll(request);
                 }
@@ -5738,85 +5552,6 @@ function performWork(request$jscomp$1) {
     }
   }
 }
-function preparePreambleFromSubtree(
-  request,
-  segment,
-  collectedPreambleSegments
-) {
-  segment.preambleChildren.length &&
-    collectedPreambleSegments.push(segment.preambleChildren);
-  for (var pendingPreambles = !1, i = 0; i < segment.children.length; i++)
-    pendingPreambles =
-      preparePreambleFromSegment(
-        request,
-        segment.children[i],
-        collectedPreambleSegments
-      ) || pendingPreambles;
-  return pendingPreambles;
-}
-function preparePreambleFromSegment(
-  request,
-  segment,
-  collectedPreambleSegments
-) {
-  var boundary = segment.boundary;
-  if (null === boundary)
-    return preparePreambleFromSubtree(
-      request,
-      segment,
-      collectedPreambleSegments
-    );
-  var preamble = boundary.contentPreamble,
-    fallbackPreamble = boundary.fallbackPreamble;
-  if (null === preamble || null === fallbackPreamble) return !1;
-  switch (boundary.status) {
-    case 1:
-      hoistPreambleState(request.renderState, preamble);
-      segment = boundary.completedSegments[0];
-      if (!segment)
-        throw Error(
-          "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
-        );
-      return preparePreambleFromSubtree(
-        request,
-        segment,
-        collectedPreambleSegments
-      );
-    case 5:
-      if (null !== request.trackedPostpones) return !0;
-    case 4:
-      if (1 === segment.status)
-        return (
-          hoistPreambleState(request.renderState, fallbackPreamble),
-          preparePreambleFromSubtree(
-            request,
-            segment,
-            collectedPreambleSegments
-          )
-        );
-    default:
-      return !0;
-  }
-}
-function preparePreamble(request) {
-  if (
-    request.completedRootSegment &&
-    null === request.completedPreambleSegments
-  ) {
-    var collectedPreambleSegments = [],
-      hasPendingPreambles = preparePreambleFromSegment(
-        request,
-        request.completedRootSegment,
-        collectedPreambleSegments
-      ),
-      preamble = request.renderState.preamble;
-    if (
-      !1 === hasPendingPreambles ||
-      (preamble.headChunks && preamble.bodyChunks)
-    )
-      request.completedPreambleSegments = collectedPreambleSegments;
-  }
-}
 function flushSubtree(request, destination, segment, hoistableState) {
   segment.parentFlushed = !0;
   switch (segment.status) {
@@ -5860,24 +5595,18 @@ function flushSegment(request, destination, segment, hoistableState) {
   if (null === boundary)
     return flushSubtree(request, destination, segment, hoistableState);
   boundary.parentFlushed = !0;
-  if (4 === boundary.status) {
-    var errorDigest = boundary.errorDigest;
-    destination.write("\x3c!--$!--\x3e");
-    writeChunk(destination, "<template");
-    errorDigest &&
-      (writeChunk(destination, ' data-dgst="'),
-      writeChunk(destination, escapeTextForBrowser(errorDigest)),
-      writeChunk(destination, '"'));
-    destination.write("></template>");
-    flushSubtree(request, destination, segment, hoistableState);
-    (request = boundary.fallbackPreamble) &&
-      writePreambleContribution(destination, request);
-    return !!destination.write("\x3c!--/$--\x3e");
-  }
-  if (1 !== boundary.status)
-    return (
-      0 === boundary.status &&
-        (boundary.rootSegmentID = request.nextSegmentId++),
+  if (4 === boundary.status)
+    (boundary = boundary.errorDigest),
+      destination.write("\x3c!--$!--\x3e"),
+      writeChunk(destination, "<template"),
+      boundary &&
+        (writeChunk(destination, ' data-dgst="'),
+        writeChunk(destination, escapeTextForBrowser(boundary)),
+        writeChunk(destination, '"')),
+      destination.write("></template>"),
+      flushSubtree(request, destination, segment, hoistableState);
+  else if (1 !== boundary.status)
+    0 === boundary.status && (boundary.rootSegmentID = request.nextSegmentId++),
       0 < boundary.completedSegments.length &&
         request.partialBoundaries.push(boundary),
       writeStartPendingSuspenseBoundary(
@@ -5892,34 +5621,29 @@ function flushSegment(request, destination, segment, hoistableState) {
           hoistStylesheetDependency,
           hoistableState
         )),
-      flushSubtree(request, destination, segment, hoistableState),
-      !!destination.write("\x3c!--/$--\x3e")
-    );
-  if (boundary.byteSize > request.progressiveChunkSize)
-    return (
-      (boundary.rootSegmentID = request.nextSegmentId++),
+      flushSubtree(request, destination, segment, hoistableState);
+  else if (boundary.byteSize > request.progressiveChunkSize)
+    (boundary.rootSegmentID = request.nextSegmentId++),
       request.completedBoundaries.push(boundary),
       writeStartPendingSuspenseBoundary(
         destination,
         request.renderState,
         boundary.rootSegmentID
       ),
-      flushSubtree(request, destination, segment, hoistableState),
-      !!destination.write("\x3c!--/$--\x3e")
-    );
-  hoistableState &&
-    ((segment = boundary.contentState),
-    segment.styles.forEach(hoistStyleQueueDependency, hoistableState),
-    segment.stylesheets.forEach(hoistStylesheetDependency, hoistableState));
-  destination.write("\x3c!--$--\x3e");
-  segment = boundary.completedSegments;
-  if (1 !== segment.length)
-    throw Error(
-      "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
-    );
-  flushSegment(request, destination, segment[0], hoistableState);
-  (request = boundary.contentPreamble) &&
-    writePreambleContribution(destination, request);
+      flushSubtree(request, destination, segment, hoistableState);
+  else {
+    hoistableState &&
+      ((segment = boundary.contentState),
+      segment.styles.forEach(hoistStyleQueueDependency, hoistableState),
+      segment.stylesheets.forEach(hoistStylesheetDependency, hoistableState));
+    destination.write("\x3c!--$--\x3e");
+    segment = boundary.completedSegments;
+    if (1 !== segment.length)
+      throw Error(
+        "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
+      );
+    flushSegment(request, destination, segment[0], hoistableState);
+  }
   return !!destination.write("\x3c!--/$--\x3e");
 }
 function flushSegmentContainer(request, destination, segment, hoistableState) {
@@ -6054,8 +5778,6 @@ function flushCompletedQueues(request, destination) {
         completedRootSegment = request.completedRootSegment;
       if (null !== completedRootSegment) {
         if (5 === completedRootSegment.status) return;
-        var completedPreambleSegments = request.completedPreambleSegments;
-        if (null === completedPreambleSegments) return;
         var renderState = request.renderState;
         if (
           (0 !== request.allPendingTasks ||
@@ -6070,9 +5792,8 @@ function flushCompletedQueues(request, destination) {
             ((resumableState.scriptResources[src] = null),
             renderState.scripts.add(chunks));
         }
-        var preamble = renderState.preamble,
-          htmlChunks = preamble.htmlChunks,
-          headChunks = preamble.headChunks,
+        var htmlChunks = renderState.htmlChunks,
+          headChunks = renderState.headChunks,
           i$jscomp$0;
         if (htmlChunks) {
           for (i$jscomp$0 = 0; i$jscomp$0 < htmlChunks.length; i$jscomp$0++)
@@ -6113,36 +5834,10 @@ function flushCompletedQueues(request, destination) {
         var hoistableChunks = renderState.hoistableChunks;
         for (i$jscomp$0 = 0; i$jscomp$0 < hoistableChunks.length; i$jscomp$0++)
           writeChunk(destination, hoistableChunks[i$jscomp$0]);
-        for (
-          renderState = hoistableChunks.length = 0;
-          renderState < completedPreambleSegments.length;
-          renderState++
-        ) {
-          var segments = completedPreambleSegments[renderState];
-          for (
-            _renderState$external = 0;
-            _renderState$external < segments.length;
-            _renderState$external++
-          )
-            flushSegment(
-              request,
-              destination,
-              segments[_renderState$external],
-              null
-            );
-        }
-        var preamble$jscomp$0 = request.renderState.preamble,
-          headChunks$jscomp$0 = preamble$jscomp$0.headChunks;
-        (preamble$jscomp$0.htmlChunks || headChunks$jscomp$0) &&
+        hoistableChunks.length = 0;
+        htmlChunks &&
+          null === headChunks &&
           writeChunk(destination, endChunkForTag("head"));
-        var bodyChunks = preamble$jscomp$0.bodyChunks;
-        if (bodyChunks)
-          for (
-            completedPreambleSegments = 0;
-            completedPreambleSegments < bodyChunks.length;
-            completedPreambleSegments++
-          )
-            writeChunk(destination, bodyChunks[completedPreambleSegments]);
         flushSegment(request, destination, completedRootSegment, null);
         request.completedRootSegment = null;
         writeBootstrap(destination, request.renderState);
@@ -6368,15 +6063,15 @@ function addToReplayParent(node, parentKeyPath, trackedPostpones) {
     parentNode[2].push(node);
   }
 }
-var isomorphicReactPackageVersion$jscomp$inline_810 = React.version;
+var isomorphicReactPackageVersion$jscomp$inline_777 = React.version;
 if (
-  "19.1.0-experimental-d55cc79b-20250228" !==
-  isomorphicReactPackageVersion$jscomp$inline_810
+  "19.1.0-experimental-b3a95caf-20250113" !==
+  isomorphicReactPackageVersion$jscomp$inline_777
 )
   throw Error(
     'Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:\n  - react:      ' +
-      (isomorphicReactPackageVersion$jscomp$inline_810 +
-        "\n  - react-dom:  19.1.0-experimental-d55cc79b-20250228\nLearn more: https://react.dev/warnings/version-mismatch")
+      (isomorphicReactPackageVersion$jscomp$inline_777 +
+        "\n  - react-dom:  19.1.0-experimental-b3a95caf-20250113\nLearn more: https://react.dev/warnings/version-mismatch")
   );
 exports.renderToReadableStream = function (children, options) {
   return new Promise(function (resolve, reject) {
@@ -6467,4 +6162,4 @@ exports.renderToReadableStream = function (children, options) {
     startWork(request);
   });
 };
-exports.version = "19.1.0-experimental-d55cc79b-20250228";
+exports.version = "19.1.0-experimental-b3a95caf-20250113";
diff --git a/node_modules/react-dom/cjs/react-dom-server.edge.development.js b/node_modules/react-dom/cjs/react-dom-server.edge.development.js
index 962c2a1..82bc69d 100644
--- a/node_modules/react-dom/cjs/react-dom-server.edge.development.js
+++ b/node_modules/react-dom/cjs/react-dom-server.edge.development.js
@@ -875,7 +875,8 @@
         segmentPrefix: stringToPrecomputedChunk(idPrefix + "S:"),
         boundaryPrefix: stringToPrecomputedChunk(idPrefix + "B:"),
         startInlineScript: inlineScriptWithNonce,
-        preamble: createPreambleState(),
+        htmlChunks: null,
+        headChunks: null,
         externalRuntimeScript: externalRuntimeScript,
         bootstrapChunks: bootstrapChunks,
         importMapChunks: externalRuntimeConfig,
@@ -1046,14 +1047,6 @@
         moduleScriptResources: {}
       };
     }
-    function createPreambleState() {
-      return {
-        htmlChunks: null,
-        headChunks: null,
-        bodyChunks: null,
-        contribution: NoContribution
-      };
-    }
     function createFormatContext(insertionMode, selectedValue, tagScope) {
       return {
         insertionMode: insertionMode,
@@ -1124,26 +1117,16 @@
             null,
             parentContext.tagScope
           );
-        case "head":
-          if (parentContext.insertionMode < HTML_MODE)
-            return createFormatContext(
-              HTML_HEAD_MODE,
-              null,
-              parentContext.tagScope
-            );
-          break;
-        case "html":
-          if (parentContext.insertionMode === ROOT_HTML_MODE)
-            return createFormatContext(
-              HTML_HTML_MODE,
-              null,
-              parentContext.tagScope
-            );
       }
-      return parentContext.insertionMode >= HTML_TABLE_MODE ||
-        parentContext.insertionMode < HTML_MODE
+      return parentContext.insertionMode >= HTML_TABLE_MODE
         ? createFormatContext(HTML_MODE, null, parentContext.tagScope)
-        : parentContext;
+        : parentContext.insertionMode === ROOT_HTML_MODE
+          ? "html" === type
+            ? createFormatContext(HTML_HTML_MODE, null, parentContext.tagScope)
+            : createFormatContext(HTML_MODE, null, parentContext.tagScope)
+          : parentContext.insertionMode === HTML_HTML_MODE
+            ? createFormatContext(HTML_MODE, null, parentContext.tagScope)
+            : parentContext;
     }
     function pushTextInstance(target, text, renderState, textEmbedded) {
       if ("" === text) return textEmbedded;
@@ -1795,29 +1778,6 @@
       target.push(endChunkForTag("script"));
       return null;
     }
-    function pushStartSingletonElement(target, props, tag) {
-      target.push(startChunkForTag(tag));
-      var innerHTML = (tag = null),
-        propKey;
-      for (propKey in props)
-        if (hasOwnProperty.call(props, propKey)) {
-          var propValue = props[propKey];
-          if (null != propValue)
-            switch (propKey) {
-              case "children":
-                tag = propValue;
-                break;
-              case "dangerouslySetInnerHTML":
-                innerHTML = propValue;
-                break;
-              default:
-                pushAttribute(target, propKey, propValue);
-            }
-        }
-      target.push(endOfStartTag);
-      pushInnerHTML(target, innerHTML, tag);
-      return tag;
-    }
     function pushStartGenericElement(target, props, tag) {
       target.push(startChunkForTag(tag));
       var innerHTML = (tag = null),
@@ -1858,7 +1818,6 @@
       props,
       resumableState,
       renderState,
-      preambleState,
       hoistableState,
       formatContext,
       textEmbedded,
@@ -2967,7 +2926,6 @@
                 header;
               headers &&
               0 < headers.remainingCapacity &&
-              "string" !== typeof props.srcSet &&
               ("high" === props.fetchPriority ||
                 500 > headers.highImagePreloads.length) &&
               ((header = getPreloadAsHeader(src, "image", {
@@ -3028,13 +2986,13 @@
         case "missing-glyph":
           break;
         case "head":
-          if (formatContext.insertionMode < HTML_MODE) {
-            var preamble = preambleState || renderState.preamble;
-            if (preamble.headChunks)
-              throw Error("The `<head>` tag may only be rendered once.");
-            preamble.headChunks = [];
-            var JSCompiler_inline_result$jscomp$9 = pushStartSingletonElement(
-              preamble.headChunks,
+          if (
+            formatContext.insertionMode < HTML_MODE &&
+            null === renderState.headChunks
+          ) {
+            renderState.headChunks = [];
+            var JSCompiler_inline_result$jscomp$9 = pushStartGenericElement(
+              renderState.headChunks,
               props,
               "head"
             );
@@ -3045,42 +3003,24 @@
               "head"
             );
           return JSCompiler_inline_result$jscomp$9;
-        case "body":
-          if (formatContext.insertionMode < HTML_MODE) {
-            var preamble$jscomp$0 = preambleState || renderState.preamble;
-            if (preamble$jscomp$0.bodyChunks)
-              throw Error("The `<body>` tag may only be rendered once.");
-            preamble$jscomp$0.bodyChunks = [];
-            var JSCompiler_inline_result$jscomp$10 = pushStartSingletonElement(
-              preamble$jscomp$0.bodyChunks,
-              props,
-              "body"
-            );
-          } else
-            JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
-              target$jscomp$0,
-              props,
-              "body"
-            );
-          return JSCompiler_inline_result$jscomp$10;
         case "html":
-          if (formatContext.insertionMode === ROOT_HTML_MODE) {
-            var preamble$jscomp$1 = preambleState || renderState.preamble;
-            if (preamble$jscomp$1.htmlChunks)
-              throw Error("The `<html>` tag may only be rendered once.");
-            preamble$jscomp$1.htmlChunks = [doctypeChunk];
-            var JSCompiler_inline_result$jscomp$11 = pushStartSingletonElement(
-              preamble$jscomp$1.htmlChunks,
+          if (
+            formatContext.insertionMode === ROOT_HTML_MODE &&
+            null === renderState.htmlChunks
+          ) {
+            renderState.htmlChunks = [doctypeChunk];
+            var JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
+              renderState.htmlChunks,
               props,
               "html"
             );
           } else
-            JSCompiler_inline_result$jscomp$11 = pushStartGenericElement(
+            JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
               target$jscomp$0,
               props,
               "html"
             );
-          return JSCompiler_inline_result$jscomp$11;
+          return JSCompiler_inline_result$jscomp$10;
         default:
           if (-1 !== type.indexOf("-")) {
             target$jscomp$0.push(startChunkForTag(type));
@@ -3150,21 +3090,6 @@
         endTagCache.set(tag, chunk));
       return chunk;
     }
-    function hoistPreambleState(renderState, preambleState) {
-      renderState = renderState.preamble;
-      null === renderState.htmlChunks &&
-        preambleState.htmlChunks &&
-        ((renderState.htmlChunks = preambleState.htmlChunks),
-        (preambleState.contribution |= 1));
-      null === renderState.headChunks &&
-        preambleState.headChunks &&
-        ((renderState.headChunks = preambleState.headChunks),
-        (preambleState.contribution |= 4));
-      null === renderState.bodyChunks &&
-        preambleState.bodyChunks &&
-        ((renderState.bodyChunks = preambleState.bodyChunks),
-        (preambleState.contribution |= 2));
-    }
     function writeBootstrap(destination, renderState) {
       renderState = renderState.bootstrapChunks;
       for (var i = 0; i < renderState.length - 1; i++)
@@ -3185,18 +3110,10 @@
       writeChunk(destination, stringToChunk(id.toString(16)));
       return writeChunkAndReturn(destination, startPendingSuspenseBoundary2);
     }
-    function writePreambleContribution(destination, preambleState) {
-      preambleState = preambleState.contribution;
-      preambleState !== NoContribution &&
-        (writeChunk(destination, boundaryPreambleContributionChunkStart),
-        writeChunk(destination, stringToChunk("" + preambleState)),
-        writeChunk(destination, boundaryPreambleContributionChunkEnd));
-    }
     function writeStartSegment(destination, renderState, formatContext, id) {
       switch (formatContext.insertionMode) {
         case ROOT_HTML_MODE:
         case HTML_HTML_MODE:
-        case HTML_HEAD_MODE:
         case HTML_MODE:
           return (
             writeChunk(destination, startSegmentHTML),
@@ -3254,7 +3171,6 @@
       switch (formatContext.insertionMode) {
         case ROOT_HTML_MODE:
         case HTML_HTML_MODE:
-        case HTML_HEAD_MODE:
         case HTML_MODE:
           return writeChunkAndReturn(destination, endSegmentHTML);
         case SVG_MODE:
@@ -4259,12 +4175,6 @@
           index
         );
     }
-    function unsupportedRefresh() {
-      throw Error("Cache cannot be refreshed during server rendering.");
-    }
-    function unsupportedStartGesture() {
-      throw Error("startGesture cannot be called during server rendering.");
-    }
     function noop$1() {}
     function disabledLog() {}
     function disableLogs() {
@@ -4609,7 +4519,7 @@
       this.status = 10;
       this.fatalError = null;
       this.pendingRootTasks = this.allPendingTasks = this.nextSegmentId = 0;
-      this.completedPreambleSegments = this.completedRootSegment = null;
+      this.completedRootSegment = null;
       this.abortableTasks = abortSet;
       this.pingedTasks = [];
       this.clientRenderedBoundaries = [];
@@ -4669,7 +4579,6 @@
         null,
         renderState,
         null,
-        null,
         resumableState.abortableTasks,
         null,
         rootFormatContext,
@@ -4764,7 +4673,6 @@
             null,
             onAllReady,
             null,
-            null,
             renderState.abortableTasks,
             null,
             postponedState.rootFormatContext,
@@ -4854,12 +4762,7 @@
               return performWork(request);
             }, 0));
     }
-    function createSuspenseBoundary(
-      request,
-      fallbackAbortableTasks,
-      contentPreamble,
-      fallbackPreamble
-    ) {
+    function createSuspenseBoundary(request, fallbackAbortableTasks) {
       return {
         status: PENDING,
         rootSegmentID: -1,
@@ -4871,8 +4774,6 @@
         errorDigest: null,
         contentState: createHoistableState(),
         fallbackState: createHoistableState(),
-        contentPreamble: contentPreamble,
-        fallbackPreamble: fallbackPreamble,
         trackedContentKeyPath: null,
         trackedFallbackNode: null,
         errorMessage: null,
@@ -4887,7 +4788,6 @@
       childIndex,
       blockedBoundary,
       blockedSegment,
-      blockedPreamble,
       hoistableState,
       abortSet,
       keyPath,
@@ -4912,7 +4812,6 @@
         },
         blockedBoundary: blockedBoundary,
         blockedSegment: blockedSegment,
-        blockedPreamble: blockedPreamble,
         hoistableState: hoistableState,
         abortSet: abortSet,
         keyPath: keyPath,
@@ -4959,7 +4858,6 @@
         },
         blockedBoundary: blockedBoundary,
         blockedSegment: null,
-        blockedPreamble: null,
         hoistableState: hoistableState,
         abortSet: abortSet,
         keyPath: keyPath,
@@ -4984,12 +4882,11 @@
     ) {
       return {
         status: PENDING,
-        parentFlushed: !1,
         id: -1,
         index: index,
+        parentFlushed: !1,
         chunks: [],
         children: [],
-        preambleChildren: [],
         parentFormatContext: parentFormatContext,
         boundary: boundary,
         lastPushedText: lastPushedText,
@@ -5693,7 +5590,6 @@
             props,
             request.resumableState,
             request.renderState,
-            task.blockedPreamble,
             task.hoistableState,
             task.formatContext,
             segment.lastPushedText,
@@ -5702,45 +5598,9 @@
           segment.lastPushedText = !1;
           var _prevContext = task.formatContext,
             _prevKeyPath2 = task.keyPath;
+          task.formatContext = getChildFormatContext(_prevContext, type, props);
           task.keyPath = keyPath;
-          if (
-            (task.formatContext = getChildFormatContext(
-              _prevContext,
-              type,
-              props
-            )).insertionMode === HTML_HEAD_MODE
-          ) {
-            var preambleSegment = createPendingSegment(
-              request,
-              0,
-              null,
-              task.formatContext,
-              !1,
-              !1
-            );
-            segment.preambleChildren.push(preambleSegment);
-            var preambleTask = createRenderTask(
-              request,
-              null,
-              _children,
-              -1,
-              task.blockedBoundary,
-              preambleSegment,
-              task.blockedPreamble,
-              task.hoistableState,
-              request.abortableTasks,
-              task.keyPath,
-              task.formatContext,
-              task.context,
-              task.treeContext,
-              task.componentStack,
-              task.isFallback,
-              emptyContextObject,
-              task.debugTask
-            );
-            pushComponentStack(preambleTask);
-            request.pingedTasks.push(preambleTask);
-          } else renderNode(request, task, _children, -1);
+          renderNode(request, task, _children, -1);
           task.formatContext = _prevContext;
           task.keyPath = _prevKeyPath2;
           a: {
@@ -5777,9 +5637,6 @@
                   resumableState.hasHtml = !0;
                   break a;
                 }
-                break;
-              case "head":
-                if (_prevContext.insertionMode <= HTML_HTML_MODE) break a;
             }
             target.push(endChunkForTag(type));
           }
@@ -5833,26 +5690,12 @@
             } else {
               var prevKeyPath$jscomp$3 = task.keyPath,
                 parentBoundary = task.blockedBoundary,
-                parentPreamble = task.blockedPreamble,
                 parentHoistableState = task.hoistableState,
                 parentSegment = task.blockedSegment,
                 fallback = props.fallback,
                 content = props.children,
-                fallbackAbortSet = new Set();
-              var newBoundary =
-                task.formatContext.insertionMode < HTML_MODE
-                  ? createSuspenseBoundary(
-                      request,
-                      fallbackAbortSet,
-                      createPreambleState(),
-                      createPreambleState()
-                    )
-                  : createSuspenseBoundary(
-                      request,
-                      fallbackAbortSet,
-                      null,
-                      null
-                    );
+                fallbackAbortSet = new Set(),
+                newBoundary = createSuspenseBoundary(request, fallbackAbortSet);
               null !== request.trackedPostpones &&
                 (newBoundary.trackedContentKeyPath = keyPath);
               var boundarySegment = createPendingSegment(
@@ -5892,7 +5735,6 @@
                 );
                 newBoundary.trackedFallbackNode = fallbackReplayNode;
                 task.blockedSegment = boundarySegment;
-                task.blockedPreamble = newBoundary.fallbackPreamble;
                 task.keyPath = fallbackKeyPath;
                 boundarySegment.status = 6;
                 try {
@@ -5908,7 +5750,6 @@
                   );
                 } finally {
                   (task.blockedSegment = parentSegment),
-                    (task.blockedPreamble = parentPreamble),
                     (task.keyPath = prevKeyPath$jscomp$3);
                 }
                 var suspendedPrimaryTask = createRenderTask(
@@ -5918,7 +5759,6 @@
                   -1,
                   newBoundary,
                   contentRootSegment,
-                  newBoundary.contentPreamble,
                   newBoundary.contentState,
                   task.abortSet,
                   keyPath,
@@ -5934,7 +5774,6 @@
                 request.pingedTasks.push(suspendedPrimaryTask);
               } else {
                 task.blockedBoundary = newBoundary;
-                task.blockedPreamble = newBoundary.contentPreamble;
                 task.hoistableState = newBoundary.contentState;
                 task.blockedSegment = contentRootSegment;
                 task.keyPath = keyPath;
@@ -5951,9 +5790,6 @@
                       newBoundary.status === PENDING)
                   ) {
                     newBoundary.status = COMPLETED;
-                    0 === request.pendingRootTasks &&
-                      task.blockedPreamble &&
-                      preparePreamble(request);
                     break a;
                   }
                 } catch (thrownValue$2) {
@@ -5993,7 +5829,6 @@
                   untrackBoundary(request, newBoundary);
                 } finally {
                   (task.blockedBoundary = parentBoundary),
-                    (task.blockedPreamble = parentPreamble),
                     (task.hoistableState = parentHoistableState),
                     (task.blockedSegment = parentSegment),
                     (task.keyPath = prevKeyPath$jscomp$3);
@@ -6005,7 +5840,6 @@
                   -1,
                   parentBoundary,
                   boundarySegment,
-                  newBoundary.fallbackPreamble,
                   newBoundary.fallbackState,
                   fallbackAbortSet,
                   [keyPath[0], "Suspense Fallback", keyPath[2]],
@@ -6244,27 +6078,17 @@
                 previousReplaySet = task.replay,
                 parentBoundary = task.blockedBoundary,
                 parentHoistableState = task.hoistableState,
-                content = props.children,
-                fallback = props.fallback,
-                fallbackAbortSet = new Set();
-              props =
-                task.formatContext.insertionMode < HTML_MODE
-                  ? createSuspenseBoundary(
-                      request,
-                      fallbackAbortSet,
-                      createPreambleState(),
-                      createPreambleState()
-                    )
-                  : createSuspenseBoundary(
-                      request,
-                      fallbackAbortSet,
-                      null,
-                      null
-                    );
-              props.parentFlushed = !0;
-              props.rootSegmentID = type;
-              task.blockedBoundary = props;
-              task.hoistableState = props.contentState;
+                content = props.children;
+              props = props.fallback;
+              var fallbackAbortSet = new Set(),
+                resumedBoundary = createSuspenseBoundary(
+                  request,
+                  fallbackAbortSet
+                );
+              resumedBoundary.parentFlushed = !0;
+              resumedBoundary.rootSegmentID = type;
+              task.blockedBoundary = resumedBoundary;
+              task.hoistableState = resumedBoundary.contentState;
               task.keyPath = keyPath;
               task.replay = { nodes: ref, slots: name, pendingTasks: 1 };
               try {
@@ -6277,13 +6101,16 @@
                     "Couldn't find all resumable slots by key/index during replaying. The tree doesn't match so React will fallback to client rendering."
                   );
                 task.replay.pendingTasks--;
-                if (0 === props.pendingTasks && props.status === PENDING) {
-                  props.status = COMPLETED;
-                  request.completedBoundaries.push(props);
+                if (
+                  0 === resumedBoundary.pendingTasks &&
+                  resumedBoundary.status === PENDING
+                ) {
+                  resumedBoundary.status = COMPLETED;
+                  request.completedBoundaries.push(resumedBoundary);
                   break a;
                 }
               } catch (error) {
-                (props.status = CLIENT_RENDERED),
+                (resumedBoundary.status = CLIENT_RENDERED),
                   (childNodes = getThrownInfo(task.componentStack)),
                   "object" === typeof error &&
                   null !== error &&
@@ -6301,9 +6128,15 @@
                         childNodes,
                         task.debugTask
                       )),
-                  encodeErrorForBoundary(props, replay, error, childNodes, !1),
+                  encodeErrorForBoundary(
+                    resumedBoundary,
+                    replay,
+                    error,
+                    childNodes,
+                    !1
+                  ),
                   task.replay.pendingTasks--,
-                  request.clientRenderedBoundaries.push(props);
+                  request.clientRenderedBoundaries.push(resumedBoundary);
               } finally {
                 (task.blockedBoundary = parentBoundary),
                   (task.hoistableState = parentHoistableState),
@@ -6314,10 +6147,10 @@
                 request,
                 null,
                 { nodes: keyOrIndex, slots: node, pendingTasks: 0 },
-                fallback,
+                props,
                 -1,
                 parentBoundary,
-                props.fallbackState,
+                resumedBoundary.fallbackState,
                 fallbackAbortSet,
                 [keyPath[0], "Suspense Fallback", keyPath[2]],
                 task.formatContext,
@@ -6862,7 +6695,6 @@
         task.childIndex,
         task.blockedBoundary,
         newSegment,
-        task.blockedPreamble,
         task.hoistableState,
         task.abortSet,
         task.keyPath,
@@ -7080,12 +6912,7 @@
             errorDigest = errorDigest$jscomp$0,
             errorInfo = errorInfo$jscomp$0,
             wasAborted = aborted,
-            resumedBoundary = createSuspenseBoundary(
-              request,
-              new Set(),
-              null,
-              null
-            );
+            resumedBoundary = createSuspenseBoundary(request, new Set());
           resumedBoundary.parentFlushed = !0;
           resumedBoundary.rootSegmentID = node;
           resumedBoundary.status = CLIENT_RENDERED;
@@ -7295,7 +7122,6 @@
     }
     function completeShell(request) {
       null === request.trackedPostpones && safelyEmitEarlyPreloads(request, !0);
-      null === request.trackedPostpones && preparePreamble(request);
       request.onShellError = noop;
       request = request.onShellReady;
       request();
@@ -7308,7 +7134,6 @@
           : null === request.completedRootSegment ||
               request.completedRootSegment.status !== POSTPONED
       );
-      preparePreamble(request);
       request = request.onAllReady;
       request();
     }
@@ -7353,11 +7178,7 @@
                     abortTaskSoft,
                     request
                   ),
-                  boundary.fallbackAbortableTasks.clear(),
-                  0 === request.pendingRootTasks &&
-                    null === request.trackedPostpones &&
-                    null !== boundary.contentPreamble &&
-                    preparePreamble(request)))
+                  boundary.fallbackAbortableTasks.clear()))
               : null !== segment &&
                 segment.parentFlushed &&
                 segment.status === COMPLETED &&
@@ -7612,11 +7433,7 @@
                             ),
                             untrackBoundary(request, boundary),
                             boundary.parentFlushed &&
-                              request.clientRenderedBoundaries.push(boundary),
-                            0 === request.pendingRootTasks &&
-                              null === request.trackedPostpones &&
-                              null !== boundary.contentPreamble &&
-                              preparePreamble(request)));
+                              request.clientRenderedBoundaries.push(boundary)));
                       request.allPendingTasks--;
                       0 === request.allPendingTasks && completeAll(request);
                     }
@@ -7646,85 +7463,6 @@
         }
       }
     }
-    function preparePreambleFromSubtree(
-      request,
-      segment,
-      collectedPreambleSegments
-    ) {
-      segment.preambleChildren.length &&
-        collectedPreambleSegments.push(segment.preambleChildren);
-      for (var pendingPreambles = !1, i = 0; i < segment.children.length; i++)
-        pendingPreambles =
-          preparePreambleFromSegment(
-            request,
-            segment.children[i],
-            collectedPreambleSegments
-          ) || pendingPreambles;
-      return pendingPreambles;
-    }
-    function preparePreambleFromSegment(
-      request,
-      segment,
-      collectedPreambleSegments
-    ) {
-      var boundary = segment.boundary;
-      if (null === boundary)
-        return preparePreambleFromSubtree(
-          request,
-          segment,
-          collectedPreambleSegments
-        );
-      var preamble = boundary.contentPreamble,
-        fallbackPreamble = boundary.fallbackPreamble;
-      if (null === preamble || null === fallbackPreamble) return !1;
-      switch (boundary.status) {
-        case COMPLETED:
-          hoistPreambleState(request.renderState, preamble);
-          segment = boundary.completedSegments[0];
-          if (!segment)
-            throw Error(
-              "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
-            );
-          return preparePreambleFromSubtree(
-            request,
-            segment,
-            collectedPreambleSegments
-          );
-        case POSTPONED:
-          if (null !== request.trackedPostpones) return !0;
-        case CLIENT_RENDERED:
-          if (segment.status === COMPLETED)
-            return (
-              hoistPreambleState(request.renderState, fallbackPreamble),
-              preparePreambleFromSubtree(
-                request,
-                segment,
-                collectedPreambleSegments
-              )
-            );
-        default:
-          return !0;
-      }
-    }
-    function preparePreamble(request) {
-      if (
-        request.completedRootSegment &&
-        null === request.completedPreambleSegments
-      ) {
-        var collectedPreambleSegments = [],
-          hasPendingPreambles = preparePreambleFromSegment(
-            request,
-            request.completedRootSegment,
-            collectedPreambleSegments
-          ),
-          preamble = request.renderState.preamble;
-        if (
-          !1 === hasPendingPreambles ||
-          (preamble.headChunks && preamble.bodyChunks)
-        )
-          request.completedPreambleSegments = collectedPreambleSegments;
-      }
-    }
     function flushSubtree(request, destination, segment, hoistableState) {
       segment.parentFlushed = !0;
       switch (segment.status) {
@@ -7772,8 +7510,8 @@
       if (boundary.status === CLIENT_RENDERED) {
         var errorDigest = boundary.errorDigest,
           errorMessage = boundary.errorMessage,
-          errorStack = boundary.errorStack,
-          errorComponentStack = boundary.errorComponentStack;
+          errorStack = boundary.errorStack;
+        boundary = boundary.errorComponentStack;
         writeChunkAndReturn(destination, startClientRenderedSuspenseBoundary);
         writeChunk(destination, clientRenderedSuspenseBoundaryError1);
         errorDigest &&
@@ -7806,11 +7544,11 @@
             destination,
             clientRenderedSuspenseBoundaryErrorAttrInterstitial
           ));
-        errorComponentStack &&
+        boundary &&
           (writeChunk(destination, clientRenderedSuspenseBoundaryError1D),
           writeChunk(
             destination,
-            stringToChunk(escapeTextForBrowser(errorComponentStack))
+            stringToChunk(escapeTextForBrowser(boundary))
           ),
           writeChunk(
             destination,
@@ -7818,14 +7556,9 @@
           ));
         writeChunkAndReturn(destination, clientRenderedSuspenseBoundaryError2);
         flushSubtree(request, destination, segment, hoistableState);
-        (request = boundary.fallbackPreamble) &&
-          writePreambleContribution(destination, request);
-        return writeChunkAndReturn(destination, endSuspenseBoundary);
-      }
-      if (boundary.status !== COMPLETED)
-        return (
-          boundary.status === PENDING &&
-            (boundary.rootSegmentID = request.nextSegmentId++),
+      } else if (boundary.status !== COMPLETED)
+        boundary.status === PENDING &&
+          (boundary.rootSegmentID = request.nextSegmentId++),
           0 < boundary.completedSegments.length &&
             request.partialBoundaries.push(boundary),
           writeStartPendingSuspenseBoundary(
@@ -7840,34 +7573,32 @@
               hoistStylesheetDependency,
               hoistableState
             )),
-          flushSubtree(request, destination, segment, hoistableState),
-          writeChunkAndReturn(destination, endSuspenseBoundary)
-        );
-      if (boundary.byteSize > request.progressiveChunkSize)
-        return (
-          (boundary.rootSegmentID = request.nextSegmentId++),
+          flushSubtree(request, destination, segment, hoistableState);
+      else if (boundary.byteSize > request.progressiveChunkSize)
+        (boundary.rootSegmentID = request.nextSegmentId++),
           request.completedBoundaries.push(boundary),
           writeStartPendingSuspenseBoundary(
             destination,
             request.renderState,
             boundary.rootSegmentID
           ),
-          flushSubtree(request, destination, segment, hoistableState),
-          writeChunkAndReturn(destination, endSuspenseBoundary)
-        );
-      hoistableState &&
-        ((segment = boundary.contentState),
-        segment.styles.forEach(hoistStyleQueueDependency, hoistableState),
-        segment.stylesheets.forEach(hoistStylesheetDependency, hoistableState));
-      writeChunkAndReturn(destination, startCompletedSuspenseBoundary);
-      segment = boundary.completedSegments;
-      if (1 !== segment.length)
-        throw Error(
-          "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
-        );
-      flushSegment(request, destination, segment[0], hoistableState);
-      (request = boundary.contentPreamble) &&
-        writePreambleContribution(destination, request);
+          flushSubtree(request, destination, segment, hoistableState);
+      else {
+        hoistableState &&
+          ((segment = boundary.contentState),
+          segment.styles.forEach(hoistStyleQueueDependency, hoistableState),
+          segment.stylesheets.forEach(
+            hoistStylesheetDependency,
+            hoistableState
+          ));
+        writeChunkAndReturn(destination, startCompletedSuspenseBoundary);
+        segment = boundary.completedSegments;
+        if (1 !== segment.length)
+          throw Error(
+            "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
+          );
+        flushSegment(request, destination, segment[0], hoistableState);
+      }
       return writeChunkAndReturn(destination, endSuspenseBoundary);
     }
     function flushSegmentContainer(
@@ -8028,8 +7759,6 @@
             completedRootSegment = request.completedRootSegment;
           if (null !== completedRootSegment) {
             if (completedRootSegment.status === POSTPONED) return;
-            var completedPreambleSegments = request.completedPreambleSegments;
-            if (null === completedPreambleSegments) return;
             var renderState = request.renderState;
             if (
               (0 !== request.allPendingTasks ||
@@ -8044,9 +7773,8 @@
                 ((resumableState.scriptResources[src] = EXISTS),
                 renderState.scripts.add(chunks));
             }
-            var preamble = renderState.preamble,
-              htmlChunks = preamble.htmlChunks,
-              headChunks = preamble.headChunks,
+            var htmlChunks = renderState.htmlChunks,
+              headChunks = renderState.headChunks,
               i$jscomp$0;
             if (htmlChunks) {
               for (i$jscomp$0 = 0; i$jscomp$0 < htmlChunks.length; i$jscomp$0++)
@@ -8107,36 +7835,10 @@
               i$jscomp$0++
             )
               writeChunk(destination, hoistableChunks[i$jscomp$0]);
-            for (
-              renderState = hoistableChunks.length = 0;
-              renderState < completedPreambleSegments.length;
-              renderState++
-            ) {
-              var segments = completedPreambleSegments[renderState];
-              for (
-                _renderState$external = 0;
-                _renderState$external < segments.length;
-                _renderState$external++
-              )
-                flushSegment(
-                  request,
-                  destination,
-                  segments[_renderState$external],
-                  null
-                );
-            }
-            var preamble$jscomp$0 = request.renderState.preamble,
-              headChunks$jscomp$0 = preamble$jscomp$0.headChunks;
-            (preamble$jscomp$0.htmlChunks || headChunks$jscomp$0) &&
+            hoistableChunks.length = 0;
+            htmlChunks &&
+              null === headChunks &&
               writeChunk(destination, endChunkForTag("head"));
-            var bodyChunks = preamble$jscomp$0.bodyChunks;
-            if (bodyChunks)
-              for (
-                completedPreambleSegments = 0;
-                completedPreambleSegments < bodyChunks.length;
-                completedPreambleSegments++
-              )
-                writeChunk(destination, bodyChunks[completedPreambleSegments]);
             flushSegment(request, destination, completedRootSegment, null);
             request.completedRootSegment = null;
             writeBootstrap(destination, request.renderState);
@@ -8490,19 +8192,11 @@
       )
         return (request.trackedPostpones = null);
       if (
-        null === request.completedRootSegment ||
-        (request.completedRootSegment.status !== POSTPONED &&
-          null !== request.completedPreambleSegments)
+        null !== request.completedRootSegment &&
+        request.completedRootSegment.status === POSTPONED
       ) {
-        var replaySlots = trackedPostpones.rootSlots;
-        var resumableState = request.resumableState;
-        resumableState.bootstrapScriptContent = void 0;
-        resumableState.bootstrapScripts = void 0;
-        resumableState.bootstrapModules = void 0;
-      } else {
-        replaySlots = request.completedRootSegment.id;
-        resumableState = request.resumableState;
-        var renderState = request.renderState;
+        var resumableState = request.resumableState,
+          renderState = request.renderState;
         resumableState.nextFormID = 0;
         resumableState.hasBody = !1;
         resumableState.hasHtml = !1;
@@ -8514,23 +8208,27 @@
         resumableState.scriptResources = {};
         resumableState.moduleUnknownResources = {};
         resumableState.moduleScriptResources = {};
-      }
+      } else
+        (resumableState = request.resumableState),
+          (resumableState.bootstrapScriptContent = void 0),
+          (resumableState.bootstrapScripts = void 0),
+          (resumableState.bootstrapModules = void 0);
       return {
         nextSegmentId: request.nextSegmentId,
         rootFormatContext: request.rootFormatContext,
         progressiveChunkSize: request.progressiveChunkSize,
         resumableState: request.resumableState,
         replayNodes: trackedPostpones.rootNodes,
-        replaySlots: replaySlots
+        replaySlots: trackedPostpones.rootSlots
       };
     }
     function ensureCorrectIsomorphicReactVersion() {
       var isomorphicReactPackageVersion = React.version;
-      if ("19.1.0-experimental-d55cc79b-20250228" !== isomorphicReactPackageVersion)
+      if ("19.1.0-experimental-b3a95caf-20250113" !== isomorphicReactPackageVersion)
         throw Error(
           'Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:\n  - react:      ' +
             (isomorphicReactPackageVersion +
-              "\n  - react-dom:  19.1.0-experimental-d55cc79b-20250228\nLearn more: https://react.dev/warnings/version-mismatch")
+              "\n  - react-dom:  19.1.0-experimental-b3a95caf-20250113\nLearn more: https://react.dev/warnings/version-mismatch")
         );
     }
     var React = require("react"),
@@ -8551,7 +8249,6 @@
       REACT_SCOPE_TYPE = Symbol.for("react.scope"),
       REACT_OFFSCREEN_TYPE = Symbol.for("react.offscreen"),
       REACT_LEGACY_HIDDEN_TYPE = Symbol.for("react.legacy_hidden"),
-      REACT_MEMO_CACHE_SENTINEL = Symbol.for("react.memo_cache_sentinel"),
       REACT_POSTPONE_TYPE = Symbol.for("react.postpone"),
       REACT_VIEW_TRANSITION_TYPE = Symbol.for("react.view_transition"),
       MAYBE_ITERATOR_SYMBOL = Symbol.iterator,
@@ -9371,7 +9068,6 @@
                 var header;
                 resumableState &&
                 0 < resumableState.remainingCapacity &&
-                "string" !== typeof imageSrcSet &&
                 "high" === fetchPriority &&
                 ((header = getPreloadAsHeader(href, as, options)),
                 0 <= (resumableState.remainingCapacity -= header.length + 2))
@@ -9634,17 +9330,15 @@
       ),
       importMapScriptEnd = stringToPrecomputedChunk("\x3c/script>");
     var didWarnForNewBooleanPropsWithEmptyValue = {};
-    var NoContribution = 0,
-      ROOT_HTML_MODE = 0,
+    var ROOT_HTML_MODE = 0,
       HTML_HTML_MODE = 1,
       HTML_MODE = 2,
-      HTML_HEAD_MODE = 3,
-      SVG_MODE = 4,
-      MATHML_MODE = 5,
-      HTML_TABLE_MODE = 6,
-      HTML_TABLE_BODY_MODE = 7,
-      HTML_TABLE_ROW_MODE = 8,
-      HTML_COLGROUP_MODE = 9,
+      SVG_MODE = 3,
+      MATHML_MODE = 4,
+      HTML_TABLE_MODE = 5,
+      HTML_TABLE_BODY_MODE = 6,
+      HTML_TABLE_ROW_MODE = 7,
+      HTML_COLGROUP_MODE = 8,
       textSeparator = stringToPrecomputedChunk("\x3c!-- --\x3e"),
       styleNameCache = new Map(),
       styleAttributeStart = stringToPrecomputedChunk(' style="'),
@@ -9710,9 +9404,6 @@
         stringToPrecomputedChunk(' data-cstck="'),
       clientRenderedSuspenseBoundaryError2 =
         stringToPrecomputedChunk("></template>"),
-      boundaryPreambleContributionChunkStart =
-        stringToPrecomputedChunk("\x3c!--"),
-      boundaryPreambleContributionChunkEnd = stringToPrecomputedChunk("--\x3e"),
       startSegmentHTML = stringToPrecomputedChunk('<div hidden id="'),
       startSegmentHTML2 = stringToPrecomputedChunk('">'),
       endSegmentHTML = stringToPrecomputedChunk("</div>"),
@@ -9956,9 +9647,9 @@
               "Invalid hook call. Hooks can only be called inside of the body of a function component."
             );
           overflow = localIdCounter++;
-          treeId = "\u00ab" + resumableState.idPrefix + "R" + treeId;
+          treeId = ":" + resumableState.idPrefix + "R" + treeId;
           0 < overflow && (treeId += "H" + overflow.toString(32));
-          return treeId + "\u00bb";
+          return treeId + ":";
         },
         useSyncExternalStore: function (
           subscribe,
@@ -9981,20 +9672,8 @@
           resolveCurrentlyRenderingComponent();
           return NotPending;
         },
-        useMemoCache: function (size) {
-          for (var data = Array(size), i = 0; i < size; i++)
-            data[i] = REACT_MEMO_CACHE_SENTINEL;
-          return data;
-        },
-        useCacheRefresh: function () {
-          return unsupportedRefresh;
-        },
         useEffectEvent: function () {
           return throwOnUseEffectEventCall;
-        },
-        useSwipeTransition: function (previous, current) {
-          resolveCurrentlyRenderingComponent();
-          return [current, unsupportedStartGesture];
         }
       },
       currentResumableState = null,
@@ -10313,5 +9992,5 @@
         startWork(request);
       });
     };
-    exports.version = "19.1.0-experimental-d55cc79b-20250228";
+    exports.version = "19.1.0-experimental-b3a95caf-20250113";
   })();
diff --git a/node_modules/react-dom/cjs/react-dom-server.edge.production.js b/node_modules/react-dom/cjs/react-dom-server.edge.production.js
index c27fff4..4ea23d9 100644
--- a/node_modules/react-dom/cjs/react-dom-server.edge.production.js
+++ b/node_modules/react-dom/cjs/react-dom-server.edge.production.js
@@ -51,7 +51,6 @@ var React = require("react"),
   REACT_SCOPE_TYPE = Symbol.for("react.scope"),
   REACT_OFFSCREEN_TYPE = Symbol.for("react.offscreen"),
   REACT_LEGACY_HIDDEN_TYPE = Symbol.for("react.legacy_hidden"),
-  REACT_MEMO_CACHE_SENTINEL = Symbol.for("react.memo_cache_sentinel"),
   REACT_POSTPONE_TYPE = Symbol.for("react.postpone"),
   REACT_VIEW_TRANSITION_TYPE = Symbol.for("react.view_transition"),
   MAYBE_ITERATOR_SYMBOL = Symbol.iterator,
@@ -435,7 +434,8 @@ function createRenderState(
     segmentPrefix: stringToPrecomputedChunk(idPrefix + "S:"),
     boundaryPrefix: stringToPrecomputedChunk(idPrefix + "B:"),
     startInlineScript: inlineScriptWithNonce,
-    preamble: createPreambleState(),
+    htmlChunks: null,
+    headChunks: null,
     externalRuntimeScript: externalRuntimeScript,
     bootstrapChunks: bootstrapChunks,
     importMapChunks: externalRuntimeConfig,
@@ -609,14 +609,6 @@ function createResumableState(
     moduleScriptResources: {}
   };
 }
-function createPreambleState() {
-  return {
-    htmlChunks: null,
-    headChunks: null,
-    bodyChunks: null,
-    contribution: 0
-  };
-}
 function createFormatContext(insertionMode, selectedValue, tagScope) {
   return {
     insertionMode: insertionMode,
@@ -627,9 +619,9 @@ function createFormatContext(insertionMode, selectedValue, tagScope) {
 function createRootFormatContext(namespaceURI) {
   return createFormatContext(
     "http://www.w3.org/2000/svg" === namespaceURI
-      ? 4
+      ? 3
       : "http://www.w3.org/1998/Math/MathML" === namespaceURI
-        ? 5
+        ? 4
         : 0,
     null,
     0
@@ -646,34 +638,33 @@ function getChildFormatContext(parentContext, type, props) {
         parentContext.tagScope
       );
     case "svg":
-      return createFormatContext(4, null, parentContext.tagScope);
+      return createFormatContext(3, null, parentContext.tagScope);
     case "picture":
       return createFormatContext(2, null, parentContext.tagScope | 2);
     case "math":
-      return createFormatContext(5, null, parentContext.tagScope);
+      return createFormatContext(4, null, parentContext.tagScope);
     case "foreignObject":
       return createFormatContext(2, null, parentContext.tagScope);
     case "table":
-      return createFormatContext(6, null, parentContext.tagScope);
+      return createFormatContext(5, null, parentContext.tagScope);
     case "thead":
     case "tbody":
     case "tfoot":
-      return createFormatContext(7, null, parentContext.tagScope);
+      return createFormatContext(6, null, parentContext.tagScope);
     case "colgroup":
-      return createFormatContext(9, null, parentContext.tagScope);
-    case "tr":
       return createFormatContext(8, null, parentContext.tagScope);
-    case "head":
-      if (2 > parentContext.insertionMode)
-        return createFormatContext(3, null, parentContext.tagScope);
-      break;
-    case "html":
-      if (0 === parentContext.insertionMode)
-        return createFormatContext(1, null, parentContext.tagScope);
+    case "tr":
+      return createFormatContext(7, null, parentContext.tagScope);
   }
-  return 6 <= parentContext.insertionMode || 2 > parentContext.insertionMode
+  return 5 <= parentContext.insertionMode
     ? createFormatContext(2, null, parentContext.tagScope)
-    : parentContext;
+    : 0 === parentContext.insertionMode
+      ? "html" === type
+        ? createFormatContext(1, null, parentContext.tagScope)
+        : createFormatContext(2, null, parentContext.tagScope)
+      : 1 === parentContext.insertionMode
+        ? createFormatContext(2, null, parentContext.tagScope)
+        : parentContext;
 }
 var textSeparator = stringToPrecomputedChunk("\x3c!-- --\x3e");
 function pushTextInstance(target, text, renderState, textEmbedded) {
@@ -1200,29 +1191,6 @@ function pushScriptImpl(target, props) {
   target.push(endChunkForTag("script"));
   return null;
 }
-function pushStartSingletonElement(target, props, tag) {
-  target.push(startChunkForTag(tag));
-  var innerHTML = (tag = null),
-    propKey;
-  for (propKey in props)
-    if (hasOwnProperty.call(props, propKey)) {
-      var propValue = props[propKey];
-      if (null != propValue)
-        switch (propKey) {
-          case "children":
-            tag = propValue;
-            break;
-          case "dangerouslySetInnerHTML":
-            innerHTML = propValue;
-            break;
-          default:
-            pushAttribute(target, propKey, propValue);
-        }
-    }
-  target.push(endOfStartTag);
-  pushInnerHTML(target, innerHTML, tag);
-  return tag;
-}
 function pushStartGenericElement(target, props, tag) {
   target.push(startChunkForTag(tag));
   var innerHTML = (tag = null),
@@ -1267,7 +1235,6 @@ function pushStartInstance(
   props,
   resumableState,
   renderState,
-  preambleState,
   hoistableState,
   formatContext,
   textEmbedded,
@@ -1755,7 +1722,7 @@ function pushStartInstance(
       return JSCompiler_inline_result$jscomp$2;
     case "title":
       if (
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp
       )
@@ -1774,7 +1741,7 @@ function pushStartInstance(
         href = props.href,
         precedence = props.precedence;
       if (
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp ||
         "string" !== typeof rel ||
@@ -1856,7 +1823,7 @@ function pushStartInstance(
         "symbol" === typeof asyncProp ||
         props.onLoad ||
         props.onError ||
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp
       )
@@ -1897,7 +1864,7 @@ function pushStartInstance(
       var precedence$jscomp$0 = props.precedence,
         href$jscomp$0 = props.href;
       if (
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp ||
         "string" !== typeof precedence$jscomp$0 ||
@@ -2006,7 +1973,7 @@ function pushStartInstance(
       return JSCompiler_inline_result$jscomp$6;
     case "meta":
       if (
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp
       )
@@ -2125,7 +2092,6 @@ function pushStartInstance(
             header;
           headers &&
           0 < headers.remainingCapacity &&
-          "string" !== typeof props.srcSet &&
           ("high" === props.fetchPriority ||
             500 > headers.highImagePreloads.length) &&
           ((header = getPreloadAsHeader(src, "image", {
@@ -2185,13 +2151,10 @@ function pushStartInstance(
     case "missing-glyph":
       break;
     case "head":
-      if (2 > formatContext.insertionMode) {
-        var preamble = preambleState || renderState.preamble;
-        if (preamble.headChunks)
-          throw Error("The `<head>` tag may only be rendered once.");
-        preamble.headChunks = [];
-        var JSCompiler_inline_result$jscomp$9 = pushStartSingletonElement(
-          preamble.headChunks,
+      if (2 > formatContext.insertionMode && null === renderState.headChunks) {
+        renderState.headChunks = [];
+        var JSCompiler_inline_result$jscomp$9 = pushStartGenericElement(
+          renderState.headChunks,
           props,
           "head"
         );
@@ -2202,42 +2165,24 @@ function pushStartInstance(
           "head"
         );
       return JSCompiler_inline_result$jscomp$9;
-    case "body":
-      if (2 > formatContext.insertionMode) {
-        var preamble$jscomp$0 = preambleState || renderState.preamble;
-        if (preamble$jscomp$0.bodyChunks)
-          throw Error("The `<body>` tag may only be rendered once.");
-        preamble$jscomp$0.bodyChunks = [];
-        var JSCompiler_inline_result$jscomp$10 = pushStartSingletonElement(
-          preamble$jscomp$0.bodyChunks,
-          props,
-          "body"
-        );
-      } else
-        JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
-          target$jscomp$0,
-          props,
-          "body"
-        );
-      return JSCompiler_inline_result$jscomp$10;
     case "html":
-      if (0 === formatContext.insertionMode) {
-        var preamble$jscomp$1 = preambleState || renderState.preamble;
-        if (preamble$jscomp$1.htmlChunks)
-          throw Error("The `<html>` tag may only be rendered once.");
-        preamble$jscomp$1.htmlChunks = [doctypeChunk];
-        var JSCompiler_inline_result$jscomp$11 = pushStartSingletonElement(
-          preamble$jscomp$1.htmlChunks,
+      if (
+        0 === formatContext.insertionMode &&
+        null === renderState.htmlChunks
+      ) {
+        renderState.htmlChunks = [doctypeChunk];
+        var JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
+          renderState.htmlChunks,
           props,
           "html"
         );
       } else
-        JSCompiler_inline_result$jscomp$11 = pushStartGenericElement(
+        JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
           target$jscomp$0,
           props,
           "html"
         );
-      return JSCompiler_inline_result$jscomp$11;
+      return JSCompiler_inline_result$jscomp$10;
     default:
       if (-1 !== type.indexOf("-")) {
         target$jscomp$0.push(startChunkForTag(type));
@@ -2300,21 +2245,6 @@ function endChunkForTag(tag) {
     endTagCache.set(tag, chunk));
   return chunk;
 }
-function hoistPreambleState(renderState, preambleState) {
-  renderState = renderState.preamble;
-  null === renderState.htmlChunks &&
-    preambleState.htmlChunks &&
-    ((renderState.htmlChunks = preambleState.htmlChunks),
-    (preambleState.contribution |= 1));
-  null === renderState.headChunks &&
-    preambleState.headChunks &&
-    ((renderState.headChunks = preambleState.headChunks),
-    (preambleState.contribution |= 4));
-  null === renderState.bodyChunks &&
-    preambleState.bodyChunks &&
-    ((renderState.bodyChunks = preambleState.bodyChunks),
-    (preambleState.contribution |= 2));
-}
 function writeBootstrap(destination, renderState) {
   renderState = renderState.bootstrapChunks;
   for (var i = 0; i < renderState.length - 1; i++)
@@ -2355,16 +2285,6 @@ function writeStartPendingSuspenseBoundary(destination, renderState, id) {
   writeChunk(destination, stringToChunk(id.toString(16)));
   return writeChunkAndReturn(destination, startPendingSuspenseBoundary2);
 }
-var boundaryPreambleContributionChunkStart =
-    stringToPrecomputedChunk("\x3c!--"),
-  boundaryPreambleContributionChunkEnd = stringToPrecomputedChunk("--\x3e");
-function writePreambleContribution(destination, preambleState) {
-  preambleState = preambleState.contribution;
-  0 !== preambleState &&
-    (writeChunk(destination, boundaryPreambleContributionChunkStart),
-    writeChunk(destination, stringToChunk("" + preambleState)),
-    writeChunk(destination, boundaryPreambleContributionChunkEnd));
-}
 var startSegmentHTML = stringToPrecomputedChunk('<div hidden id="'),
   startSegmentHTML2 = stringToPrecomputedChunk('">'),
   endSegmentHTML = stringToPrecomputedChunk("</div>"),
@@ -2396,7 +2316,6 @@ function writeStartSegment(destination, renderState, formatContext, id) {
   switch (formatContext.insertionMode) {
     case 0:
     case 1:
-    case 3:
     case 2:
       return (
         writeChunk(destination, startSegmentHTML),
@@ -2404,42 +2323,42 @@ function writeStartSegment(destination, renderState, formatContext, id) {
         writeChunk(destination, stringToChunk(id.toString(16))),
         writeChunkAndReturn(destination, startSegmentHTML2)
       );
-    case 4:
+    case 3:
       return (
         writeChunk(destination, startSegmentSVG),
         writeChunk(destination, renderState.segmentPrefix),
         writeChunk(destination, stringToChunk(id.toString(16))),
         writeChunkAndReturn(destination, startSegmentSVG2)
       );
-    case 5:
+    case 4:
       return (
         writeChunk(destination, startSegmentMathML),
         writeChunk(destination, renderState.segmentPrefix),
         writeChunk(destination, stringToChunk(id.toString(16))),
         writeChunkAndReturn(destination, startSegmentMathML2)
       );
-    case 6:
+    case 5:
       return (
         writeChunk(destination, startSegmentTable),
         writeChunk(destination, renderState.segmentPrefix),
         writeChunk(destination, stringToChunk(id.toString(16))),
         writeChunkAndReturn(destination, startSegmentTable2)
       );
-    case 7:
+    case 6:
       return (
         writeChunk(destination, startSegmentTableBody),
         writeChunk(destination, renderState.segmentPrefix),
         writeChunk(destination, stringToChunk(id.toString(16))),
         writeChunkAndReturn(destination, startSegmentTableBody2)
       );
-    case 8:
+    case 7:
       return (
         writeChunk(destination, startSegmentTableRow),
         writeChunk(destination, renderState.segmentPrefix),
         writeChunk(destination, stringToChunk(id.toString(16))),
         writeChunkAndReturn(destination, startSegmentTableRow2)
       );
-    case 9:
+    case 8:
       return (
         writeChunk(destination, startSegmentColGroup),
         writeChunk(destination, renderState.segmentPrefix),
@@ -2454,20 +2373,19 @@ function writeEndSegment(destination, formatContext) {
   switch (formatContext.insertionMode) {
     case 0:
     case 1:
-    case 3:
     case 2:
       return writeChunkAndReturn(destination, endSegmentHTML);
-    case 4:
+    case 3:
       return writeChunkAndReturn(destination, endSegmentSVG);
-    case 5:
+    case 4:
       return writeChunkAndReturn(destination, endSegmentMathML);
-    case 6:
+    case 5:
       return writeChunkAndReturn(destination, endSegmentTable);
-    case 7:
+    case 6:
       return writeChunkAndReturn(destination, endSegmentTableBody);
-    case 8:
+    case 7:
       return writeChunkAndReturn(destination, endSegmentTableRow);
-    case 9:
+    case 8:
       return writeChunkAndReturn(destination, endSegmentColGroup);
     default:
       throw Error("Unknown insertion mode. This is a bug in React.");
@@ -3017,7 +2935,6 @@ function preload(href, as, options) {
           var header;
           resumableState &&
           0 < resumableState.remainingCapacity &&
-          "string" !== typeof imageSrcSet &&
           "high" === fetchPriority &&
           ((header = getPreloadAsHeader(href, as, options)),
           0 <= (resumableState.remainingCapacity -= header.length + 2))
@@ -3766,12 +3683,6 @@ function readPreviousThenableFromState() {
       index
     );
 }
-function unsupportedRefresh() {
-  throw Error("Cache cannot be refreshed during server rendering.");
-}
-function unsupportedStartGesture() {
-  throw Error("startGesture cannot be called during server rendering.");
-}
 function noop$1() {}
 var HooksDispatcher = {
     readContext: function (context) {
@@ -3836,9 +3747,9 @@ var HooksDispatcher = {
         );
       overflow = localIdCounter++;
       JSCompiler_inline_result =
-        "\u00ab" + resumableState.idPrefix + "R" + JSCompiler_inline_result;
+        ":" + resumableState.idPrefix + "R" + JSCompiler_inline_result;
       0 < overflow && (JSCompiler_inline_result += "H" + overflow.toString(32));
-      return JSCompiler_inline_result + "\u00bb";
+      return JSCompiler_inline_result + ":";
     },
     useSyncExternalStore: function (subscribe, getSnapshot, getServerSnapshot) {
       if (void 0 === getServerSnapshot)
@@ -3857,20 +3768,8 @@ var HooksDispatcher = {
       resolveCurrentlyRenderingComponent();
       return sharedNotPendingObject;
     },
-    useMemoCache: function (size) {
-      for (var data = Array(size), i = 0; i < size; i++)
-        data[i] = REACT_MEMO_CACHE_SENTINEL;
-      return data;
-    },
-    useCacheRefresh: function () {
-      return unsupportedRefresh;
-    },
     useEffectEvent: function () {
       return throwOnUseEffectEventCall;
-    },
-    useSwipeTransition: function (previous, current) {
-      resolveCurrentlyRenderingComponent();
-      return [current, unsupportedStartGesture];
     }
   },
   currentResumableState = null,
@@ -4133,7 +4032,7 @@ function RequestInstance(
   this.status = 10;
   this.fatalError = null;
   this.pendingRootTasks = this.allPendingTasks = this.nextSegmentId = 0;
-  this.completedPreambleSegments = this.completedRootSegment = null;
+  this.completedRootSegment = null;
   this.abortableTasks = abortSet;
   this.pingedTasks = [];
   this.clientRenderedBoundaries = [];
@@ -4192,7 +4091,6 @@ function createRequest(
     null,
     renderState,
     null,
-    null,
     resumableState.abortableTasks,
     null,
     rootFormatContext,
@@ -4285,7 +4183,6 @@ function resumeRequest(
         null,
         onAllReady,
         null,
-        null,
         renderState.abortableTasks,
         null,
         postponedState.rootFormatContext,
@@ -4372,12 +4269,7 @@ function pingTask(request, task) {
           return performWork(request);
         }, 0));
 }
-function createSuspenseBoundary(
-  request,
-  fallbackAbortableTasks,
-  contentPreamble,
-  fallbackPreamble
-) {
+function createSuspenseBoundary(request, fallbackAbortableTasks) {
   return {
     status: 0,
     rootSegmentID: -1,
@@ -4389,8 +4281,6 @@ function createSuspenseBoundary(
     errorDigest: null,
     contentState: createHoistableState(),
     fallbackState: createHoistableState(),
-    contentPreamble: contentPreamble,
-    fallbackPreamble: fallbackPreamble,
     trackedContentKeyPath: null,
     trackedFallbackNode: null
   };
@@ -4402,7 +4292,6 @@ function createRenderTask(
   childIndex,
   blockedBoundary,
   blockedSegment,
-  blockedPreamble,
   hoistableState,
   abortSet,
   keyPath,
@@ -4425,7 +4314,6 @@ function createRenderTask(
     },
     blockedBoundary: blockedBoundary,
     blockedSegment: blockedSegment,
-    blockedPreamble: blockedPreamble,
     hoistableState: hoistableState,
     abortSet: abortSet,
     keyPath: keyPath,
@@ -4469,7 +4357,6 @@ function createReplayTask(
     },
     blockedBoundary: blockedBoundary,
     blockedSegment: null,
-    blockedPreamble: null,
     hoistableState: hoistableState,
     abortSet: abortSet,
     keyPath: keyPath,
@@ -4493,12 +4380,11 @@ function createPendingSegment(
 ) {
   return {
     status: 0,
-    parentFlushed: !1,
     id: -1,
     index: index,
+    parentFlushed: !1,
     chunks: [],
     children: [],
-    preambleChildren: [],
     parentFormatContext: parentFormatContext,
     boundary: boundary,
     lastPushedText: lastPushedText,
@@ -4730,13 +4616,12 @@ function renderElement(request, task, keyPath, type, props, ref) {
         (task.formatContext = defaultProps),
         (task.keyPath = initialState);
     else {
-      ref = pushStartInstance(
+      initialState = pushStartInstance(
         newProps.chunks,
         type,
         props,
         request.resumableState,
         request.renderState,
-        task.blockedPreamble,
         task.hoistableState,
         task.formatContext,
         newProps.lastPushedText,
@@ -4744,42 +4629,12 @@ function renderElement(request, task, keyPath, type, props, ref) {
       );
       newProps.lastPushedText = !1;
       defaultProps = task.formatContext;
-      initialState = task.keyPath;
+      ref = task.keyPath;
+      task.formatContext = getChildFormatContext(defaultProps, type, props);
       task.keyPath = keyPath;
-      3 ===
-      (task.formatContext = getChildFormatContext(defaultProps, type, props))
-        .insertionMode
-        ? ((keyPath = createPendingSegment(
-            request,
-            0,
-            null,
-            task.formatContext,
-            !1,
-            !1
-          )),
-          newProps.preambleChildren.push(keyPath),
-          (keyPath = createRenderTask(
-            request,
-            null,
-            ref,
-            -1,
-            task.blockedBoundary,
-            keyPath,
-            task.blockedPreamble,
-            task.hoistableState,
-            request.abortableTasks,
-            task.keyPath,
-            task.formatContext,
-            task.context,
-            task.treeContext,
-            task.componentStack,
-            task.isFallback
-          )),
-          pushComponentStack(keyPath),
-          request.pingedTasks.push(keyPath))
-        : renderNode(request, task, ref, -1);
+      renderNode(request, task, initialState, -1);
       task.formatContext = defaultProps;
-      task.keyPath = initialState;
+      task.keyPath = ref;
       a: {
         task = newProps.chunks;
         request = request.resumableState;
@@ -4814,9 +4669,6 @@ function renderElement(request, task, keyPath, type, props, ref) {
               request.hasHtml = !0;
               break a;
             }
-            break;
-          case "head":
-            if (1 >= defaultProps.insertionMode) break a;
         }
         task.push(endChunkForTag(type));
       }
@@ -4866,34 +4718,25 @@ function renderElement(request, task, keyPath, type, props, ref) {
           }
         } else {
           type = task.keyPath;
-          var parentBoundary = task.blockedBoundary;
-          ref = task.blockedPreamble;
-          var parentHoistableState = task.hoistableState;
-          propName$34 = task.blockedSegment;
-          propName = props.fallback;
+          var parentBoundary = task.blockedBoundary,
+            parentHoistableState = task.hoistableState;
+          ref = task.blockedSegment;
+          propName$34 = props.fallback;
           props = props.children;
           var fallbackAbortSet = new Set();
-          var newBoundary =
-            2 > task.formatContext.insertionMode
-              ? createSuspenseBoundary(
-                  request,
-                  fallbackAbortSet,
-                  createPreambleState(),
-                  createPreambleState()
-                )
-              : createSuspenseBoundary(request, fallbackAbortSet, null, null);
+          propName = createSuspenseBoundary(request, fallbackAbortSet);
           null !== request.trackedPostpones &&
-            (newBoundary.trackedContentKeyPath = keyPath);
+            (propName.trackedContentKeyPath = keyPath);
           var boundarySegment = createPendingSegment(
             request,
-            propName$34.chunks.length,
-            newBoundary,
+            ref.chunks.length,
+            propName,
             task.formatContext,
             !1,
             !1
           );
-          propName$34.children.push(boundarySegment);
-          propName$34.lastPushedText = !1;
+          ref.children.push(boundarySegment);
+          ref.lastPushedText = !1;
           var contentRootSegment = createPendingSegment(
             request,
             0,
@@ -4907,13 +4750,12 @@ function renderElement(request, task, keyPath, type, props, ref) {
             newProps = [keyPath[0], "Suspense Fallback", keyPath[2]];
             defaultProps = [newProps[1], newProps[2], [], null];
             request.trackedPostpones.workingMap.set(newProps, defaultProps);
-            newBoundary.trackedFallbackNode = defaultProps;
+            propName.trackedFallbackNode = defaultProps;
             task.blockedSegment = boundarySegment;
-            task.blockedPreamble = newBoundary.fallbackPreamble;
             task.keyPath = newProps;
             boundarySegment.status = 6;
             try {
-              renderNode(request, task, propName, -1),
+              renderNode(request, task, propName$34, -1),
                 boundarySegment.lastPushedText &&
                   boundarySegment.textEmbedded &&
                   boundarySegment.chunks.push(textSeparator),
@@ -4924,19 +4766,16 @@ function renderElement(request, task, keyPath, type, props, ref) {
                 thrownValue)
               );
             } finally {
-              (task.blockedSegment = propName$34),
-                (task.blockedPreamble = ref),
-                (task.keyPath = type);
+              (task.blockedSegment = ref), (task.keyPath = type);
             }
             task = createRenderTask(
               request,
               null,
               props,
               -1,
-              newBoundary,
+              propName,
               contentRootSegment,
-              newBoundary.contentPreamble,
-              newBoundary.contentState,
+              propName.contentState,
               task.abortSet,
               keyPath,
               task.formatContext,
@@ -4948,9 +4787,8 @@ function renderElement(request, task, keyPath, type, props, ref) {
             pushComponentStack(task);
             request.pingedTasks.push(task);
           } else {
-            task.blockedBoundary = newBoundary;
-            task.blockedPreamble = newBoundary.contentPreamble;
-            task.hoistableState = newBoundary.contentState;
+            task.blockedBoundary = propName;
+            task.hoistableState = propName.contentState;
             task.blockedSegment = contentRootSegment;
             task.keyPath = keyPath;
             contentRootSegment.status = 6;
@@ -4961,17 +4799,14 @@ function renderElement(request, task, keyPath, type, props, ref) {
                   contentRootSegment.textEmbedded &&
                   contentRootSegment.chunks.push(textSeparator),
                 (contentRootSegment.status = 1),
-                queueCompletedSegment(newBoundary, contentRootSegment),
-                0 === newBoundary.pendingTasks && 0 === newBoundary.status)
+                queueCompletedSegment(propName, contentRootSegment),
+                0 === propName.pendingTasks && 0 === propName.status)
               ) {
-                newBoundary.status = 1;
-                0 === request.pendingRootTasks &&
-                  task.blockedPreamble &&
-                  preparePreamble(request);
+                propName.status = 1;
                 break a;
               }
             } catch (thrownValue$29) {
-              (newBoundary.status = 4),
+              (propName.status = 4),
                 12 === request.status
                   ? ((contentRootSegment.status = 3),
                     (newProps = request.fatalError))
@@ -4988,24 +4823,22 @@ function renderElement(request, task, keyPath, type, props, ref) {
                       newProps,
                       defaultProps
                     )),
-                (newBoundary.errorDigest = initialState),
-                untrackBoundary(request, newBoundary);
+                (propName.errorDigest = initialState),
+                untrackBoundary(request, propName);
             } finally {
               (task.blockedBoundary = parentBoundary),
-                (task.blockedPreamble = ref),
                 (task.hoistableState = parentHoistableState),
-                (task.blockedSegment = propName$34),
+                (task.blockedSegment = ref),
                 (task.keyPath = type);
             }
             task = createRenderTask(
               request,
               null,
-              propName,
+              propName$34,
               -1,
               parentBoundary,
               boundarySegment,
-              newBoundary.fallbackPreamble,
-              newBoundary.fallbackState,
+              propName.fallbackState,
               fallbackAbortSet,
               [keyPath[0], "Suspense Fallback", keyPath[2]],
               task.formatContext,
@@ -5024,9 +4857,9 @@ function renderElement(request, task, keyPath, type, props, ref) {
       switch (type.$$typeof) {
         case REACT_FORWARD_REF_TYPE:
           if ("ref" in props)
-            for (newBoundary in ((newProps = {}), props))
-              "ref" !== newBoundary &&
-                (newProps[newBoundary] = props[newBoundary]);
+            for (boundarySegment in ((newProps = {}), props))
+              "ref" !== boundarySegment &&
+                (newProps[boundarySegment] = props[boundarySegment]);
           else newProps = props;
           type = renderWithHooks(
             request,
@@ -5228,27 +5061,17 @@ function retryNode(request, task) {
                         previousReplaySet = task.replay,
                         parentBoundary = task.blockedBoundary,
                         parentHoistableState = task.hoistableState,
-                        content = props.children,
-                        fallback = props.fallback,
-                        fallbackAbortSet = new Set();
-                      props =
-                        2 > task.formatContext.insertionMode
-                          ? createSuspenseBoundary(
-                              request,
-                              fallbackAbortSet,
-                              createPreambleState(),
-                              createPreambleState()
-                            )
-                          : createSuspenseBoundary(
-                              request,
-                              fallbackAbortSet,
-                              null,
-                              null
-                            );
-                      props.parentFlushed = !0;
-                      props.rootSegmentID = ref;
-                      task.blockedBoundary = props;
-                      task.hoistableState = props.contentState;
+                        content = props.children;
+                      props = props.fallback;
+                      var fallbackAbortSet = new Set(),
+                        resumedBoundary = createSuspenseBoundary(
+                          request,
+                          fallbackAbortSet
+                        );
+                      resumedBoundary.parentFlushed = !0;
+                      resumedBoundary.rootSegmentID = ref;
+                      task.blockedBoundary = resumedBoundary;
+                      task.hoistableState = resumedBoundary.contentState;
                       task.keyPath = key;
                       task.replay = {
                         nodes: replay,
@@ -5265,13 +5088,16 @@ function retryNode(request, task) {
                             "Couldn't find all resumable slots by key/index during replaying. The tree doesn't match so React will fallback to client rendering."
                           );
                         task.replay.pendingTasks--;
-                        if (0 === props.pendingTasks && 0 === props.status) {
-                          props.status = 1;
-                          request.completedBoundaries.push(props);
+                        if (
+                          0 === resumedBoundary.pendingTasks &&
+                          0 === resumedBoundary.status
+                        ) {
+                          resumedBoundary.status = 1;
+                          request.completedBoundaries.push(resumedBoundary);
                           break b;
                         }
                       } catch (error) {
-                        (props.status = 4),
+                        (resumedBoundary.status = 4),
                           (childNodes = getThrownInfo(task.componentStack)),
                           "object" === typeof error &&
                           null !== error &&
@@ -5283,9 +5109,11 @@ function retryNode(request, task) {
                                 error,
                                 childNodes
                               )),
-                          (props.errorDigest = type),
+                          (resumedBoundary.errorDigest = type),
                           task.replay.pendingTasks--,
-                          request.clientRenderedBoundaries.push(props);
+                          request.clientRenderedBoundaries.push(
+                            resumedBoundary
+                          );
                       } finally {
                         (task.blockedBoundary = parentBoundary),
                           (task.hoistableState = parentHoistableState),
@@ -5300,10 +5128,10 @@ function retryNode(request, task) {
                           slots: node$jscomp$0,
                           pendingTasks: 0
                         },
-                        fallback,
+                        props,
                         -1,
                         parentBoundary,
-                        props.fallbackState,
+                        resumedBoundary.fallbackState,
                         fallbackAbortSet,
                         [key[0], "Suspense Fallback", key[2]],
                         task.formatContext,
@@ -5641,7 +5469,6 @@ function spawnNewSuspendedRenderTask(request, task, thenableState) {
     task.childIndex,
     task.blockedBoundary,
     newSegment,
-    task.blockedPreamble,
     task.hoistableState,
     task.abortSet,
     task.keyPath,
@@ -5827,12 +5654,7 @@ function abortRemainingReplayNodes(
       node = node[5];
       var request = request$jscomp$0,
         errorDigest = errorDigest$jscomp$0,
-        resumedBoundary = createSuspenseBoundary(
-          request,
-          new Set(),
-          null,
-          null
-        );
+        resumedBoundary = createSuspenseBoundary(request, new Set());
       resumedBoundary.parentFlushed = !0;
       resumedBoundary.rootSegmentID = node;
       resumedBoundary.status = 4;
@@ -6022,7 +5844,6 @@ function safelyEmitEarlyPreloads(request, shellComplete) {
 }
 function completeShell(request) {
   null === request.trackedPostpones && safelyEmitEarlyPreloads(request, !0);
-  null === request.trackedPostpones && preparePreamble(request);
   request.onShellError = noop;
   request = request.onShellReady;
   request();
@@ -6035,7 +5856,6 @@ function completeAll(request) {
       : null === request.completedRootSegment ||
           5 !== request.completedRootSegment.status
   );
-  preparePreamble(request);
   request = request.onAllReady;
   request();
 }
@@ -6076,11 +5896,7 @@ function finishedTask(request, boundary, segment) {
               request.completedBoundaries.push(boundary),
             1 === boundary.status &&
               (boundary.fallbackAbortableTasks.forEach(abortTaskSoft, request),
-              boundary.fallbackAbortableTasks.clear(),
-              0 === request.pendingRootTasks &&
-                null === request.trackedPostpones &&
-                null !== boundary.contentPreamble &&
-                preparePreamble(request)))
+              boundary.fallbackAbortableTasks.clear()))
           : null !== segment &&
             segment.parentFlushed &&
             1 === segment.status &&
@@ -6274,11 +6090,7 @@ function performWork(request$jscomp$1) {
                         (boundary.errorDigest = request$jscomp$0),
                         untrackBoundary(request, boundary),
                         boundary.parentFlushed &&
-                          request.clientRenderedBoundaries.push(boundary),
-                        0 === request.pendingRootTasks &&
-                          null === request.trackedPostpones &&
-                          null !== boundary.contentPreamble &&
-                          preparePreamble(request)));
+                          request.clientRenderedBoundaries.push(boundary)));
                   request.allPendingTasks--;
                   0 === request.allPendingTasks && completeAll(request);
                 }
@@ -6302,85 +6114,6 @@ function performWork(request$jscomp$1) {
     }
   }
 }
-function preparePreambleFromSubtree(
-  request,
-  segment,
-  collectedPreambleSegments
-) {
-  segment.preambleChildren.length &&
-    collectedPreambleSegments.push(segment.preambleChildren);
-  for (var pendingPreambles = !1, i = 0; i < segment.children.length; i++)
-    pendingPreambles =
-      preparePreambleFromSegment(
-        request,
-        segment.children[i],
-        collectedPreambleSegments
-      ) || pendingPreambles;
-  return pendingPreambles;
-}
-function preparePreambleFromSegment(
-  request,
-  segment,
-  collectedPreambleSegments
-) {
-  var boundary = segment.boundary;
-  if (null === boundary)
-    return preparePreambleFromSubtree(
-      request,
-      segment,
-      collectedPreambleSegments
-    );
-  var preamble = boundary.contentPreamble,
-    fallbackPreamble = boundary.fallbackPreamble;
-  if (null === preamble || null === fallbackPreamble) return !1;
-  switch (boundary.status) {
-    case 1:
-      hoistPreambleState(request.renderState, preamble);
-      segment = boundary.completedSegments[0];
-      if (!segment)
-        throw Error(
-          "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
-        );
-      return preparePreambleFromSubtree(
-        request,
-        segment,
-        collectedPreambleSegments
-      );
-    case 5:
-      if (null !== request.trackedPostpones) return !0;
-    case 4:
-      if (1 === segment.status)
-        return (
-          hoistPreambleState(request.renderState, fallbackPreamble),
-          preparePreambleFromSubtree(
-            request,
-            segment,
-            collectedPreambleSegments
-          )
-        );
-    default:
-      return !0;
-  }
-}
-function preparePreamble(request) {
-  if (
-    request.completedRootSegment &&
-    null === request.completedPreambleSegments
-  ) {
-    var collectedPreambleSegments = [],
-      hasPendingPreambles = preparePreambleFromSegment(
-        request,
-        request.completedRootSegment,
-        collectedPreambleSegments
-      ),
-      preamble = request.renderState.preamble;
-    if (
-      !1 === hasPendingPreambles ||
-      (preamble.headChunks && preamble.bodyChunks)
-    )
-      request.completedPreambleSegments = collectedPreambleSegments;
-  }
-}
 function flushSubtree(request, destination, segment, hoistableState) {
   segment.parentFlushed = !0;
   switch (segment.status) {
@@ -6425,27 +6158,21 @@ function flushSegment(request, destination, segment, hoistableState) {
   if (null === boundary)
     return flushSubtree(request, destination, segment, hoistableState);
   boundary.parentFlushed = !0;
-  if (4 === boundary.status) {
-    var errorDigest = boundary.errorDigest;
-    writeChunkAndReturn(destination, startClientRenderedSuspenseBoundary);
-    writeChunk(destination, clientRenderedSuspenseBoundaryError1);
-    errorDigest &&
-      (writeChunk(destination, clientRenderedSuspenseBoundaryError1A),
-      writeChunk(destination, stringToChunk(escapeTextForBrowser(errorDigest))),
-      writeChunk(
-        destination,
-        clientRenderedSuspenseBoundaryErrorAttrInterstitial
-      ));
-    writeChunkAndReturn(destination, clientRenderedSuspenseBoundaryError2);
-    flushSubtree(request, destination, segment, hoistableState);
-    (request = boundary.fallbackPreamble) &&
-      writePreambleContribution(destination, request);
-    return writeChunkAndReturn(destination, endSuspenseBoundary);
-  }
-  if (1 !== boundary.status)
-    return (
-      0 === boundary.status &&
-        (boundary.rootSegmentID = request.nextSegmentId++),
+  if (4 === boundary.status)
+    (boundary = boundary.errorDigest),
+      writeChunkAndReturn(destination, startClientRenderedSuspenseBoundary),
+      writeChunk(destination, clientRenderedSuspenseBoundaryError1),
+      boundary &&
+        (writeChunk(destination, clientRenderedSuspenseBoundaryError1A),
+        writeChunk(destination, stringToChunk(escapeTextForBrowser(boundary))),
+        writeChunk(
+          destination,
+          clientRenderedSuspenseBoundaryErrorAttrInterstitial
+        )),
+      writeChunkAndReturn(destination, clientRenderedSuspenseBoundaryError2),
+      flushSubtree(request, destination, segment, hoistableState);
+  else if (1 !== boundary.status)
+    0 === boundary.status && (boundary.rootSegmentID = request.nextSegmentId++),
       0 < boundary.completedSegments.length &&
         request.partialBoundaries.push(boundary),
       writeStartPendingSuspenseBoundary(
@@ -6460,34 +6187,29 @@ function flushSegment(request, destination, segment, hoistableState) {
           hoistStylesheetDependency,
           hoistableState
         )),
-      flushSubtree(request, destination, segment, hoistableState),
-      writeChunkAndReturn(destination, endSuspenseBoundary)
-    );
-  if (boundary.byteSize > request.progressiveChunkSize)
-    return (
-      (boundary.rootSegmentID = request.nextSegmentId++),
+      flushSubtree(request, destination, segment, hoistableState);
+  else if (boundary.byteSize > request.progressiveChunkSize)
+    (boundary.rootSegmentID = request.nextSegmentId++),
       request.completedBoundaries.push(boundary),
       writeStartPendingSuspenseBoundary(
         destination,
         request.renderState,
         boundary.rootSegmentID
       ),
-      flushSubtree(request, destination, segment, hoistableState),
-      writeChunkAndReturn(destination, endSuspenseBoundary)
-    );
-  hoistableState &&
-    ((segment = boundary.contentState),
-    segment.styles.forEach(hoistStyleQueueDependency, hoistableState),
-    segment.stylesheets.forEach(hoistStylesheetDependency, hoistableState));
-  writeChunkAndReturn(destination, startCompletedSuspenseBoundary);
-  segment = boundary.completedSegments;
-  if (1 !== segment.length)
-    throw Error(
-      "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
-    );
-  flushSegment(request, destination, segment[0], hoistableState);
-  (request = boundary.contentPreamble) &&
-    writePreambleContribution(destination, request);
+      flushSubtree(request, destination, segment, hoistableState);
+  else {
+    hoistableState &&
+      ((segment = boundary.contentState),
+      segment.styles.forEach(hoistStyleQueueDependency, hoistableState),
+      segment.stylesheets.forEach(hoistStylesheetDependency, hoistableState));
+    writeChunkAndReturn(destination, startCompletedSuspenseBoundary);
+    segment = boundary.completedSegments;
+    if (1 !== segment.length)
+      throw Error(
+        "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
+      );
+    flushSegment(request, destination, segment[0], hoistableState);
+  }
   return writeChunkAndReturn(destination, endSuspenseBoundary);
 }
 function flushSegmentContainer(request, destination, segment, hoistableState) {
@@ -6615,8 +6337,6 @@ function flushCompletedQueues(request, destination) {
         completedRootSegment = request.completedRootSegment;
       if (null !== completedRootSegment) {
         if (5 === completedRootSegment.status) return;
-        var completedPreambleSegments = request.completedPreambleSegments;
-        if (null === completedPreambleSegments) return;
         var renderState = request.renderState;
         if (
           (0 !== request.allPendingTasks ||
@@ -6631,9 +6351,8 @@ function flushCompletedQueues(request, destination) {
             ((resumableState.scriptResources[src] = null),
             renderState.scripts.add(chunks));
         }
-        var preamble = renderState.preamble,
-          htmlChunks = preamble.htmlChunks,
-          headChunks = preamble.headChunks,
+        var htmlChunks = renderState.htmlChunks,
+          headChunks = renderState.headChunks,
           i$jscomp$0;
         if (htmlChunks) {
           for (i$jscomp$0 = 0; i$jscomp$0 < htmlChunks.length; i$jscomp$0++)
@@ -6674,36 +6393,10 @@ function flushCompletedQueues(request, destination) {
         var hoistableChunks = renderState.hoistableChunks;
         for (i$jscomp$0 = 0; i$jscomp$0 < hoistableChunks.length; i$jscomp$0++)
           writeChunk(destination, hoistableChunks[i$jscomp$0]);
-        for (
-          renderState = hoistableChunks.length = 0;
-          renderState < completedPreambleSegments.length;
-          renderState++
-        ) {
-          var segments = completedPreambleSegments[renderState];
-          for (
-            _renderState$external = 0;
-            _renderState$external < segments.length;
-            _renderState$external++
-          )
-            flushSegment(
-              request,
-              destination,
-              segments[_renderState$external],
-              null
-            );
-        }
-        var preamble$jscomp$0 = request.renderState.preamble,
-          headChunks$jscomp$0 = preamble$jscomp$0.headChunks;
-        (preamble$jscomp$0.htmlChunks || headChunks$jscomp$0) &&
+        hoistableChunks.length = 0;
+        htmlChunks &&
+          null === headChunks &&
           writeChunk(destination, endChunkForTag("head"));
-        var bodyChunks = preamble$jscomp$0.bodyChunks;
-        if (bodyChunks)
-          for (
-            completedPreambleSegments = 0;
-            completedPreambleSegments < bodyChunks.length;
-            completedPreambleSegments++
-          )
-            writeChunk(destination, bodyChunks[completedPreambleSegments]);
         flushSegment(request, destination, completedRootSegment, null);
         request.completedRootSegment = null;
         writeBootstrap(destination, request.renderState);
@@ -6965,19 +6658,11 @@ function getPostponedState(request) {
   )
     return (request.trackedPostpones = null);
   if (
-    null === request.completedRootSegment ||
-    (5 !== request.completedRootSegment.status &&
-      null !== request.completedPreambleSegments)
+    null !== request.completedRootSegment &&
+    5 === request.completedRootSegment.status
   ) {
-    var replaySlots = trackedPostpones.rootSlots;
-    var resumableState = request.resumableState;
-    resumableState.bootstrapScriptContent = void 0;
-    resumableState.bootstrapScripts = void 0;
-    resumableState.bootstrapModules = void 0;
-  } else {
-    replaySlots = request.completedRootSegment.id;
-    resumableState = request.resumableState;
-    var renderState = request.renderState;
+    var resumableState = request.resumableState,
+      renderState = request.renderState;
     resumableState.nextFormID = 0;
     resumableState.hasBody = !1;
     resumableState.hasHtml = !1;
@@ -6989,23 +6674,27 @@ function getPostponedState(request) {
     resumableState.scriptResources = {};
     resumableState.moduleUnknownResources = {};
     resumableState.moduleScriptResources = {};
-  }
+  } else
+    (resumableState = request.resumableState),
+      (resumableState.bootstrapScriptContent = void 0),
+      (resumableState.bootstrapScripts = void 0),
+      (resumableState.bootstrapModules = void 0);
   return {
     nextSegmentId: request.nextSegmentId,
     rootFormatContext: request.rootFormatContext,
     progressiveChunkSize: request.progressiveChunkSize,
     resumableState: request.resumableState,
     replayNodes: trackedPostpones.rootNodes,
-    replaySlots: replaySlots
+    replaySlots: trackedPostpones.rootSlots
   };
 }
 function ensureCorrectIsomorphicReactVersion() {
   var isomorphicReactPackageVersion = React.version;
-  if ("19.1.0-experimental-d55cc79b-20250228" !== isomorphicReactPackageVersion)
+  if ("19.1.0-experimental-b3a95caf-20250113" !== isomorphicReactPackageVersion)
     throw Error(
       'Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:\n  - react:      ' +
         (isomorphicReactPackageVersion +
-          "\n  - react-dom:  19.1.0-experimental-d55cc79b-20250228\nLearn more: https://react.dev/warnings/version-mismatch")
+          "\n  - react-dom:  19.1.0-experimental-b3a95caf-20250113\nLearn more: https://react.dev/warnings/version-mismatch")
     );
 }
 ensureCorrectIsomorphicReactVersion();
@@ -7259,4 +6948,4 @@ exports.resumeAndPrerender = function (children, postponedState, options) {
     startWork(request);
   });
 };
-exports.version = "19.1.0-experimental-d55cc79b-20250228";
+exports.version = "19.1.0-experimental-b3a95caf-20250113";
diff --git a/node_modules/react-dom/cjs/react-dom-server.node.development.js b/node_modules/react-dom/cjs/react-dom-server.node.development.js
index 7f5769b..551547d 100644
--- a/node_modules/react-dom/cjs/react-dom-server.node.development.js
+++ b/node_modules/react-dom/cjs/react-dom-server.node.development.js
@@ -817,7 +817,8 @@
         segmentPrefix: stringToPrecomputedChunk(idPrefix + "S:"),
         boundaryPrefix: stringToPrecomputedChunk(idPrefix + "B:"),
         startInlineScript: inlineScriptWithNonce,
-        preamble: createPreambleState(),
+        htmlChunks: null,
+        headChunks: null,
         externalRuntimeScript: externalRuntimeScript,
         bootstrapChunks: bootstrapChunks,
         importMapChunks: externalRuntimeConfig,
@@ -982,14 +983,6 @@
         moduleScriptResources: {}
       };
     }
-    function createPreambleState() {
-      return {
-        htmlChunks: null,
-        headChunks: null,
-        bodyChunks: null,
-        contribution: NoContribution
-      };
-    }
     function createFormatContext(insertionMode, selectedValue, tagScope) {
       return {
         insertionMode: insertionMode,
@@ -1060,26 +1053,16 @@
             null,
             parentContext.tagScope
           );
-        case "head":
-          if (parentContext.insertionMode < HTML_MODE)
-            return createFormatContext(
-              HTML_HEAD_MODE,
-              null,
-              parentContext.tagScope
-            );
-          break;
-        case "html":
-          if (parentContext.insertionMode === ROOT_HTML_MODE)
-            return createFormatContext(
-              HTML_HTML_MODE,
-              null,
-              parentContext.tagScope
-            );
       }
-      return parentContext.insertionMode >= HTML_TABLE_MODE ||
-        parentContext.insertionMode < HTML_MODE
+      return parentContext.insertionMode >= HTML_TABLE_MODE
         ? createFormatContext(HTML_MODE, null, parentContext.tagScope)
-        : parentContext;
+        : parentContext.insertionMode === ROOT_HTML_MODE
+          ? "html" === type
+            ? createFormatContext(HTML_HTML_MODE, null, parentContext.tagScope)
+            : createFormatContext(HTML_MODE, null, parentContext.tagScope)
+          : parentContext.insertionMode === HTML_HTML_MODE
+            ? createFormatContext(HTML_MODE, null, parentContext.tagScope)
+            : parentContext;
     }
     function pushTextInstance(target, text, renderState, textEmbedded) {
       if ("" === text) return textEmbedded;
@@ -1716,29 +1699,6 @@
       target.push(endChunkForTag("script"));
       return null;
     }
-    function pushStartSingletonElement(target, props, tag) {
-      target.push(startChunkForTag(tag));
-      var innerHTML = (tag = null),
-        propKey;
-      for (propKey in props)
-        if (hasOwnProperty.call(props, propKey)) {
-          var propValue = props[propKey];
-          if (null != propValue)
-            switch (propKey) {
-              case "children":
-                tag = propValue;
-                break;
-              case "dangerouslySetInnerHTML":
-                innerHTML = propValue;
-                break;
-              default:
-                pushAttribute(target, propKey, propValue);
-            }
-        }
-      target.push(endOfStartTag);
-      pushInnerHTML(target, innerHTML, tag);
-      return tag;
-    }
     function pushStartGenericElement(target, props, tag) {
       target.push(startChunkForTag(tag));
       var innerHTML = (tag = null),
@@ -1779,7 +1739,6 @@
       props,
       resumableState,
       renderState,
-      preambleState,
       hoistableState,
       formatContext,
       textEmbedded,
@@ -2874,7 +2833,6 @@
                 header;
               headers &&
               0 < headers.remainingCapacity &&
-              "string" !== typeof props.srcSet &&
               ("high" === props.fetchPriority ||
                 500 > headers.highImagePreloads.length) &&
               ((header = getPreloadAsHeader(src, "image", {
@@ -2935,13 +2893,13 @@
         case "missing-glyph":
           break;
         case "head":
-          if (formatContext.insertionMode < HTML_MODE) {
-            var preamble = preambleState || renderState.preamble;
-            if (preamble.headChunks)
-              throw Error("The `<head>` tag may only be rendered once.");
-            preamble.headChunks = [];
-            var JSCompiler_inline_result$jscomp$9 = pushStartSingletonElement(
-              preamble.headChunks,
+          if (
+            formatContext.insertionMode < HTML_MODE &&
+            null === renderState.headChunks
+          ) {
+            renderState.headChunks = [];
+            var JSCompiler_inline_result$jscomp$9 = pushStartGenericElement(
+              renderState.headChunks,
               props,
               "head"
             );
@@ -2952,42 +2910,24 @@
               "head"
             );
           return JSCompiler_inline_result$jscomp$9;
-        case "body":
-          if (formatContext.insertionMode < HTML_MODE) {
-            var preamble$jscomp$0 = preambleState || renderState.preamble;
-            if (preamble$jscomp$0.bodyChunks)
-              throw Error("The `<body>` tag may only be rendered once.");
-            preamble$jscomp$0.bodyChunks = [];
-            var JSCompiler_inline_result$jscomp$10 = pushStartSingletonElement(
-              preamble$jscomp$0.bodyChunks,
-              props,
-              "body"
-            );
-          } else
-            JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
-              target$jscomp$0,
-              props,
-              "body"
-            );
-          return JSCompiler_inline_result$jscomp$10;
         case "html":
-          if (formatContext.insertionMode === ROOT_HTML_MODE) {
-            var preamble$jscomp$1 = preambleState || renderState.preamble;
-            if (preamble$jscomp$1.htmlChunks)
-              throw Error("The `<html>` tag may only be rendered once.");
-            preamble$jscomp$1.htmlChunks = [doctypeChunk];
-            var JSCompiler_inline_result$jscomp$11 = pushStartSingletonElement(
-              preamble$jscomp$1.htmlChunks,
+          if (
+            formatContext.insertionMode === ROOT_HTML_MODE &&
+            null === renderState.htmlChunks
+          ) {
+            renderState.htmlChunks = [doctypeChunk];
+            var JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
+              renderState.htmlChunks,
               props,
               "html"
             );
           } else
-            JSCompiler_inline_result$jscomp$11 = pushStartGenericElement(
+            JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
               target$jscomp$0,
               props,
               "html"
             );
-          return JSCompiler_inline_result$jscomp$11;
+          return JSCompiler_inline_result$jscomp$10;
         default:
           if (-1 !== type.indexOf("-")) {
             target$jscomp$0.push(startChunkForTag(type));
@@ -3055,21 +2995,6 @@
         endTagCache.set(tag, chunk));
       return chunk;
     }
-    function hoistPreambleState(renderState, preambleState) {
-      renderState = renderState.preamble;
-      null === renderState.htmlChunks &&
-        preambleState.htmlChunks &&
-        ((renderState.htmlChunks = preambleState.htmlChunks),
-        (preambleState.contribution |= 1));
-      null === renderState.headChunks &&
-        preambleState.headChunks &&
-        ((renderState.headChunks = preambleState.headChunks),
-        (preambleState.contribution |= 4));
-      null === renderState.bodyChunks &&
-        preambleState.bodyChunks &&
-        ((renderState.bodyChunks = preambleState.bodyChunks),
-        (preambleState.contribution |= 2));
-    }
     function writeBootstrap(destination, renderState) {
       renderState = renderState.bootstrapChunks;
       for (var i = 0; i < renderState.length - 1; i++)
@@ -3090,18 +3015,10 @@
       writeChunk(destination, id.toString(16));
       return writeChunkAndReturn(destination, startPendingSuspenseBoundary2);
     }
-    function writePreambleContribution(destination, preambleState) {
-      preambleState = preambleState.contribution;
-      preambleState !== NoContribution &&
-        (writeChunk(destination, boundaryPreambleContributionChunkStart),
-        writeChunk(destination, "" + preambleState),
-        writeChunk(destination, boundaryPreambleContributionChunkEnd));
-    }
     function writeStartSegment(destination, renderState, formatContext, id) {
       switch (formatContext.insertionMode) {
         case ROOT_HTML_MODE:
         case HTML_HTML_MODE:
-        case HTML_HEAD_MODE:
         case HTML_MODE:
           return (
             writeChunk(destination, startSegmentHTML),
@@ -3159,7 +3076,6 @@
       switch (formatContext.insertionMode) {
         case ROOT_HTML_MODE:
         case HTML_HTML_MODE:
-        case HTML_HEAD_MODE:
         case HTML_MODE:
           return writeChunkAndReturn(destination, endSegmentHTML);
         case SVG_MODE:
@@ -4151,12 +4067,6 @@
           index
         );
     }
-    function unsupportedRefresh() {
-      throw Error("Cache cannot be refreshed during server rendering.");
-    }
-    function unsupportedStartGesture() {
-      throw Error("startGesture cannot be called during server rendering.");
-    }
     function noop$1() {}
     function disabledLog() {}
     function disableLogs() {
@@ -4501,7 +4411,7 @@
       this.status = 10;
       this.fatalError = null;
       this.pendingRootTasks = this.allPendingTasks = this.nextSegmentId = 0;
-      this.completedPreambleSegments = this.completedRootSegment = null;
+      this.completedRootSegment = null;
       this.abortableTasks = abortSet;
       this.pingedTasks = [];
       this.clientRenderedBoundaries = [];
@@ -4561,7 +4471,6 @@
         null,
         renderState,
         null,
-        null,
         resumableState.abortableTasks,
         null,
         rootFormatContext,
@@ -4656,7 +4565,6 @@
             null,
             onAllReady,
             null,
-            null,
             renderState.abortableTasks,
             null,
             postponedState.rootFormatContext,
@@ -4743,12 +4651,7 @@
               return performWork(request);
             }));
     }
-    function createSuspenseBoundary(
-      request,
-      fallbackAbortableTasks,
-      contentPreamble,
-      fallbackPreamble
-    ) {
+    function createSuspenseBoundary(request, fallbackAbortableTasks) {
       return {
         status: PENDING,
         rootSegmentID: -1,
@@ -4760,8 +4663,6 @@
         errorDigest: null,
         contentState: createHoistableState(),
         fallbackState: createHoistableState(),
-        contentPreamble: contentPreamble,
-        fallbackPreamble: fallbackPreamble,
         trackedContentKeyPath: null,
         trackedFallbackNode: null,
         errorMessage: null,
@@ -4776,7 +4677,6 @@
       childIndex,
       blockedBoundary,
       blockedSegment,
-      blockedPreamble,
       hoistableState,
       abortSet,
       keyPath,
@@ -4801,7 +4701,6 @@
         },
         blockedBoundary: blockedBoundary,
         blockedSegment: blockedSegment,
-        blockedPreamble: blockedPreamble,
         hoistableState: hoistableState,
         abortSet: abortSet,
         keyPath: keyPath,
@@ -4848,7 +4747,6 @@
         },
         blockedBoundary: blockedBoundary,
         blockedSegment: null,
-        blockedPreamble: null,
         hoistableState: hoistableState,
         abortSet: abortSet,
         keyPath: keyPath,
@@ -4873,12 +4771,11 @@
     ) {
       return {
         status: PENDING,
-        parentFlushed: !1,
         id: -1,
         index: index,
+        parentFlushed: !1,
         chunks: [],
         children: [],
-        preambleChildren: [],
         parentFormatContext: parentFormatContext,
         boundary: boundary,
         lastPushedText: lastPushedText,
@@ -5581,7 +5478,6 @@
             props,
             request.resumableState,
             request.renderState,
-            task.blockedPreamble,
             task.hoistableState,
             task.formatContext,
             segment.lastPushedText,
@@ -5590,45 +5486,9 @@
           segment.lastPushedText = !1;
           var _prevContext = task.formatContext,
             _prevKeyPath2 = task.keyPath;
+          task.formatContext = getChildFormatContext(_prevContext, type, props);
           task.keyPath = keyPath;
-          if (
-            (task.formatContext = getChildFormatContext(
-              _prevContext,
-              type,
-              props
-            )).insertionMode === HTML_HEAD_MODE
-          ) {
-            var preambleSegment = createPendingSegment(
-              request,
-              0,
-              null,
-              task.formatContext,
-              !1,
-              !1
-            );
-            segment.preambleChildren.push(preambleSegment);
-            var preambleTask = createRenderTask(
-              request,
-              null,
-              _children,
-              -1,
-              task.blockedBoundary,
-              preambleSegment,
-              task.blockedPreamble,
-              task.hoistableState,
-              request.abortableTasks,
-              task.keyPath,
-              task.formatContext,
-              task.context,
-              task.treeContext,
-              task.componentStack,
-              task.isFallback,
-              emptyContextObject,
-              task.debugTask
-            );
-            pushComponentStack(preambleTask);
-            request.pingedTasks.push(preambleTask);
-          } else renderNode(request, task, _children, -1);
+          renderNode(request, task, _children, -1);
           task.formatContext = _prevContext;
           task.keyPath = _prevKeyPath2;
           a: {
@@ -5665,9 +5525,6 @@
                   resumableState.hasHtml = !0;
                   break a;
                 }
-                break;
-              case "head":
-                if (_prevContext.insertionMode <= HTML_HTML_MODE) break a;
             }
             target.push(endChunkForTag(type));
           }
@@ -5721,26 +5578,12 @@
             } else {
               var prevKeyPath$jscomp$3 = task.keyPath,
                 parentBoundary = task.blockedBoundary,
-                parentPreamble = task.blockedPreamble,
                 parentHoistableState = task.hoistableState,
                 parentSegment = task.blockedSegment,
                 fallback = props.fallback,
                 content = props.children,
-                fallbackAbortSet = new Set();
-              var newBoundary =
-                task.formatContext.insertionMode < HTML_MODE
-                  ? createSuspenseBoundary(
-                      request,
-                      fallbackAbortSet,
-                      createPreambleState(),
-                      createPreambleState()
-                    )
-                  : createSuspenseBoundary(
-                      request,
-                      fallbackAbortSet,
-                      null,
-                      null
-                    );
+                fallbackAbortSet = new Set(),
+                newBoundary = createSuspenseBoundary(request, fallbackAbortSet);
               null !== request.trackedPostpones &&
                 (newBoundary.trackedContentKeyPath = keyPath);
               var boundarySegment = createPendingSegment(
@@ -5780,7 +5623,6 @@
                 );
                 newBoundary.trackedFallbackNode = fallbackReplayNode;
                 task.blockedSegment = boundarySegment;
-                task.blockedPreamble = newBoundary.fallbackPreamble;
                 task.keyPath = fallbackKeyPath;
                 boundarySegment.status = 6;
                 try {
@@ -5796,7 +5638,6 @@
                   );
                 } finally {
                   (task.blockedSegment = parentSegment),
-                    (task.blockedPreamble = parentPreamble),
                     (task.keyPath = prevKeyPath$jscomp$3);
                 }
                 var suspendedPrimaryTask = createRenderTask(
@@ -5806,7 +5647,6 @@
                   -1,
                   newBoundary,
                   contentRootSegment,
-                  newBoundary.contentPreamble,
                   newBoundary.contentState,
                   task.abortSet,
                   keyPath,
@@ -5822,7 +5662,6 @@
                 request.pingedTasks.push(suspendedPrimaryTask);
               } else {
                 task.blockedBoundary = newBoundary;
-                task.blockedPreamble = newBoundary.contentPreamble;
                 task.hoistableState = newBoundary.contentState;
                 task.blockedSegment = contentRootSegment;
                 task.keyPath = keyPath;
@@ -5839,9 +5678,6 @@
                       newBoundary.status === PENDING)
                   ) {
                     newBoundary.status = COMPLETED;
-                    0 === request.pendingRootTasks &&
-                      task.blockedPreamble &&
-                      preparePreamble(request);
                     break a;
                   }
                 } catch (thrownValue$2) {
@@ -5881,7 +5717,6 @@
                   untrackBoundary(request, newBoundary);
                 } finally {
                   (task.blockedBoundary = parentBoundary),
-                    (task.blockedPreamble = parentPreamble),
                     (task.hoistableState = parentHoistableState),
                     (task.blockedSegment = parentSegment),
                     (task.keyPath = prevKeyPath$jscomp$3);
@@ -5893,7 +5728,6 @@
                   -1,
                   parentBoundary,
                   boundarySegment,
-                  newBoundary.fallbackPreamble,
                   newBoundary.fallbackState,
                   fallbackAbortSet,
                   [keyPath[0], "Suspense Fallback", keyPath[2]],
@@ -6132,27 +5966,17 @@
                 previousReplaySet = task.replay,
                 parentBoundary = task.blockedBoundary,
                 parentHoistableState = task.hoistableState,
-                content = props.children,
-                fallback = props.fallback,
-                fallbackAbortSet = new Set();
-              props =
-                task.formatContext.insertionMode < HTML_MODE
-                  ? createSuspenseBoundary(
-                      request,
-                      fallbackAbortSet,
-                      createPreambleState(),
-                      createPreambleState()
-                    )
-                  : createSuspenseBoundary(
-                      request,
-                      fallbackAbortSet,
-                      null,
-                      null
-                    );
-              props.parentFlushed = !0;
-              props.rootSegmentID = type;
-              task.blockedBoundary = props;
-              task.hoistableState = props.contentState;
+                content = props.children;
+              props = props.fallback;
+              var fallbackAbortSet = new Set(),
+                resumedBoundary = createSuspenseBoundary(
+                  request,
+                  fallbackAbortSet
+                );
+              resumedBoundary.parentFlushed = !0;
+              resumedBoundary.rootSegmentID = type;
+              task.blockedBoundary = resumedBoundary;
+              task.hoistableState = resumedBoundary.contentState;
               task.keyPath = keyPath;
               task.replay = { nodes: ref, slots: name, pendingTasks: 1 };
               try {
@@ -6165,13 +5989,16 @@
                     "Couldn't find all resumable slots by key/index during replaying. The tree doesn't match so React will fallback to client rendering."
                   );
                 task.replay.pendingTasks--;
-                if (0 === props.pendingTasks && props.status === PENDING) {
-                  props.status = COMPLETED;
-                  request.completedBoundaries.push(props);
+                if (
+                  0 === resumedBoundary.pendingTasks &&
+                  resumedBoundary.status === PENDING
+                ) {
+                  resumedBoundary.status = COMPLETED;
+                  request.completedBoundaries.push(resumedBoundary);
                   break a;
                 }
               } catch (error) {
-                (props.status = CLIENT_RENDERED),
+                (resumedBoundary.status = CLIENT_RENDERED),
                   (childNodes = getThrownInfo(task.componentStack)),
                   "object" === typeof error &&
                   null !== error &&
@@ -6189,9 +6016,15 @@
                         childNodes,
                         task.debugTask
                       )),
-                  encodeErrorForBoundary(props, replay, error, childNodes, !1),
+                  encodeErrorForBoundary(
+                    resumedBoundary,
+                    replay,
+                    error,
+                    childNodes,
+                    !1
+                  ),
                   task.replay.pendingTasks--,
-                  request.clientRenderedBoundaries.push(props);
+                  request.clientRenderedBoundaries.push(resumedBoundary);
               } finally {
                 (task.blockedBoundary = parentBoundary),
                   (task.hoistableState = parentHoistableState),
@@ -6202,10 +6035,10 @@
                 request,
                 null,
                 { nodes: keyOrIndex, slots: node, pendingTasks: 0 },
-                fallback,
+                props,
                 -1,
                 parentBoundary,
-                props.fallbackState,
+                resumedBoundary.fallbackState,
                 fallbackAbortSet,
                 [keyPath[0], "Suspense Fallback", keyPath[2]],
                 task.formatContext,
@@ -6750,7 +6583,6 @@
         task.childIndex,
         task.blockedBoundary,
         newSegment,
-        task.blockedPreamble,
         task.hoistableState,
         task.abortSet,
         task.keyPath,
@@ -6968,12 +6800,7 @@
             errorDigest = errorDigest$jscomp$0,
             errorInfo = errorInfo$jscomp$0,
             wasAborted = aborted,
-            resumedBoundary = createSuspenseBoundary(
-              request,
-              new Set(),
-              null,
-              null
-            );
+            resumedBoundary = createSuspenseBoundary(request, new Set());
           resumedBoundary.parentFlushed = !0;
           resumedBoundary.rootSegmentID = node;
           resumedBoundary.status = CLIENT_RENDERED;
@@ -7183,7 +7010,6 @@
     }
     function completeShell(request) {
       null === request.trackedPostpones && safelyEmitEarlyPreloads(request, !0);
-      null === request.trackedPostpones && preparePreamble(request);
       request.onShellError = noop;
       request = request.onShellReady;
       request();
@@ -7196,7 +7022,6 @@
           : null === request.completedRootSegment ||
               request.completedRootSegment.status !== POSTPONED
       );
-      preparePreamble(request);
       request = request.onAllReady;
       request();
     }
@@ -7241,11 +7066,7 @@
                     abortTaskSoft,
                     request
                   ),
-                  boundary.fallbackAbortableTasks.clear(),
-                  0 === request.pendingRootTasks &&
-                    null === request.trackedPostpones &&
-                    null !== boundary.contentPreamble &&
-                    preparePreamble(request)))
+                  boundary.fallbackAbortableTasks.clear()))
               : null !== segment &&
                 segment.parentFlushed &&
                 segment.status === COMPLETED &&
@@ -7500,11 +7321,7 @@
                             ),
                             untrackBoundary(request, boundary),
                             boundary.parentFlushed &&
-                              request.clientRenderedBoundaries.push(boundary),
-                            0 === request.pendingRootTasks &&
-                              null === request.trackedPostpones &&
-                              null !== boundary.contentPreamble &&
-                              preparePreamble(request)));
+                              request.clientRenderedBoundaries.push(boundary)));
                       request.allPendingTasks--;
                       0 === request.allPendingTasks && completeAll(request);
                     }
@@ -7534,85 +7351,6 @@
         }
       }
     }
-    function preparePreambleFromSubtree(
-      request,
-      segment,
-      collectedPreambleSegments
-    ) {
-      segment.preambleChildren.length &&
-        collectedPreambleSegments.push(segment.preambleChildren);
-      for (var pendingPreambles = !1, i = 0; i < segment.children.length; i++)
-        pendingPreambles =
-          preparePreambleFromSegment(
-            request,
-            segment.children[i],
-            collectedPreambleSegments
-          ) || pendingPreambles;
-      return pendingPreambles;
-    }
-    function preparePreambleFromSegment(
-      request,
-      segment,
-      collectedPreambleSegments
-    ) {
-      var boundary = segment.boundary;
-      if (null === boundary)
-        return preparePreambleFromSubtree(
-          request,
-          segment,
-          collectedPreambleSegments
-        );
-      var preamble = boundary.contentPreamble,
-        fallbackPreamble = boundary.fallbackPreamble;
-      if (null === preamble || null === fallbackPreamble) return !1;
-      switch (boundary.status) {
-        case COMPLETED:
-          hoistPreambleState(request.renderState, preamble);
-          segment = boundary.completedSegments[0];
-          if (!segment)
-            throw Error(
-              "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
-            );
-          return preparePreambleFromSubtree(
-            request,
-            segment,
-            collectedPreambleSegments
-          );
-        case POSTPONED:
-          if (null !== request.trackedPostpones) return !0;
-        case CLIENT_RENDERED:
-          if (segment.status === COMPLETED)
-            return (
-              hoistPreambleState(request.renderState, fallbackPreamble),
-              preparePreambleFromSubtree(
-                request,
-                segment,
-                collectedPreambleSegments
-              )
-            );
-        default:
-          return !0;
-      }
-    }
-    function preparePreamble(request) {
-      if (
-        request.completedRootSegment &&
-        null === request.completedPreambleSegments
-      ) {
-        var collectedPreambleSegments = [],
-          hasPendingPreambles = preparePreambleFromSegment(
-            request,
-            request.completedRootSegment,
-            collectedPreambleSegments
-          ),
-          preamble = request.renderState.preamble;
-        if (
-          !1 === hasPendingPreambles ||
-          (preamble.headChunks && preamble.bodyChunks)
-        )
-          request.completedPreambleSegments = collectedPreambleSegments;
-      }
-    }
     function flushSubtree(request, destination, segment, hoistableState) {
       segment.parentFlushed = !0;
       switch (segment.status) {
@@ -7660,8 +7398,8 @@
       if (boundary.status === CLIENT_RENDERED) {
         var errorDigest = boundary.errorDigest,
           errorMessage = boundary.errorMessage,
-          errorStack = boundary.errorStack,
-          errorComponentStack = boundary.errorComponentStack;
+          errorStack = boundary.errorStack;
+        boundary = boundary.errorComponentStack;
         writeChunkAndReturn(destination, startClientRenderedSuspenseBoundary);
         writeChunk(destination, clientRenderedSuspenseBoundaryError1);
         errorDigest &&
@@ -7685,23 +7423,18 @@
             destination,
             clientRenderedSuspenseBoundaryErrorAttrInterstitial
           ));
-        errorComponentStack &&
+        boundary &&
           (writeChunk(destination, clientRenderedSuspenseBoundaryError1D),
-          writeChunk(destination, escapeTextForBrowser(errorComponentStack)),
+          writeChunk(destination, escapeTextForBrowser(boundary)),
           writeChunk(
             destination,
             clientRenderedSuspenseBoundaryErrorAttrInterstitial
           ));
         writeChunkAndReturn(destination, clientRenderedSuspenseBoundaryError2);
         flushSubtree(request, destination, segment, hoistableState);
-        (request = boundary.fallbackPreamble) &&
-          writePreambleContribution(destination, request);
-        return writeChunkAndReturn(destination, endSuspenseBoundary);
-      }
-      if (boundary.status !== COMPLETED)
-        return (
-          boundary.status === PENDING &&
-            (boundary.rootSegmentID = request.nextSegmentId++),
+      } else if (boundary.status !== COMPLETED)
+        boundary.status === PENDING &&
+          (boundary.rootSegmentID = request.nextSegmentId++),
           0 < boundary.completedSegments.length &&
             request.partialBoundaries.push(boundary),
           writeStartPendingSuspenseBoundary(
@@ -7716,34 +7449,32 @@
               hoistStylesheetDependency,
               hoistableState
             )),
-          flushSubtree(request, destination, segment, hoistableState),
-          writeChunkAndReturn(destination, endSuspenseBoundary)
-        );
-      if (boundary.byteSize > request.progressiveChunkSize)
-        return (
-          (boundary.rootSegmentID = request.nextSegmentId++),
+          flushSubtree(request, destination, segment, hoistableState);
+      else if (boundary.byteSize > request.progressiveChunkSize)
+        (boundary.rootSegmentID = request.nextSegmentId++),
           request.completedBoundaries.push(boundary),
           writeStartPendingSuspenseBoundary(
             destination,
             request.renderState,
             boundary.rootSegmentID
           ),
-          flushSubtree(request, destination, segment, hoistableState),
-          writeChunkAndReturn(destination, endSuspenseBoundary)
-        );
-      hoistableState &&
-        ((segment = boundary.contentState),
-        segment.styles.forEach(hoistStyleQueueDependency, hoistableState),
-        segment.stylesheets.forEach(hoistStylesheetDependency, hoistableState));
-      writeChunkAndReturn(destination, startCompletedSuspenseBoundary);
-      segment = boundary.completedSegments;
-      if (1 !== segment.length)
-        throw Error(
-          "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
-        );
-      flushSegment(request, destination, segment[0], hoistableState);
-      (request = boundary.contentPreamble) &&
-        writePreambleContribution(destination, request);
+          flushSubtree(request, destination, segment, hoistableState);
+      else {
+        hoistableState &&
+          ((segment = boundary.contentState),
+          segment.styles.forEach(hoistStyleQueueDependency, hoistableState),
+          segment.stylesheets.forEach(
+            hoistStylesheetDependency,
+            hoistableState
+          ));
+        writeChunkAndReturn(destination, startCompletedSuspenseBoundary);
+        segment = boundary.completedSegments;
+        if (1 !== segment.length)
+          throw Error(
+            "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
+          );
+        flushSegment(request, destination, segment[0], hoistableState);
+      }
       return writeChunkAndReturn(destination, endSuspenseBoundary);
     }
     function flushSegmentContainer(
@@ -7905,8 +7636,6 @@
             completedRootSegment = request.completedRootSegment;
           if (null !== completedRootSegment) {
             if (completedRootSegment.status === POSTPONED) return;
-            var completedPreambleSegments = request.completedPreambleSegments;
-            if (null === completedPreambleSegments) return;
             var renderState = request.renderState;
             if (
               (0 !== request.allPendingTasks ||
@@ -7921,9 +7650,8 @@
                 ((resumableState.scriptResources[src] = EXISTS),
                 renderState.scripts.add(chunks));
             }
-            var preamble = renderState.preamble,
-              htmlChunks = preamble.htmlChunks,
-              headChunks = preamble.headChunks,
+            var htmlChunks = renderState.htmlChunks,
+              headChunks = renderState.headChunks,
               i$jscomp$0;
             if (htmlChunks) {
               for (i$jscomp$0 = 0; i$jscomp$0 < htmlChunks.length; i$jscomp$0++)
@@ -7984,36 +7712,10 @@
               i$jscomp$0++
             )
               writeChunk(destination, hoistableChunks[i$jscomp$0]);
-            for (
-              renderState = hoistableChunks.length = 0;
-              renderState < completedPreambleSegments.length;
-              renderState++
-            ) {
-              var segments = completedPreambleSegments[renderState];
-              for (
-                _renderState$external = 0;
-                _renderState$external < segments.length;
-                _renderState$external++
-              )
-                flushSegment(
-                  request,
-                  destination,
-                  segments[_renderState$external],
-                  null
-                );
-            }
-            var preamble$jscomp$0 = request.renderState.preamble,
-              headChunks$jscomp$0 = preamble$jscomp$0.headChunks;
-            (preamble$jscomp$0.htmlChunks || headChunks$jscomp$0) &&
+            hoistableChunks.length = 0;
+            htmlChunks &&
+              null === headChunks &&
               writeChunk(destination, endChunkForTag("head"));
-            var bodyChunks = preamble$jscomp$0.bodyChunks;
-            if (bodyChunks)
-              for (
-                completedPreambleSegments = 0;
-                completedPreambleSegments < bodyChunks.length;
-                completedPreambleSegments++
-              )
-                writeChunk(destination, bodyChunks[completedPreambleSegments]);
             flushSegment(request, destination, completedRootSegment, null);
             request.completedRootSegment = null;
             writeBootstrap(destination, request.renderState);
@@ -8354,19 +8056,11 @@
       )
         return (request.trackedPostpones = null);
       if (
-        null === request.completedRootSegment ||
-        (request.completedRootSegment.status !== POSTPONED &&
-          null !== request.completedPreambleSegments)
+        null !== request.completedRootSegment &&
+        request.completedRootSegment.status === POSTPONED
       ) {
-        var replaySlots = trackedPostpones.rootSlots;
-        var resumableState = request.resumableState;
-        resumableState.bootstrapScriptContent = void 0;
-        resumableState.bootstrapScripts = void 0;
-        resumableState.bootstrapModules = void 0;
-      } else {
-        replaySlots = request.completedRootSegment.id;
-        resumableState = request.resumableState;
-        var renderState = request.renderState;
+        var resumableState = request.resumableState,
+          renderState = request.renderState;
         resumableState.nextFormID = 0;
         resumableState.hasBody = !1;
         resumableState.hasHtml = !1;
@@ -8378,23 +8072,27 @@
         resumableState.scriptResources = {};
         resumableState.moduleUnknownResources = {};
         resumableState.moduleScriptResources = {};
-      }
+      } else
+        (resumableState = request.resumableState),
+          (resumableState.bootstrapScriptContent = void 0),
+          (resumableState.bootstrapScripts = void 0),
+          (resumableState.bootstrapModules = void 0);
       return {
         nextSegmentId: request.nextSegmentId,
         rootFormatContext: request.rootFormatContext,
         progressiveChunkSize: request.progressiveChunkSize,
         resumableState: request.resumableState,
         replayNodes: trackedPostpones.rootNodes,
-        replaySlots: replaySlots
+        replaySlots: trackedPostpones.rootSlots
       };
     }
     function ensureCorrectIsomorphicReactVersion() {
       var isomorphicReactPackageVersion = React.version;
-      if ("19.1.0-experimental-d55cc79b-20250228" !== isomorphicReactPackageVersion)
+      if ("19.1.0-experimental-b3a95caf-20250113" !== isomorphicReactPackageVersion)
         throw Error(
           'Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:\n  - react:      ' +
             (isomorphicReactPackageVersion +
-              "\n  - react-dom:  19.1.0-experimental-d55cc79b-20250228\nLearn more: https://react.dev/warnings/version-mismatch")
+              "\n  - react-dom:  19.1.0-experimental-b3a95caf-20250113\nLearn more: https://react.dev/warnings/version-mismatch")
         );
     }
     function createDrainHandler(destination, request) {
@@ -8493,7 +8191,6 @@
       REACT_SCOPE_TYPE = Symbol.for("react.scope"),
       REACT_OFFSCREEN_TYPE = Symbol.for("react.offscreen"),
       REACT_LEGACY_HIDDEN_TYPE = Symbol.for("react.legacy_hidden"),
-      REACT_MEMO_CACHE_SENTINEL = Symbol.for("react.memo_cache_sentinel"),
       REACT_POSTPONE_TYPE = Symbol.for("react.postpone"),
       REACT_VIEW_TRANSITION_TYPE = Symbol.for("react.view_transition"),
       MAYBE_ITERATOR_SYMBOL = Symbol.iterator,
@@ -9306,7 +9003,6 @@
                 var header;
                 resumableState &&
                 0 < resumableState.remainingCapacity &&
-                "string" !== typeof imageSrcSet &&
                 "high" === fetchPriority &&
                 ((header = getPreloadAsHeader(href, as, options)),
                 0 <= (resumableState.remainingCapacity -= header.length + 2))
@@ -9569,17 +9265,15 @@
       ),
       importMapScriptEnd = stringToPrecomputedChunk("\x3c/script>");
     var didWarnForNewBooleanPropsWithEmptyValue = {};
-    var NoContribution = 0,
-      ROOT_HTML_MODE = 0,
+    var ROOT_HTML_MODE = 0,
       HTML_HTML_MODE = 1,
       HTML_MODE = 2,
-      HTML_HEAD_MODE = 3,
-      SVG_MODE = 4,
-      MATHML_MODE = 5,
-      HTML_TABLE_MODE = 6,
-      HTML_TABLE_BODY_MODE = 7,
-      HTML_TABLE_ROW_MODE = 8,
-      HTML_COLGROUP_MODE = 9,
+      SVG_MODE = 3,
+      MATHML_MODE = 4,
+      HTML_TABLE_MODE = 5,
+      HTML_TABLE_BODY_MODE = 6,
+      HTML_TABLE_ROW_MODE = 7,
+      HTML_COLGROUP_MODE = 8,
       textSeparator = stringToPrecomputedChunk("\x3c!-- --\x3e"),
       styleNameCache = new Map(),
       styleAttributeStart = stringToPrecomputedChunk(' style="'),
@@ -9645,9 +9339,6 @@
         stringToPrecomputedChunk(' data-cstck="'),
       clientRenderedSuspenseBoundaryError2 =
         stringToPrecomputedChunk("></template>"),
-      boundaryPreambleContributionChunkStart =
-        stringToPrecomputedChunk("\x3c!--"),
-      boundaryPreambleContributionChunkEnd = stringToPrecomputedChunk("--\x3e"),
       startSegmentHTML = stringToPrecomputedChunk('<div hidden id="'),
       startSegmentHTML2 = stringToPrecomputedChunk('">'),
       endSegmentHTML = stringToPrecomputedChunk("</div>"),
@@ -9890,9 +9581,9 @@
               "Invalid hook call. Hooks can only be called inside of the body of a function component."
             );
           overflow = localIdCounter++;
-          treeId = "\u00ab" + resumableState.idPrefix + "R" + treeId;
+          treeId = ":" + resumableState.idPrefix + "R" + treeId;
           0 < overflow && (treeId += "H" + overflow.toString(32));
-          return treeId + "\u00bb";
+          return treeId + ":";
         },
         useSyncExternalStore: function (
           subscribe,
@@ -9915,20 +9606,8 @@
           resolveCurrentlyRenderingComponent();
           return NotPending;
         },
-        useMemoCache: function (size) {
-          for (var data = Array(size), i = 0; i < size; i++)
-            data[i] = REACT_MEMO_CACHE_SENTINEL;
-          return data;
-        },
-        useCacheRefresh: function () {
-          return unsupportedRefresh;
-        },
         useEffectEvent: function () {
           return throwOnUseEffectEventCall;
-        },
-        useSwipeTransition: function (previous, current) {
-          resolveCurrentlyRenderingComponent();
-          return [current, unsupportedStartGesture];
         }
       },
       currentResumableState = null,
@@ -10174,5 +9853,5 @@
         }
       };
     };
-    exports.version = "19.1.0-experimental-d55cc79b-20250228";
+    exports.version = "19.1.0-experimental-b3a95caf-20250113";
   })();
diff --git a/node_modules/react-dom/cjs/react-dom-server.node.production.js b/node_modules/react-dom/cjs/react-dom-server.node.production.js
index bb0835a..6921b3f 100644
--- a/node_modules/react-dom/cjs/react-dom-server.node.production.js
+++ b/node_modules/react-dom/cjs/react-dom-server.node.production.js
@@ -31,7 +31,6 @@ var util = require("util"),
   REACT_SCOPE_TYPE = Symbol.for("react.scope"),
   REACT_OFFSCREEN_TYPE = Symbol.for("react.offscreen"),
   REACT_LEGACY_HIDDEN_TYPE = Symbol.for("react.legacy_hidden"),
-  REACT_MEMO_CACHE_SENTINEL = Symbol.for("react.memo_cache_sentinel"),
   REACT_POSTPONE_TYPE = Symbol.for("react.postpone"),
   REACT_VIEW_TRANSITION_TYPE = Symbol.for("react.view_transition"),
   MAYBE_ITERATOR_SYMBOL = Symbol.iterator,
@@ -383,7 +382,8 @@ function createRenderState(
     segmentPrefix: stringToPrecomputedChunk(idPrefix + "S:"),
     boundaryPrefix: stringToPrecomputedChunk(idPrefix + "B:"),
     startInlineScript: inlineScriptWithNonce,
-    preamble: createPreambleState(),
+    htmlChunks: null,
+    headChunks: null,
     externalRuntimeScript: externalRuntimeScript,
     bootstrapChunks: bootstrapChunks,
     importMapChunks: externalRuntimeConfig,
@@ -546,14 +546,6 @@ function createResumableState(
     moduleScriptResources: {}
   };
 }
-function createPreambleState() {
-  return {
-    htmlChunks: null,
-    headChunks: null,
-    bodyChunks: null,
-    contribution: 0
-  };
-}
 function createFormatContext(insertionMode, selectedValue, tagScope) {
   return {
     insertionMode: insertionMode,
@@ -564,9 +556,9 @@ function createFormatContext(insertionMode, selectedValue, tagScope) {
 function createRootFormatContext(namespaceURI) {
   return createFormatContext(
     "http://www.w3.org/2000/svg" === namespaceURI
-      ? 4
+      ? 3
       : "http://www.w3.org/1998/Math/MathML" === namespaceURI
-        ? 5
+        ? 4
         : 0,
     null,
     0
@@ -583,34 +575,33 @@ function getChildFormatContext(parentContext, type, props) {
         parentContext.tagScope
       );
     case "svg":
-      return createFormatContext(4, null, parentContext.tagScope);
+      return createFormatContext(3, null, parentContext.tagScope);
     case "picture":
       return createFormatContext(2, null, parentContext.tagScope | 2);
     case "math":
-      return createFormatContext(5, null, parentContext.tagScope);
+      return createFormatContext(4, null, parentContext.tagScope);
     case "foreignObject":
       return createFormatContext(2, null, parentContext.tagScope);
     case "table":
-      return createFormatContext(6, null, parentContext.tagScope);
+      return createFormatContext(5, null, parentContext.tagScope);
     case "thead":
     case "tbody":
     case "tfoot":
-      return createFormatContext(7, null, parentContext.tagScope);
+      return createFormatContext(6, null, parentContext.tagScope);
     case "colgroup":
-      return createFormatContext(9, null, parentContext.tagScope);
-    case "tr":
       return createFormatContext(8, null, parentContext.tagScope);
-    case "head":
-      if (2 > parentContext.insertionMode)
-        return createFormatContext(3, null, parentContext.tagScope);
-      break;
-    case "html":
-      if (0 === parentContext.insertionMode)
-        return createFormatContext(1, null, parentContext.tagScope);
+    case "tr":
+      return createFormatContext(7, null, parentContext.tagScope);
   }
-  return 6 <= parentContext.insertionMode || 2 > parentContext.insertionMode
+  return 5 <= parentContext.insertionMode
     ? createFormatContext(2, null, parentContext.tagScope)
-    : parentContext;
+    : 0 === parentContext.insertionMode
+      ? "html" === type
+        ? createFormatContext(1, null, parentContext.tagScope)
+        : createFormatContext(2, null, parentContext.tagScope)
+      : 1 === parentContext.insertionMode
+        ? createFormatContext(2, null, parentContext.tagScope)
+        : parentContext;
 }
 var textSeparator = stringToPrecomputedChunk("\x3c!-- --\x3e");
 function pushTextInstance(target, text, renderState, textEmbedded) {
@@ -1121,29 +1112,6 @@ function pushScriptImpl(target, props) {
   target.push(endChunkForTag("script"));
   return null;
 }
-function pushStartSingletonElement(target, props, tag) {
-  target.push(startChunkForTag(tag));
-  var innerHTML = (tag = null),
-    propKey;
-  for (propKey in props)
-    if (hasOwnProperty.call(props, propKey)) {
-      var propValue = props[propKey];
-      if (null != propValue)
-        switch (propKey) {
-          case "children":
-            tag = propValue;
-            break;
-          case "dangerouslySetInnerHTML":
-            innerHTML = propValue;
-            break;
-          default:
-            pushAttribute(target, propKey, propValue);
-        }
-    }
-  target.push(endOfStartTag);
-  pushInnerHTML(target, innerHTML, tag);
-  return tag;
-}
 function pushStartGenericElement(target, props, tag) {
   target.push(startChunkForTag(tag));
   var innerHTML = (tag = null),
@@ -1188,7 +1156,6 @@ function pushStartInstance(
   props,
   resumableState,
   renderState,
-  preambleState,
   hoistableState,
   formatContext,
   textEmbedded,
@@ -1668,7 +1635,7 @@ function pushStartInstance(
       return JSCompiler_inline_result$jscomp$2;
     case "title":
       if (
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp
       )
@@ -1687,7 +1654,7 @@ function pushStartInstance(
         href = props.href,
         precedence = props.precedence;
       if (
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp ||
         "string" !== typeof rel ||
@@ -1769,7 +1736,7 @@ function pushStartInstance(
         "symbol" === typeof asyncProp ||
         props.onLoad ||
         props.onError ||
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp
       )
@@ -1810,7 +1777,7 @@ function pushStartInstance(
       var precedence$jscomp$0 = props.precedence,
         href$jscomp$0 = props.href;
       if (
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp ||
         "string" !== typeof precedence$jscomp$0 ||
@@ -1913,7 +1880,7 @@ function pushStartInstance(
       return JSCompiler_inline_result$jscomp$6;
     case "meta":
       if (
-        4 === formatContext.insertionMode ||
+        3 === formatContext.insertionMode ||
         formatContext.tagScope & 1 ||
         null != props.itemProp
       )
@@ -2032,7 +1999,6 @@ function pushStartInstance(
             header;
           headers &&
           0 < headers.remainingCapacity &&
-          "string" !== typeof props.srcSet &&
           ("high" === props.fetchPriority ||
             500 > headers.highImagePreloads.length) &&
           ((header = getPreloadAsHeader(src, "image", {
@@ -2092,13 +2058,10 @@ function pushStartInstance(
     case "missing-glyph":
       break;
     case "head":
-      if (2 > formatContext.insertionMode) {
-        var preamble = preambleState || renderState.preamble;
-        if (preamble.headChunks)
-          throw Error("The `<head>` tag may only be rendered once.");
-        preamble.headChunks = [];
-        var JSCompiler_inline_result$jscomp$9 = pushStartSingletonElement(
-          preamble.headChunks,
+      if (2 > formatContext.insertionMode && null === renderState.headChunks) {
+        renderState.headChunks = [];
+        var JSCompiler_inline_result$jscomp$9 = pushStartGenericElement(
+          renderState.headChunks,
           props,
           "head"
         );
@@ -2109,42 +2072,24 @@ function pushStartInstance(
           "head"
         );
       return JSCompiler_inline_result$jscomp$9;
-    case "body":
-      if (2 > formatContext.insertionMode) {
-        var preamble$jscomp$0 = preambleState || renderState.preamble;
-        if (preamble$jscomp$0.bodyChunks)
-          throw Error("The `<body>` tag may only be rendered once.");
-        preamble$jscomp$0.bodyChunks = [];
-        var JSCompiler_inline_result$jscomp$10 = pushStartSingletonElement(
-          preamble$jscomp$0.bodyChunks,
-          props,
-          "body"
-        );
-      } else
-        JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
-          target$jscomp$0,
-          props,
-          "body"
-        );
-      return JSCompiler_inline_result$jscomp$10;
     case "html":
-      if (0 === formatContext.insertionMode) {
-        var preamble$jscomp$1 = preambleState || renderState.preamble;
-        if (preamble$jscomp$1.htmlChunks)
-          throw Error("The `<html>` tag may only be rendered once.");
-        preamble$jscomp$1.htmlChunks = [doctypeChunk];
-        var JSCompiler_inline_result$jscomp$11 = pushStartSingletonElement(
-          preamble$jscomp$1.htmlChunks,
+      if (
+        0 === formatContext.insertionMode &&
+        null === renderState.htmlChunks
+      ) {
+        renderState.htmlChunks = [doctypeChunk];
+        var JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
+          renderState.htmlChunks,
           props,
           "html"
         );
       } else
-        JSCompiler_inline_result$jscomp$11 = pushStartGenericElement(
+        JSCompiler_inline_result$jscomp$10 = pushStartGenericElement(
           target$jscomp$0,
           props,
           "html"
         );
-      return JSCompiler_inline_result$jscomp$11;
+      return JSCompiler_inline_result$jscomp$10;
     default:
       if (-1 !== type.indexOf("-")) {
         target$jscomp$0.push(startChunkForTag(type));
@@ -2207,21 +2152,6 @@ function endChunkForTag(tag) {
     endTagCache.set(tag, chunk));
   return chunk;
 }
-function hoistPreambleState(renderState, preambleState) {
-  renderState = renderState.preamble;
-  null === renderState.htmlChunks &&
-    preambleState.htmlChunks &&
-    ((renderState.htmlChunks = preambleState.htmlChunks),
-    (preambleState.contribution |= 1));
-  null === renderState.headChunks &&
-    preambleState.headChunks &&
-    ((renderState.headChunks = preambleState.headChunks),
-    (preambleState.contribution |= 4));
-  null === renderState.bodyChunks &&
-    preambleState.bodyChunks &&
-    ((renderState.bodyChunks = preambleState.bodyChunks),
-    (preambleState.contribution |= 2));
-}
 function writeBootstrap(destination, renderState) {
   renderState = renderState.bootstrapChunks;
   for (var i = 0; i < renderState.length - 1; i++)
@@ -2262,16 +2192,6 @@ function writeStartPendingSuspenseBoundary(destination, renderState, id) {
   writeChunk(destination, id.toString(16));
   return writeChunkAndReturn(destination, startPendingSuspenseBoundary2);
 }
-var boundaryPreambleContributionChunkStart =
-    stringToPrecomputedChunk("\x3c!--"),
-  boundaryPreambleContributionChunkEnd = stringToPrecomputedChunk("--\x3e");
-function writePreambleContribution(destination, preambleState) {
-  preambleState = preambleState.contribution;
-  0 !== preambleState &&
-    (writeChunk(destination, boundaryPreambleContributionChunkStart),
-    writeChunk(destination, "" + preambleState),
-    writeChunk(destination, boundaryPreambleContributionChunkEnd));
-}
 var startSegmentHTML = stringToPrecomputedChunk('<div hidden id="'),
   startSegmentHTML2 = stringToPrecomputedChunk('">'),
   endSegmentHTML = stringToPrecomputedChunk("</div>"),
@@ -2303,7 +2223,6 @@ function writeStartSegment(destination, renderState, formatContext, id) {
   switch (formatContext.insertionMode) {
     case 0:
     case 1:
-    case 3:
     case 2:
       return (
         writeChunk(destination, startSegmentHTML),
@@ -2311,42 +2230,42 @@ function writeStartSegment(destination, renderState, formatContext, id) {
         writeChunk(destination, id.toString(16)),
         writeChunkAndReturn(destination, startSegmentHTML2)
       );
-    case 4:
+    case 3:
       return (
         writeChunk(destination, startSegmentSVG),
         writeChunk(destination, renderState.segmentPrefix),
         writeChunk(destination, id.toString(16)),
         writeChunkAndReturn(destination, startSegmentSVG2)
       );
-    case 5:
+    case 4:
       return (
         writeChunk(destination, startSegmentMathML),
         writeChunk(destination, renderState.segmentPrefix),
         writeChunk(destination, id.toString(16)),
         writeChunkAndReturn(destination, startSegmentMathML2)
       );
-    case 6:
+    case 5:
       return (
         writeChunk(destination, startSegmentTable),
         writeChunk(destination, renderState.segmentPrefix),
         writeChunk(destination, id.toString(16)),
         writeChunkAndReturn(destination, startSegmentTable2)
       );
-    case 7:
+    case 6:
       return (
         writeChunk(destination, startSegmentTableBody),
         writeChunk(destination, renderState.segmentPrefix),
         writeChunk(destination, id.toString(16)),
         writeChunkAndReturn(destination, startSegmentTableBody2)
       );
-    case 8:
+    case 7:
       return (
         writeChunk(destination, startSegmentTableRow),
         writeChunk(destination, renderState.segmentPrefix),
         writeChunk(destination, id.toString(16)),
         writeChunkAndReturn(destination, startSegmentTableRow2)
       );
-    case 9:
+    case 8:
       return (
         writeChunk(destination, startSegmentColGroup),
         writeChunk(destination, renderState.segmentPrefix),
@@ -2361,20 +2280,19 @@ function writeEndSegment(destination, formatContext) {
   switch (formatContext.insertionMode) {
     case 0:
     case 1:
-    case 3:
     case 2:
       return writeChunkAndReturn(destination, endSegmentHTML);
-    case 4:
+    case 3:
       return writeChunkAndReturn(destination, endSegmentSVG);
-    case 5:
+    case 4:
       return writeChunkAndReturn(destination, endSegmentMathML);
-    case 6:
+    case 5:
       return writeChunkAndReturn(destination, endSegmentTable);
-    case 7:
+    case 6:
       return writeChunkAndReturn(destination, endSegmentTableBody);
-    case 8:
+    case 7:
       return writeChunkAndReturn(destination, endSegmentTableRow);
-    case 9:
+    case 8:
       return writeChunkAndReturn(destination, endSegmentColGroup);
     default:
       throw Error("Unknown insertion mode. This is a bug in React.");
@@ -2908,7 +2826,6 @@ function preload(href, as, options) {
           var header;
           resumableState &&
           0 < resumableState.remainingCapacity &&
-          "string" !== typeof imageSrcSet &&
           "high" === fetchPriority &&
           ((header = getPreloadAsHeader(href, as, options)),
           0 <= (resumableState.remainingCapacity -= header.length + 2))
@@ -3653,12 +3570,6 @@ function readPreviousThenableFromState() {
       index
     );
 }
-function unsupportedRefresh() {
-  throw Error("Cache cannot be refreshed during server rendering.");
-}
-function unsupportedStartGesture() {
-  throw Error("startGesture cannot be called during server rendering.");
-}
 function noop$1() {}
 var HooksDispatcher = {
     readContext: function (context) {
@@ -3723,9 +3634,9 @@ var HooksDispatcher = {
         );
       overflow = localIdCounter++;
       JSCompiler_inline_result =
-        "\u00ab" + resumableState.idPrefix + "R" + JSCompiler_inline_result;
+        ":" + resumableState.idPrefix + "R" + JSCompiler_inline_result;
       0 < overflow && (JSCompiler_inline_result += "H" + overflow.toString(32));
-      return JSCompiler_inline_result + "\u00bb";
+      return JSCompiler_inline_result + ":";
     },
     useSyncExternalStore: function (subscribe, getSnapshot, getServerSnapshot) {
       if (void 0 === getServerSnapshot)
@@ -3744,20 +3655,8 @@ var HooksDispatcher = {
       resolveCurrentlyRenderingComponent();
       return sharedNotPendingObject;
     },
-    useMemoCache: function (size) {
-      for (var data = Array(size), i = 0; i < size; i++)
-        data[i] = REACT_MEMO_CACHE_SENTINEL;
-      return data;
-    },
-    useCacheRefresh: function () {
-      return unsupportedRefresh;
-    },
     useEffectEvent: function () {
       return throwOnUseEffectEventCall;
-    },
-    useSwipeTransition: function (previous, current) {
-      resolveCurrentlyRenderingComponent();
-      return [current, unsupportedStartGesture];
     }
   },
   currentResumableState = null,
@@ -4020,7 +3919,7 @@ function RequestInstance(
   this.status = 10;
   this.fatalError = null;
   this.pendingRootTasks = this.allPendingTasks = this.nextSegmentId = 0;
-  this.completedPreambleSegments = this.completedRootSegment = null;
+  this.completedRootSegment = null;
   this.abortableTasks = abortSet;
   this.pingedTasks = [];
   this.clientRenderedBoundaries = [];
@@ -4079,7 +3978,6 @@ function createRequest(
     null,
     renderState,
     null,
-    null,
     resumableState.abortableTasks,
     null,
     rootFormatContext,
@@ -4172,7 +4070,6 @@ function resumeRequest(
         null,
         onAllReady,
         null,
-        null,
         renderState.abortableTasks,
         null,
         postponedState.rootFormatContext,
@@ -4256,12 +4153,7 @@ function pingTask(request, task) {
           return performWork(request);
         }));
 }
-function createSuspenseBoundary(
-  request,
-  fallbackAbortableTasks,
-  contentPreamble,
-  fallbackPreamble
-) {
+function createSuspenseBoundary(request, fallbackAbortableTasks) {
   return {
     status: 0,
     rootSegmentID: -1,
@@ -4273,8 +4165,6 @@ function createSuspenseBoundary(
     errorDigest: null,
     contentState: createHoistableState(),
     fallbackState: createHoistableState(),
-    contentPreamble: contentPreamble,
-    fallbackPreamble: fallbackPreamble,
     trackedContentKeyPath: null,
     trackedFallbackNode: null
   };
@@ -4286,7 +4176,6 @@ function createRenderTask(
   childIndex,
   blockedBoundary,
   blockedSegment,
-  blockedPreamble,
   hoistableState,
   abortSet,
   keyPath,
@@ -4309,7 +4198,6 @@ function createRenderTask(
     },
     blockedBoundary: blockedBoundary,
     blockedSegment: blockedSegment,
-    blockedPreamble: blockedPreamble,
     hoistableState: hoistableState,
     abortSet: abortSet,
     keyPath: keyPath,
@@ -4353,7 +4241,6 @@ function createReplayTask(
     },
     blockedBoundary: blockedBoundary,
     blockedSegment: null,
-    blockedPreamble: null,
     hoistableState: hoistableState,
     abortSet: abortSet,
     keyPath: keyPath,
@@ -4377,12 +4264,11 @@ function createPendingSegment(
 ) {
   return {
     status: 0,
-    parentFlushed: !1,
     id: -1,
     index: index,
+    parentFlushed: !1,
     chunks: [],
     children: [],
-    preambleChildren: [],
     parentFormatContext: parentFormatContext,
     boundary: boundary,
     lastPushedText: lastPushedText,
@@ -4614,13 +4500,12 @@ function renderElement(request, task, keyPath, type, props, ref) {
         (task.formatContext = defaultProps),
         (task.keyPath = initialState);
     else {
-      ref = pushStartInstance(
+      initialState = pushStartInstance(
         newProps.chunks,
         type,
         props,
         request.resumableState,
         request.renderState,
-        task.blockedPreamble,
         task.hoistableState,
         task.formatContext,
         newProps.lastPushedText,
@@ -4628,42 +4513,12 @@ function renderElement(request, task, keyPath, type, props, ref) {
       );
       newProps.lastPushedText = !1;
       defaultProps = task.formatContext;
-      initialState = task.keyPath;
+      ref = task.keyPath;
+      task.formatContext = getChildFormatContext(defaultProps, type, props);
       task.keyPath = keyPath;
-      3 ===
-      (task.formatContext = getChildFormatContext(defaultProps, type, props))
-        .insertionMode
-        ? ((keyPath = createPendingSegment(
-            request,
-            0,
-            null,
-            task.formatContext,
-            !1,
-            !1
-          )),
-          newProps.preambleChildren.push(keyPath),
-          (keyPath = createRenderTask(
-            request,
-            null,
-            ref,
-            -1,
-            task.blockedBoundary,
-            keyPath,
-            task.blockedPreamble,
-            task.hoistableState,
-            request.abortableTasks,
-            task.keyPath,
-            task.formatContext,
-            task.context,
-            task.treeContext,
-            task.componentStack,
-            task.isFallback
-          )),
-          pushComponentStack(keyPath),
-          request.pingedTasks.push(keyPath))
-        : renderNode(request, task, ref, -1);
+      renderNode(request, task, initialState, -1);
       task.formatContext = defaultProps;
-      task.keyPath = initialState;
+      task.keyPath = ref;
       a: {
         task = newProps.chunks;
         request = request.resumableState;
@@ -4698,9 +4553,6 @@ function renderElement(request, task, keyPath, type, props, ref) {
               request.hasHtml = !0;
               break a;
             }
-            break;
-          case "head":
-            if (1 >= defaultProps.insertionMode) break a;
         }
         task.push(endChunkForTag(type));
       }
@@ -4750,34 +4602,25 @@ function renderElement(request, task, keyPath, type, props, ref) {
           }
         } else {
           type = task.keyPath;
-          var parentBoundary = task.blockedBoundary;
-          ref = task.blockedPreamble;
-          var parentHoistableState = task.hoistableState;
-          propName$34 = task.blockedSegment;
-          propName = props.fallback;
+          var parentBoundary = task.blockedBoundary,
+            parentHoistableState = task.hoistableState;
+          ref = task.blockedSegment;
+          propName$34 = props.fallback;
           props = props.children;
           var fallbackAbortSet = new Set();
-          var newBoundary =
-            2 > task.formatContext.insertionMode
-              ? createSuspenseBoundary(
-                  request,
-                  fallbackAbortSet,
-                  createPreambleState(),
-                  createPreambleState()
-                )
-              : createSuspenseBoundary(request, fallbackAbortSet, null, null);
+          propName = createSuspenseBoundary(request, fallbackAbortSet);
           null !== request.trackedPostpones &&
-            (newBoundary.trackedContentKeyPath = keyPath);
+            (propName.trackedContentKeyPath = keyPath);
           var boundarySegment = createPendingSegment(
             request,
-            propName$34.chunks.length,
-            newBoundary,
+            ref.chunks.length,
+            propName,
             task.formatContext,
             !1,
             !1
           );
-          propName$34.children.push(boundarySegment);
-          propName$34.lastPushedText = !1;
+          ref.children.push(boundarySegment);
+          ref.lastPushedText = !1;
           var contentRootSegment = createPendingSegment(
             request,
             0,
@@ -4791,13 +4634,12 @@ function renderElement(request, task, keyPath, type, props, ref) {
             newProps = [keyPath[0], "Suspense Fallback", keyPath[2]];
             defaultProps = [newProps[1], newProps[2], [], null];
             request.trackedPostpones.workingMap.set(newProps, defaultProps);
-            newBoundary.trackedFallbackNode = defaultProps;
+            propName.trackedFallbackNode = defaultProps;
             task.blockedSegment = boundarySegment;
-            task.blockedPreamble = newBoundary.fallbackPreamble;
             task.keyPath = newProps;
             boundarySegment.status = 6;
             try {
-              renderNode(request, task, propName, -1),
+              renderNode(request, task, propName$34, -1),
                 boundarySegment.lastPushedText &&
                   boundarySegment.textEmbedded &&
                   boundarySegment.chunks.push(textSeparator),
@@ -4808,19 +4650,16 @@ function renderElement(request, task, keyPath, type, props, ref) {
                 thrownValue)
               );
             } finally {
-              (task.blockedSegment = propName$34),
-                (task.blockedPreamble = ref),
-                (task.keyPath = type);
+              (task.blockedSegment = ref), (task.keyPath = type);
             }
             task = createRenderTask(
               request,
               null,
               props,
               -1,
-              newBoundary,
+              propName,
               contentRootSegment,
-              newBoundary.contentPreamble,
-              newBoundary.contentState,
+              propName.contentState,
               task.abortSet,
               keyPath,
               task.formatContext,
@@ -4832,9 +4671,8 @@ function renderElement(request, task, keyPath, type, props, ref) {
             pushComponentStack(task);
             request.pingedTasks.push(task);
           } else {
-            task.blockedBoundary = newBoundary;
-            task.blockedPreamble = newBoundary.contentPreamble;
-            task.hoistableState = newBoundary.contentState;
+            task.blockedBoundary = propName;
+            task.hoistableState = propName.contentState;
             task.blockedSegment = contentRootSegment;
             task.keyPath = keyPath;
             contentRootSegment.status = 6;
@@ -4845,17 +4683,14 @@ function renderElement(request, task, keyPath, type, props, ref) {
                   contentRootSegment.textEmbedded &&
                   contentRootSegment.chunks.push(textSeparator),
                 (contentRootSegment.status = 1),
-                queueCompletedSegment(newBoundary, contentRootSegment),
-                0 === newBoundary.pendingTasks && 0 === newBoundary.status)
+                queueCompletedSegment(propName, contentRootSegment),
+                0 === propName.pendingTasks && 0 === propName.status)
               ) {
-                newBoundary.status = 1;
-                0 === request.pendingRootTasks &&
-                  task.blockedPreamble &&
-                  preparePreamble(request);
+                propName.status = 1;
                 break a;
               }
             } catch (thrownValue$29) {
-              (newBoundary.status = 4),
+              (propName.status = 4),
                 12 === request.status
                   ? ((contentRootSegment.status = 3),
                     (newProps = request.fatalError))
@@ -4872,24 +4707,22 @@ function renderElement(request, task, keyPath, type, props, ref) {
                       newProps,
                       defaultProps
                     )),
-                (newBoundary.errorDigest = initialState),
-                untrackBoundary(request, newBoundary);
+                (propName.errorDigest = initialState),
+                untrackBoundary(request, propName);
             } finally {
               (task.blockedBoundary = parentBoundary),
-                (task.blockedPreamble = ref),
                 (task.hoistableState = parentHoistableState),
-                (task.blockedSegment = propName$34),
+                (task.blockedSegment = ref),
                 (task.keyPath = type);
             }
             task = createRenderTask(
               request,
               null,
-              propName,
+              propName$34,
               -1,
               parentBoundary,
               boundarySegment,
-              newBoundary.fallbackPreamble,
-              newBoundary.fallbackState,
+              propName.fallbackState,
               fallbackAbortSet,
               [keyPath[0], "Suspense Fallback", keyPath[2]],
               task.formatContext,
@@ -4908,9 +4741,9 @@ function renderElement(request, task, keyPath, type, props, ref) {
       switch (type.$$typeof) {
         case REACT_FORWARD_REF_TYPE:
           if ("ref" in props)
-            for (newBoundary in ((newProps = {}), props))
-              "ref" !== newBoundary &&
-                (newProps[newBoundary] = props[newBoundary]);
+            for (boundarySegment in ((newProps = {}), props))
+              "ref" !== boundarySegment &&
+                (newProps[boundarySegment] = props[boundarySegment]);
           else newProps = props;
           type = renderWithHooks(
             request,
@@ -5112,27 +4945,17 @@ function retryNode(request, task) {
                         previousReplaySet = task.replay,
                         parentBoundary = task.blockedBoundary,
                         parentHoistableState = task.hoistableState,
-                        content = props.children,
-                        fallback = props.fallback,
-                        fallbackAbortSet = new Set();
-                      props =
-                        2 > task.formatContext.insertionMode
-                          ? createSuspenseBoundary(
-                              request,
-                              fallbackAbortSet,
-                              createPreambleState(),
-                              createPreambleState()
-                            )
-                          : createSuspenseBoundary(
-                              request,
-                              fallbackAbortSet,
-                              null,
-                              null
-                            );
-                      props.parentFlushed = !0;
-                      props.rootSegmentID = ref;
-                      task.blockedBoundary = props;
-                      task.hoistableState = props.contentState;
+                        content = props.children;
+                      props = props.fallback;
+                      var fallbackAbortSet = new Set(),
+                        resumedBoundary = createSuspenseBoundary(
+                          request,
+                          fallbackAbortSet
+                        );
+                      resumedBoundary.parentFlushed = !0;
+                      resumedBoundary.rootSegmentID = ref;
+                      task.blockedBoundary = resumedBoundary;
+                      task.hoistableState = resumedBoundary.contentState;
                       task.keyPath = key;
                       task.replay = {
                         nodes: replay,
@@ -5149,13 +4972,16 @@ function retryNode(request, task) {
                             "Couldn't find all resumable slots by key/index during replaying. The tree doesn't match so React will fallback to client rendering."
                           );
                         task.replay.pendingTasks--;
-                        if (0 === props.pendingTasks && 0 === props.status) {
-                          props.status = 1;
-                          request.completedBoundaries.push(props);
+                        if (
+                          0 === resumedBoundary.pendingTasks &&
+                          0 === resumedBoundary.status
+                        ) {
+                          resumedBoundary.status = 1;
+                          request.completedBoundaries.push(resumedBoundary);
                           break b;
                         }
                       } catch (error) {
-                        (props.status = 4),
+                        (resumedBoundary.status = 4),
                           (childNodes = getThrownInfo(task.componentStack)),
                           "object" === typeof error &&
                           null !== error &&
@@ -5167,9 +4993,11 @@ function retryNode(request, task) {
                                 error,
                                 childNodes
                               )),
-                          (props.errorDigest = type),
+                          (resumedBoundary.errorDigest = type),
                           task.replay.pendingTasks--,
-                          request.clientRenderedBoundaries.push(props);
+                          request.clientRenderedBoundaries.push(
+                            resumedBoundary
+                          );
                       } finally {
                         (task.blockedBoundary = parentBoundary),
                           (task.hoistableState = parentHoistableState),
@@ -5184,10 +5012,10 @@ function retryNode(request, task) {
                           slots: node$jscomp$0,
                           pendingTasks: 0
                         },
-                        fallback,
+                        props,
                         -1,
                         parentBoundary,
-                        props.fallbackState,
+                        resumedBoundary.fallbackState,
                         fallbackAbortSet,
                         [key[0], "Suspense Fallback", key[2]],
                         task.formatContext,
@@ -5525,7 +5353,6 @@ function spawnNewSuspendedRenderTask(request, task, thenableState) {
     task.childIndex,
     task.blockedBoundary,
     newSegment,
-    task.blockedPreamble,
     task.hoistableState,
     task.abortSet,
     task.keyPath,
@@ -5711,12 +5538,7 @@ function abortRemainingReplayNodes(
       node = node[5];
       var request = request$jscomp$0,
         errorDigest = errorDigest$jscomp$0,
-        resumedBoundary = createSuspenseBoundary(
-          request,
-          new Set(),
-          null,
-          null
-        );
+        resumedBoundary = createSuspenseBoundary(request, new Set());
       resumedBoundary.parentFlushed = !0;
       resumedBoundary.rootSegmentID = node;
       resumedBoundary.status = 4;
@@ -5906,7 +5728,6 @@ function safelyEmitEarlyPreloads(request, shellComplete) {
 }
 function completeShell(request) {
   null === request.trackedPostpones && safelyEmitEarlyPreloads(request, !0);
-  null === request.trackedPostpones && preparePreamble(request);
   request.onShellError = noop;
   request = request.onShellReady;
   request();
@@ -5919,7 +5740,6 @@ function completeAll(request) {
       : null === request.completedRootSegment ||
           5 !== request.completedRootSegment.status
   );
-  preparePreamble(request);
   request = request.onAllReady;
   request();
 }
@@ -5960,11 +5780,7 @@ function finishedTask(request, boundary, segment) {
               request.completedBoundaries.push(boundary),
             1 === boundary.status &&
               (boundary.fallbackAbortableTasks.forEach(abortTaskSoft, request),
-              boundary.fallbackAbortableTasks.clear(),
-              0 === request.pendingRootTasks &&
-                null === request.trackedPostpones &&
-                null !== boundary.contentPreamble &&
-                preparePreamble(request)))
+              boundary.fallbackAbortableTasks.clear()))
           : null !== segment &&
             segment.parentFlushed &&
             1 === segment.status &&
@@ -6158,11 +5974,7 @@ function performWork(request$jscomp$1) {
                         (boundary.errorDigest = request$jscomp$0),
                         untrackBoundary(request, boundary),
                         boundary.parentFlushed &&
-                          request.clientRenderedBoundaries.push(boundary),
-                        0 === request.pendingRootTasks &&
-                          null === request.trackedPostpones &&
-                          null !== boundary.contentPreamble &&
-                          preparePreamble(request)));
+                          request.clientRenderedBoundaries.push(boundary)));
                   request.allPendingTasks--;
                   0 === request.allPendingTasks && completeAll(request);
                 }
@@ -6186,85 +5998,6 @@ function performWork(request$jscomp$1) {
     }
   }
 }
-function preparePreambleFromSubtree(
-  request,
-  segment,
-  collectedPreambleSegments
-) {
-  segment.preambleChildren.length &&
-    collectedPreambleSegments.push(segment.preambleChildren);
-  for (var pendingPreambles = !1, i = 0; i < segment.children.length; i++)
-    pendingPreambles =
-      preparePreambleFromSegment(
-        request,
-        segment.children[i],
-        collectedPreambleSegments
-      ) || pendingPreambles;
-  return pendingPreambles;
-}
-function preparePreambleFromSegment(
-  request,
-  segment,
-  collectedPreambleSegments
-) {
-  var boundary = segment.boundary;
-  if (null === boundary)
-    return preparePreambleFromSubtree(
-      request,
-      segment,
-      collectedPreambleSegments
-    );
-  var preamble = boundary.contentPreamble,
-    fallbackPreamble = boundary.fallbackPreamble;
-  if (null === preamble || null === fallbackPreamble) return !1;
-  switch (boundary.status) {
-    case 1:
-      hoistPreambleState(request.renderState, preamble);
-      segment = boundary.completedSegments[0];
-      if (!segment)
-        throw Error(
-          "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
-        );
-      return preparePreambleFromSubtree(
-        request,
-        segment,
-        collectedPreambleSegments
-      );
-    case 5:
-      if (null !== request.trackedPostpones) return !0;
-    case 4:
-      if (1 === segment.status)
-        return (
-          hoistPreambleState(request.renderState, fallbackPreamble),
-          preparePreambleFromSubtree(
-            request,
-            segment,
-            collectedPreambleSegments
-          )
-        );
-    default:
-      return !0;
-  }
-}
-function preparePreamble(request) {
-  if (
-    request.completedRootSegment &&
-    null === request.completedPreambleSegments
-  ) {
-    var collectedPreambleSegments = [],
-      hasPendingPreambles = preparePreambleFromSegment(
-        request,
-        request.completedRootSegment,
-        collectedPreambleSegments
-      ),
-      preamble = request.renderState.preamble;
-    if (
-      !1 === hasPendingPreambles ||
-      (preamble.headChunks && preamble.bodyChunks)
-    )
-      request.completedPreambleSegments = collectedPreambleSegments;
-  }
-}
 function flushSubtree(request, destination, segment, hoistableState) {
   segment.parentFlushed = !0;
   switch (segment.status) {
@@ -6309,27 +6042,21 @@ function flushSegment(request, destination, segment, hoistableState) {
   if (null === boundary)
     return flushSubtree(request, destination, segment, hoistableState);
   boundary.parentFlushed = !0;
-  if (4 === boundary.status) {
-    var errorDigest = boundary.errorDigest;
-    writeChunkAndReturn(destination, startClientRenderedSuspenseBoundary);
-    writeChunk(destination, clientRenderedSuspenseBoundaryError1);
-    errorDigest &&
-      (writeChunk(destination, clientRenderedSuspenseBoundaryError1A),
-      writeChunk(destination, escapeTextForBrowser(errorDigest)),
-      writeChunk(
-        destination,
-        clientRenderedSuspenseBoundaryErrorAttrInterstitial
-      ));
-    writeChunkAndReturn(destination, clientRenderedSuspenseBoundaryError2);
-    flushSubtree(request, destination, segment, hoistableState);
-    (request = boundary.fallbackPreamble) &&
-      writePreambleContribution(destination, request);
-    return writeChunkAndReturn(destination, endSuspenseBoundary);
-  }
-  if (1 !== boundary.status)
-    return (
-      0 === boundary.status &&
-        (boundary.rootSegmentID = request.nextSegmentId++),
+  if (4 === boundary.status)
+    (boundary = boundary.errorDigest),
+      writeChunkAndReturn(destination, startClientRenderedSuspenseBoundary),
+      writeChunk(destination, clientRenderedSuspenseBoundaryError1),
+      boundary &&
+        (writeChunk(destination, clientRenderedSuspenseBoundaryError1A),
+        writeChunk(destination, escapeTextForBrowser(boundary)),
+        writeChunk(
+          destination,
+          clientRenderedSuspenseBoundaryErrorAttrInterstitial
+        )),
+      writeChunkAndReturn(destination, clientRenderedSuspenseBoundaryError2),
+      flushSubtree(request, destination, segment, hoistableState);
+  else if (1 !== boundary.status)
+    0 === boundary.status && (boundary.rootSegmentID = request.nextSegmentId++),
       0 < boundary.completedSegments.length &&
         request.partialBoundaries.push(boundary),
       writeStartPendingSuspenseBoundary(
@@ -6344,34 +6071,29 @@ function flushSegment(request, destination, segment, hoistableState) {
           hoistStylesheetDependency,
           hoistableState
         )),
-      flushSubtree(request, destination, segment, hoistableState),
-      writeChunkAndReturn(destination, endSuspenseBoundary)
-    );
-  if (boundary.byteSize > request.progressiveChunkSize)
-    return (
-      (boundary.rootSegmentID = request.nextSegmentId++),
+      flushSubtree(request, destination, segment, hoistableState);
+  else if (boundary.byteSize > request.progressiveChunkSize)
+    (boundary.rootSegmentID = request.nextSegmentId++),
       request.completedBoundaries.push(boundary),
       writeStartPendingSuspenseBoundary(
         destination,
         request.renderState,
         boundary.rootSegmentID
       ),
-      flushSubtree(request, destination, segment, hoistableState),
-      writeChunkAndReturn(destination, endSuspenseBoundary)
-    );
-  hoistableState &&
-    ((segment = boundary.contentState),
-    segment.styles.forEach(hoistStyleQueueDependency, hoistableState),
-    segment.stylesheets.forEach(hoistStylesheetDependency, hoistableState));
-  writeChunkAndReturn(destination, startCompletedSuspenseBoundary);
-  segment = boundary.completedSegments;
-  if (1 !== segment.length)
-    throw Error(
-      "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
-    );
-  flushSegment(request, destination, segment[0], hoistableState);
-  (request = boundary.contentPreamble) &&
-    writePreambleContribution(destination, request);
+      flushSubtree(request, destination, segment, hoistableState);
+  else {
+    hoistableState &&
+      ((segment = boundary.contentState),
+      segment.styles.forEach(hoistStyleQueueDependency, hoistableState),
+      segment.stylesheets.forEach(hoistStylesheetDependency, hoistableState));
+    writeChunkAndReturn(destination, startCompletedSuspenseBoundary);
+    segment = boundary.completedSegments;
+    if (1 !== segment.length)
+      throw Error(
+        "A previously unvisited boundary must have exactly one root segment. This is a bug in React."
+      );
+    flushSegment(request, destination, segment[0], hoistableState);
+  }
   return writeChunkAndReturn(destination, endSuspenseBoundary);
 }
 function flushSegmentContainer(request, destination, segment, hoistableState) {
@@ -6500,8 +6222,6 @@ function flushCompletedQueues(request, destination) {
         completedRootSegment = request.completedRootSegment;
       if (null !== completedRootSegment) {
         if (5 === completedRootSegment.status) return;
-        var completedPreambleSegments = request.completedPreambleSegments;
-        if (null === completedPreambleSegments) return;
         var renderState = request.renderState;
         if (
           (0 !== request.allPendingTasks ||
@@ -6516,9 +6236,8 @@ function flushCompletedQueues(request, destination) {
             ((resumableState.scriptResources[src] = null),
             renderState.scripts.add(chunks));
         }
-        var preamble = renderState.preamble,
-          htmlChunks = preamble.htmlChunks,
-          headChunks = preamble.headChunks,
+        var htmlChunks = renderState.htmlChunks,
+          headChunks = renderState.headChunks,
           i$jscomp$0;
         if (htmlChunks) {
           for (i$jscomp$0 = 0; i$jscomp$0 < htmlChunks.length; i$jscomp$0++)
@@ -6559,36 +6278,10 @@ function flushCompletedQueues(request, destination) {
         var hoistableChunks = renderState.hoistableChunks;
         for (i$jscomp$0 = 0; i$jscomp$0 < hoistableChunks.length; i$jscomp$0++)
           writeChunk(destination, hoistableChunks[i$jscomp$0]);
-        for (
-          renderState = hoistableChunks.length = 0;
-          renderState < completedPreambleSegments.length;
-          renderState++
-        ) {
-          var segments = completedPreambleSegments[renderState];
-          for (
-            _renderState$external = 0;
-            _renderState$external < segments.length;
-            _renderState$external++
-          )
-            flushSegment(
-              request,
-              destination,
-              segments[_renderState$external],
-              null
-            );
-        }
-        var preamble$jscomp$0 = request.renderState.preamble,
-          headChunks$jscomp$0 = preamble$jscomp$0.headChunks;
-        (preamble$jscomp$0.htmlChunks || headChunks$jscomp$0) &&
+        hoistableChunks.length = 0;
+        htmlChunks &&
+          null === headChunks &&
           writeChunk(destination, endChunkForTag("head"));
-        var bodyChunks = preamble$jscomp$0.bodyChunks;
-        if (bodyChunks)
-          for (
-            completedPreambleSegments = 0;
-            completedPreambleSegments < bodyChunks.length;
-            completedPreambleSegments++
-          )
-            writeChunk(destination, bodyChunks[completedPreambleSegments]);
         flushSegment(request, destination, completedRootSegment, null);
         request.completedRootSegment = null;
         writeBootstrap(destination, request.renderState);
@@ -6844,19 +6537,11 @@ function getPostponedState(request) {
   )
     return (request.trackedPostpones = null);
   if (
-    null === request.completedRootSegment ||
-    (5 !== request.completedRootSegment.status &&
-      null !== request.completedPreambleSegments)
+    null !== request.completedRootSegment &&
+    5 === request.completedRootSegment.status
   ) {
-    var replaySlots = trackedPostpones.rootSlots;
-    var resumableState = request.resumableState;
-    resumableState.bootstrapScriptContent = void 0;
-    resumableState.bootstrapScripts = void 0;
-    resumableState.bootstrapModules = void 0;
-  } else {
-    replaySlots = request.completedRootSegment.id;
-    resumableState = request.resumableState;
-    var renderState = request.renderState;
+    var resumableState = request.resumableState,
+      renderState = request.renderState;
     resumableState.nextFormID = 0;
     resumableState.hasBody = !1;
     resumableState.hasHtml = !1;
@@ -6868,23 +6553,27 @@ function getPostponedState(request) {
     resumableState.scriptResources = {};
     resumableState.moduleUnknownResources = {};
     resumableState.moduleScriptResources = {};
-  }
+  } else
+    (resumableState = request.resumableState),
+      (resumableState.bootstrapScriptContent = void 0),
+      (resumableState.bootstrapScripts = void 0),
+      (resumableState.bootstrapModules = void 0);
   return {
     nextSegmentId: request.nextSegmentId,
     rootFormatContext: request.rootFormatContext,
     progressiveChunkSize: request.progressiveChunkSize,
     resumableState: request.resumableState,
     replayNodes: trackedPostpones.rootNodes,
-    replaySlots: replaySlots
+    replaySlots: trackedPostpones.rootSlots
   };
 }
 function ensureCorrectIsomorphicReactVersion() {
   var isomorphicReactPackageVersion = React.version;
-  if ("19.1.0-experimental-d55cc79b-20250228" !== isomorphicReactPackageVersion)
+  if ("19.1.0-experimental-b3a95caf-20250113" !== isomorphicReactPackageVersion)
     throw Error(
       'Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:\n  - react:      ' +
         (isomorphicReactPackageVersion +
-          "\n  - react-dom:  19.1.0-experimental-d55cc79b-20250228\nLearn more: https://react.dev/warnings/version-mismatch")
+          "\n  - react-dom:  19.1.0-experimental-b3a95caf-20250113\nLearn more: https://react.dev/warnings/version-mismatch")
     );
 }
 ensureCorrectIsomorphicReactVersion();
@@ -7135,4 +6824,4 @@ exports.resumeToPipeableStream = function (children, postponedState, options) {
     }
   };
 };
-exports.version = "19.1.0-experimental-d55cc79b-20250228";
+exports.version = "19.1.0-experimental-b3a95caf-20250113";
diff --git a/node_modules/react-dom/cjs/react-dom-unstable_testing.development.js b/node_modules/react-dom/cjs/react-dom-unstable_testing.development.js
index ce937ba..60199b0 100644
--- a/node_modules/react-dom/cjs/react-dom-unstable_testing.development.js
+++ b/node_modules/react-dom/cjs/react-dom-unstable_testing.development.js
@@ -419,7 +419,11 @@
           break;
         default:
           if (
-            ((nextRootContext = nextRootInstance.tagName),
+            ((nextRootInstance =
+              8 === nextRootContext
+                ? nextRootInstance.parentNode
+                : nextRootInstance),
+            (nextRootContext = nextRootInstance.tagName),
             (nextRootInstance = nextRootInstance.namespaceURI))
           )
             (nextRootInstance = getOwnHostContext(nextRootInstance)),
@@ -582,7 +586,6 @@
         case 64:
           return 64;
         case 128:
-          return 128;
         case 256:
         case 512:
         case 1024:
@@ -597,7 +600,7 @@
         case 524288:
         case 1048576:
         case 2097152:
-          return lanes & 4194048;
+          return lanes & 4194176;
         case 4194304:
         case 8388608:
         case 16777216:
@@ -659,7 +662,7 @@
             ((suspendedLanes = nextLanes & -nextLanes),
             (rootHasPendingCommit = wipLanes & -wipLanes),
             suspendedLanes >= rootHasPendingCommit ||
-              (32 === suspendedLanes && 0 !== (rootHasPendingCommit & 4194048)))
+              (32 === suspendedLanes && 0 !== (rootHasPendingCommit & 4194176)))
           ? wipLanes
           : nextLanes;
     }
@@ -677,10 +680,10 @@
         case 2:
         case 4:
         case 8:
-        case 64:
           return currentTime + 250;
         case 16:
         case 32:
+        case 64:
         case 128:
         case 256:
         case 512:
@@ -720,7 +723,7 @@
     function claimNextTransitionLane() {
       var lane = nextTransitionLane;
       nextTransitionLane <<= 1;
-      0 === (nextTransitionLane & 4194048) && (nextTransitionLane = 256);
+      0 === (nextTransitionLane & 4194176) && (nextTransitionLane = 128);
       return lane;
     }
     function claimNextRetryLane() {
@@ -796,7 +799,7 @@
       root.entanglements[spawnedLaneIndex] =
         root.entanglements[spawnedLaneIndex] |
         1073741824 |
-        (entangledLanes & 4194090);
+        (entangledLanes & 4194218);
     }
     function markRootEntangled(root, entangledLanes) {
       var rootEntangledLanes = (root.entangledLanes |= entangledLanes);
@@ -819,6 +822,7 @@
         case 32:
           lane = 16;
           break;
+        case 128:
         case 256:
         case 512:
         case 1024:
@@ -837,7 +841,7 @@
         case 8388608:
         case 16777216:
         case 33554432:
-          lane = 128;
+          lane = 64;
           break;
         case 268435456:
           lane = 134217728;
@@ -1502,7 +1506,10 @@
     }
     function runWithFiberInDEV(fiber, callback, arg0, arg1, arg2, arg3, arg4) {
       var previousFiber = current;
-      setCurrentFiber(fiber);
+      ReactSharedInternals.getCurrentStack =
+        null === fiber ? null : getCurrentFiberStackInDev;
+      isRendering = !1;
+      current = fiber;
       try {
         return null !== fiber && fiber._debugTask
           ? fiber._debugTask.run(
@@ -1510,18 +1517,12 @@
             )
           : callback(arg0, arg1, arg2, arg3, arg4);
       } finally {
-        setCurrentFiber(previousFiber);
+        current = previousFiber;
       }
       throw Error(
         "runWithFiberInDEV should never be called in production. This is a bug in React."
       );
     }
-    function setCurrentFiber(fiber) {
-      ReactSharedInternals.getCurrentStack =
-        null === fiber ? null : getCurrentFiberStackInDev;
-      isRendering = !1;
-      current = fiber;
-    }
     function getToStringValue(value) {
       switch (typeof value) {
         case "bigint":
@@ -2347,41 +2348,33 @@
       return null !== node ? describeDiff(node).replaceAll(/^[+-]/gm, ">") : "";
     }
     function updatedAncestorInfoDev(oldInfo, tag) {
-      var ancestorInfo = assign({}, oldInfo || emptyAncestorInfoDev),
-        info = { tag: tag };
+      oldInfo = assign({}, oldInfo || emptyAncestorInfoDev);
+      var info = { tag: tag };
       -1 !== inScopeTags.indexOf(tag) &&
-        ((ancestorInfo.aTagInScope = null),
-        (ancestorInfo.buttonTagInScope = null),
-        (ancestorInfo.nobrTagInScope = null));
-      -1 !== buttonScopeTags.indexOf(tag) &&
-        (ancestorInfo.pTagInButtonScope = null);
+        ((oldInfo.aTagInScope = null),
+        (oldInfo.buttonTagInScope = null),
+        (oldInfo.nobrTagInScope = null));
+      -1 !== buttonScopeTags.indexOf(tag) && (oldInfo.pTagInButtonScope = null);
       -1 !== specialTags.indexOf(tag) &&
         "address" !== tag &&
         "div" !== tag &&
         "p" !== tag &&
-        ((ancestorInfo.listItemTagAutoclosing = null),
-        (ancestorInfo.dlItemTagAutoclosing = null));
-      ancestorInfo.current = info;
-      "form" === tag && (ancestorInfo.formTag = info);
-      "a" === tag && (ancestorInfo.aTagInScope = info);
-      "button" === tag && (ancestorInfo.buttonTagInScope = info);
-      "nobr" === tag && (ancestorInfo.nobrTagInScope = info);
-      "p" === tag && (ancestorInfo.pTagInButtonScope = info);
-      "li" === tag && (ancestorInfo.listItemTagAutoclosing = info);
-      if ("dd" === tag || "dt" === tag)
-        ancestorInfo.dlItemTagAutoclosing = info;
+        ((oldInfo.listItemTagAutoclosing = null),
+        (oldInfo.dlItemTagAutoclosing = null));
+      oldInfo.current = info;
+      "form" === tag && (oldInfo.formTag = info);
+      "a" === tag && (oldInfo.aTagInScope = info);
+      "button" === tag && (oldInfo.buttonTagInScope = info);
+      "nobr" === tag && (oldInfo.nobrTagInScope = info);
+      "p" === tag && (oldInfo.pTagInButtonScope = info);
+      "li" === tag && (oldInfo.listItemTagAutoclosing = info);
+      if ("dd" === tag || "dt" === tag) oldInfo.dlItemTagAutoclosing = info;
       "#document" === tag || "html" === tag
-        ? (ancestorInfo.containerTagInScope = null)
-        : ancestorInfo.containerTagInScope ||
-          (ancestorInfo.containerTagInScope = info);
-      null !== oldInfo ||
-      ("#document" !== tag && "html" !== tag && "body" !== tag)
-        ? !0 === ancestorInfo.implicitRootScope &&
-          (ancestorInfo.implicitRootScope = !1)
-        : (ancestorInfo.implicitRootScope = !0);
-      return ancestorInfo;
-    }
-    function isTagValidWithParent(tag, parentTag, implicitRootScope) {
+        ? (oldInfo.containerTagInScope = null)
+        : oldInfo.containerTagInScope || (oldInfo.containerTagInScope = info);
+      return oldInfo;
+    }
+    function isTagValidWithParent(tag, parentTag) {
       switch (parentTag) {
         case "select":
           return (
@@ -2441,12 +2434,11 @@
             "template" === tag
           );
         case "html":
-          if (implicitRootScope) break;
           return "head" === tag || "body" === tag || "frameset" === tag;
         case "frameset":
           return "frame" === tag;
         case "#document":
-          if (!implicitRootScope) return "html" === tag;
+          return "html" === tag;
       }
       switch (tag) {
         case "h1":
@@ -2466,11 +2458,14 @@
         case "rp":
         case "rt":
           return -1 === impliedEndTags.indexOf(parentTag);
+        case "body":
         case "caption":
         case "col":
         case "colgroup":
         case "frameset":
         case "frame":
+        case "head":
+        case "html":
         case "tbody":
         case "td":
         case "tfoot":
@@ -2478,19 +2473,6 @@
         case "thead":
         case "tr":
           return null == parentTag;
-        case "head":
-          return implicitRootScope || null === parentTag;
-        case "html":
-          return (
-            (implicitRootScope && "#document" === parentTag) ||
-            null === parentTag
-          );
-        case "body":
-          return (
-            (implicitRootScope &&
-              ("#document" === parentTag || "html" === parentTag)) ||
-            null === parentTag
-          );
       }
       return !0;
     }
@@ -2565,8 +2547,7 @@
       var parentInfo = ancestorInfo.current;
       ancestorInfo = (parentInfo = isTagValidWithParent(
         childTag,
-        parentInfo && parentInfo.tag,
-        ancestorInfo.implicitRootScope
+        parentInfo && parentInfo.tag
       )
         ? null
         : parentInfo)
@@ -2620,33 +2601,32 @@
           }));
       return !1;
     }
-    function validateTextNesting(childText, parentTag, implicitRootScope) {
-      if (implicitRootScope || isTagValidWithParent("#text", parentTag, !1))
-        return !0;
-      implicitRootScope = "#text|" + parentTag;
-      if (didWarn[implicitRootScope]) return !1;
-      didWarn[implicitRootScope] = !0;
-      var ancestor = (implicitRootScope = current)
-        ? findAncestor(implicitRootScope, parentTag)
+    function validateTextNesting(childText, parentTag) {
+      if (isTagValidWithParent("#text", parentTag)) return !0;
+      var warnKey = "#text|" + parentTag;
+      if (didWarn[warnKey]) return !1;
+      didWarn[warnKey] = !0;
+      var ancestor = (warnKey = current)
+        ? findAncestor(warnKey, parentTag)
         : null;
-      implicitRootScope =
-        null !== implicitRootScope && null !== ancestor
+      warnKey =
+        null !== warnKey && null !== ancestor
           ? describeAncestors(
               ancestor,
-              implicitRootScope,
-              6 !== implicitRootScope.tag ? { children: null } : null
+              warnKey,
+              6 !== warnKey.tag ? { children: null } : null
             )
           : "";
       /\S/.test(childText)
         ? console.error(
             "In HTML, text nodes cannot be a child of <%s>.\nThis will cause a hydration error.%s",
             parentTag,
-            implicitRootScope
+            warnKey
           )
         : console.error(
             "In HTML, whitespace text nodes cannot be a child of <%s>. Make sure you don't have any extra whitespace between tags on each line of your source code.\nThis will cause a hydration error.%s",
             parentTag,
-            implicitRootScope
+            warnKey
           );
       return !1;
     }
@@ -3814,11 +3794,6 @@
       enqueueUpdate$1(fiber, null, null, lane);
       return getRootForUpdatedFiber(fiber);
     }
-    function enqueueGestureRender(fiber) {
-      fiber = markUpdateLaneFromFiberToRoot(fiber, null, 64);
-      null !== fiber && markRootUpdated$1(fiber, 64);
-      return fiber;
-    }
     function markUpdateLaneFromFiberToRoot(sourceFiber, update, lane) {
       sourceFiber.lanes |= lane;
       var alternate = sourceFiber.alternate;
@@ -3834,19 +3809,17 @@
               (isHidden = !0)),
           (sourceFiber = parent),
           (parent = parent.return);
-      return 3 === sourceFiber.tag
-        ? ((parent = sourceFiber.stateNode),
-          isHidden &&
-            null !== update &&
-            ((isHidden = 31 - clz32(lane)),
-            (sourceFiber = parent.hiddenUpdates),
-            (alternate = sourceFiber[isHidden]),
-            null === alternate
-              ? (sourceFiber[isHidden] = [update])
-              : alternate.push(update),
-            (update.lane = lane | 536870912)),
-          parent)
-        : null;
+      isHidden &&
+        null !== update &&
+        3 === sourceFiber.tag &&
+        ((parent = sourceFiber.stateNode),
+        (isHidden = 31 - clz32(lane)),
+        (parent = parent.hiddenUpdates),
+        (sourceFiber = parent[isHidden]),
+        null === sourceFiber
+          ? (parent[isHidden] = [update])
+          : sourceFiber.push(update),
+        (update.lane = lane | 536870912));
     }
     function getRootForUpdatedFiber(sourceFiber) {
       if (nestedUpdateCount > NESTED_UPDATE_LIMIT)
@@ -4012,7 +3985,7 @@
           (blockingEventTime = lane),
           (blockingEventType = JSCompiler_temp));
       else if (
-        0 !== (lane & 4194048) &&
+        0 !== (lane & 4194176) &&
         0 > transitionUpdateTime &&
         ((transitionUpdateTime = now()), 0 > transitionStartTime)
       ) {
@@ -4105,9 +4078,9 @@
     }
     function setCurrentTrackFromLanes(lanes) {
       reusableLaneDevToolDetails.track =
-        lanes & 127
+        lanes & 63
           ? "Blocking"
-          : lanes & 4194176
+          : lanes & 4194240
             ? "Transition"
             : lanes & 62914560
               ? "Suspense"
@@ -4224,13 +4197,13 @@
     function logRenderPhase(startTime, endTime, lanes) {
       supportsUserTiming &&
         ((reusableLaneDevToolDetails.color =
-          (lanes & 738197653) === lanes ? "tertiary-dark" : "primary-dark"),
+          (lanes & 738197589) === lanes ? "tertiary-dark" : "primary-dark"),
         (reusableLaneOptions.start = startTime),
         (reusableLaneOptions.end = endTime),
         performance.measure(
           (lanes & 536870912) === lanes
             ? "Prepared"
-            : (lanes & 201326741) === lanes
+            : (lanes & 201326677) === lanes
               ? "Hydrated"
               : "Render",
           reusableLaneOptions
@@ -4239,7 +4212,7 @@
     function logSuspendedRenderPhase(startTime, endTime, lanes) {
       supportsUserTiming &&
         ((reusableLaneDevToolDetails.color =
-          (lanes & 738197653) === lanes ? "tertiary-dark" : "primary-dark"),
+          (lanes & 738197589) === lanes ? "tertiary-dark" : "primary-dark"),
         (reusableLaneOptions.start = startTime),
         (reusableLaneOptions.end = endTime),
         performance.measure("Prewarm", reusableLaneOptions));
@@ -4247,7 +4220,7 @@
     function logSuspendedWithDelayPhase(startTime, endTime, lanes) {
       supportsUserTiming &&
         ((reusableLaneDevToolDetails.color =
-          (lanes & 738197653) === lanes ? "tertiary-dark" : "primary-dark"),
+          (lanes & 738197589) === lanes ? "tertiary-dark" : "primary-dark"),
         (reusableLaneOptions.start = startTime),
         (reusableLaneOptions.end = endTime),
         performance.measure("Suspended", reusableLaneOptions));
@@ -4667,7 +4640,7 @@
     }
     function entangleTransitions(root, fiber, lane) {
       fiber = fiber.updateQueue;
-      if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194048))) {
+      if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194176))) {
         var queueLanes = fiber.lanes;
         queueLanes &= root.pendingLanes;
         lane |= queueLanes;
@@ -5171,7 +5144,7 @@
               100 < thenableState.shellSuspendCounter
             )
               throw Error(
-                "An unknown Component is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server."
+                "async/await is not yet supported in Client Components, only Server Components. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server."
               );
             thenableState = thenable;
             thenableState.status = "pending";
@@ -5262,76 +5235,6 @@
         ? null
         : { parent: CacheContext._currentValue, pool: cacheFromPool };
     }
-    function scheduleGesture(
-      root,
-      provider,
-      initialDirection,
-      rangePrevious,
-      rangeCurrent,
-      rangeNext
-    ) {
-      for (var prev = root.pendingGestures; null !== prev; ) {
-        if (prev.provider === provider) return prev.count++, prev;
-        var next = prev.next;
-        if (null === next) break;
-        prev = next;
-      }
-      var isFlippedDirection = rangePrevious > rangeNext;
-      next = subscribeToGestureDirection(
-        provider,
-        rangeCurrent,
-        function (direction) {
-          isFlippedDirection && (direction = !direction);
-          gesture.direction !== direction &&
-            ((gesture.direction = direction),
-            null === gesture.prev &&
-              root.pendingGestures !== gesture &&
-              ((direction = root.pendingGestures),
-              (gesture.next = direction),
-              null !== direction && (direction.prev = gesture),
-              (root.pendingGestures = gesture),
-              (root.pendingLanes |= 64),
-              ensureRootIsScheduled(root)));
-        }
-      );
-      var gesture = {
-        provider: provider,
-        count: 1,
-        direction: initialDirection,
-        rangePrevious: rangePrevious,
-        rangeCurrent: rangeCurrent,
-        rangeNext: rangeNext,
-        cancel: next,
-        running: null,
-        prev: prev,
-        next: null
-      };
-      null === prev ? (root.pendingGestures = gesture) : (prev.next = gesture);
-      ensureRootIsScheduled(root);
-      return gesture;
-    }
-    function deleteScheduledGesture(root, gesture) {
-      null === gesture.prev
-        ? (root.pendingGestures === gesture &&
-            ((root.pendingGestures = gesture.next),
-            null === root.pendingGestures && (root.pendingLanes &= -65)),
-          root.stoppingGestures === gesture &&
-            (root.stoppingGestures = gesture.next))
-        : ((gesture.prev.next = gesture.next),
-          null !== gesture.next && (gesture.next.prev = gesture.prev),
-          (gesture.prev = null),
-          (gesture.next = null));
-    }
-    function stopCompletedGestures(root) {
-      var gesture = root.stoppingGestures;
-      for (root.stoppingGestures = null; null !== gesture; )
-        null !== gesture.running &&
-          (gesture.running.skipTransition(), (gesture.running = null)),
-          (root = gesture.next),
-          (gesture.next = null),
-          (gesture.prev = null),
-          (gesture = root);
-    }
     function mountHookTypesDev() {
       var hookName = currentHookNameInDev;
       null === hookTypesDev
@@ -5441,10 +5344,7 @@
           didWarnAboutAsyncClientComponent.has(nextRenderLanes) ||
             (didWarnAboutAsyncClientComponent.add(nextRenderLanes),
             console.error(
-              "%s is an async Client Component. Only Server Components can be async at the moment. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.",
-              null === nextRenderLanes
-                ? "An unknown Component"
-                : "<" + nextRenderLanes + ">"
+              "async/await is not yet supported in Client Components, only Server Components. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server."
             ));
       workInProgress.memoizedState = null;
       workInProgress.updateQueue = null;
@@ -5929,7 +5829,7 @@
           throw Error(
             "Expected a work-in-progress root. This is a bug in React. Please file an issue."
           );
-        0 !== (workInProgressRootRenderLanes & 124) ||
+        0 !== (workInProgressRootRenderLanes & 60) ||
           pushStoreConsistencyCheck(fiber, getSnapshot, nextSnapshot);
       }
       hook.memoizedState = nextSnapshot;
@@ -6012,7 +5912,7 @@
             "Expected a work-in-progress root. This is a bug in React. Please file an issue."
           );
         isHydrating$jscomp$0 ||
-          0 !== (renderLanes & 124) ||
+          0 !== (renderLanes & 60) ||
           pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);
       }
       return getServerSnapshot;
@@ -6210,7 +6110,7 @@
           ),
           node.isTransition ||
             console.error(
-              "An async function with useActionState was called outside of a transition. This is likely not what you intended (for example, isPending will not update correctly). Either call the returned function inside startTransition, or pass it to an `action` or `formAction` prop."
+              "An async function was passed to useActionState, but it was dispatched outside of an action context. This is likely not what you intended. Either pass the dispatch function to an `action` prop, or dispatch manually inside `startTransition`"
             ))
         : onActionSuccess(actionQueue, node, returnValue);
     }
@@ -6391,14 +6291,8 @@
       currentStateHook.memoizedState = action;
       return [stateHook, dispatch, !1];
     }
-    function pushSimpleEffect(tag, inst, create, createDeps) {
-      tag = {
-        tag: tag,
-        create: create,
-        deps: createDeps,
-        inst: inst,
-        next: null
-      };
+    function pushSimpleEffect(tag, inst, create, deps) {
+      tag = { tag: tag, create: create, deps: deps, inst: inst, next: null };
       inst = currentlyRenderingFiber.updateQueue;
       null === inst &&
         ((inst = createFunctionComponentUpdateQueue()),
@@ -6406,9 +6300,9 @@
       create = inst.lastEffect;
       null === create
         ? (inst.lastEffect = tag.next = tag)
-        : ((createDeps = create.next),
+        : ((deps = create.next),
           (create.next = tag),
-          (tag.next = createDeps),
+          (tag.next = deps),
           (inst.lastEffect = tag));
       return tag;
     }
@@ -6420,15 +6314,15 @@
       initialValue = { current: initialValue };
       return (hook.memoizedState = initialValue);
     }
-    function mountEffectImpl(fiberFlags, hookFlags, create, createDeps) {
+    function mountEffectImpl(fiberFlags, hookFlags, create, deps) {
       var hook = mountWorkInProgressHook();
-      createDeps = void 0 === createDeps ? null : createDeps;
+      deps = void 0 === deps ? null : deps;
       currentlyRenderingFiber.flags |= fiberFlags;
       hook.memoizedState = pushSimpleEffect(
         HasEffect | hookFlags,
         createEffectInstance(),
         create,
-        createDeps
+        deps
       );
     }
     function updateEffectImpl(fiberFlags, hookFlags, create, deps) {
@@ -6447,11 +6341,11 @@
             deps
           )));
     }
-    function mountEffect(create, createDeps) {
+    function mountEffect(create, deps) {
       (currentlyRenderingFiber.mode & StrictEffectsMode) !== NoMode &&
       (currentlyRenderingFiber.mode & NoStrictPassiveEffectsMode) === NoMode
-        ? mountEffectImpl(276826112, Passive, create, createDeps)
-        : mountEffectImpl(8390656, Passive, create, createDeps);
+        ? mountEffectImpl(276826112, Passive, create, deps)
+        : mountEffectImpl(8390656, Passive, create, deps);
     }
     function useEffectEventImpl(payload) {
       currentlyRenderingFiber.flags |= 4;
@@ -6817,14 +6711,14 @@
         identifierPrefix = workInProgressRoot.identifierPrefix;
       if (isHydrating) {
         var treeId = getTreeId();
-        identifierPrefix = "\u00ab" + identifierPrefix + "R" + treeId;
+        identifierPrefix = ":" + identifierPrefix + "R" + treeId;
         treeId = localIdCounter++;
         0 < treeId && (identifierPrefix += "H" + treeId.toString(32));
-        identifierPrefix += "\u00bb";
+        identifierPrefix += ":";
       } else
         (treeId = globalClientIdCounter$1++),
           (identifierPrefix =
-            "\u00ab" + identifierPrefix + "r" + treeId.toString(32) + "\u00bb");
+            ":" + identifierPrefix + "r" + treeId.toString(32) + ":");
       return (hook.memoizedState = identifierPrefix);
     }
     function mountRefresh() {
@@ -6986,7 +6880,7 @@
       queue.pending = update;
     }
     function entangleTransitionUpdate(root, queue, lane) {
-      if (0 !== (lane & 4194048)) {
+      if (0 !== (lane & 4194176)) {
         var queueLanes = queue.lanes;
         queueLanes &= root.pendingLanes;
         lane |= queueLanes;
@@ -6994,115 +6888,6 @@
         markRootEntangled(root, lane);
       }
     }
-    function startGesture(fiber, queue, gestureProvider, gestureOptions) {
-      var root = enqueueGestureRender(fiber);
-      if (null === root) return function () {};
-      fiber = getCurrentGestureOffset(gestureProvider);
-      var range = gestureOptions && gestureOptions.range,
-        rangePrevious = range ? range[0] : 0,
-        rangeCurrent = range ? range[1] : fiber;
-      range = range ? range[2] : 100;
-      ((rangePrevious > rangeCurrent && range > rangeCurrent) ||
-        (rangePrevious < rangeCurrent && range < rangeCurrent)) &&
-        console.error(
-          'The range of a gesture needs "previous" and "next" to be on either side of the "current" offset. Both cannot be above current and both cannot be below current.'
-        );
-      var isFlippedDirection = rangePrevious > range,
-        update = {
-          gesture: scheduleGesture(
-            root,
-            gestureProvider,
-            fiber < rangeCurrent
-              ? isFlippedDirection
-              : fiber > rangeCurrent
-                ? !isFlippedDirection
-                : gestureOptions && "next" === gestureOptions.direction
-                  ? !0
-                  : gestureOptions && "previous" === gestureOptions.direction
-                    ? !1
-                    : queue.initialDirection,
-            rangePrevious,
-            rangeCurrent,
-            range
-          ),
-          prev: null,
-          next: queue.pending
-        };
-      null !== queue.pending && (queue.pending.prev = update);
-      queue.pending = update;
-      return function () {
-        if (null === update.prev)
-          if (queue.pending === update) queue.pending = update.next;
-          else return;
-        else
-          (update.prev.next = update.next),
-            null !== update.next && (update.next.prev = update.prev),
-            (update.prev = null),
-            (update.next = null);
-        var gesture = update.gesture;
-        gesture.count--;
-        if (0 === gesture.count) {
-          var cancelDirectionSubscription = gesture.cancel;
-          cancelDirectionSubscription();
-          deleteScheduledGesture(root, gesture);
-          cancelDirectionSubscription = gesture.running;
-          if (null !== cancelDirectionSubscription) {
-            var pendingLanesExcludingGestureLane = root.pendingLanes & -65;
-            0 !== (pendingLanesExcludingGestureLane & 124) ||
-            0 !== (pendingLanesExcludingGestureLane & 4194048)
-              ? ((cancelDirectionSubscription = root.stoppingGestures),
-                null !== cancelDirectionSubscription &&
-                  ((gesture.next = cancelDirectionSubscription),
-                  (cancelDirectionSubscription.prev = gesture)),
-                (root.stoppingGestures = gesture))
-              : ((gesture.running = null),
-                cancelDirectionSubscription.skipTransition());
-          }
-        }
-      };
-    }
-    function mountSwipeTransition(previous, current) {
-      previous = {
-        pending: null,
-        dispatch: null,
-        initialDirection: previous === current
-      };
-      var startGestureOnHook = (previous.dispatch = startGesture.bind(
-        null,
-        currentlyRenderingFiber,
-        previous
-      ));
-      mountWorkInProgressHook().queue = previous;
-      return [current, startGestureOnHook];
-    }
-    function updateSwipeTransition(previous, current, next) {
-      var queue = updateWorkInProgressHook().queue,
-        startGestureOnHook = queue.dispatch,
-        rootRenderLanes = workInProgressRootRenderLanes,
-        value = current;
-      if (null !== queue.pending) {
-        if (64 === rootRenderLanes) {
-          rootRenderLanes = workInProgressRoot;
-          if (null === rootRenderLanes)
-            throw Error(
-              "Expected a work-in-progress root. This is a bug in React. Please file an issue."
-            );
-          rootRenderLanes = rootRenderLanes.pendingGestures;
-          if (null !== rootRenderLanes)
-            for (var update = queue.pending; null !== update; ) {
-              if (rootRenderLanes === update.gesture) {
-                value = rootRenderLanes.direction ? next : previous;
-                break;
-              }
-              update = update.next;
-            }
-          didReceiveUpdate = !0;
-        }
-        currentlyRenderingFiber.lanes |= 64;
-      }
-      queue.initialDirection = previous === current;
-      return [value, startGestureOnHook];
-    }
     function pushDebugInfo(debugInfo) {
       var previousDebugInfo = currentDebugInfo;
       null != debugInfo &&
@@ -8977,7 +8762,7 @@
       return workInProgress.child;
     }
     function updateClassComponent(
-      current,
+      current$jscomp$0,
       workInProgress,
       Component,
       nextProps,
@@ -9293,7 +9078,7 @@
         (workInProgress.mode & StrictEffectsMode) !== NoMode &&
           (workInProgress.flags |= 134217728);
         _instance = !0;
-      } else if (null === current) {
+      } else if (null === current$jscomp$0) {
         _instance = workInProgress.stateNode;
         var unresolvedOldProps = workInProgress.memoizedProps;
         lane = resolveClassComponentProps(Component, unresolvedOldProps);
@@ -9373,7 +9158,7 @@
             (_instance = !1));
       } else {
         _instance = workInProgress.stateNode;
-        cloneUpdateQueue(current, workInProgress);
+        cloneUpdateQueue(current$jscomp$0, workInProgress);
         state = workInProgress.memoizedProps;
         foundWillUpdateName = resolveClassComponentProps(Component, state);
         _instance.props = foundWillUpdateName;
@@ -9406,9 +9191,9 @@
         state !== newApiName ||
         oldState !== newState ||
         hasForceUpdate ||
-        (null !== current &&
-          null !== current.dependencies &&
-          checkIfContextChanged(current.dependencies))
+        (null !== current$jscomp$0 &&
+          null !== current$jscomp$0.dependencies &&
+          checkIfContextChanged(current$jscomp$0.dependencies))
           ? ("function" === typeof unresolvedOldProps &&
               (applyDerivedStateFromProps(
                 workInProgress,
@@ -9428,9 +9213,9 @@
                 newState,
                 lane
               ) ||
-              (null !== current &&
-                null !== current.dependencies &&
-                checkIfContextChanged(current.dependencies)))
+              (null !== current$jscomp$0 &&
+                null !== current$jscomp$0.dependencies &&
+                checkIfContextChanged(current$jscomp$0.dependencies)))
               ? (oldContext ||
                   ("function" !== typeof _instance.UNSAFE_componentWillUpdate &&
                     "function" !== typeof _instance.componentWillUpdate) ||
@@ -9447,12 +9232,12 @@
                 "function" === typeof _instance.getSnapshotBeforeUpdate &&
                   (workInProgress.flags |= 1024))
               : ("function" !== typeof _instance.componentDidUpdate ||
-                  (state === current.memoizedProps &&
-                    oldState === current.memoizedState) ||
+                  (state === current$jscomp$0.memoizedProps &&
+                    oldState === current$jscomp$0.memoizedState) ||
                   (workInProgress.flags |= 4),
                 "function" !== typeof _instance.getSnapshotBeforeUpdate ||
-                  (state === current.memoizedProps &&
-                    oldState === current.memoizedState) ||
+                  (state === current$jscomp$0.memoizedProps &&
+                    oldState === current$jscomp$0.memoizedState) ||
                   (workInProgress.flags |= 1024),
                 (workInProgress.memoizedProps = nextProps),
                 (workInProgress.memoizedState = newState)),
@@ -9461,21 +9246,24 @@
             (_instance.context = lane),
             (_instance = foundWillUpdateName))
           : ("function" !== typeof _instance.componentDidUpdate ||
-              (state === current.memoizedProps &&
-                oldState === current.memoizedState) ||
+              (state === current$jscomp$0.memoizedProps &&
+                oldState === current$jscomp$0.memoizedState) ||
               (workInProgress.flags |= 4),
             "function" !== typeof _instance.getSnapshotBeforeUpdate ||
-              (state === current.memoizedProps &&
-                oldState === current.memoizedState) ||
+              (state === current$jscomp$0.memoizedProps &&
+                oldState === current$jscomp$0.memoizedState) ||
               (workInProgress.flags |= 1024),
             (_instance = !1));
       }
       lane = _instance;
-      markRef(current, workInProgress);
+      markRef(current$jscomp$0, workInProgress);
       state = 0 !== (workInProgress.flags & 128);
       if (lane || state) {
         lane = workInProgress.stateNode;
-        setCurrentFiber(workInProgress);
+        ReactSharedInternals.getCurrentStack =
+          null === workInProgress ? null : getCurrentFiberStackInDev;
+        isRendering = !1;
+        current = workInProgress;
         if (state && "function" !== typeof Component.getDerivedStateFromError)
           (Component = null), (profilerStartTime = -1);
         else if (
@@ -9490,10 +9278,10 @@
           }
         }
         workInProgress.flags |= 1;
-        null !== current && state
+        null !== current$jscomp$0 && state
           ? ((workInProgress.child = reconcileChildFibers(
               workInProgress,
-              current.child,
+              current$jscomp$0.child,
               null,
               renderLanes
             )),
@@ -9503,12 +9291,17 @@
               Component,
               renderLanes
             )))
-          : reconcileChildren(current, workInProgress, Component, renderLanes);
+          : reconcileChildren(
+              current$jscomp$0,
+              workInProgress,
+              Component,
+              renderLanes
+            );
         workInProgress.memoizedState = lane.state;
-        current = workInProgress.child;
+        current$jscomp$0 = workInProgress.child;
       } else
-        current = bailoutOnAlreadyFinishedWork(
-          current,
+        current$jscomp$0 = bailoutOnAlreadyFinishedWork(
+          current$jscomp$0,
           workInProgress,
           renderLanes
         );
@@ -9521,7 +9314,7 @@
             getComponentNameFromFiber(workInProgress) || "a component"
           ),
         (didWarnAboutReassigningProps = !0));
-      return current;
+      return current$jscomp$0;
     }
     function mountHostRootWithoutHydrating(
       current,
@@ -9573,33 +9366,33 @@
       return current;
     }
     function updateSuspenseComponent(current, workInProgress, renderLanes) {
-      var JSCompiler_object_inline_componentStack_2659;
-      var JSCompiler_object_inline_stack_2658 = workInProgress.pendingProps;
+      var JSCompiler_object_inline_componentStack_2586;
+      var JSCompiler_object_inline_stack_2585 = workInProgress.pendingProps;
       shouldSuspendImpl(workInProgress) && (workInProgress.flags |= 128);
-      var JSCompiler_object_inline_message_2656 = !1;
+      var JSCompiler_object_inline_message_2583 = !1;
       var didSuspend = 0 !== (workInProgress.flags & 128);
-      (JSCompiler_object_inline_componentStack_2659 = didSuspend) ||
-        (JSCompiler_object_inline_componentStack_2659 =
+      (JSCompiler_object_inline_componentStack_2586 = didSuspend) ||
+        (JSCompiler_object_inline_componentStack_2586 =
           null !== current && null === current.memoizedState
             ? !1
             : 0 !== (suspenseStackCursor.current & ForceSuspenseFallback));
-      JSCompiler_object_inline_componentStack_2659 &&
-        ((JSCompiler_object_inline_message_2656 = !0),
+      JSCompiler_object_inline_componentStack_2586 &&
+        ((JSCompiler_object_inline_message_2583 = !0),
         (workInProgress.flags &= -129));
-      JSCompiler_object_inline_componentStack_2659 =
+      JSCompiler_object_inline_componentStack_2586 =
         0 !== (workInProgress.flags & 32);
       workInProgress.flags &= -33;
       if (null === current) {
         if (isHydrating) {
-          JSCompiler_object_inline_message_2656
+          JSCompiler_object_inline_message_2583
             ? pushPrimaryTreeSuspenseHandler(workInProgress)
             : reuseSuspenseHandlerOnStack(workInProgress);
           if (isHydrating) {
-            var JSCompiler_object_inline_digest_2657 = nextHydratableInstance;
+            var JSCompiler_object_inline_digest_2584 = nextHydratableInstance;
             var JSCompiler_temp;
-            if (!(JSCompiler_temp = !JSCompiler_object_inline_digest_2657)) {
+            if (!(JSCompiler_temp = !JSCompiler_object_inline_digest_2584)) {
               c: {
-                var instance = JSCompiler_object_inline_digest_2657;
+                var instance = JSCompiler_object_inline_digest_2584;
                 for (
                   JSCompiler_temp = rootOrSingletonContext;
                   8 !== instance.nodeType;
@@ -9641,87 +9434,87 @@
             JSCompiler_temp &&
               (warnNonHydratedInstance(
                 workInProgress,
-                JSCompiler_object_inline_digest_2657
+                JSCompiler_object_inline_digest_2584
               ),
               throwOnHydrationMismatch(workInProgress));
           }
-          JSCompiler_object_inline_digest_2657 = workInProgress.memoizedState;
+          JSCompiler_object_inline_digest_2584 = workInProgress.memoizedState;
           if (
-            null !== JSCompiler_object_inline_digest_2657 &&
-            ((JSCompiler_object_inline_digest_2657 =
-              JSCompiler_object_inline_digest_2657.dehydrated),
-            null !== JSCompiler_object_inline_digest_2657)
+            null !== JSCompiler_object_inline_digest_2584 &&
+            ((JSCompiler_object_inline_digest_2584 =
+              JSCompiler_object_inline_digest_2584.dehydrated),
+            null !== JSCompiler_object_inline_digest_2584)
           )
             return (
-              isSuspenseInstanceFallback(JSCompiler_object_inline_digest_2657)
+              isSuspenseInstanceFallback(JSCompiler_object_inline_digest_2584)
                 ? (workInProgress.lanes = 32)
                 : (workInProgress.lanes = 536870912),
               null
             );
           popSuspenseHandler(workInProgress);
         }
-        JSCompiler_object_inline_digest_2657 =
-          JSCompiler_object_inline_stack_2658.children;
-        JSCompiler_temp = JSCompiler_object_inline_stack_2658.fallback;
-        if (JSCompiler_object_inline_message_2656)
+        JSCompiler_object_inline_digest_2584 =
+          JSCompiler_object_inline_stack_2585.children;
+        JSCompiler_temp = JSCompiler_object_inline_stack_2585.fallback;
+        if (JSCompiler_object_inline_message_2583)
           return (
             reuseSuspenseHandlerOnStack(workInProgress),
-            (JSCompiler_object_inline_stack_2658 =
+            (JSCompiler_object_inline_stack_2585 =
               mountSuspenseFallbackChildren(
                 workInProgress,
-                JSCompiler_object_inline_digest_2657,
+                JSCompiler_object_inline_digest_2584,
                 JSCompiler_temp,
                 renderLanes
               )),
-            (JSCompiler_object_inline_message_2656 = workInProgress.child),
-            (JSCompiler_object_inline_message_2656.memoizedState =
+            (JSCompiler_object_inline_message_2583 = workInProgress.child),
+            (JSCompiler_object_inline_message_2583.memoizedState =
               mountSuspenseOffscreenState(renderLanes)),
-            (JSCompiler_object_inline_message_2656.childLanes =
+            (JSCompiler_object_inline_message_2583.childLanes =
               getRemainingWorkInPrimaryTree(
                 current,
-                JSCompiler_object_inline_componentStack_2659,
+                JSCompiler_object_inline_componentStack_2586,
                 renderLanes
               )),
             (workInProgress.memoizedState = SUSPENDED_MARKER),
-            JSCompiler_object_inline_stack_2658
+            JSCompiler_object_inline_stack_2585
           );
         if (
           "number" ===
-          typeof JSCompiler_object_inline_stack_2658.unstable_expectedLoadTime
+          typeof JSCompiler_object_inline_stack_2585.unstable_expectedLoadTime
         )
           return (
             reuseSuspenseHandlerOnStack(workInProgress),
-            (JSCompiler_object_inline_stack_2658 =
+            (JSCompiler_object_inline_stack_2585 =
               mountSuspenseFallbackChildren(
                 workInProgress,
-                JSCompiler_object_inline_digest_2657,
+                JSCompiler_object_inline_digest_2584,
                 JSCompiler_temp,
                 renderLanes
               )),
-            (JSCompiler_object_inline_message_2656 = workInProgress.child),
-            (JSCompiler_object_inline_message_2656.memoizedState =
+            (JSCompiler_object_inline_message_2583 = workInProgress.child),
+            (JSCompiler_object_inline_message_2583.memoizedState =
               mountSuspenseOffscreenState(renderLanes)),
-            (JSCompiler_object_inline_message_2656.childLanes =
+            (JSCompiler_object_inline_message_2583.childLanes =
               getRemainingWorkInPrimaryTree(
                 current,
-                JSCompiler_object_inline_componentStack_2659,
+                JSCompiler_object_inline_componentStack_2586,
                 renderLanes
               )),
             (workInProgress.memoizedState = SUSPENDED_MARKER),
             (workInProgress.lanes = 4194304),
-            JSCompiler_object_inline_stack_2658
+            JSCompiler_object_inline_stack_2585
           );
         pushPrimaryTreeSuspenseHandler(workInProgress);
         return mountSuspensePrimaryChildren(
           workInProgress,
-          JSCompiler_object_inline_digest_2657
+          JSCompiler_object_inline_digest_2584
         );
       }
       var prevState = current.memoizedState;
       if (
         null !== prevState &&
-        ((JSCompiler_object_inline_digest_2657 = prevState.dehydrated),
-        null !== JSCompiler_object_inline_digest_2657)
+        ((JSCompiler_object_inline_digest_2584 = prevState.dehydrated),
+        null !== JSCompiler_object_inline_digest_2584)
       ) {
         if (didSuspend)
           workInProgress.flags & 256
@@ -9738,94 +9531,94 @@
                 (workInProgress.flags |= 128),
                 (workInProgress = null))
               : (reuseSuspenseHandlerOnStack(workInProgress),
-                (JSCompiler_object_inline_message_2656 =
-                  JSCompiler_object_inline_stack_2658.fallback),
-                (JSCompiler_object_inline_digest_2657 = workInProgress.mode),
-                (JSCompiler_object_inline_stack_2658 =
+                (JSCompiler_object_inline_message_2583 =
+                  JSCompiler_object_inline_stack_2585.fallback),
+                (JSCompiler_object_inline_digest_2584 = workInProgress.mode),
+                (JSCompiler_object_inline_stack_2585 =
                   mountWorkInProgressOffscreenFiber(
                     {
                       mode: "visible",
-                      children: JSCompiler_object_inline_stack_2658.children
+                      children: JSCompiler_object_inline_stack_2585.children
                     },
-                    JSCompiler_object_inline_digest_2657
+                    JSCompiler_object_inline_digest_2584
                   )),
-                (JSCompiler_object_inline_message_2656 =
+                (JSCompiler_object_inline_message_2583 =
                   createFiberFromFragment(
-                    JSCompiler_object_inline_message_2656,
-                    JSCompiler_object_inline_digest_2657,
+                    JSCompiler_object_inline_message_2583,
+                    JSCompiler_object_inline_digest_2584,
                     renderLanes,
                     null
                   )),
-                (JSCompiler_object_inline_message_2656.flags |= 2),
-                (JSCompiler_object_inline_stack_2658.return = workInProgress),
-                (JSCompiler_object_inline_message_2656.return = workInProgress),
-                (JSCompiler_object_inline_stack_2658.sibling =
-                  JSCompiler_object_inline_message_2656),
-                (workInProgress.child = JSCompiler_object_inline_stack_2658),
+                (JSCompiler_object_inline_message_2583.flags |= 2),
+                (JSCompiler_object_inline_stack_2585.return = workInProgress),
+                (JSCompiler_object_inline_message_2583.return = workInProgress),
+                (JSCompiler_object_inline_stack_2585.sibling =
+                  JSCompiler_object_inline_message_2583),
+                (workInProgress.child = JSCompiler_object_inline_stack_2585),
                 reconcileChildFibers(
                   workInProgress,
                   current.child,
                   null,
                   renderLanes
                 ),
-                (JSCompiler_object_inline_stack_2658 = workInProgress.child),
-                (JSCompiler_object_inline_stack_2658.memoizedState =
+                (JSCompiler_object_inline_stack_2585 = workInProgress.child),
+                (JSCompiler_object_inline_stack_2585.memoizedState =
                   mountSuspenseOffscreenState(renderLanes)),
-                (JSCompiler_object_inline_stack_2658.childLanes =
+                (JSCompiler_object_inline_stack_2585.childLanes =
                   getRemainingWorkInPrimaryTree(
                     current,
-                    JSCompiler_object_inline_componentStack_2659,
+                    JSCompiler_object_inline_componentStack_2586,
                     renderLanes
                   )),
                 (workInProgress.memoizedState = SUSPENDED_MARKER),
-                (workInProgress = JSCompiler_object_inline_message_2656));
+                (workInProgress = JSCompiler_object_inline_message_2583));
         else if (
           (pushPrimaryTreeSuspenseHandler(workInProgress),
           isHydrating &&
             console.error(
               "We should not be hydrating here. This is a bug in React. Please file a bug."
             ),
-          isSuspenseInstanceFallback(JSCompiler_object_inline_digest_2657))
+          isSuspenseInstanceFallback(JSCompiler_object_inline_digest_2584))
         ) {
-          JSCompiler_object_inline_componentStack_2659 =
-            JSCompiler_object_inline_digest_2657.nextSibling &&
-            JSCompiler_object_inline_digest_2657.nextSibling.dataset;
-          if (JSCompiler_object_inline_componentStack_2659) {
-            JSCompiler_temp = JSCompiler_object_inline_componentStack_2659.dgst;
-            var message = JSCompiler_object_inline_componentStack_2659.msg;
-            instance = JSCompiler_object_inline_componentStack_2659.stck;
+          JSCompiler_object_inline_componentStack_2586 =
+            JSCompiler_object_inline_digest_2584.nextSibling &&
+            JSCompiler_object_inline_digest_2584.nextSibling.dataset;
+          if (JSCompiler_object_inline_componentStack_2586) {
+            JSCompiler_temp = JSCompiler_object_inline_componentStack_2586.dgst;
+            var message = JSCompiler_object_inline_componentStack_2586.msg;
+            instance = JSCompiler_object_inline_componentStack_2586.stck;
             var componentStack =
-              JSCompiler_object_inline_componentStack_2659.cstck;
+              JSCompiler_object_inline_componentStack_2586.cstck;
           }
-          JSCompiler_object_inline_message_2656 = message;
-          JSCompiler_object_inline_digest_2657 = JSCompiler_temp;
-          JSCompiler_object_inline_stack_2658 = instance;
-          JSCompiler_temp = JSCompiler_object_inline_componentStack_2659 =
+          JSCompiler_object_inline_message_2583 = message;
+          JSCompiler_object_inline_digest_2584 = JSCompiler_temp;
+          JSCompiler_object_inline_stack_2585 = instance;
+          JSCompiler_temp = JSCompiler_object_inline_componentStack_2586 =
             componentStack;
-          "POSTPONE" !== JSCompiler_object_inline_digest_2657 &&
-            ((JSCompiler_object_inline_componentStack_2659 =
-              JSCompiler_object_inline_message_2656
-                ? Error(JSCompiler_object_inline_message_2656)
+          "POSTPONE" !== JSCompiler_object_inline_digest_2584 &&
+            ((JSCompiler_object_inline_componentStack_2586 =
+              JSCompiler_object_inline_message_2583
+                ? Error(JSCompiler_object_inline_message_2583)
                 : Error(
                     "The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."
                   )),
-            (JSCompiler_object_inline_componentStack_2659.stack =
-              JSCompiler_object_inline_stack_2658 || ""),
-            (JSCompiler_object_inline_componentStack_2659.digest =
-              JSCompiler_object_inline_digest_2657),
-            (JSCompiler_object_inline_stack_2658 =
+            (JSCompiler_object_inline_componentStack_2586.stack =
+              JSCompiler_object_inline_stack_2585 || ""),
+            (JSCompiler_object_inline_componentStack_2586.digest =
+              JSCompiler_object_inline_digest_2584),
+            (JSCompiler_object_inline_stack_2585 =
               void 0 === JSCompiler_temp ? null : JSCompiler_temp),
-            (JSCompiler_object_inline_message_2656 = {
-              value: JSCompiler_object_inline_componentStack_2659,
+            (JSCompiler_object_inline_message_2583 = {
+              value: JSCompiler_object_inline_componentStack_2586,
               source: null,
-              stack: JSCompiler_object_inline_stack_2658
+              stack: JSCompiler_object_inline_stack_2585
             }),
-            "string" === typeof JSCompiler_object_inline_stack_2658 &&
+            "string" === typeof JSCompiler_object_inline_stack_2585 &&
               CapturedStacks.set(
-                JSCompiler_object_inline_componentStack_2659,
-                JSCompiler_object_inline_message_2656
+                JSCompiler_object_inline_componentStack_2586,
+                JSCompiler_object_inline_message_2583
               ),
-            queueHydrationError(JSCompiler_object_inline_message_2656));
+            queueHydrationError(JSCompiler_object_inline_message_2583));
           workInProgress = retrySuspenseComponentWithoutHydrating(
             current,
             workInProgress,
@@ -9839,44 +9632,44 @@
               renderLanes,
               !1
             ),
-          (JSCompiler_object_inline_componentStack_2659 =
+          (JSCompiler_object_inline_componentStack_2586 =
             0 !== (renderLanes & current.childLanes)),
-          didReceiveUpdate || JSCompiler_object_inline_componentStack_2659)
+          didReceiveUpdate || JSCompiler_object_inline_componentStack_2586)
         ) {
-          JSCompiler_object_inline_componentStack_2659 = workInProgressRoot;
+          JSCompiler_object_inline_componentStack_2586 = workInProgressRoot;
           if (
-            null !== JSCompiler_object_inline_componentStack_2659 &&
-            ((JSCompiler_object_inline_stack_2658 = renderLanes & -renderLanes),
-            (JSCompiler_object_inline_stack_2658 =
-              0 !== (JSCompiler_object_inline_stack_2658 & 42)
+            null !== JSCompiler_object_inline_componentStack_2586 &&
+            ((JSCompiler_object_inline_stack_2585 = renderLanes & -renderLanes),
+            (JSCompiler_object_inline_stack_2585 =
+              0 !== (JSCompiler_object_inline_stack_2585 & 42)
                 ? 1
                 : getBumpedLaneForHydrationByLane(
-                    JSCompiler_object_inline_stack_2658
+                    JSCompiler_object_inline_stack_2585
                   )),
-            (JSCompiler_object_inline_stack_2658 =
+            (JSCompiler_object_inline_stack_2585 =
               0 !==
-              (JSCompiler_object_inline_stack_2658 &
-                (JSCompiler_object_inline_componentStack_2659.suspendedLanes |
+              (JSCompiler_object_inline_stack_2585 &
+                (JSCompiler_object_inline_componentStack_2586.suspendedLanes |
                   renderLanes))
                 ? 0
-                : JSCompiler_object_inline_stack_2658),
-            0 !== JSCompiler_object_inline_stack_2658 &&
-              JSCompiler_object_inline_stack_2658 !== prevState.retryLane)
+                : JSCompiler_object_inline_stack_2585),
+            0 !== JSCompiler_object_inline_stack_2585 &&
+              JSCompiler_object_inline_stack_2585 !== prevState.retryLane)
           )
             throw (
-              ((prevState.retryLane = JSCompiler_object_inline_stack_2658),
+              ((prevState.retryLane = JSCompiler_object_inline_stack_2585),
               enqueueConcurrentRenderForLane(
                 current,
-                JSCompiler_object_inline_stack_2658
+                JSCompiler_object_inline_stack_2585
               ),
               scheduleUpdateOnFiber(
-                JSCompiler_object_inline_componentStack_2659,
+                JSCompiler_object_inline_componentStack_2586,
                 current,
-                JSCompiler_object_inline_stack_2658
+                JSCompiler_object_inline_stack_2585
               ),
               SelectiveHydrationException)
             );
-          JSCompiler_object_inline_digest_2657.data ===
+          JSCompiler_object_inline_digest_2584.data ===
             SUSPENSE_PENDING_START_DATA || renderDidSuspendDelayIfPossible();
           workInProgress = retrySuspenseComponentWithoutHydrating(
             current,
@@ -9884,14 +9677,14 @@
             renderLanes
           );
         } else
-          JSCompiler_object_inline_digest_2657.data ===
+          JSCompiler_object_inline_digest_2584.data ===
           SUSPENSE_PENDING_START_DATA
             ? ((workInProgress.flags |= 192),
               (workInProgress.child = current.child),
               (workInProgress = null))
             : ((current = prevState.treeContext),
               (nextHydratableInstance = getNextHydratable(
-                JSCompiler_object_inline_digest_2657.nextSibling
+                JSCompiler_object_inline_digest_2584.nextSibling
               )),
               (hydrationParentFiber = workInProgress),
               (isHydrating = !0),
@@ -9909,54 +9702,54 @@
                 (treeContextProvider = workInProgress)),
               (workInProgress = mountSuspensePrimaryChildren(
                 workInProgress,
-                JSCompiler_object_inline_stack_2658.children
+                JSCompiler_object_inline_stack_2585.children
               )),
               (workInProgress.flags |= 4096));
         return workInProgress;
       }
-      if (JSCompiler_object_inline_message_2656)
+      if (JSCompiler_object_inline_message_2583)
         return (
           reuseSuspenseHandlerOnStack(workInProgress),
-          (JSCompiler_object_inline_message_2656 =
-            JSCompiler_object_inline_stack_2658.fallback),
-          (JSCompiler_object_inline_digest_2657 = workInProgress.mode),
+          (JSCompiler_object_inline_message_2583 =
+            JSCompiler_object_inline_stack_2585.fallback),
+          (JSCompiler_object_inline_digest_2584 = workInProgress.mode),
           (JSCompiler_temp = current.child),
           (instance = JSCompiler_temp.sibling),
-          (JSCompiler_object_inline_stack_2658 = createWorkInProgress(
+          (JSCompiler_object_inline_stack_2585 = createWorkInProgress(
             JSCompiler_temp,
             {
               mode: "hidden",
-              children: JSCompiler_object_inline_stack_2658.children
+              children: JSCompiler_object_inline_stack_2585.children
             }
           )),
-          (JSCompiler_object_inline_stack_2658.subtreeFlags =
+          (JSCompiler_object_inline_stack_2585.subtreeFlags =
             JSCompiler_temp.subtreeFlags & 65011712),
           null !== instance
-            ? (JSCompiler_object_inline_message_2656 = createWorkInProgress(
+            ? (JSCompiler_object_inline_message_2583 = createWorkInProgress(
                 instance,
-                JSCompiler_object_inline_message_2656
+                JSCompiler_object_inline_message_2583
               ))
-            : ((JSCompiler_object_inline_message_2656 = createFiberFromFragment(
-                JSCompiler_object_inline_message_2656,
-                JSCompiler_object_inline_digest_2657,
+            : ((JSCompiler_object_inline_message_2583 = createFiberFromFragment(
+                JSCompiler_object_inline_message_2583,
+                JSCompiler_object_inline_digest_2584,
                 renderLanes,
                 null
               )),
-              (JSCompiler_object_inline_message_2656.flags |= 2)),
-          (JSCompiler_object_inline_message_2656.return = workInProgress),
-          (JSCompiler_object_inline_stack_2658.return = workInProgress),
-          (JSCompiler_object_inline_stack_2658.sibling =
-            JSCompiler_object_inline_message_2656),
-          (workInProgress.child = JSCompiler_object_inline_stack_2658),
-          (JSCompiler_object_inline_stack_2658 =
-            JSCompiler_object_inline_message_2656),
-          (JSCompiler_object_inline_message_2656 = workInProgress.child),
-          (JSCompiler_object_inline_digest_2657 = current.child.memoizedState),
-          null === JSCompiler_object_inline_digest_2657
-            ? (JSCompiler_object_inline_digest_2657 =
+              (JSCompiler_object_inline_message_2583.flags |= 2)),
+          (JSCompiler_object_inline_message_2583.return = workInProgress),
+          (JSCompiler_object_inline_stack_2585.return = workInProgress),
+          (JSCompiler_object_inline_stack_2585.sibling =
+            JSCompiler_object_inline_message_2583),
+          (workInProgress.child = JSCompiler_object_inline_stack_2585),
+          (JSCompiler_object_inline_stack_2585 =
+            JSCompiler_object_inline_message_2583),
+          (JSCompiler_object_inline_message_2583 = workInProgress.child),
+          (JSCompiler_object_inline_digest_2584 = current.child.memoizedState),
+          null === JSCompiler_object_inline_digest_2584
+            ? (JSCompiler_object_inline_digest_2584 =
                 mountSuspenseOffscreenState(renderLanes))
             : ((JSCompiler_temp =
-                JSCompiler_object_inline_digest_2657.cachePool),
+                JSCompiler_object_inline_digest_2584.cachePool),
               null !== JSCompiler_temp
                 ? ((instance = CacheContext._currentValue),
                   (JSCompiler_temp =
@@ -9964,38 +9757,38 @@
                       ? { parent: instance, pool: instance }
                       : JSCompiler_temp))
                 : (JSCompiler_temp = getSuspendedCache()),
-              (JSCompiler_object_inline_digest_2657 = {
+              (JSCompiler_object_inline_digest_2584 = {
                 baseLanes:
-                  JSCompiler_object_inline_digest_2657.baseLanes | renderLanes,
+                  JSCompiler_object_inline_digest_2584.baseLanes | renderLanes,
                 cachePool: JSCompiler_temp
               })),
-          (JSCompiler_object_inline_message_2656.memoizedState =
-            JSCompiler_object_inline_digest_2657),
-          (JSCompiler_object_inline_message_2656.childLanes =
+          (JSCompiler_object_inline_message_2583.memoizedState =
+            JSCompiler_object_inline_digest_2584),
+          (JSCompiler_object_inline_message_2583.childLanes =
             getRemainingWorkInPrimaryTree(
               current,
-              JSCompiler_object_inline_componentStack_2659,
+              JSCompiler_object_inline_componentStack_2586,
               renderLanes
             )),
           (workInProgress.memoizedState = SUSPENDED_MARKER),
-          JSCompiler_object_inline_stack_2658
+          JSCompiler_object_inline_stack_2585
         );
       pushPrimaryTreeSuspenseHandler(workInProgress);
       renderLanes = current.child;
       current = renderLanes.sibling;
       renderLanes = createWorkInProgress(renderLanes, {
         mode: "visible",
-        children: JSCompiler_object_inline_stack_2658.children
+        children: JSCompiler_object_inline_stack_2585.children
       });
       renderLanes.return = workInProgress;
       renderLanes.sibling = null;
       null !== current &&
-        ((JSCompiler_object_inline_componentStack_2659 =
+        ((JSCompiler_object_inline_componentStack_2586 =
           workInProgress.deletions),
-        null === JSCompiler_object_inline_componentStack_2659
+        null === JSCompiler_object_inline_componentStack_2586
           ? ((workInProgress.deletions = [current]),
             (workInProgress.flags |= 16))
-          : JSCompiler_object_inline_componentStack_2659.push(current));
+          : JSCompiler_object_inline_componentStack_2586.push(current));
       workInProgress.child = renderLanes;
       workInProgress.memoizedState = null;
       return renderLanes;
@@ -10560,10 +10353,10 @@
               current.$$typeof === REACT_LAZY_TYPE &&
               (workInProgress =
                 " Did you wrap a component in React.lazy() more than once?");
-            renderLanes = getComponentNameFromType(current) || current;
+            current = getComponentNameFromType(current) || current;
             throw Error(
               "Element type is invalid. Received a promise that resolves to: " +
-                renderLanes +
+                current +
                 ". Lazy element type must resolve to a class or function." +
                 workInProgress
             );
@@ -10602,15 +10395,15 @@
               throw Error(
                 "Should have a current fiber. This is a bug in React."
               );
-            returnFiber = workInProgress.pendingProps;
-            var prevState = workInProgress.memoizedState;
-            prevSibling = prevState.element;
+            var nextProps = workInProgress.pendingProps;
+            prevSibling = workInProgress.memoizedState;
+            returnFiber = prevSibling.element;
             cloneUpdateQueue(current, workInProgress);
-            processUpdateQueue(workInProgress, returnFiber, null, renderLanes);
+            processUpdateQueue(workInProgress, nextProps, null, renderLanes);
             var nextState = workInProgress.memoizedState;
-            returnFiber = nextState.cache;
-            pushProvider(workInProgress, CacheContext, returnFiber);
-            returnFiber !== prevState.cache &&
+            nextProps = nextState.cache;
+            pushProvider(workInProgress, CacheContext, nextProps);
+            nextProps !== prevSibling.cache &&
               propagateContextChanges(
                 workInProgress,
                 [CacheContext],
@@ -10618,72 +10411,66 @@
                 !0
               );
             suspendIfUpdateReadFromEntangledAsyncAction();
-            returnFiber = nextState.element;
-            if (prevState.isDehydrated)
+            nextProps = nextState.element;
+            if (prevSibling.isDehydrated)
               if (
-                ((prevState = {
-                  element: returnFiber,
+                ((prevSibling = {
+                  element: nextProps,
                   isDehydrated: !1,
                   cache: nextState.cache
                 }),
-                (workInProgress.updateQueue.baseState = prevState),
-                (workInProgress.memoizedState = prevState),
+                (workInProgress.updateQueue.baseState = prevSibling),
+                (workInProgress.memoizedState = prevSibling),
                 workInProgress.flags & 256)
               ) {
                 workInProgress = mountHostRootWithoutHydrating(
                   current,
                   workInProgress,
-                  returnFiber,
+                  nextProps,
                   renderLanes
                 );
                 break a;
-              } else if (returnFiber !== prevSibling) {
-                prevSibling = createCapturedValueAtFiber(
+              } else if (nextProps !== returnFiber) {
+                returnFiber = createCapturedValueAtFiber(
                   Error(
                     "This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."
                   ),
                   workInProgress
                 );
-                queueHydrationError(prevSibling);
+                queueHydrationError(returnFiber);
                 workInProgress = mountHostRootWithoutHydrating(
                   current,
                   workInProgress,
-                  returnFiber,
+                  nextProps,
                   renderLanes
                 );
                 break a;
-              } else {
-                current = workInProgress.stateNode.containerInfo;
-                switch (current.nodeType) {
-                  case 9:
-                    current = current.body;
-                    break;
-                  default:
-                    current =
-                      "HTML" === current.nodeName
-                        ? current.ownerDocument.body
-                        : current;
-                }
-                nextHydratableInstance = getNextHydratable(current.firstChild);
-                hydrationParentFiber = workInProgress;
-                isHydrating = !0;
-                hydrationErrors = null;
-                didSuspendOrErrorDEV = !1;
-                hydrationDiffRootDEV = null;
-                rootOrSingletonContext = !0;
-                renderLanes = mountChildFibers(
-                  workInProgress,
-                  null,
-                  returnFiber,
-                  renderLanes
-                );
-                for (workInProgress.child = renderLanes; renderLanes; )
-                  (renderLanes.flags = (renderLanes.flags & -3) | 4096),
-                    (renderLanes = renderLanes.sibling);
-              }
+              } else
+                for (
+                  nextHydratableInstance = getNextHydratable(
+                    workInProgress.stateNode.containerInfo.firstChild
+                  ),
+                    hydrationParentFiber = workInProgress,
+                    isHydrating = !0,
+                    hydrationErrors = null,
+                    didSuspendOrErrorDEV = !1,
+                    hydrationDiffRootDEV = null,
+                    rootOrSingletonContext = !0,
+                    current = mountChildFibers(
+                      workInProgress,
+                      null,
+                      nextProps,
+                      renderLanes
+                    ),
+                    workInProgress.child = current;
+                  current;
+
+                )
+                  (current.flags = (current.flags & -3) | 4096),
+                    (current = current.sibling);
             else {
               resetHydrationState();
-              if (returnFiber === prevSibling) {
+              if (nextProps === returnFiber) {
                 workInProgress = bailoutOnAlreadyFinishedWork(
                   current,
                   workInProgress,
@@ -10694,7 +10481,7 @@
               reconcileChildren(
                 current,
                 workInProgress,
-                returnFiber,
+                nextProps,
                 renderLanes
               );
             }
@@ -10705,26 +10492,26 @@
           return (
             markRef(current, workInProgress),
             null === current
-              ? (renderLanes = getResource(
+              ? (current = getResource(
                   workInProgress.type,
                   null,
                   workInProgress.pendingProps,
                   null
                 ))
-                ? (workInProgress.memoizedState = renderLanes)
+                ? (workInProgress.memoizedState = current)
                 : isHydrating ||
-                  ((renderLanes = workInProgress.type),
-                  (current = workInProgress.pendingProps),
+                  ((current = workInProgress.type),
+                  (renderLanes = workInProgress.pendingProps),
                   (returnFiber = requiredContext(
                     rootInstanceStackCursor.current
                   )),
                   (returnFiber =
                     getOwnerDocumentFromRootContainer(
                       returnFiber
-                    ).createElement(renderLanes)),
+                    ).createElement(current)),
                   (returnFiber[internalInstanceKey] = workInProgress),
-                  (returnFiber[internalPropsKey] = current),
-                  setInitialProperties(returnFiber, renderLanes, current),
+                  (returnFiber[internalPropsKey] = renderLanes),
+                  setInitialProperties(returnFiber, current, renderLanes),
                   markNodeAsHoistable(returnFiber),
                   (workInProgress.stateNode = returnFiber))
               : (workInProgress.memoizedState = getResource(
@@ -10740,53 +10527,56 @@
             pushHostContext(workInProgress),
             null === current &&
               isHydrating &&
-              ((returnFiber = requiredContext(rootInstanceStackCursor.current)),
-              (prevSibling = getHostContext()),
-              (returnFiber = workInProgress.stateNode =
+              ((prevSibling = requiredContext(rootInstanceStackCursor.current)),
+              (returnFiber = getHostContext()),
+              (prevSibling = workInProgress.stateNode =
                 resolveSingletonInstance(
                   workInProgress.type,
                   workInProgress.pendingProps,
-                  returnFiber,
                   prevSibling,
+                  returnFiber,
                   !1
                 )),
               didSuspendOrErrorDEV ||
-                ((prevSibling = diffHydratedProperties(
-                  returnFiber,
+                ((returnFiber = diffHydratedProperties(
+                  prevSibling,
                   workInProgress.type,
                   workInProgress.pendingProps,
-                  prevSibling
+                  returnFiber
                 )),
-                null !== prevSibling &&
+                null !== returnFiber &&
                   (buildHydrationDiffNode(workInProgress, 0).serverProps =
-                    prevSibling)),
+                    returnFiber)),
               (hydrationParentFiber = workInProgress),
               (rootOrSingletonContext = !0),
-              (prevSibling = nextHydratableInstance),
-              isSingletonScope(workInProgress.type)
-                ? ((previousHydratableOnEnteringScopedSingleton = prevSibling),
-                  (nextHydratableInstance = getNextHydratable(
-                    returnFiber.firstChild
-                  )))
-                : (nextHydratableInstance = prevSibling)),
-            reconcileChildren(
-              current,
-              workInProgress,
-              workInProgress.pendingProps.children,
-              renderLanes
-            ),
+              (nextHydratableInstance = getNextHydratable(
+                prevSibling.firstChild
+              ))),
+            (returnFiber = workInProgress.pendingProps.children),
+            null !== current || isHydrating
+              ? reconcileChildren(
+                  current,
+                  workInProgress,
+                  returnFiber,
+                  renderLanes
+                )
+              : (workInProgress.child = reconcileChildFibers(
+                  workInProgress,
+                  null,
+                  returnFiber,
+                  renderLanes
+                )),
             markRef(current, workInProgress),
-            null === current && (workInProgress.flags |= 4194304),
             workInProgress.child
           );
         case 5:
           return (
             null === current &&
               isHydrating &&
-              ((prevState = getHostContext()),
+              ((nextProps = getHostContext()),
               (returnFiber = validateDOMNesting(
                 workInProgress.type,
-                prevState.ancestorInfo
+                nextProps.ancestorInfo
               )),
               (prevSibling = nextHydratableInstance),
               (nextState = !prevSibling) ||
@@ -10799,33 +10589,33 @@
                 null !== nextState
                   ? ((workInProgress.stateNode = nextState),
                     didSuspendOrErrorDEV ||
-                      ((prevState = diffHydratedProperties(
+                      ((nextProps = diffHydratedProperties(
                         nextState,
                         workInProgress.type,
                         workInProgress.pendingProps,
-                        prevState
+                        nextProps
                       )),
-                      null !== prevState &&
+                      null !== nextProps &&
                         (buildHydrationDiffNode(workInProgress, 0).serverProps =
-                          prevState)),
+                          nextProps)),
                     (hydrationParentFiber = workInProgress),
                     (nextHydratableInstance = getNextHydratable(
                       nextState.firstChild
                     )),
                     (rootOrSingletonContext = !1),
-                    (prevState = !0))
-                  : (prevState = !1),
-                (nextState = !prevState)),
+                    (nextProps = !0))
+                  : (nextProps = !1),
+                (nextState = !nextProps)),
               nextState &&
                 (returnFiber &&
                   warnNonHydratedInstance(workInProgress, prevSibling),
                 throwOnHydrationMismatch(workInProgress))),
             pushHostContext(workInProgress),
             (prevSibling = workInProgress.type),
-            (prevState = workInProgress.pendingProps),
+            (nextProps = workInProgress.pendingProps),
             (nextState = null !== current ? current.memoizedProps : null),
-            (returnFiber = prevState.children),
-            shouldSetTextContent(prevSibling, prevState)
+            (returnFiber = nextProps.children),
+            shouldSetTextContent(prevSibling, nextProps)
               ? (returnFiber = null)
               : null !== nextState &&
                 shouldSetTextContent(prevSibling, nextState) &&
@@ -10853,21 +10643,16 @@
           return (
             null === current &&
               isHydrating &&
-              ((renderLanes = workInProgress.pendingProps),
-              (current = getHostContext()),
-              (returnFiber = current.ancestorInfo.current),
-              (renderLanes =
-                null != returnFiber
-                  ? validateTextNesting(
-                      renderLanes,
-                      returnFiber.tag,
-                      current.ancestorInfo.implicitRootScope
-                    )
+              ((current = workInProgress.pendingProps),
+              (renderLanes = getHostContext().ancestorInfo.current),
+              (current =
+                null != renderLanes
+                  ? validateTextNesting(current, renderLanes.tag)
                   : !0),
-              (current = nextHydratableInstance),
-              (returnFiber = !current) ||
+              (renderLanes = nextHydratableInstance),
+              (returnFiber = !renderLanes) ||
                 ((returnFiber = canHydrateTextInstance(
-                  current,
+                  renderLanes,
                   workInProgress.pendingProps,
                   rootOrSingletonContext
                 )),
@@ -10879,8 +10664,8 @@
                   : (returnFiber = !1),
                 (returnFiber = !returnFiber)),
               returnFiber &&
-                (renderLanes &&
-                  warnNonHydratedInstance(workInProgress, current),
+                (current &&
+                  warnNonHydratedInstance(workInProgress, renderLanes),
                 throwOnHydrationMismatch(workInProgress))),
             null
           );
@@ -10955,14 +10740,14 @@
           return (
             (returnFiber = workInProgress.type),
             (prevSibling = workInProgress.pendingProps),
-            (prevState = prevSibling.value),
+            (nextProps = prevSibling.value),
             "value" in prevSibling ||
               hasWarnedAboutUsingNoValuePropOnContextProvider ||
               ((hasWarnedAboutUsingNoValuePropOnContextProvider = !0),
               console.error(
                 "The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"
               )),
-            pushProvider(workInProgress, returnFiber, prevState),
+            pushProvider(workInProgress, returnFiber, nextProps),
             reconcileChildren(
               current,
               workInProgress,
@@ -11027,12 +10812,12 @@
               ? ((prevSibling = peekCacheFromPool()),
                 null === prevSibling &&
                   ((prevSibling = workInProgressRoot),
-                  (prevState = createCache()),
-                  (prevSibling.pooledCache = prevState),
-                  retainCache(prevState),
-                  null !== prevState &&
+                  (nextProps = createCache()),
+                  (prevSibling.pooledCache = nextProps),
+                  retainCache(nextProps),
+                  null !== nextProps &&
                     (prevSibling.pooledCacheLanes |= renderLanes),
-                  (prevSibling = prevState)),
+                  (prevSibling = nextProps)),
                 (workInProgress.memoizedState = {
                   parent: returnFiber,
                   cache: prevSibling
@@ -11044,7 +10829,7 @@
                   processUpdateQueue(workInProgress, null, null, renderLanes),
                   suspendIfUpdateReadFromEntangledAsyncAction()),
                 (prevSibling = current.memoizedState),
-                (prevState = workInProgress.memoizedState),
+                (nextProps = workInProgress.memoizedState),
                 prevSibling.parent !== returnFiber
                   ? ((prevSibling = {
                       parent: returnFiber,
@@ -11056,7 +10841,7 @@
                         workInProgress.updateQueue.baseState =
                           prevSibling),
                     pushProvider(workInProgress, CacheContext, returnFiber))
-                  : ((returnFiber = prevState.cache),
+                  : ((returnFiber = nextProps.cache),
                     pushProvider(workInProgress, CacheContext, returnFiber),
                     returnFiber !== prevSibling.cache &&
                       propagateContextChanges(
@@ -11078,21 +10863,23 @@
             (returnFiber = workInProgress.pendingProps),
             (prevSibling = workInProgress.stateNode),
             null != returnFiber.name && "auto" !== returnFiber.name
-              ? (workInProgress.flags |= null === current ? 18882560 : 18874368)
+              ? ((workInProgress.flags |= 2097152),
+                null === current &&
+                  trackAppearingViewTransition(prevSibling, returnFiber.name))
               : null === prevSibling.autoName &&
-                ((prevState = workInProgressRoot.identifierPrefix),
+                ((nextProps = workInProgressRoot.identifierPrefix),
                 isHydrating
                   ? ((nextState = getTreeId()),
-                    (prevState =
-                      "\u00ab" + prevState + "T" + nextState + "\u00bb"))
+                    (nextProps =
+                      "\u00ab" + nextProps + "T" + nextState + "\u00bb"))
                   : ((nextState = globalClientIdCounter++),
-                    (prevState =
+                    (nextProps =
                       "\u00ab" +
-                      prevState +
+                      nextProps +
                       "t" +
                       nextState.toString(32) +
                       "\u00bb")),
-                (prevSibling.autoName = prevState)),
+                (prevSibling.autoName = nextProps)),
             null !== current && current.memoizedProps.name !== returnFiber.name
               ? (workInProgress.flags |= 4194816)
               : markRef(current, workInProgress),
@@ -11221,11 +11008,10 @@
                 ((inst.destroy = void 0),
                 (flags & Insertion) !== NoFlags &&
                   (isRunningInsertionEffect = !0),
-                (lastEffect = finishedWork),
                 runWithFiberInDEV(
-                  lastEffect,
+                  finishedWork,
                   callDestroyInDEV,
-                  lastEffect,
+                  finishedWork,
                   nearestMountedAncestor,
                   destroy
                 ),
@@ -11538,7 +11324,7 @@
         5 === fiber.tag ||
         3 === fiber.tag ||
         26 === fiber.tag ||
-        (27 === fiber.tag && isSingletonScope(fiber.type)) ||
+        27 === fiber.tag ||
         4 === fiber.tag
       );
     }
@@ -11551,10 +11337,12 @@
         fiber.sibling.return = fiber.return;
         for (
           fiber = fiber.sibling;
-          5 !== fiber.tag && 6 !== fiber.tag && 18 !== fiber.tag;
+          5 !== fiber.tag &&
+          6 !== fiber.tag &&
+          27 !== fiber.tag &&
+          18 !== fiber.tag;
 
         ) {
-          if (27 === fiber.tag && isSingletonScope(fiber.type)) continue a;
           if (fiber.flags & 2) continue a;
           if (null === fiber.child || 4 === fiber.tag) continue a;
           else (fiber.child.return = fiber), (fiber = fiber.child);
@@ -11567,32 +11355,19 @@
       if (5 === tag || 6 === tag)
         (node = node.stateNode),
           before
-            ? (9 === parent.nodeType
-                ? parent.body
-                : "HTML" === parent.nodeName
-                  ? parent.ownerDocument.body
-                  : parent
-              ).insertBefore(node, before)
-            : ((before =
-                9 === parent.nodeType
-                  ? parent.body
-                  : "HTML" === parent.nodeName
-                    ? parent.ownerDocument.body
-                    : parent),
-              before.appendChild(node),
+            ? 8 === parent.nodeType
+              ? parent.parentNode.insertBefore(node, before)
+              : parent.insertBefore(node, before)
+            : (8 === parent.nodeType
+                ? ((before = parent.parentNode),
+                  before.insertBefore(node, parent))
+                : ((before = parent), before.appendChild(node)),
               (parent = parent._reactRootContainer),
               (null !== parent && void 0 !== parent) ||
                 null !== before.onclick ||
                 (before.onclick = noop$1)),
           (viewTransitionMutationContext = !0);
-      else if (
-        4 !== tag &&
-        (27 === tag &&
-          isSingletonScope(node.type) &&
-          ((parent = node.stateNode), (before = null)),
-        (node = node.child),
-        null !== node)
-      )
+      else if (4 !== tag && 27 !== tag && ((node = node.child), null !== node))
         for (
           insertOrAppendPlacementNodeIntoContainer(node, before, parent),
             node = node.sibling;
@@ -11608,12 +11383,7 @@
         (node = node.stateNode),
           before ? parent.insertBefore(node, before) : parent.appendChild(node),
           (viewTransitionMutationContext = !0);
-      else if (
-        4 !== tag &&
-        (27 === tag && isSingletonScope(node.type) && (parent = node.stateNode),
-        (node = node.child),
-        null !== node)
-      )
+      else if (4 !== tag && 27 !== tag && ((node = node.child), null !== node))
         for (
           insertOrAppendPlacementNode(node, before, parent),
             node = node.sibling;
@@ -11624,137 +11394,366 @@
             (node = node.sibling);
     }
     function commitPlacement(finishedWork) {
-      a: {
-        for (var parent = finishedWork.return; null !== parent; ) {
-          if (isHostParent(parent)) {
-            var parentFiber = parent;
-            break a;
+      if (27 !== finishedWork.tag) {
+        a: {
+          for (var parent = finishedWork.return; null !== parent; ) {
+            if (isHostParent(parent)) {
+              var parentFiber = parent;
+              break a;
+            }
+            parent = parent.return;
           }
-          parent = parent.return;
-        }
-        throw Error(
-          "Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue."
-        );
-      }
-      switch (parentFiber.tag) {
-        case 27:
-          parent = parentFiber.stateNode;
-          parentFiber = getHostSibling(finishedWork);
-          insertOrAppendPlacementNode(finishedWork, parentFiber, parent);
-          break;
-        case 5:
-          parent = parentFiber.stateNode;
-          parentFiber.flags & 32 &&
-            (resetTextContent(parent), (parentFiber.flags &= -33));
-          parentFiber = getHostSibling(finishedWork);
-          insertOrAppendPlacementNode(finishedWork, parentFiber, parent);
-          break;
-        case 3:
-        case 4:
-          parent = parentFiber.stateNode.containerInfo;
-          parentFiber = getHostSibling(finishedWork);
-          insertOrAppendPlacementNodeIntoContainer(
-            finishedWork,
-            parentFiber,
-            parent
-          );
-          break;
-        default:
           throw Error(
-            "Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue."
+            "Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue."
           );
-      }
-    }
-    function commitHostSingletonAcquisition(finishedWork) {
-      var singleton = finishedWork.stateNode,
-        props = finishedWork.memoizedProps;
-      try {
-        runWithFiberInDEV(
-          finishedWork,
-          acquireSingletonInstance,
-          finishedWork.type,
-          props,
-          singleton,
-          finishedWork
-        );
-      } catch (error) {
-        captureCommitPhaseError(finishedWork, finishedWork.return, error);
-      }
-    }
-    function applyViewTransitionToHostInstances(
-      child,
-      name,
-      className,
-      collectMeasurements,
-      stopAtNestedViewTransitions
-    ) {
-      for (var inViewport = !1; null !== child; ) {
-        if (5 === child.tag) {
-          shouldStartViewTransition = !0;
-          var instance = child.stateNode;
-          if (null !== collectMeasurements) {
-            var measurement = measureInstance(instance);
-            collectMeasurements.push(measurement);
-            measurement.view && (inViewport = !0);
-          } else
-            inViewport || (measureInstance(instance).view && (inViewport = !0));
-          measurement = className;
-          instance.style.viewTransitionName =
-            0 === viewTransitionHostInstanceIdx
-              ? name
-              : name + "_" + viewTransitionHostInstanceIdx;
-          null != measurement &&
-            (instance.style.viewTransitionClass = measurement);
-          viewTransitionHostInstanceIdx++;
-        } else if (22 !== child.tag || null === child.memoizedState)
-          (30 === child.tag && stopAtNestedViewTransitions) ||
-            (applyViewTransitionToHostInstances(
-              child.child,
-              name,
-              className,
-              collectMeasurements,
-              stopAtNestedViewTransitions
-            ) &&
-              (inViewport = !0));
-        child = child.sibling;
-      }
-      return inViewport;
-    }
-    function restoreViewTransitionOnHostInstances(
-      child,
-      stopAtNestedViewTransitions
-    ) {
-      for (; null !== child; ) {
-        if (5 === child.tag)
-          restoreViewTransitionName(child.stateNode, child.memoizedProps);
-        else if (22 !== child.tag || null === child.memoizedState)
-          (30 === child.tag && stopAtNestedViewTransitions) ||
-            restoreViewTransitionOnHostInstances(
-              child.child,
-              stopAtNestedViewTransitions
+        }
+        switch (parentFiber.tag) {
+          case 27:
+            parent = parentFiber.stateNode;
+            parentFiber = getHostSibling(finishedWork);
+            insertOrAppendPlacementNode(finishedWork, parentFiber, parent);
+            break;
+          case 5:
+            parent = parentFiber.stateNode;
+            parentFiber.flags & 32 &&
+              (resetTextContent(parent), (parentFiber.flags &= -33));
+            parentFiber = getHostSibling(finishedWork);
+            insertOrAppendPlacementNode(finishedWork, parentFiber, parent);
+            break;
+          case 3:
+          case 4:
+            parent = parentFiber.stateNode.containerInfo;
+            parentFiber = getHostSibling(finishedWork);
+            insertOrAppendPlacementNodeIntoContainer(
+              finishedWork,
+              parentFiber,
+              parent
             );
-        child = child.sibling;
+            break;
+          default:
+            throw Error(
+              "Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue."
+            );
+        }
       }
     }
-    function commitAppearingPairViewTransitions(placement) {
-      if (0 !== (placement.subtreeFlags & 18874368))
-        for (placement = placement.child; null !== placement; ) {
-          if (22 !== placement.tag || null !== placement.memoizedState)
-            if (
-              (commitAppearingPairViewTransitions(placement),
-              30 === placement.tag &&
-                0 !== (placement.flags & 18874368) &&
-                placement.stateNode.paired)
-            ) {
-              var props = placement.memoizedProps;
-              if (null == props.name || "auto" === props.name)
-                throw Error(
-                  "Found a pair with an auto name. This is a bug in React."
-                );
-              var name = props.name;
-              props = getViewTransitionClassName(props.className, props.share);
-              "none" !== props &&
-                ((viewTransitionHostInstanceIdx = 0),
+    function commitBeforeMutationEffects(
+      root,
+      firstChild,
+      committedLanes,
+      appearingViewTransitions
+    ) {
+      root = root.containerInfo;
+      eventsEnabled = _enabled;
+      root = getActiveElementDeep(root);
+      if (hasSelectionCapabilities(root)) {
+        if ("selectionStart" in root)
+          var JSCompiler_temp = {
+            start: root.selectionStart,
+            end: root.selectionEnd
+          };
+        else
+          a: {
+            JSCompiler_temp =
+              ((JSCompiler_temp = root.ownerDocument) &&
+                JSCompiler_temp.defaultView) ||
+              window;
+            var selection =
+              JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();
+            if (selection && 0 !== selection.rangeCount) {
+              JSCompiler_temp = selection.anchorNode;
+              var anchorOffset = selection.anchorOffset,
+                focusNode = selection.focusNode;
+              selection = selection.focusOffset;
+              try {
+                JSCompiler_temp.nodeType, focusNode.nodeType;
+              } catch (e$2) {
+                JSCompiler_temp = null;
+                break a;
+              }
+              var length = 0,
+                start = -1,
+                end = -1,
+                indexWithinAnchor = 0,
+                indexWithinFocus = 0,
+                node = root,
+                parentNode = null;
+              b: for (;;) {
+                for (var next; ; ) {
+                  node !== JSCompiler_temp ||
+                    (0 !== anchorOffset && 3 !== node.nodeType) ||
+                    (start = length + anchorOffset);
+                  node !== focusNode ||
+                    (0 !== selection && 3 !== node.nodeType) ||
+                    (end = length + selection);
+                  3 === node.nodeType && (length += node.nodeValue.length);
+                  if (null === (next = node.firstChild)) break;
+                  parentNode = node;
+                  node = next;
+                }
+                for (;;) {
+                  if (node === root) break b;
+                  parentNode === JSCompiler_temp &&
+                    ++indexWithinAnchor === anchorOffset &&
+                    (start = length);
+                  parentNode === focusNode &&
+                    ++indexWithinFocus === selection &&
+                    (end = length);
+                  if (null !== (next = node.nextSibling)) break;
+                  node = parentNode;
+                  parentNode = node.parentNode;
+                }
+                node = next;
+              }
+              JSCompiler_temp =
+                -1 === start || -1 === end ? null : { start: start, end: end };
+            } else JSCompiler_temp = null;
+          }
+        JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };
+      } else JSCompiler_temp = null;
+      selectionInformation = {
+        focusedElem: root,
+        selectionRange: JSCompiler_temp
+      };
+      shouldStartViewTransition = _enabled = !1;
+      committedLanes = (committedLanes & 335544192) === committedLanes;
+      nextEffect = firstChild;
+      for (firstChild = committedLanes ? 9238 : 1028; null !== nextEffect; ) {
+        root = nextEffect;
+        if (
+          committedLanes &&
+          ((JSCompiler_temp = root.deletions), null !== JSCompiler_temp)
+        )
+          for (
+            anchorOffset = 0;
+            anchorOffset < JSCompiler_temp.length;
+            anchorOffset++
+          )
+            committedLanes &&
+              commitExitViewTransitions(
+                JSCompiler_temp[anchorOffset],
+                appearingViewTransitions
+              );
+        if (null === root.alternate && 0 !== (root.flags & 2))
+          commitBeforeMutationEffects_complete(committedLanes);
+        else {
+          if (22 === root.tag)
+            if (
+              ((JSCompiler_temp = root.alternate), null !== root.memoizedState)
+            ) {
+              null !== JSCompiler_temp &&
+                null === JSCompiler_temp.memoizedState &&
+                committedLanes &&
+                commitExitViewTransitions(
+                  JSCompiler_temp,
+                  appearingViewTransitions
+                );
+              commitBeforeMutationEffects_complete(committedLanes);
+              continue;
+            } else if (
+              null !== JSCompiler_temp &&
+              null !== JSCompiler_temp.memoizedState
+            ) {
+              commitBeforeMutationEffects_complete(committedLanes);
+              continue;
+            }
+          JSCompiler_temp = root.child;
+          0 !== (root.subtreeFlags & firstChild) && null !== JSCompiler_temp
+            ? ((JSCompiler_temp.return = root), (nextEffect = JSCompiler_temp))
+            : (committedLanes && commitNestedViewTransitions(root),
+              commitBeforeMutationEffects_complete(committedLanes));
+        }
+      }
+    }
+    function commitBeforeMutationEffects_complete(
+      isViewTransitionEligible$jscomp$0
+    ) {
+      for (; null !== nextEffect; ) {
+        var fiber = nextEffect,
+          finishedWork = fiber,
+          isViewTransitionEligible = isViewTransitionEligible$jscomp$0,
+          current = finishedWork.alternate,
+          flags = finishedWork.flags;
+        switch (finishedWork.tag) {
+          case 0:
+            if (
+              0 !== (flags & 4) &&
+              ((isViewTransitionEligible = finishedWork.updateQueue),
+              (isViewTransitionEligible =
+                null !== isViewTransitionEligible
+                  ? isViewTransitionEligible.events
+                  : null),
+              null !== isViewTransitionEligible)
+            )
+              for (
+                finishedWork = 0;
+                finishedWork < isViewTransitionEligible.length;
+                finishedWork++
+              )
+                (current = isViewTransitionEligible[finishedWork]),
+                  (current.ref.impl = current.nextImpl);
+            break;
+          case 11:
+          case 15:
+            break;
+          case 1:
+            0 !== (flags & 1024) &&
+              null !== current &&
+              commitClassSnapshot(finishedWork, current);
+            break;
+          case 3:
+            if (0 !== (flags & 1024))
+              if (
+                ((isViewTransitionEligible =
+                  finishedWork.stateNode.containerInfo),
+                (finishedWork = isViewTransitionEligible.nodeType),
+                9 === finishedWork)
+              )
+                clearContainerSparingly(isViewTransitionEligible);
+              else if (1 === finishedWork)
+                switch (isViewTransitionEligible.nodeName) {
+                  case "HEAD":
+                  case "HTML":
+                  case "BODY":
+                    clearContainerSparingly(isViewTransitionEligible);
+                    break;
+                  default:
+                    isViewTransitionEligible.textContent = "";
+                }
+            break;
+          case 5:
+          case 26:
+          case 27:
+          case 6:
+          case 4:
+          case 17:
+            break;
+          case 30:
+            if (
+              isViewTransitionEligible &&
+              null !== current &&
+              0 !== (finishedWork.subtreeFlags & 8246)
+            )
+              a: {
+                isViewTransitionEligible = current;
+                current = finishedWork;
+                finishedWork = getViewTransitionName(
+                  isViewTransitionEligible.memoizedProps,
+                  isViewTransitionEligible.stateNode
+                );
+                current = current.memoizedProps;
+                flags = getViewTransitionClassName(
+                  current.className,
+                  current.update
+                );
+                if (
+                  "none" === flags &&
+                  ((flags = getViewTransitionClassName(
+                    current.className,
+                    current.layout
+                  )),
+                  "none" === flags)
+                )
+                  break a;
+                viewTransitionHostInstanceIdx = 0;
+                applyViewTransitionToHostInstances(
+                  isViewTransitionEligible.child,
+                  finishedWork,
+                  flags,
+                  (isViewTransitionEligible.memoizedState = []),
+                  !0
+                );
+              }
+            break;
+          default:
+            if (0 !== (flags & 1024))
+              throw Error(
+                "This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue."
+              );
+        }
+        isViewTransitionEligible = fiber.sibling;
+        if (null !== isViewTransitionEligible) {
+          isViewTransitionEligible.return = fiber.return;
+          nextEffect = isViewTransitionEligible;
+          break;
+        }
+        nextEffect = fiber.return;
+      }
+    }
+    function applyViewTransitionToHostInstances(
+      child,
+      name,
+      className,
+      collectMeasurements,
+      stopAtNestedViewTransitions
+    ) {
+      for (var inViewport = !1; null !== child; ) {
+        if (5 === child.tag) {
+          shouldStartViewTransition = !0;
+          var instance = child.stateNode;
+          if (null !== collectMeasurements) {
+            var measurement = measureInstance(instance);
+            collectMeasurements.push(measurement);
+            measurement.view && (inViewport = !0);
+          } else
+            inViewport || (measureInstance(instance).view && (inViewport = !0));
+          measurement = className;
+          instance.style.viewTransitionName =
+            0 === viewTransitionHostInstanceIdx
+              ? name
+              : name + "_" + viewTransitionHostInstanceIdx;
+          null != measurement &&
+            (instance.style.viewTransitionClass = measurement);
+          viewTransitionHostInstanceIdx++;
+        } else if (22 !== child.tag || null === child.memoizedState)
+          (30 === child.tag && stopAtNestedViewTransitions) ||
+            (applyViewTransitionToHostInstances(
+              child.child,
+              name,
+              className,
+              collectMeasurements,
+              stopAtNestedViewTransitions
+            ) &&
+              (inViewport = !0));
+        child = child.sibling;
+      }
+      return inViewport;
+    }
+    function restoreViewTransitionOnHostInstances(
+      child,
+      stopAtNestedViewTransitions
+    ) {
+      for (; null !== child; ) {
+        if (5 === child.tag)
+          restoreViewTransitionName(child.stateNode, child.memoizedProps);
+        else if (22 !== child.tag || null === child.memoizedState)
+          (30 === child.tag && stopAtNestedViewTransitions) ||
+            restoreViewTransitionOnHostInstances(
+              child.child,
+              stopAtNestedViewTransitions
+            );
+        child = child.sibling;
+      }
+    }
+    function commitAppearingPairViewTransitions(placement) {
+      if (0 !== (placement.subtreeFlags & 2097152))
+        for (placement = placement.child; null !== placement; ) {
+          if (22 !== placement.tag || null !== placement.memoizedState)
+            if (
+              (commitAppearingPairViewTransitions(placement),
+              30 === placement.tag &&
+                0 !== (placement.flags & 2097152) &&
+                placement.stateNode.paired)
+            ) {
+              var props = placement.memoizedProps;
+              if (null == props.name || "auto" === props.name)
+                throw Error(
+                  "Found a pair with an auto name. This is a bug in React."
+                );
+              var name = props.name;
+              props = getViewTransitionClassName(props.className, props.share);
+              "none" !== props &&
+                ((viewTransitionHostInstanceIdx = 0),
                 applyViewTransitionToHostInstances(
                   placement.child,
                   name,
@@ -11795,52 +11794,55 @@
             (placement = placement.sibling);
       else commitAppearingPairViewTransitions(placement);
     }
-    function commitDeletedPairViewTransitions(deletion) {
+    function commitDeletedPairViewTransitions(
+      deletion,
+      appearingViewTransitions
+    ) {
       if (
-        null !== appearingViewTransitions &&
-        0 !== appearingViewTransitions.size
-      ) {
-        var pairs = appearingViewTransitions;
-        if (0 !== (deletion.subtreeFlags & 18874368))
-          for (deletion = deletion.child; null !== deletion; ) {
-            if (22 !== deletion.tag || null !== deletion.memoizedState) {
-              if (30 === deletion.tag && 0 !== (deletion.flags & 18874368)) {
-                var props = deletion.memoizedProps,
-                  name = props.name;
-                if (null != name && "auto" !== name) {
-                  var pair = pairs.get(name);
-                  if (void 0 !== pair) {
-                    var className = getViewTransitionClassName(
-                      props.className,
-                      props.share
-                    );
-                    "none" !== className &&
-                      ((viewTransitionHostInstanceIdx = 0),
-                      applyViewTransitionToHostInstances(
-                        deletion.child,
-                        name,
-                        className,
-                        null,
-                        !1
-                      )
-                        ? ((pair.paired = deletion.stateNode),
-                          scheduleViewTransitionEvent(deletion, props.onShare))
-                        : restoreViewTransitionOnHostInstances(
-                            deletion.child,
-                            !1
-                          ));
-                    pairs.delete(name);
-                    if (0 === pairs.size) break;
-                  }
+        0 !== appearingViewTransitions.size &&
+        0 !== (deletion.subtreeFlags & 2097152)
+      )
+        for (deletion = deletion.child; null !== deletion; ) {
+          if (22 !== deletion.tag || null !== deletion.memoizedState) {
+            if (30 === deletion.tag && 0 !== (deletion.flags & 2097152)) {
+              var props = deletion.memoizedProps,
+                name = props.name;
+              if (null != name && "auto" !== name) {
+                var pair = appearingViewTransitions.get(name);
+                if (void 0 !== pair) {
+                  var className = getViewTransitionClassName(
+                    props.className,
+                    props.share
+                  );
+                  "none" !== className &&
+                    ((viewTransitionHostInstanceIdx = 0),
+                    applyViewTransitionToHostInstances(
+                      deletion.child,
+                      name,
+                      className,
+                      null,
+                      !1
+                    )
+                      ? ((pair.paired = deletion.stateNode),
+                        scheduleViewTransitionEvent(deletion, props.onShare))
+                      : restoreViewTransitionOnHostInstances(
+                          deletion.child,
+                          !1
+                        ));
+                  appearingViewTransitions.delete(name);
+                  if (0 === appearingViewTransitions.size) break;
                 }
               }
-              commitDeletedPairViewTransitions(deletion);
             }
-            deletion = deletion.sibling;
+            commitDeletedPairViewTransitions(
+              deletion,
+              appearingViewTransitions
+            );
           }
-      }
+          deletion = deletion.sibling;
+        }
     }
-    function commitExitViewTransitions(deletion) {
+    function commitExitViewTransitions(deletion, appearingViewTransitions) {
       if (30 === deletion.tag) {
         var props = deletion.memoizedProps,
           name = getViewTransitionName(props, deletion.stateNode),
@@ -11868,13 +11870,14 @@
               : scheduleViewTransitionEvent(deletion, props.onExit)
             : restoreViewTransitionOnHostInstances(deletion.child, !1));
         null !== appearingViewTransitions &&
-          commitDeletedPairViewTransitions(deletion);
+          commitDeletedPairViewTransitions(deletion, appearingViewTransitions);
       } else if (0 !== (deletion.subtreeFlags & 33554432))
         for (deletion = deletion.child; null !== deletion; )
-          commitExitViewTransitions(deletion), (deletion = deletion.sibling);
+          commitExitViewTransitions(deletion, appearingViewTransitions),
+            (deletion = deletion.sibling);
       else
         null !== appearingViewTransitions &&
-          commitDeletedPairViewTransitions(deletion);
+          commitDeletedPairViewTransitions(deletion, appearingViewTransitions);
     }
     function commitNestedViewTransitions(changedParent) {
       for (changedParent = changedParent.child; null !== changedParent; ) {
@@ -11898,10 +11901,10 @@
       }
     }
     function restorePairedViewTransitions(parent) {
-      if (0 !== (parent.subtreeFlags & 18874368))
+      if (0 !== (parent.subtreeFlags & 2097152))
         for (parent = parent.child; null !== parent; ) {
           if (22 !== parent.tag || null !== parent.memoizedState) {
-            if (30 === parent.tag && 0 !== (parent.flags & 18874368)) {
+            if (30 === parent.tag && 0 !== (parent.flags & 2097152)) {
               var instance = parent.stateNode;
               null !== instance.paired &&
                 ((instance.paired = null),
@@ -12074,248 +12077,15 @@
               className,
               changedParent.memoizedState,
               !1
-            );
-            0 !== (changedParent.flags & 4) &&
-              current &&
-              scheduleViewTransitionEvent(changedParent, props.onLayout);
-          }
-        } else
-          0 !== (changedParent.subtreeFlags & 33554432) &&
-            measureNestedViewTransitions(changedParent);
-        changedParent = changedParent.sibling;
-      }
-    }
-    function commitBeforeMutationEffects(root, firstChild, committedLanes) {
-      root = root.containerInfo;
-      eventsEnabled = _enabled;
-      root = getActiveElementDeep(root);
-      if (hasSelectionCapabilities(root)) {
-        if ("selectionStart" in root)
-          var JSCompiler_temp = {
-            start: root.selectionStart,
-            end: root.selectionEnd
-          };
-        else
-          a: {
-            JSCompiler_temp =
-              ((JSCompiler_temp = root.ownerDocument) &&
-                JSCompiler_temp.defaultView) ||
-              window;
-            var selection =
-              JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();
-            if (selection && 0 !== selection.rangeCount) {
-              JSCompiler_temp = selection.anchorNode;
-              var anchorOffset = selection.anchorOffset,
-                focusNode = selection.focusNode;
-              selection = selection.focusOffset;
-              try {
-                JSCompiler_temp.nodeType, focusNode.nodeType;
-              } catch (e$2) {
-                JSCompiler_temp = null;
-                break a;
-              }
-              var length = 0,
-                start = -1,
-                end = -1,
-                indexWithinAnchor = 0,
-                indexWithinFocus = 0,
-                node = root,
-                parentNode = null;
-              b: for (;;) {
-                for (var next; ; ) {
-                  node !== JSCompiler_temp ||
-                    (0 !== anchorOffset && 3 !== node.nodeType) ||
-                    (start = length + anchorOffset);
-                  node !== focusNode ||
-                    (0 !== selection && 3 !== node.nodeType) ||
-                    (end = length + selection);
-                  3 === node.nodeType && (length += node.nodeValue.length);
-                  if (null === (next = node.firstChild)) break;
-                  parentNode = node;
-                  node = next;
-                }
-                for (;;) {
-                  if (node === root) break b;
-                  parentNode === JSCompiler_temp &&
-                    ++indexWithinAnchor === anchorOffset &&
-                    (start = length);
-                  parentNode === focusNode &&
-                    ++indexWithinFocus === selection &&
-                    (end = length);
-                  if (null !== (next = node.nextSibling)) break;
-                  node = parentNode;
-                  parentNode = node.parentNode;
-                }
-                node = next;
-              }
-              JSCompiler_temp =
-                -1 === start || -1 === end ? null : { start: start, end: end };
-            } else JSCompiler_temp = null;
-          }
-        JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };
-      } else JSCompiler_temp = null;
-      selectionInformation = {
-        focusedElem: root,
-        selectionRange: JSCompiler_temp
-      };
-      shouldStartViewTransition = _enabled = !1;
-      committedLanes = (committedLanes & 335544064) === committedLanes;
-      nextEffect = firstChild;
-      for (firstChild = committedLanes ? 9238 : 1028; null !== nextEffect; ) {
-        root = nextEffect;
-        if (
-          committedLanes &&
-          ((JSCompiler_temp = root.deletions), null !== JSCompiler_temp)
-        )
-          for (
-            anchorOffset = 0;
-            anchorOffset < JSCompiler_temp.length;
-            anchorOffset++
-          )
-            committedLanes &&
-              commitExitViewTransitions(JSCompiler_temp[anchorOffset]);
-        if (null === root.alternate && 0 !== (root.flags & 2))
-          commitBeforeMutationEffects_complete(committedLanes);
-        else {
-          if (22 === root.tag)
-            if (
-              ((JSCompiler_temp = root.alternate), null !== root.memoizedState)
-            ) {
-              null !== JSCompiler_temp &&
-                null === JSCompiler_temp.memoizedState &&
-                committedLanes &&
-                commitExitViewTransitions(JSCompiler_temp);
-              commitBeforeMutationEffects_complete(committedLanes);
-              continue;
-            } else if (
-              null !== JSCompiler_temp &&
-              null !== JSCompiler_temp.memoizedState
-            ) {
-              commitBeforeMutationEffects_complete(committedLanes);
-              continue;
-            }
-          JSCompiler_temp = root.child;
-          0 !== (root.subtreeFlags & firstChild) && null !== JSCompiler_temp
-            ? ((JSCompiler_temp.return = root), (nextEffect = JSCompiler_temp))
-            : (committedLanes && commitNestedViewTransitions(root),
-              commitBeforeMutationEffects_complete(committedLanes));
-        }
-      }
-      appearingViewTransitions = null;
-    }
-    function commitBeforeMutationEffects_complete(
-      isViewTransitionEligible$jscomp$0
-    ) {
-      for (; null !== nextEffect; ) {
-        var fiber = nextEffect,
-          finishedWork = fiber,
-          isViewTransitionEligible = isViewTransitionEligible$jscomp$0,
-          current = finishedWork.alternate,
-          flags = finishedWork.flags;
-        switch (finishedWork.tag) {
-          case 0:
-            if (
-              0 !== (flags & 4) &&
-              ((isViewTransitionEligible = finishedWork.updateQueue),
-              (isViewTransitionEligible =
-                null !== isViewTransitionEligible
-                  ? isViewTransitionEligible.events
-                  : null),
-              null !== isViewTransitionEligible)
-            )
-              for (
-                finishedWork = 0;
-                finishedWork < isViewTransitionEligible.length;
-                finishedWork++
-              )
-                (current = isViewTransitionEligible[finishedWork]),
-                  (current.ref.impl = current.nextImpl);
-            break;
-          case 11:
-          case 15:
-            break;
-          case 1:
-            0 !== (flags & 1024) &&
-              null !== current &&
-              commitClassSnapshot(finishedWork, current);
-            break;
-          case 3:
-            if (0 !== (flags & 1024))
-              if (
-                ((isViewTransitionEligible =
-                  finishedWork.stateNode.containerInfo),
-                (finishedWork = isViewTransitionEligible.nodeType),
-                9 === finishedWork)
-              )
-                clearContainerSparingly(isViewTransitionEligible);
-              else if (1 === finishedWork)
-                switch (isViewTransitionEligible.nodeName) {
-                  case "HEAD":
-                  case "HTML":
-                  case "BODY":
-                    clearContainerSparingly(isViewTransitionEligible);
-                    break;
-                  default:
-                    isViewTransitionEligible.textContent = "";
-                }
-            break;
-          case 5:
-          case 26:
-          case 27:
-          case 6:
-          case 4:
-          case 17:
-            break;
-          case 30:
-            if (
-              isViewTransitionEligible &&
-              null !== current &&
-              0 !== (finishedWork.subtreeFlags & 8246)
-            )
-              a: {
-                isViewTransitionEligible = current;
-                current = finishedWork;
-                finishedWork = getViewTransitionName(
-                  isViewTransitionEligible.memoizedProps,
-                  isViewTransitionEligible.stateNode
-                );
-                current = current.memoizedProps;
-                flags = getViewTransitionClassName(
-                  current.className,
-                  current.update
-                );
-                if (
-                  "none" === flags &&
-                  ((flags = getViewTransitionClassName(
-                    current.className,
-                    current.layout
-                  )),
-                  "none" === flags)
-                )
-                  break a;
-                viewTransitionHostInstanceIdx = 0;
-                applyViewTransitionToHostInstances(
-                  isViewTransitionEligible.child,
-                  finishedWork,
-                  flags,
-                  (isViewTransitionEligible.memoizedState = []),
-                  !0
-                );
-              }
-            break;
-          default:
-            if (0 !== (flags & 1024))
-              throw Error(
-                "This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue."
-              );
-        }
-        isViewTransitionEligible = fiber.sibling;
-        if (null !== isViewTransitionEligible) {
-          isViewTransitionEligible.return = fiber.return;
-          nextEffect = isViewTransitionEligible;
-          break;
-        }
-        nextEffect = fiber.return;
+            );
+            0 !== (changedParent.flags & 4) &&
+              current &&
+              scheduleViewTransitionEvent(changedParent, props.onLayout);
+          }
+        } else
+          0 !== (changedParent.subtreeFlags & 33554432) &&
+            measureNestedViewTransitions(changedParent);
+        changedParent = changedParent.sibling;
       }
     }
     function commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {
@@ -12436,11 +12206,11 @@
           }
           finishedRoot.effectDuration += popNestedEffectDurations(current);
           break;
-        case 27:
-          null === current &&
-            flags & 4 &&
-            commitHostSingletonAcquisition(finishedWork);
         case 26:
+          recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);
+          flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);
+          break;
+        case 27:
         case 5:
           recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);
           null === current && flags & 4 && commitHostMount(finishedWork);
@@ -12600,19 +12370,16 @@
             safelyDetachRef(deletedFiber, nearestMountedAncestor);
           var prevHostParent = hostParent,
             prevHostParentIsContainer = hostParentIsContainer;
-          isSingletonScope(deletedFiber.type) &&
-            ((hostParent = deletedFiber.stateNode),
-            (hostParentIsContainer = !1));
+          hostParent = deletedFiber.stateNode;
           recursivelyTraverseDeletionEffects(
             finishedRoot,
             nearestMountedAncestor,
             deletedFiber
           );
-          runWithFiberInDEV(
-            deletedFiber,
-            releaseSingletonInstance,
-            deletedFiber.stateNode
-          );
+          deletedFiber = deletedFiber.stateNode;
+          for (finishedRoot = deletedFiber.attributes; finishedRoot.length; )
+            deletedFiber.removeAttributeNode(finishedRoot[0]);
+          detachDeletedInstance(deletedFiber);
           hostParent = prevHostParent;
           hostParentIsContainer = prevHostParentIsContainer;
           break;
@@ -12668,14 +12435,11 @@
           null !== hostParent &&
             (hostParentIsContainer
               ? ((finishedRoot = hostParent),
-                clearSuspenseBoundary(
-                  9 === finishedRoot.nodeType
-                    ? finishedRoot.body
-                    : "HTML" === finishedRoot.nodeName
-                      ? finishedRoot.ownerDocument.body
-                      : finishedRoot,
-                  deletedFiber.stateNode
-                ),
+                (deletedFiber = deletedFiber.stateNode),
+                8 === finishedRoot.nodeType
+                  ? clearSuspenseBoundary(finishedRoot.parentNode, deletedFiber)
+                  : 1 === finishedRoot.nodeType &&
+                    clearSuspenseBoundary(finishedRoot, deletedFiber),
                 retryIfBlockedOn(finishedRoot))
               : clearSuspenseBoundary(hostParent, deletedFiber.stateNode));
           break;
@@ -12833,17 +12597,14 @@
           a: for (; null !== parent; ) {
             switch (parent.tag) {
               case 27:
-                if (isSingletonScope(parent.type)) {
-                  hostParent = parent.stateNode;
-                  hostParentIsContainer = !1;
-                  break a;
-                }
-                break;
               case 5:
                 hostParent = parent.stateNode;
                 hostParentIsContainer = !1;
                 break a;
               case 3:
+                hostParent = parent.stateNode.containerInfo;
+                hostParentIsContainer = !0;
+                break a;
               case 4:
                 hostParent = parent.stateNode.containerInfo;
                 hostParentIsContainer = !0;
@@ -13073,20 +12834,35 @@
                   );
           break;
         case 27:
-          recursivelyTraverseMutationEffects(root, finishedWork, lanes);
-          commitReconciliationEffects(finishedWork);
-          flags & 512 &&
-            (offscreenSubtreeWasHidden ||
-              null === current ||
-              safelyDetachRef(current, current.return));
-          null !== current &&
-            flags & 4 &&
-            commitHostUpdate(
-              finishedWork,
-              finishedWork.memoizedProps,
-              current.memoizedProps
-            );
-          break;
+          if (flags & 4 && null === finishedWork.alternate) {
+            hoistableRoot = finishedWork.stateNode;
+            i = finishedWork.memoizedProps;
+            try {
+              for (var node = hoistableRoot.firstChild; node; ) {
+                var nextNode = node.nextSibling,
+                  nodeName = node.nodeName;
+                node[internalHoistableMarker] ||
+                  "HEAD" === nodeName ||
+                  "BODY" === nodeName ||
+                  "SCRIPT" === nodeName ||
+                  "STYLE" === nodeName ||
+                  ("LINK" === nodeName &&
+                    "stylesheet" === node.rel.toLowerCase()) ||
+                  hoistableRoot.removeChild(node);
+                node = nextNode;
+              }
+              runWithFiberInDEV(
+                finishedWork,
+                acquireSingletonInstance,
+                finishedWork.type,
+                i,
+                hoistableRoot,
+                finishedWork
+              );
+            } catch (error) {
+              captureCommitPhaseError(finishedWork, finishedWork.return, error);
+            }
+          }
         case 5:
           recursivelyTraverseMutationEffects(root, finishedWork, lanes);
           commitReconciliationEffects(finishedWork);
@@ -13203,17 +12979,15 @@
             (offscreenSubtreeWasHidden ||
               null === current ||
               safelyDetachRef(current, current.return));
-          hoistableRoot = null !== finishedWork.memoizedState;
-          var wasHidden = null !== current && null !== current.memoizedState,
-            prevOffscreenSubtreeIsHidden = offscreenSubtreeIsHidden,
-            prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;
-          offscreenSubtreeIsHidden =
-            prevOffscreenSubtreeIsHidden || hoistableRoot;
-          offscreenSubtreeWasHidden =
-            prevOffscreenSubtreeWasHidden || wasHidden;
+          node = null !== finishedWork.memoizedState;
+          nextNode = null !== current && null !== current.memoizedState;
+          nodeName = offscreenSubtreeIsHidden;
+          var prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;
+          offscreenSubtreeIsHidden = nodeName || node;
+          offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden || nextNode;
           recursivelyTraverseMutationEffects(root, finishedWork, lanes);
           offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;
-          offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden;
+          offscreenSubtreeIsHidden = nodeName;
           commitReconciliationEffects(finishedWork);
           root = finishedWork.stateNode;
           root._current = finishedWork;
@@ -13221,26 +12995,26 @@
           root._visibility |= root._pendingVisibility & OffscreenDetached;
           if (
             flags & 8192 &&
-            ((root._visibility = hoistableRoot
+            ((root._visibility = node
               ? root._visibility & ~OffscreenVisible
               : root._visibility | OffscreenVisible),
-            hoistableRoot &&
-              (null === current ||
-                wasHidden ||
-                offscreenSubtreeIsHidden ||
-                offscreenSubtreeWasHidden ||
+            node &&
+              ((root = offscreenSubtreeIsHidden || offscreenSubtreeWasHidden),
+              null === current ||
+                nextNode ||
+                root ||
                 recursivelyTraverseDisappearLayoutEffects(finishedWork)),
             null === finishedWork.memoizedProps ||
               "manual" !== finishedWork.memoizedProps.mode)
           )
             a: for (current = null, root = finishedWork; ; ) {
-              if (5 === root.tag || 26 === root.tag) {
+              if (5 === root.tag || 26 === root.tag || 27 === root.tag) {
                 if (null === current) {
                   lanes = current = root;
                   try {
-                    (i = lanes.stateNode),
-                      hoistableRoot
-                        ? runWithFiberInDEV(lanes, hideInstance, i)
+                    (hoistableRoot = lanes.stateNode),
+                      node
+                        ? runWithFiberInDEV(lanes, hideInstance, hoistableRoot)
                         : runWithFiberInDEV(
                             lanes,
                             unhideInstance,
@@ -13255,15 +13029,15 @@
                 if (null === current) {
                   lanes = root;
                   try {
-                    var instance = lanes.stateNode;
-                    hoistableRoot
-                      ? runWithFiberInDEV(lanes, hideTextInstance, instance)
-                      : runWithFiberInDEV(
-                          lanes,
-                          unhideTextInstance,
-                          instance,
-                          lanes.memoizedProps
-                        );
+                    (i = lanes.stateNode),
+                      node
+                        ? runWithFiberInDEV(lanes, hideTextInstance, i)
+                        : runWithFiberInDEV(
+                            lanes,
+                            unhideTextInstance,
+                            i,
+                            lanes.memoizedProps
+                          );
                   } catch (error) {
                     captureCommitPhaseError(lanes, lanes.return, error);
                   }
@@ -13315,7 +13089,7 @@
           viewTransitionMutationContext = !1;
           recursivelyTraverseMutationEffects(root, finishedWork, lanes);
           commitReconciliationEffects(finishedWork);
-          (lanes & 335544064) === lanes &&
+          (lanes & 335544192) === lanes &&
             null !== current &&
             viewTransitionMutationContext &&
             (finishedWork.flags |= 4);
@@ -13398,7 +13172,30 @@
                       }
                     );
                 }
-              cancelRootViewTransitionName(root.containerInfo);
+              finishedWork = root.containerInfo;
+              finishedWork =
+                9 === finishedWork.nodeType
+                  ? finishedWork.documentElement
+                  : finishedWork.ownerDocument.documentElement;
+              null !== finishedWork &&
+                "" === finishedWork.style.viewTransitionName &&
+                ((finishedWork.style.viewTransitionName = "none"),
+                finishedWork.animate(
+                  { opacity: [0, 0], pointerEvents: ["none", "none"] },
+                  {
+                    duration: 0,
+                    fill: "forwards",
+                    pseudoElement: "::view-transition-group(root)"
+                  }
+                ),
+                finishedWork.animate(
+                  { width: [0, 0], height: [0, 0] },
+                  {
+                    duration: 0,
+                    fill: "forwards",
+                    pseudoElement: "::view-transition"
+                  }
+                ));
             }
             break;
           case 5:
@@ -13427,7 +13224,7 @@
                   ),
                   layoutClassName = getViewTransitionClassName(
                     root.className,
-                    root.layout
+                    root.update
                   );
                 if ("none" === updateClassName) {
                   if ("none" === layoutClassName) {
@@ -13523,13 +13320,8 @@
             );
           recursivelyTraverseDisappearLayoutEffects(finishedWork);
           break;
-        case 27:
-          runWithFiberInDEV(
-            finishedWork,
-            releaseSingletonInstance,
-            finishedWork.stateNode
-          );
         case 26:
+        case 27:
         case 5:
           safelyDetachRef(finishedWork, finishedWork.return);
           recursivelyTraverseDisappearLayoutEffects(finishedWork);
@@ -13616,9 +13408,8 @@
             commitClassCallbacks(finishedWork);
           safelyAttachRef(finishedWork, finishedWork.return);
           break;
-        case 27:
-          commitHostSingletonAcquisition(finishedWork);
         case 26:
+        case 27:
         case 5:
           recursivelyTraverseReappearLayoutEffects(
             finishedRoot,
@@ -13755,7 +13546,7 @@
       endTime
     ) {
       var isViewTransitionEligible =
-        (committedLanes & 335544064) === committedLanes;
+        (committedLanes & 335544192) === committedLanes;
       if (
         parentFiber.subtreeFlags & (isViewTransitionEligible ? 10262 : 10256) ||
         (0 !== parentFiber.actualDuration &&
@@ -13796,7 +13587,7 @@
           inHydratedSubtree
         );
       var isViewTransitionEligible =
-        (committedLanes & 335544064) === committedLanes;
+        (committedLanes & 335544192) === committedLanes;
       isViewTransitionEligible &&
         null === finishedWork.alternate &&
         null !== finishedWork.return &&
@@ -13867,7 +13658,14 @@
           );
           inHydratedSubtree = wasInHydratedSubtree;
           isViewTransitionEligible &&
-            restoreRootViewTransitionName(finishedRoot.containerInfo);
+            ((committedLanes = finishedRoot.containerInfo),
+            (committedLanes =
+              9 === committedLanes.nodeType
+                ? committedLanes.documentElement
+                : committedLanes.ownerDocument.documentElement),
+            null !== committedLanes &&
+              "none" === committedLanes.style.viewTransitionName &&
+              (committedLanes.style.viewTransitionName = ""));
           flags & 2048 &&
             ((committedLanes = null),
             null !== finishedWork.alternate &&
@@ -13881,7 +13679,7 @@
           break;
         case 12:
           if (flags & 2048) {
-            isViewTransitionEligible = pushNestedEffectDurations();
+            flags = pushNestedEffectDurations();
             recursivelyTraversePassiveMountEffects(
               finishedRoot,
               finishedWork,
@@ -13890,9 +13688,8 @@
               endTime
             );
             finishedRoot = finishedWork.stateNode;
-            finishedRoot.passiveEffectDuration += bubbleNestedEffectDurations(
-              isViewTransitionEligible
-            );
+            finishedRoot.passiveEffectDuration +=
+              bubbleNestedEffectDurations(flags);
             try {
               runWithFiberInDEV(
                 finishedWork,
@@ -13915,29 +13712,29 @@
             );
           break;
         case 13:
-          isViewTransitionEligible = inHydratedSubtree;
-          flags =
+          flags = inHydratedSubtree;
+          prevEffectDuration =
             null !== finishedWork.alternate
               ? finishedWork.alternate.memoizedState
               : null;
-          prevEffectDuration = finishedWork.memoizedState;
-          null === flags ||
-          null === flags.dehydrated ||
-          (null !== prevEffectDuration &&
-            null !== prevEffectDuration.dehydrated)
+          isViewTransitionEligible = finishedWork.memoizedState;
+          null === prevEffectDuration ||
+          null === prevEffectDuration.dehydrated ||
+          (null !== isViewTransitionEligible &&
+            null !== isViewTransitionEligible.dehydrated)
             ? (inHydratedSubtree = !1)
-            : ((prevEffectDuration = finishedWork.deletions),
-              null !== prevEffectDuration &&
-              0 < prevEffectDuration.length &&
-              18 === prevEffectDuration[0].tag
+            : ((isViewTransitionEligible = finishedWork.deletions),
+              null !== isViewTransitionEligible &&
+              0 < isViewTransitionEligible.length &&
+              18 === isViewTransitionEligible[0].tag
                 ? ((inHydratedSubtree = !1),
-                  (flags = flags.hydrationErrors),
-                  null !== flags &&
+                  (prevEffectDuration = prevEffectDuration.hydrationErrors),
+                  null !== prevEffectDuration &&
                     logComponentErrored(
                       finishedWork,
                       finishedWork.actualStartTime,
                       endTime,
-                      flags
+                      prevEffectDuration
                     ))
                 : (inHydratedSubtree = !0));
           recursivelyTraversePassiveMountEffects(
@@ -13947,7 +13744,7 @@
             committedTransitions,
             endTime
           );
-          inHydratedSubtree = isViewTransitionEligible;
+          inHydratedSubtree = flags;
           break;
         case 23:
           break;
@@ -14015,14 +13812,11 @@
           break;
         case 30:
           isViewTransitionEligible &&
-            ((isViewTransitionEligible = finishedWork.alternate),
-            null !== isViewTransitionEligible &&
+            ((flags = finishedWork.alternate),
+            null !== flags &&
               0 !== (finishedWork.subtreeFlags & 8246) &&
               ((finishedWork.memoizedState = null),
-              restoreViewTransitionOnHostInstances(
-                isViewTransitionEligible.child,
-                !0
-              ),
+              restoreViewTransitionOnHostInstances(flags.child, !0),
               restoreViewTransitionOnHostInstances(finishedWork.child, !0)));
           recursivelyTraversePassiveMountEffects(
             finishedRoot,
@@ -14290,20 +14084,6 @@
                 (suspenseyCommitFlag = previousHoistableRoot))
               : recursivelyAccumulateSuspenseyCommit(fiber));
           break;
-        case 30:
-          if (
-            0 !== (fiber.flags & suspenseyCommitFlag) &&
-            ((previousHoistableRoot = fiber.memoizedProps.name),
-            null != previousHoistableRoot && "auto" !== previousHoistableRoot)
-          ) {
-            var state = fiber.stateNode;
-            state.paired = null;
-            null === appearingViewTransitions &&
-              (appearingViewTransitions = new Map());
-            appearingViewTransitions.set(previousHoistableRoot, state);
-          }
-          recursivelyAccumulateSuspenseyCommit(fiber);
-          break;
         default:
           recursivelyAccumulateSuspenseyCommit(fiber);
       }
@@ -15014,14 +14794,14 @@
     function popToNextHostParent(fiber) {
       for (hydrationParentFiber = fiber.return; hydrationParentFiber; )
         switch (hydrationParentFiber.tag) {
+          case 3:
+          case 27:
+            rootOrSingletonContext = !0;
+            return;
           case 5:
           case 13:
             rootOrSingletonContext = !1;
             return;
-          case 27:
-          case 3:
-            rootOrSingletonContext = !0;
-            return;
           default:
             hydrationParentFiber = hydrationParentFiber.return;
         }
@@ -15030,31 +14810,32 @@
       if (fiber !== hydrationParentFiber) return !1;
       if (!isHydrating)
         return popToNextHostParent(fiber), (isHydrating = !0), !1;
-      var tag = fiber.tag,
+      var shouldClear = !1,
         JSCompiler_temp;
-      if ((JSCompiler_temp = 3 !== tag && 27 !== tag)) {
-        if ((JSCompiler_temp = 5 === tag))
+      if ((JSCompiler_temp = 3 !== fiber.tag && 27 !== fiber.tag)) {
+        if ((JSCompiler_temp = 5 === fiber.tag))
           (JSCompiler_temp = fiber.type),
             (JSCompiler_temp =
               !("form" !== JSCompiler_temp && "button" !== JSCompiler_temp) ||
               shouldSetTextContent(fiber.type, fiber.memoizedProps));
         JSCompiler_temp = !JSCompiler_temp;
       }
-      if (JSCompiler_temp && nextHydratableInstance) {
-        for (JSCompiler_temp = nextHydratableInstance; JSCompiler_temp; ) {
-          var diffNode = buildHydrationDiffNode(fiber, 0),
-            description =
-              describeHydratableInstanceForDevWarnings(JSCompiler_temp);
-          diffNode.serverTail.push(description);
-          JSCompiler_temp =
+      JSCompiler_temp && (shouldClear = !0);
+      if (shouldClear && nextHydratableInstance) {
+        for (shouldClear = nextHydratableInstance; shouldClear; ) {
+          JSCompiler_temp = buildHydrationDiffNode(fiber, 0);
+          var description =
+            describeHydratableInstanceForDevWarnings(shouldClear);
+          JSCompiler_temp.serverTail.push(description);
+          shouldClear =
             "Suspense" === description.type
-              ? getNextHydratableInstanceAfterSuspenseInstance(JSCompiler_temp)
-              : getNextHydratable(JSCompiler_temp.nextSibling);
+              ? getNextHydratableInstanceAfterSuspenseInstance(shouldClear)
+              : getNextHydratable(shouldClear.nextSibling);
         }
         throwOnHydrationMismatch(fiber);
       }
       popToNextHostParent(fiber);
-      if (13 === tag) {
+      if (13 === fiber.tag) {
         fiber = fiber.memoizedState;
         fiber = null !== fiber ? fiber.dehydrated : null;
         if (!fiber)
@@ -15064,16 +14845,9 @@
         nextHydratableInstance =
           getNextHydratableInstanceAfterSuspenseInstance(fiber);
       } else
-        27 === tag
-          ? ((tag = nextHydratableInstance),
-            isSingletonScope(fiber.type)
-              ? ((fiber = previousHydratableOnEnteringScopedSingleton),
-                (previousHydratableOnEnteringScopedSingleton = null),
-                (nextHydratableInstance = fiber))
-              : (nextHydratableInstance = tag))
-          : (nextHydratableInstance = hydrationParentFiber
-              ? getNextHydratable(fiber.stateNode.nextSibling)
-              : null);
+        nextHydratableInstance = hydrationParentFiber
+          ? getNextHydratable(fiber.stateNode.nextSibling)
+          : null;
       return !0;
     }
     function resetHydrationState() {
@@ -15113,31 +14887,14 @@
         ? props.name
         : instance.autoName;
     }
-    function getClassNameByType(classByType) {
-      if (null == classByType || "string" === typeof classByType)
-        return classByType;
-      var className = null,
-        activeTypes = pendingTransitionTypes;
-      if (null !== activeTypes)
-        for (var i = 0; i < activeTypes.length; i++) {
-          var match = classByType[activeTypes[i]];
-          if (null != match) {
-            if ("none" === match) return "none";
-            className = null == className ? match : className + (" " + match);
-          }
-        }
-      return null == className ? classByType.default : className;
-    }
-    function getViewTransitionClassName(defaultClass, eventClass) {
-      defaultClass = getClassNameByType(defaultClass);
-      eventClass = getClassNameByType(eventClass);
-      return null == eventClass
-        ? defaultClass
-        : "none" === eventClass
-          ? eventClass
-          : null != defaultClass && "none" !== defaultClass
-            ? defaultClass + " " + eventClass
-            : eventClass;
+    function getViewTransitionClassName(className, eventClassName) {
+      return null == eventClassName
+        ? className
+        : "none" === eventClassName
+          ? eventClassName
+          : null != className
+            ? className + " " + eventClassName
+            : eventClassName;
     }
     function markUpdate(workInProgress) {
       workInProgress.flags |= 4;
@@ -15154,7 +14911,7 @@
         resource = suspenseHandlerStackCursor.current;
         if (
           null !== resource &&
-          ((workInProgressRootRenderLanes & 4194048) ===
+          ((workInProgressRootRenderLanes & 4194176) ===
           workInProgressRootRenderLanes
             ? null !== shellBoundary
             : ((workInProgressRootRenderLanes & 62914560) !==
@@ -15262,6 +15019,30 @@
       completedWork.childLanes = newChildLanes;
       return didBailout;
     }
+    function trackReappearingViewTransitions(workInProgress) {
+      if (0 !== (workInProgress.subtreeFlags & 2097152))
+        for (workInProgress = workInProgress.child; null !== workInProgress; ) {
+          if (
+            22 !== workInProgress.tag ||
+            null !== workInProgress.memoizedState
+          ) {
+            if (
+              30 === workInProgress.tag &&
+              0 !== (workInProgress.flags & 2097152)
+            ) {
+              var props = workInProgress.memoizedProps;
+              null != props.name &&
+                "auto" !== props.name &&
+                trackAppearingViewTransition(
+                  workInProgress.stateNode,
+                  props.name
+                );
+            }
+            trackReappearingViewTransitions(workInProgress);
+          }
+          workInProgress = workInProgress.sibling;
+        }
+    }
     function completeWork(current, workInProgress, renderLanes) {
       var newProps = workInProgress.pendingProps;
       popTreeContext(workInProgress);
@@ -15551,13 +15332,9 @@
                   : !1;
               current || throwOnHydrationMismatch(workInProgress);
             } else
-              (_type = renderLanes.ancestorInfo.current),
-                null != _type &&
-                  validateTextNesting(
-                    newProps,
-                    _type.tag,
-                    renderLanes.ancestorInfo.implicitRootScope
-                  ),
+              (renderLanes = renderLanes.ancestorInfo.current),
+                null != renderLanes &&
+                  validateTextNesting(newProps, renderLanes.tag),
                 (current =
                   getOwnerDocumentFromRootContainer(current).createTextNode(
                     newProps
@@ -15779,7 +15556,8 @@
             (newProps = null !== workInProgress.memoizedState),
             null !== current
               ? (null !== current.memoizedState) !== newProps &&
-                (workInProgress.flags |= 8192)
+                ((workInProgress.flags |= 8192),
+                newProps || trackReappearingViewTransitions(workInProgress))
               : newProps && (workInProgress.flags |= 8192),
             newProps
               ? 0 !== (renderLanes & 536870912) &&
@@ -16277,7 +16055,7 @@
       }
       yieldDuration = (forceSync =
         (!forceSync &&
-          0 === (lanes & 124) &&
+          0 === (lanes & 60) &&
           0 === (lanes & root.expiredLanes)) ||
         checkIfRootIsPrerendering(root, lanes))
         ? renderRootConcurrent(root, lanes)
@@ -16384,15 +16162,15 @@
               case RootFatalErrored:
                 throw Error("Root did not complete. This is a bug in React.");
               case RootSuspendedWithDelay:
-                if ((lanes & 4194048) !== lanes) break;
+                if ((lanes & 4194176) !== lanes) break;
               case RootSuspendedAtTheShell:
                 setCurrentTrackFromLanes(lanes);
                 logSuspendedRenderPhase(renderStartTime, startTime, lanes);
                 finalizeRender(lanes, startTime);
                 yieldEndTime = lanes;
-                0 !== (yieldEndTime & 3) || 0 !== (yieldEndTime & 124)
+                0 !== (yieldEndTime & 3) || 0 !== (yieldEndTime & 60)
                   ? (blockingSuspendedTime = startTime)
-                  : 0 !== (yieldEndTime & 4194048) &&
+                  : 0 !== (yieldEndTime & 4194176) &&
                     (transitionSuspendedTime = startTime);
                 markRootSuspended(
                   forceSync,
@@ -16417,6 +16195,7 @@
                 lanes,
                 workInProgressRootRecoverableErrors,
                 workInProgressTransitions,
+                workInProgressAppearingViewTransitions,
                 workInProgressRootDidIncludeRecursiveRenderUpdate,
                 workInProgressDeferredLane,
                 workInProgressRootInterleavedUpdatedLanes,
@@ -16449,6 +16228,7 @@
                     yieldEndTime,
                     workInProgressRootRecoverableErrors,
                     workInProgressTransitions,
+                    workInProgressAppearingViewTransitions,
                     workInProgressRootDidIncludeRecursiveRenderUpdate,
                     lanes,
                     workInProgressDeferredLane,
@@ -16469,6 +16249,7 @@
                 yieldEndTime,
                 workInProgressRootRecoverableErrors,
                 workInProgressTransitions,
+                workInProgressAppearingViewTransitions,
                 workInProgressRootDidIncludeRecursiveRenderUpdate,
                 lanes,
                 workInProgressDeferredLane,
@@ -16492,6 +16273,7 @@
       finishedWork,
       recoverableErrors,
       transitions,
+      appearingViewTransitions,
       didIncludeRenderPhaseUpdate,
       lanes,
       spawnedLane,
@@ -16505,40 +16287,37 @@
     ) {
       root.timeoutHandle = noTimeout;
       var subtreeFlags = finishedWork.subtreeFlags,
-        isViewTransitionEligible = (lanes & 335544064) === lanes,
-        isGestureTransition = 64 === lanes;
-      if (
-        isViewTransitionEligible ||
-        subtreeFlags & 8192 ||
-        16785408 === (subtreeFlags & 16785408) ||
-        isGestureTransition
-      ) {
+        isViewTransitionEligible = (lanes & 335544192) === lanes;
+      subtreeFlags =
+        subtreeFlags & 8192 || 16785408 === (subtreeFlags & 16785408);
+      if (isViewTransitionEligible || subtreeFlags) {
         suspendedState = { stylesheets: null, count: 0, unsuspend: noop };
-        appearingViewTransitions = null;
-        accumulateSuspenseyCommitOnFiber(finishedWork);
-        if (
-          (isViewTransitionEligible || isGestureTransition) &&
-          null === root.stoppingGestures
-        ) {
-          isViewTransitionEligible = root.containerInfo;
+        subtreeFlags && accumulateSuspenseyCommitOnFiber(finishedWork);
+        if (isViewTransitionEligible) {
+          subtreeFlags = root.containerInfo;
           if (null === suspendedState)
             throw Error(
               "Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug."
             );
-          subtreeFlags = suspendedState;
-          isViewTransitionEligible = (
-            9 === isViewTransitionEligible.nodeType
-              ? isViewTransitionEligible
-              : isViewTransitionEligible.ownerDocument
+          isViewTransitionEligible = suspendedState;
+          subtreeFlags = (
+            9 === subtreeFlags.nodeType
+              ? subtreeFlags
+              : subtreeFlags.ownerDocument
           ).__reactViewTransition;
-          null != isViewTransitionEligible &&
-            (subtreeFlags.count++,
-            (subtreeFlags = onUnsuspend.bind(subtreeFlags)),
-            isViewTransitionEligible.finished.then(subtreeFlags, subtreeFlags));
+          null != subtreeFlags &&
+            (isViewTransitionEligible.count++,
+            (isViewTransitionEligible = onUnsuspend.bind(
+              isViewTransitionEligible
+            )),
+            subtreeFlags.finished.then(
+              isViewTransitionEligible,
+              isViewTransitionEligible
+            ));
         }
-        subtreeFlags = waitForCommitToBeReady();
-        if (null !== subtreeFlags) {
-          root.cancelPendingCommit = subtreeFlags(
+        isViewTransitionEligible = waitForCommitToBeReady();
+        if (null !== isViewTransitionEligible) {
+          root.cancelPendingCommit = isViewTransitionEligible(
             commitRoot.bind(
               null,
               root,
@@ -16546,6 +16325,7 @@
               lanes,
               recoverableErrors,
               transitions,
+              appearingViewTransitions,
               didIncludeRenderPhaseUpdate,
               spawnedLane,
               updatedLanes,
@@ -16571,6 +16351,7 @@
         lanes,
         recoverableErrors,
         transitions,
+        appearingViewTransitions,
         didIncludeRenderPhaseUpdate,
         spawnedLane,
         updatedLanes,
@@ -16659,9 +16440,9 @@
       }
     }
     function finalizeRender(lanes, finalizationTime) {
-      if (0 !== (lanes & 3) || 0 !== (lanes & 124))
+      if (0 !== (lanes & 3) || 0 !== (lanes & 60))
         blockingClampTime = finalizationTime;
-      0 !== (lanes & 4194048) && (transitionClampTime = finalizationTime);
+      0 !== (lanes & 4194176) && (transitionClampTime = finalizationTime);
     }
     function prepareFreshStack(root, lanes) {
       supportsUserTiming &&
@@ -16686,13 +16467,13 @@
           var endTime = renderStartTime;
           supportsUserTiming &&
             ((reusableLaneDevToolDetails.color =
-              (lanes & 738197653) === lanes ? "tertiary-dark" : "primary-dark"),
+              (lanes & 738197589) === lanes ? "tertiary-dark" : "primary-dark"),
             (reusableLaneOptions.start = previousRenderStartTime),
             (reusableLaneOptions.end = endTime),
             performance.measure(
               (lanes & 536870912) === lanes
                 ? "Prewarm"
-                : (lanes & 201326741) === lanes
+                : (lanes & 201326677) === lanes
                   ? "Interrupted Hydration"
                   : "Interrupted Render",
               reusableLaneOptions
@@ -16700,7 +16481,7 @@
         }
         finalizeRender(workInProgressRootRenderLanes, renderStartTime);
       }
-      if (0 !== (lanes & 3) || 0 !== (lanes & 124)) {
+      if (0 !== (lanes & 3) || 0 !== (lanes & 60)) {
         previousRenderStartTime =
           0 <= blockingUpdateTime && blockingUpdateTime < blockingClampTime
             ? blockingClampTime
@@ -16743,7 +16524,7 @@
           0 < previousRenderStartTime &&
             ((reusableLaneDevToolDetails.color = isSpawnedUpdate
               ? "error"
-              : (lanes & 738197653) === lanes
+              : (lanes & 738197589) === lanes
                 ? "tertiary-light"
                 : "primary-light"),
             (reusableLaneOptions.start = previousRenderStartTime),
@@ -16756,7 +16537,7 @@
         blockingEventIsRepeat = !0;
         blockingSpawnedUpdate = !1;
       }
-      0 !== (lanes & 4194048) &&
+      0 !== (lanes & 4194176) &&
         ((previousRenderStartTime =
           0 <= transitionStartTime && transitionStartTime < transitionClampTime
             ? transitionClampTime
@@ -16847,6 +16628,7 @@
       workInProgressRootRecoverableErrors = workInProgressRootConcurrentErrors =
         null;
       workInProgressRootDidIncludeRecursiveRenderUpdate = !1;
+      workInProgressAppearingViewTransitions = null;
       0 !== (lanes & 8) && (lanes |= lanes & 32);
       endTime = root.entangledLanes;
       if (0 !== endTime)
@@ -16905,7 +16687,7 @@
     function renderDidSuspendDelayIfPossible() {
       workInProgressRootExitStatus = RootSuspendedWithDelay;
       workInProgressRootDidSkipSuspendedSiblings ||
-        ((workInProgressRootRenderLanes & 4194048) !==
+        ((workInProgressRootRenderLanes & 4194176) !==
           workInProgressRootRenderLanes &&
           null !== suspenseHandlerStackCursor.current) ||
         (workInProgressRootIsPrerendering = !0);
@@ -16924,6 +16706,18 @@
         ? (workInProgressRootConcurrentErrors = [error])
         : workInProgressRootConcurrentErrors.push(error);
     }
+    function trackAppearingViewTransition(instance, name) {
+      if (null === workInProgressAppearingViewTransitions) {
+        if (
+          (workInProgressRootRenderLanes & 335544192) !==
+          workInProgressRootRenderLanes
+        )
+          return;
+        workInProgressAppearingViewTransitions = new Map();
+      }
+      instance.paired = null;
+      workInProgressAppearingViewTransitions.set(name, instance);
+    }
     function renderRootSync(root, lanes, shouldYieldForPrerendering) {
       var prevExecutionContext = executionContext;
       executionContext |= RenderContext;
@@ -17366,6 +17160,7 @@
       lanes,
       recoverableErrors,
       transitions,
+      appearingViewTransitions,
       didIncludeRenderPhaseUpdate,
       spawnedLane,
       updatedLanes,
@@ -17404,9 +17199,7 @@
               completedRenderEndTime,
               lanes
             );
-      if (null === finishedWork)
-        null !== root.stoppingGestures && stopCompletedGestures(root);
-      else {
+      if (null !== finishedWork) {
         0 === lanes &&
           console.error(
             "finishedLanes should not be empty during a commit. This is a bug in React."
@@ -17418,7 +17211,6 @@
         didIncludeRenderPhaseUpdate =
           finishedWork.lanes | finishedWork.childLanes;
         didIncludeRenderPhaseUpdate |= concurrentlyUpdatedLanes;
-        null === root.pendingGestures && (didIncludeRenderPhaseUpdate &= -65);
         markRootFinished(
           root,
           lanes,
@@ -17436,68 +17228,62 @@
         pendingEffectsRemainingLanes = didIncludeRenderPhaseUpdate;
         pendingPassiveTransitions = transitions;
         pendingRecoverableErrors = recoverableErrors;
+        pendingViewTransitionEvents = null;
         pendingEffectsRenderEndTime = completedRenderEndTime;
         pendingSuspendedCommitReason = suspendedCommitReason;
-        if (64 === lanes) commitGestureOnRoot(root, finishedWork);
-        else {
-          pendingViewTransitionEvents = null;
-          (lanes & 335544064) === lanes
-            ? ((pendingTransitionTypes = ReactSharedInternals.V),
-              (ReactSharedInternals.V = null),
-              (recoverableErrors = 10262))
-            : ((pendingTransitionTypes = null), (recoverableErrors = 10256));
-          0 !== finishedWork.actualDuration ||
-          0 !== (finishedWork.subtreeFlags & recoverableErrors) ||
-          0 !== (finishedWork.flags & recoverableErrors)
-            ? ((root.callbackNode = null),
-              (root.callbackPriority = 0),
-              scheduleCallback$1(NormalPriority$1, function () {
-                schedulerEvent = window.event;
-                flushPassiveEffects(!0);
-                return null;
-              }))
-            : ((root.callbackNode = null), (root.callbackPriority = 0));
-          commitErrors = null;
-          commitStartTime = now();
-          suspendedCommitReason === SUSPENDED_COMMIT
-            ? logSuspendedCommitPhase(completedRenderEndTime, commitStartTime)
-            : suspendedCommitReason === THROTTLED_COMMIT &&
-              logSuspenseThrottlePhase(completedRenderEndTime, commitStartTime);
-          suspendedCommitReason = 0 !== (finishedWork.flags & 13878);
-          if (
-            0 !== (finishedWork.subtreeFlags & 13878) ||
-            suspendedCommitReason
-          ) {
-            suspendedCommitReason = ReactSharedInternals.T;
-            ReactSharedInternals.T = null;
-            completedRenderEndTime = ReactDOMSharedInternals.p;
-            ReactDOMSharedInternals.p = DiscreteEventPriority;
-            recoverableErrors = executionContext;
-            executionContext |= CommitContext;
-            try {
-              commitBeforeMutationEffects(root, finishedWork, lanes);
-            } finally {
-              (executionContext = recoverableErrors),
-                (ReactDOMSharedInternals.p = completedRenderEndTime),
-                (ReactSharedInternals.T = suspendedCommitReason);
-            }
+        recoverableErrors = (lanes & 335544192) === lanes ? 10262 : 10256;
+        0 !== finishedWork.actualDuration ||
+        0 !== (finishedWork.subtreeFlags & recoverableErrors) ||
+        0 !== (finishedWork.flags & recoverableErrors)
+          ? ((root.callbackNode = null),
+            (root.callbackPriority = 0),
+            scheduleCallback$1(NormalPriority$1, function () {
+              schedulerEvent = window.event;
+              flushPassiveEffects(!0);
+              return null;
+            }))
+          : ((root.callbackNode = null), (root.callbackPriority = 0));
+        commitErrors = null;
+        commitStartTime = now();
+        suspendedCommitReason === SUSPENDED_COMMIT
+          ? logSuspendedCommitPhase(completedRenderEndTime, commitStartTime)
+          : suspendedCommitReason === THROTTLED_COMMIT &&
+            logSuspenseThrottlePhase(completedRenderEndTime, commitStartTime);
+        suspendedCommitReason = 0 !== (finishedWork.flags & 13878);
+        if (
+          0 !== (finishedWork.subtreeFlags & 13878) ||
+          suspendedCommitReason
+        ) {
+          suspendedCommitReason = ReactSharedInternals.T;
+          ReactSharedInternals.T = null;
+          completedRenderEndTime = ReactDOMSharedInternals.p;
+          ReactDOMSharedInternals.p = DiscreteEventPriority;
+          recoverableErrors = executionContext;
+          executionContext |= CommitContext;
+          try {
+            commitBeforeMutationEffects(
+              root,
+              finishedWork,
+              lanes,
+              appearingViewTransitions
+            );
+          } finally {
+            (executionContext = recoverableErrors),
+              (ReactDOMSharedInternals.p = completedRenderEndTime),
+              (ReactSharedInternals.T = suspendedCommitReason);
           }
-          finishedWork = shouldStartViewTransition;
-          null !== root.stoppingGestures &&
-            (stopCompletedGestures(root), (finishedWork = !1));
-          pendingEffectsStatus = PENDING_MUTATION_PHASE;
-          (finishedWork &&
-            startViewTransition(
-              root.containerInfo,
-              pendingTransitionTypes,
-              flushMutationEffects,
-              flushLayoutEffects,
-              flushAfterMutationEffects,
-              flushSpawnedWork,
-              flushPassiveEffects
-            )) ||
-            (flushMutationEffects(), flushLayoutEffects(), flushSpawnedWork());
         }
+        pendingEffectsStatus = PENDING_MUTATION_PHASE;
+        (shouldStartViewTransition &&
+          startViewTransition(
+            root.containerInfo,
+            flushMutationEffects,
+            flushLayoutEffects,
+            flushAfterMutationEffects,
+            flushSpawnedWork,
+            flushPassiveEffects
+          )) ||
+          (flushMutationEffects(), flushLayoutEffects(), flushSpawnedWork());
       }
     }
     function flushAfterMutationEffects() {
@@ -17706,14 +17492,14 @@
             (reusableLaneOptions.start = completedRenderEndTime),
             (reusableLaneOptions.end = suspendedCommitReason),
             performance.measure("Commit", reusableLaneOptions));
-        completedRenderEndTime = (lanes & 335544064) === lanes ? 10262 : 10256;
+        completedRenderEndTime = (lanes & 335544192) === lanes ? 10262 : 10256;
         (completedRenderEndTime =
           0 !== finishedWork.actualDuration ||
           0 !== (finishedWork.subtreeFlags & completedRenderEndTime) ||
           0 !== (finishedWork.flags & completedRenderEndTime))
           ? (pendingEffectsStatus = PENDING_PASSIVE_PHASE)
           : ((pendingEffectsStatus = NO_PENDING_EFFECTS),
-            (pendingFinishedWork = pendingEffectsRoot = null),
+            (pendingEffectsRoot = null),
             releaseRootPooledCache(root, root.pendingLanes),
             (nestedPassiveUpdateCount = 0),
             (rootWithPassiveNestedUpdates = null));
@@ -17788,21 +17574,17 @@
           }
         }
         recoverableErrors = pendingViewTransitionEvents;
-        onRecoverableError = pendingTransitionTypes;
-        pendingTransitionTypes = null;
         if (null !== recoverableErrors)
           for (
-            pendingViewTransitionEvents = null,
-              null === onRecoverableError && (onRecoverableError = []),
-              recoverableError = 0;
-            recoverableError < recoverableErrors.length;
-            recoverableError++
+            pendingViewTransitionEvents = null, onRecoverableError = 0;
+            onRecoverableError < recoverableErrors.length;
+            onRecoverableError++
           )
-            (0, recoverableErrors[recoverableError])(onRecoverableError);
+            (0, recoverableErrors[onRecoverableError])();
         0 !== (pendingEffectsLanes & 3) && flushPendingEffects();
         ensureRootIsScheduled(root);
         suspendedCommitReason = root.pendingLanes;
-        0 !== (lanes & 4194090) && 0 !== (suspendedCommitReason & 42)
+        0 !== (lanes & 4194218) && 0 !== (suspendedCommitReason & 42)
           ? ((nestedUpdateScheduled = !0),
             root === rootWithNestedUpdates
               ? nestedUpdateCount++
@@ -17812,71 +17594,6 @@
         flushSyncWorkAcrossRoots_impl(0, !1);
       }
     }
-    function commitGestureOnRoot(root) {
-      var finishedGesture = root.pendingGestures;
-      if (null === finishedGesture) ensureRootIsScheduled(root);
-      else {
-        deleteScheduledGesture(root, finishedGesture);
-        var prevTransition = ReactSharedInternals.T,
-          previousPriority = ReactDOMSharedInternals.p,
-          prevExecutionContext = executionContext;
-        executionContext |= CommitContext;
-        executionContext = prevExecutionContext;
-        ReactDOMSharedInternals.p = previousPriority;
-        ReactSharedInternals.T = prevTransition;
-        pendingTransitionTypes = null;
-        pendingEffectsStatus = PENDING_GESTURE_MUTATION_PHASE;
-        finishedGesture.running = startGestureTransition(
-          root.containerInfo,
-          pendingTransitionTypes,
-          flushGestureMutations,
-          flushGestureAnimations
-        );
-      }
-    }
-    function flushGestureMutations() {
-      if (pendingEffectsStatus === PENDING_GESTURE_MUTATION_PHASE) {
-        pendingEffectsStatus = NO_PENDING_EFFECTS;
-        var root = pendingEffectsRoot,
-          prevTransition = ReactSharedInternals.T;
-        ReactSharedInternals.T = null;
-        var previousPriority = ReactDOMSharedInternals.p;
-        ReactDOMSharedInternals.p = DiscreteEventPriority;
-        var prevExecutionContext = executionContext;
-        executionContext |= CommitContext;
-        try {
-          cancelRootViewTransitionName(root.containerInfo);
-        } finally {
-          (executionContext = prevExecutionContext),
-            (ReactDOMSharedInternals.p = previousPriority),
-            (ReactSharedInternals.T = prevTransition);
-        }
-        pendingEffectsStatus = PENDING_GESTURE_ANIMATION_PHASE;
-      }
-    }
-    function flushGestureAnimations() {
-      flushGestureMutations();
-      if (pendingEffectsStatus === PENDING_GESTURE_ANIMATION_PHASE) {
-        pendingEffectsStatus = NO_PENDING_EFFECTS;
-        var root = pendingEffectsRoot;
-        pendingFinishedWork = pendingEffectsRoot = null;
-        pendingEffectsLanes = 0;
-        var prevTransition = ReactSharedInternals.T;
-        ReactSharedInternals.T = null;
-        var previousPriority = ReactDOMSharedInternals.p;
-        ReactDOMSharedInternals.p = DiscreteEventPriority;
-        var prevExecutionContext = executionContext;
-        executionContext |= CommitContext;
-        try {
-          restoreRootViewTransitionName(root.containerInfo);
-        } finally {
-          (executionContext = prevExecutionContext),
-            (ReactDOMSharedInternals.p = previousPriority),
-            (ReactSharedInternals.T = prevTransition);
-        }
-        ensureRootIsScheduled(root);
-      }
-    }
     function makeErrorInfo(componentStack) {
       componentStack = { componentStack: componentStack };
       Object.defineProperty(componentStack, "digest", {
@@ -17895,8 +17612,6 @@
           ((root.pooledCache = null), releaseCache(remainingLanes)));
     }
     function flushPendingEffects(wasDelayedCommit) {
-      flushGestureMutations();
-      flushGestureAnimations();
       flushMutationEffects();
       flushLayoutEffects();
       flushSpawnedWork();
@@ -17922,7 +17637,7 @@
         priority = pendingEffectsRoot;
         var lanes = pendingEffectsLanes;
         pendingEffectsStatus = NO_PENDING_EFFECTS;
-        pendingFinishedWork = pendingEffectsRoot = null;
+        pendingEffectsRoot = null;
         pendingEffectsLanes = 0;
         if ((executionContext & (RenderContext | CommitContext)) !== NoContext)
           throw Error("Cannot flush passive effects while already rendering.");
@@ -18088,10 +17803,10 @@
       null !== pingCache && pingCache.delete(wakeable);
       root.pingedLanes |= root.suspendedLanes & pingedLanes;
       root.warmLanes &= ~pingedLanes;
-      0 !== (pingedLanes & 3) || 0 !== (pingedLanes & 124)
+      0 !== (pingedLanes & 3) || 0 !== (pingedLanes & 60)
         ? 0 > blockingUpdateTime &&
           (blockingClampTime = blockingUpdateTime = now())
-        : 0 !== (pingedLanes & 4194048) &&
+        : 0 !== (pingedLanes & 4194176) &&
           0 > transitionUpdateTime &&
           (transitionClampTime = transitionUpdateTime = now());
       isConcurrentActEnvironment() &&
@@ -18293,8 +18008,8 @@
                     (1 << (31 - clz32(42 | syncTransitionLanes) + 1)) - 1;
                   nextLanes &= pendingLanes & ~(suspendedLanes & ~pingedLanes);
                   nextLanes =
-                    nextLanes & 201326741
-                      ? (nextLanes & 201326741) | 1
+                    nextLanes & 201326677
+                      ? (nextLanes & 201326677) | 1
                       : nextLanes
                         ? nextLanes | 2
                         : 0;
@@ -18310,7 +18025,7 @@
                     null !== root.cancelPendingCommit ||
                       root.timeoutHandle !== noTimeout
                   )),
-                  (0 === (nextLanes & 3) && 64 !== nextLanes) ||
+                  0 === (nextLanes & 3) ||
                     checkIfRootIsPrerendering(root, nextLanes) ||
                     ((didPerformSomeWork = !0),
                     performSyncWorkOnRoot(root, nextLanes));
@@ -18346,10 +18061,7 @@
             null === prev ? (firstScheduledRoot = next) : (prev.next = next),
             null === next && (lastScheduledRoot = prev);
         else if (
-          ((prev = root),
-          0 !== syncTransitionLanes ||
-            0 !== (nextLanes & 3) ||
-            64 === nextLanes)
+          ((prev = root), 0 !== syncTransitionLanes || 0 !== (nextLanes & 3))
         )
           mightHavePendingSyncWork = !0;
         root = next;
@@ -18783,15 +18495,23 @@
           var nodeTag = targetInst$jscomp$0.tag;
           if (3 === nodeTag || 4 === nodeTag) {
             var container = targetInst$jscomp$0.stateNode.containerInfo;
-            if (container === targetContainer) break;
+            if (
+              container === targetContainer ||
+              (8 === container.nodeType &&
+                container.parentNode === targetContainer)
+            )
+              break;
             if (4 === nodeTag)
               for (nodeTag = targetInst$jscomp$0.return; null !== nodeTag; ) {
                 var grandTag = nodeTag.tag;
-                if (
-                  (3 === grandTag || 4 === grandTag) &&
-                  nodeTag.stateNode.containerInfo === targetContainer
-                )
-                  return;
+                if (3 === grandTag || 4 === grandTag)
+                  if (
+                    ((grandTag = nodeTag.stateNode.containerInfo),
+                    grandTag === targetContainer ||
+                      (8 === grandTag.nodeType &&
+                        grandTag.parentNode === targetContainer))
+                  )
+                    return;
                 nodeTag = nodeTag.return;
               }
             for (; null !== container; ) {
@@ -19435,12 +19155,12 @@
       switch (key) {
         case "children":
           if ("string" === typeof value)
-            validateTextNesting(value, tag, !1),
+            validateTextNesting(value, tag),
               "body" === tag ||
                 ("textarea" === tag && "" === value) ||
                 setTextContent(domElement, value);
           else if ("number" === typeof value || "bigint" === typeof value)
-            validateTextNesting("" + value, tag, !1),
+            validateTextNesting("" + value, tag),
               "body" !== tag && setTextContent(domElement, "" + value);
           else return;
           break;
@@ -21625,58 +21345,22 @@
     function commitTextUpdate(textInstance, oldText, newText) {
       textInstance.nodeValue = newText;
     }
-    function isSingletonScope(type) {
-      return "head" === type;
-    }
     function removeChild(parentInstance, child) {
       parentInstance.removeChild(child);
     }
     function removeChildFromContainer(container, child) {
-      (9 === container.nodeType
-        ? container.body
-        : "HTML" === container.nodeName
-          ? container.ownerDocument.body
-          : container
-      ).removeChild(child);
+      8 === container.nodeType
+        ? container.parentNode.removeChild(child)
+        : container.removeChild(child);
     }
     function clearSuspenseBoundary(parentInstance, suspenseInstance) {
       var node = suspenseInstance,
-        possiblePreambleContribution = 0,
         depth = 0;
       do {
         var nextNode = node.nextSibling;
         parentInstance.removeChild(node);
         if (nextNode && 8 === nextNode.nodeType)
           if (((node = nextNode.data), node === SUSPENSE_END_DATA)) {
-            if (
-              0 < possiblePreambleContribution &&
-              8 > possiblePreambleContribution
-            ) {
-              node = possiblePreambleContribution;
-              var ownerDocument = parentInstance.ownerDocument;
-              node & PREAMBLE_CONTRIBUTION_HTML &&
-                releaseSingletonInstance(ownerDocument.documentElement);
-              node & PREAMBLE_CONTRIBUTION_BODY &&
-                releaseSingletonInstance(ownerDocument.body);
-              if (node & PREAMBLE_CONTRIBUTION_HEAD)
-                for (
-                  node = ownerDocument.head,
-                    releaseSingletonInstance(node),
-                    ownerDocument = node.firstChild;
-                  ownerDocument;
-
-                ) {
-                  var nextNode$jscomp$0 = ownerDocument.nextSibling,
-                    nodeName = ownerDocument.nodeName;
-                  ownerDocument[internalHoistableMarker] ||
-                    "SCRIPT" === nodeName ||
-                    "STYLE" === nodeName ||
-                    ("LINK" === nodeName &&
-                      "stylesheet" === ownerDocument.rel.toLowerCase()) ||
-                    node.removeChild(ownerDocument);
-                  ownerDocument = nextNode$jscomp$0;
-                }
-            }
             if (0 === depth) {
               parentInstance.removeChild(nextNode);
               retryIfBlockedOn(suspenseInstance);
@@ -21684,12 +21368,10 @@
             }
             depth--;
           } else
-            node === SUSPENSE_START_DATA ||
-            node === SUSPENSE_PENDING_START_DATA ||
-            node === SUSPENSE_FALLBACK_START_DATA
-              ? depth++
-              : (possiblePreambleContribution = node.charCodeAt(0) - 48);
-        else possiblePreambleContribution = 0;
+            (node !== SUSPENSE_START_DATA &&
+              node !== SUSPENSE_PENDING_START_DATA &&
+              node !== SUSPENSE_FALLBACK_START_DATA) ||
+              depth++;
         node = nextNode;
       } while (node);
       retryIfBlockedOn(suspenseInstance);
@@ -21740,36 +21422,6 @@
       instance.style.viewTransitionClass =
         null == props || "boolean" === typeof props ? "" : ("" + props).trim();
     }
-    function cancelRootViewTransitionName(rootContainer) {
-      rootContainer =
-        9 === rootContainer.nodeType
-          ? rootContainer.documentElement
-          : rootContainer.ownerDocument.documentElement;
-      null !== rootContainer &&
-        "" === rootContainer.style.viewTransitionName &&
-        ((rootContainer.style.viewTransitionName = "none"),
-        rootContainer.animate(
-          { opacity: [0, 0], pointerEvents: ["none", "none"] },
-          {
-            duration: 0,
-            fill: "forwards",
-            pseudoElement: "::view-transition-group(root)"
-          }
-        ),
-        rootContainer.animate(
-          { width: [0, 0], height: [0, 0] },
-          { duration: 0, fill: "forwards", pseudoElement: "::view-transition" }
-        ));
-    }
-    function restoreRootViewTransitionName(rootContainer) {
-      rootContainer =
-        9 === rootContainer.nodeType
-          ? rootContainer.documentElement
-          : rootContainer.ownerDocument.documentElement;
-      null !== rootContainer &&
-        "none" === rootContainer.style.viewTransitionName &&
-        (rootContainer.style.viewTransitionName = "");
-    }
     function measureInstance(instance) {
       var ownerWindow = instance.ownerDocument.defaultView,
         rect = instance.getBoundingClientRect();
@@ -21793,7 +21445,6 @@
     }
     function startViewTransition(
       rootContainer,
-      transitionTypes,
       mutationCallback,
       layoutCallback,
       afterMutationCallback,
@@ -21840,7 +21491,7 @@
               );
             afterMutationCallback();
           },
-          types: transitionTypes
+          types: null
         });
         ownerDocument.__reactViewTransition = transition;
         transition.ready.then(void 0, function (reason) {
@@ -21853,8 +21504,7 @@
         });
         transition.ready.then(spawnedWorkCallback, spawnedWorkCallback);
         transition.finished.then(function () {
-          ownerDocument.__reactViewTransition === transition &&
-            (ownerDocument.__reactViewTransition = null);
+          ownerDocument.__reactViewTransition = null;
           passiveCallback();
         });
         return !0;
@@ -21862,42 +21512,6 @@
         return !1;
       }
     }
-    function startGestureTransition(
-      rootContainer,
-      transitionTypes,
-      mutationCallback,
-      animateCallback
-    ) {
-      var ownerDocument =
-        9 === rootContainer.nodeType
-          ? rootContainer
-          : rootContainer.ownerDocument;
-      try {
-        var transition = ownerDocument.startViewTransition({
-          update: mutationCallback,
-          types: transitionTypes
-        });
-        ownerDocument.__reactViewTransition = transition;
-        var blockingAnim = null;
-        rootContainer = function () {
-          blockingAnim = ownerDocument.documentElement.animate([{}, {}], {
-            pseudoElement: "::view-transition",
-            duration: 1
-          });
-          blockingAnim.pause();
-          animateCallback();
-        };
-        transition.ready.then(rootContainer, rootContainer);
-        transition.finished.then(function () {
-          null !== blockingAnim && blockingAnim.cancel();
-          ownerDocument.__reactViewTransition === transition &&
-            (ownerDocument.__reactViewTransition = null);
-        });
-        return transition;
-      } catch (x) {
-        return mutationCallback(), animateCallback(), null;
-      }
-    }
     function ViewTransitionPseudoElement(pseudo, name) {
       this._scope = document.documentElement;
       this._selector = "::view-transition-" + pseudo + "(" + name + ")";
@@ -21911,50 +21525,6 @@
         new: new ViewTransitionPseudoElement("new", name)
       };
     }
-    function getCurrentGestureOffset(provider) {
-      provider = provider.currentTime;
-      if (null === provider)
-        throw Error(
-          "Cannot start a gesture with a disconnected AnimationTimeline."
-        );
-      return "number" === typeof provider ? provider : provider.value;
-    }
-    function subscribeToGestureDirection(
-      provider,
-      currentOffset,
-      directionCallback
-    ) {
-      function rafCallback() {
-        var newTime = provider.currentTime;
-        null !== newTime &&
-          ((newTime = "number" === typeof newTime ? newTime : newTime.value),
-          newTime !== currentOffset &&
-            directionCallback(newTime > currentOffset));
-        callbackID = requestAnimationFrame(rafCallback);
-      }
-      if (
-        "function" === typeof ScrollTimeline &&
-        provider instanceof ScrollTimeline
-      ) {
-        var element = provider.source,
-          scrollCallback = function () {
-            var newTime = provider.currentTime;
-            null !== newTime &&
-              ((newTime =
-                "number" === typeof newTime ? newTime : newTime.value),
-              newTime !== currentOffset &&
-                directionCallback(newTime > currentOffset));
-          };
-        element.addEventListener("scroll", scrollCallback, !1);
-        return function () {
-          element.removeEventListener("scroll", scrollCallback, !1);
-        };
-      }
-      var callbackID = requestAnimationFrame(rafCallback);
-      return function () {
-        cancelAnimationFrame(callbackID);
-      };
-    }
     function clearContainerSparingly(container) {
       var nextNode = container.firstChild;
       nextNode && 10 === nextNode.nodeType && (nextNode = nextNode.nextSibling);
@@ -22295,10 +21865,7 @@
       instance,
       internalInstanceHandle
     ) {
-      if (
-        !instance[internalContainerInstanceKey] &&
-        getInstanceFromNode(instance)
-      ) {
+      if (getInstanceFromNode(instance)) {
         var tagName = instance.tagName.toLowerCase();
         console.error(
           "You are mounting a new %s component when a previous one has not first unmounted. It is an error to render more than one %s component at a time and attributes and children of these components will likely fail in unpredictable ways. Please only render a single instance of <%s> and if you need to mount a new one, ensure any previous ones have unmounted first.",
@@ -22323,17 +21890,10 @@
       instance[internalInstanceKey] = internalInstanceHandle;
       instance[internalPropsKey] = props;
     }
-    function releaseSingletonInstance(instance) {
-      for (var attributes = instance.attributes; attributes.length; )
-        instance.removeAttributeNode(attributes[0]);
-      detachDeletedInstance(instance);
-    }
     function getHoistableRoot(container) {
       return "function" === typeof container.getRootNode
         ? container.getRootNode()
-        : 9 === container.nodeType
-          ? container
-          : container.ownerDocument;
+        : container.ownerDocument;
     }
     function preconnectAs(rel, href, crossOrigin) {
       var ownerDocument = globalDocument;
@@ -23055,7 +22615,6 @@
       this.pooledCache = null;
       this.pooledCacheLanes = 0;
       this.formState = formState;
-      this.stoppingGestures = this.pendingGestures = null;
       this.incompleteTransitions = new Map();
       this.passiveEffectDuration = this.effectDuration = -0;
       this.memoizedUpdaters = new Set();
@@ -23833,7 +23392,7 @@
       clz32 = Math.clz32 ? Math.clz32 : clz32Fallback,
       log = Math.log,
       LN2 = Math.LN2,
-      nextTransitionLane = 256,
+      nextTransitionLane = 128,
       nextRetryLane = 4194304,
       DiscreteEventPriority = 2,
       ContinuousEventPriority = 8,
@@ -23957,8 +23516,7 @@
         pTagInButtonScope: null,
         listItemTagAutoclosing: null,
         dlItemTagAutoclosing: null,
-        containerTagInScope: null,
-        implicitRootScope: !1
+        containerTagInScope: null
       },
       didWarn = {},
       shorthandToLonghand = {
@@ -25605,7 +25163,6 @@
         useCacheRefresh: throwInvalidHookError
       };
     ContextOnlyDispatcher.useEffectEvent = throwInvalidHookError;
-    ContextOnlyDispatcher.useSwipeTransition = throwInvalidHookError;
     var HooksDispatcherOnMountInDEV = null,
       HooksDispatcherOnMountWithHookTypesInDEV = null,
       HooksDispatcherOnUpdateInDEV = null,
@@ -25629,11 +25186,11 @@
         mountHookTypesDev();
         return readContext(context);
       },
-      useEffect: function (create, createDeps) {
+      useEffect: function (create, deps) {
         currentHookNameInDev = "useEffect";
         mountHookTypesDev();
-        checkDepsAreArrayDev(createDeps);
-        return mountEffect(create, createDeps);
+        checkDepsAreArrayDev(deps);
+        return mountEffect(create, deps);
       },
       useImperativeHandle: function (ref, create, deps) {
         currentHookNameInDev = "useImperativeHandle";
@@ -25751,11 +25308,6 @@
         currentHookNameInDev = "useEffectEvent";
         mountHookTypesDev();
         return mountEvent(callback);
-      },
-      useSwipeTransition: function (previous, current) {
-        currentHookNameInDev = "useSwipeTransition";
-        mountHookTypesDev();
-        return mountSwipeTransition(previous, current);
       }
     };
     HooksDispatcherOnMountWithHookTypesInDEV = {
@@ -25773,10 +25325,10 @@
         updateHookTypesDev();
         return readContext(context);
       },
-      useEffect: function (create, createDeps) {
+      useEffect: function (create, deps) {
         currentHookNameInDev = "useEffect";
         updateHookTypesDev();
-        return mountEffect(create, createDeps);
+        return mountEffect(create, deps);
       },
       useImperativeHandle: function (ref, create, deps) {
         currentHookNameInDev = "useImperativeHandle";
@@ -25890,11 +25442,6 @@
         currentHookNameInDev = "useEffectEvent";
         updateHookTypesDev();
         return mountEvent(callback);
-      },
-      useSwipeTransition: function (previous, current, next) {
-        currentHookNameInDev = "useSwipeTransition";
-        updateHookTypesDev();
-        return updateSwipeTransition(previous, current, next);
       }
     };
     HooksDispatcherOnUpdateInDEV = {
@@ -25912,10 +25459,10 @@
         updateHookTypesDev();
         return readContext(context);
       },
-      useEffect: function (create, createDeps) {
+      useEffect: function (create, deps) {
         currentHookNameInDev = "useEffect";
         updateHookTypesDev();
-        updateEffectImpl(2048, Passive, create, createDeps);
+        updateEffectImpl(2048, Passive, create, deps);
       },
       useImperativeHandle: function (ref, create, deps) {
         currentHookNameInDev = "useImperativeHandle";
@@ -26029,11 +25576,6 @@
         currentHookNameInDev = "useEffectEvent";
         updateHookTypesDev();
         return updateEvent(callback);
-      },
-      useSwipeTransition: function (previous, current, next) {
-        currentHookNameInDev = "useSwipeTransition";
-        updateHookTypesDev();
-        return updateSwipeTransition(previous, current, next);
       }
     };
     HooksDispatcherOnRerenderInDEV = {
@@ -26051,10 +25593,10 @@
         updateHookTypesDev();
         return readContext(context);
       },
-      useEffect: function (create, createDeps) {
+      useEffect: function (create, deps) {
         currentHookNameInDev = "useEffect";
         updateHookTypesDev();
-        updateEffectImpl(2048, Passive, create, createDeps);
+        updateEffectImpl(2048, Passive, create, deps);
       },
       useImperativeHandle: function (ref, create, deps) {
         currentHookNameInDev = "useImperativeHandle";
@@ -26168,11 +25710,6 @@
         currentHookNameInDev = "useEffectEvent";
         updateHookTypesDev();
         return updateEvent(callback);
-      },
-      useSwipeTransition: function (previous, current, next) {
-        currentHookNameInDev = "useSwipeTransition";
-        updateHookTypesDev();
-        return updateSwipeTransition(previous, current, next);
       }
     };
     InvalidNestedHooksDispatcherOnMountInDEV = {
@@ -26196,11 +25733,11 @@
         mountHookTypesDev();
         return readContext(context);
       },
-      useEffect: function (create, createDeps) {
+      useEffect: function (create, deps) {
         currentHookNameInDev = "useEffect";
         warnInvalidHookAccess();
         mountHookTypesDev();
-        return mountEffect(create, createDeps);
+        return mountEffect(create, deps);
       },
       useImperativeHandle: function (ref, create, deps) {
         currentHookNameInDev = "useImperativeHandle";
@@ -26332,12 +25869,6 @@
         warnInvalidHookAccess();
         mountHookTypesDev();
         return mountEvent(callback);
-      },
-      useSwipeTransition: function (previous, current) {
-        currentHookNameInDev = "useSwipeTransition";
-        warnInvalidHookAccess();
-        mountHookTypesDev();
-        return mountSwipeTransition(previous, current);
       }
     };
     InvalidNestedHooksDispatcherOnUpdateInDEV = {
@@ -26361,11 +25892,11 @@
         updateHookTypesDev();
         return readContext(context);
       },
-      useEffect: function (create, createDeps) {
+      useEffect: function (create, deps) {
         currentHookNameInDev = "useEffect";
         warnInvalidHookAccess();
         updateHookTypesDev();
-        updateEffectImpl(2048, Passive, create, createDeps);
+        updateEffectImpl(2048, Passive, create, deps);
       },
       useImperativeHandle: function (ref, create, deps) {
         currentHookNameInDev = "useImperativeHandle";
@@ -26497,12 +26028,6 @@
         warnInvalidHookAccess();
         updateHookTypesDev();
         return updateEvent(callback);
-      },
-      useSwipeTransition: function (previous, current, next) {
-        currentHookNameInDev = "useSwipeTransition";
-        warnInvalidHookAccess();
-        updateHookTypesDev();
-        return updateSwipeTransition(previous, current, next);
       }
     };
     InvalidNestedHooksDispatcherOnRerenderInDEV = {
@@ -26526,11 +26051,11 @@
         updateHookTypesDev();
         return readContext(context);
       },
-      useEffect: function (create, createDeps) {
+      useEffect: function (create, deps) {
         currentHookNameInDev = "useEffect";
         warnInvalidHookAccess();
         updateHookTypesDev();
-        updateEffectImpl(2048, Passive, create, createDeps);
+        updateEffectImpl(2048, Passive, create, deps);
       },
       useImperativeHandle: function (ref, create, deps) {
         currentHookNameInDev = "useImperativeHandle";
@@ -26662,12 +26187,6 @@
         warnInvalidHookAccess();
         updateHookTypesDev();
         return updateEvent(callback);
-      },
-      useSwipeTransition: function (previous, current, next) {
-        currentHookNameInDev = "useSwipeTransition";
-        warnInvalidHookAccess();
-        updateHookTypesDev();
-        return updateSwipeTransition(previous, current, next);
       }
     };
     var callComponent = {
@@ -26756,7 +26275,7 @@
         "react-stack-bottom-frame": function (effect) {
           null != effect.resourceKind &&
             console.error(
-              "Expected only SimpleEffects when enableUseEffectCRUDOverload is disabled, got %s",
+              "Expected only SimpleEffects when enableUseResourceEffectHook is disabled, got %s",
               effect.resourceKind
             );
           var create = effect.create;
@@ -26906,18 +26425,17 @@
       hasWarnedAboutUsingNoValuePropOnContextProvider = !1,
       didWarnAboutUndefinedSnapshotBeforeUpdate = null;
     didWarnAboutUndefinedSnapshotBeforeUpdate = new Set();
-    var shouldStartViewTransition = !1,
-      appearingViewTransitions = null,
-      viewTransitionCancelableChildren = null,
-      viewTransitionHostInstanceIdx = 0,
-      offscreenSubtreeIsHidden = !1,
+    var offscreenSubtreeIsHidden = !1,
       offscreenSubtreeWasHidden = !1,
       needsFormReset = !1,
       PossiblyWeakSet = "function" === typeof WeakSet ? WeakSet : Set,
       nextEffect = null,
       inProgressLanes = null,
       inProgressRoot = null,
+      shouldStartViewTransition = !1,
       viewTransitionContextChanged = !1,
+      viewTransitionCancelableChildren = null,
+      viewTransitionHostInstanceIdx = 0,
       hostParent = null,
       hostParentIsContainer = !1,
       currentHoistableRoot = null,
@@ -27008,6 +26526,7 @@
       workInProgressSuspendedRetryLanes = 0,
       workInProgressRootConcurrentErrors = null,
       workInProgressRootRecoverableErrors = null,
+      workInProgressAppearingViewTransitions = null,
       workInProgressRootDidIncludeRecursiveRenderUpdate = !1,
       globalMostRecentFallbackTime = 0,
       FALLBACK_THROTTLE_MS = 300,
@@ -27024,8 +26543,6 @@
       PENDING_AFTER_MUTATION_PHASE = 3,
       PENDING_SPAWNED_WORK = 4,
       PENDING_PASSIVE_PHASE = 5,
-      PENDING_GESTURE_MUTATION_PHASE = 6,
-      PENDING_GESTURE_ANIMATION_PHASE = 7,
       pendingEffectsStatus = 0,
       pendingEffectsRoot = null,
       pendingFinishedWork = null,
@@ -27035,7 +26552,6 @@
       pendingPassiveTransitions = null,
       pendingRecoverableErrors = null,
       pendingViewTransitionEvents = null,
-      pendingTransitionTypes = null,
       pendingSuspendedCommitReason = IMMEDIATE_COMMIT,
       NESTED_UPDATE_LIMIT = 50,
       nestedUpdateCount = 0,
@@ -27139,9 +26655,6 @@
       SUSPENSE_END_DATA = "/$",
       SUSPENSE_PENDING_START_DATA = "$?",
       SUSPENSE_FALLBACK_START_DATA = "$!",
-      PREAMBLE_CONTRIBUTION_HTML = 1,
-      PREAMBLE_CONTRIBUTION_BODY = 2,
-      PREAMBLE_CONTRIBUTION_HEAD = 4,
       FORM_STATE_IS_MATCHING = "F!",
       FORM_STATE_IS_NOT_MATCHING = "F",
       DOCUMENT_READY_STATE_COMPLETE = "complete",
@@ -27200,8 +26713,7 @@
       }
       return result;
     };
-    var previousHydratableOnEnteringScopedSingleton = null,
-      NotLoaded = 0,
+    var NotLoaded = 0,
       Loaded = 1,
       Errored = 2,
       Settled = 3,
@@ -27616,11 +27128,11 @@
     };
     (function () {
       var isomorphicReactPackageVersion = React.version;
-      if ("19.1.0-experimental-d55cc79b-20250228" !== isomorphicReactPackageVersion)
+      if ("19.1.0-experimental-b3a95caf-20250113" !== isomorphicReactPackageVersion)
         throw Error(
           'Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:\n  - react:      ' +
             (isomorphicReactPackageVersion +
-              "\n  - react-dom:  19.1.0-experimental-d55cc79b-20250228\nLearn more: https://react.dev/warnings/version-mismatch")
+              "\n  - react-dom:  19.1.0-experimental-b3a95caf-20250113\nLearn more: https://react.dev/warnings/version-mismatch")
         );
     })();
     ("function" === typeof Map &&
@@ -27657,10 +27169,10 @@
       !(function () {
         var internals = {
           bundleType: 1,
-          version: "19.1.0-experimental-d55cc79b-20250228",
+          version: "19.1.0-experimental-b3a95caf-20250113",
           rendererPackageName: "react-dom",
           currentDispatcherRef: ReactSharedInternals,
-          reconcilerVersion: "19.1.0-experimental-d55cc79b-20250228"
+          reconcilerVersion: "19.1.0-experimental-b3a95caf-20250113"
         };
         internals.overrideHookState = overrideHookState;
         internals.overrideHookStateDeletePath = overrideHookStateDeletePath;
@@ -27750,7 +27262,9 @@
         null
       );
       container[internalContainerInstanceKey] = options.current;
-      listenToAllSupportedEvents(container);
+      listenToAllSupportedEvents(
+        8 === container.nodeType ? container.parentNode : container
+      );
       return new ReactDOMRoot(options);
     };
     exports.createTestNameSelector = function (id) {
@@ -27968,5 +27482,5 @@
         }
       };
     };
-    exports.version = "19.1.0-experimental-d55cc79b-20250228";
+    exports.version = "19.1.0-experimental-b3a95caf-20250113";
   })();
diff --git a/node_modules/react-dom/cjs/react-dom-unstable_testing.production.js b/node_modules/react-dom/cjs/react-dom-unstable_testing.production.js
index 3d97cf6..a0b17ff 100644
--- a/node_modules/react-dom/cjs/react-dom-unstable_testing.production.js
+++ b/node_modules/react-dom/cjs/react-dom-unstable_testing.production.js
@@ -259,36 +259,38 @@ function pushHostContainer(fiber, nextRootInstance) {
   push(rootInstanceStackCursor, nextRootInstance);
   push(contextFiberStackCursor, fiber);
   push(contextStackCursor, null);
-  switch (nextRootInstance.nodeType) {
+  fiber = nextRootInstance.nodeType;
+  switch (fiber) {
     case 9:
     case 11:
-      fiber = (fiber = nextRootInstance.documentElement)
-        ? (fiber = fiber.namespaceURI)
-          ? getOwnHostContext(fiber)
+      nextRootInstance = (nextRootInstance = nextRootInstance.documentElement)
+        ? (nextRootInstance = nextRootInstance.namespaceURI)
+          ? getOwnHostContext(nextRootInstance)
           : 0
         : 0;
       break;
     default:
       if (
-        ((fiber = nextRootInstance.tagName),
-        (nextRootInstance = nextRootInstance.namespaceURI))
+        ((fiber = 8 === fiber ? nextRootInstance.parentNode : nextRootInstance),
+        (nextRootInstance = fiber.tagName),
+        (fiber = fiber.namespaceURI))
       )
-        (nextRootInstance = getOwnHostContext(nextRootInstance)),
-          (fiber = getChildHostContextProd(nextRootInstance, fiber));
+        (fiber = getOwnHostContext(fiber)),
+          (nextRootInstance = getChildHostContextProd(fiber, nextRootInstance));
       else
-        switch (fiber) {
+        switch (nextRootInstance) {
           case "svg":
-            fiber = 1;
+            nextRootInstance = 1;
             break;
           case "math":
-            fiber = 2;
+            nextRootInstance = 2;
             break;
           default:
-            fiber = 0;
+            nextRootInstance = 0;
         }
   }
   pop(contextStackCursor);
-  push(contextStackCursor, fiber);
+  push(contextStackCursor, nextRootInstance);
 }
 function popHostContainer() {
   pop(contextStackCursor);
@@ -340,7 +342,7 @@ function clz32Fallback(x) {
   x >>>= 0;
   return 0 === x ? 32 : (31 - ((log(x) / LN2) | 0)) | 0;
 }
-var nextTransitionLane = 256,
+var nextTransitionLane = 128,
   nextRetryLane = 4194304;
 function getHighestPriorityLanes(lanes) {
   var pendingSyncLanes = lanes & 42;
@@ -361,7 +363,6 @@ function getHighestPriorityLanes(lanes) {
     case 64:
       return 64;
     case 128:
-      return 128;
     case 256:
     case 512:
     case 1024:
@@ -376,7 +377,7 @@ function getHighestPriorityLanes(lanes) {
     case 524288:
     case 1048576:
     case 2097152:
-      return lanes & 4194048;
+      return lanes & 4194176;
     case 4194304:
     case 8388608:
     case 16777216:
@@ -432,7 +433,7 @@ function getNextLanes(root, wipLanes, rootHasPendingCommit) {
         ((suspendedLanes = nextLanes & -nextLanes),
         (rootHasPendingCommit = wipLanes & -wipLanes),
         suspendedLanes >= rootHasPendingCommit ||
-          (32 === suspendedLanes && 0 !== (rootHasPendingCommit & 4194048)))
+          (32 === suspendedLanes && 0 !== (rootHasPendingCommit & 4194176)))
       ? wipLanes
       : nextLanes;
 }
@@ -450,10 +451,10 @@ function computeExpirationTime(lane, currentTime) {
     case 2:
     case 4:
     case 8:
-    case 64:
       return currentTime + 250;
     case 16:
     case 32:
+    case 64:
     case 128:
     case 256:
     case 512:
@@ -488,7 +489,7 @@ function computeExpirationTime(lane, currentTime) {
 function claimNextTransitionLane() {
   var lane = nextTransitionLane;
   nextTransitionLane <<= 1;
-  0 === (nextTransitionLane & 4194048) && (nextTransitionLane = 256);
+  0 === (nextTransitionLane & 4194176) && (nextTransitionLane = 128);
   return lane;
 }
 function claimNextRetryLane() {
@@ -562,7 +563,7 @@ function markSpawnedDeferredLane(root, spawnedLane, entangledLanes) {
   root.entanglements[spawnedLaneIndex] =
     root.entanglements[spawnedLaneIndex] |
     1073741824 |
-    (entangledLanes & 4194090);
+    (entangledLanes & 4194218);
 }
 function markRootEntangled(root, entangledLanes) {
   var rootEntangledLanes = (root.entangledLanes |= entangledLanes);
@@ -585,6 +586,7 @@ function getBumpedLaneForHydrationByLane(lane) {
     case 32:
       lane = 16;
       break;
+    case 128:
     case 256:
     case 512:
     case 1024:
@@ -603,7 +605,7 @@ function getBumpedLaneForHydrationByLane(lane) {
     case 8388608:
     case 16777216:
     case 33554432:
-      lane = 128;
+      lane = 64;
       break;
     case 268435456:
       lane = 134217728;
@@ -2107,19 +2109,19 @@ function getTargetInstForChangeEvent(domEventName, targetInst) {
 }
 var isInputEventSupported = !1;
 if (canUseDOM) {
-  var JSCompiler_inline_result$jscomp$289;
+  var JSCompiler_inline_result$jscomp$286;
   if (canUseDOM) {
-    var isSupported$jscomp$inline_431 = "oninput" in document;
-    if (!isSupported$jscomp$inline_431) {
-      var element$jscomp$inline_432 = document.createElement("div");
-      element$jscomp$inline_432.setAttribute("oninput", "return;");
-      isSupported$jscomp$inline_431 =
-        "function" === typeof element$jscomp$inline_432.oninput;
+    var isSupported$jscomp$inline_428 = "oninput" in document;
+    if (!isSupported$jscomp$inline_428) {
+      var element$jscomp$inline_429 = document.createElement("div");
+      element$jscomp$inline_429.setAttribute("oninput", "return;");
+      isSupported$jscomp$inline_428 =
+        "function" === typeof element$jscomp$inline_429.oninput;
     }
-    JSCompiler_inline_result$jscomp$289 = isSupported$jscomp$inline_431;
-  } else JSCompiler_inline_result$jscomp$289 = !1;
+    JSCompiler_inline_result$jscomp$286 = isSupported$jscomp$inline_428;
+  } else JSCompiler_inline_result$jscomp$286 = !1;
   isInputEventSupported =
-    JSCompiler_inline_result$jscomp$289 &&
+    JSCompiler_inline_result$jscomp$286 &&
     (!document.documentMode || 9 < document.documentMode);
 }
 function stopWatchingForValueChange() {
@@ -2431,11 +2433,6 @@ function enqueueConcurrentRenderForLane(fiber, lane) {
   enqueueUpdate$1(fiber, null, null, lane);
   return getRootForUpdatedFiber(fiber);
 }
-function enqueueGestureRender(fiber) {
-  fiber = markUpdateLaneFromFiberToRoot(fiber, null, 64);
-  null !== fiber && markRootUpdated$1(fiber, 64);
-  return fiber;
-}
 function markUpdateLaneFromFiberToRoot(sourceFiber, update, lane) {
   sourceFiber.lanes |= lane;
   var alternate = sourceFiber.alternate;
@@ -2449,19 +2446,17 @@ function markUpdateLaneFromFiberToRoot(sourceFiber, update, lane) {
         null === sourceFiber || sourceFiber._visibility & 1 || (isHidden = !0)),
       (sourceFiber = parent),
       (parent = parent.return);
-  return 3 === sourceFiber.tag
-    ? ((parent = sourceFiber.stateNode),
-      isHidden &&
-        null !== update &&
-        ((isHidden = 31 - clz32(lane)),
-        (sourceFiber = parent.hiddenUpdates),
-        (alternate = sourceFiber[isHidden]),
-        null === alternate
-          ? (sourceFiber[isHidden] = [update])
-          : alternate.push(update),
-        (update.lane = lane | 536870912)),
-      parent)
-    : null;
+  isHidden &&
+    null !== update &&
+    3 === sourceFiber.tag &&
+    ((parent = sourceFiber.stateNode),
+    (isHidden = 31 - clz32(lane)),
+    (parent = parent.hiddenUpdates),
+    (sourceFiber = parent[isHidden]),
+    null === sourceFiber
+      ? (parent[isHidden] = [update])
+      : sourceFiber.push(update),
+    (update.lane = lane | 536870912));
 }
 function getRootForUpdatedFiber(sourceFiber) {
   if (50 < nestedUpdateCount)
@@ -2745,7 +2740,7 @@ function enqueueUpdate(fiber, update, lane) {
 }
 function entangleTransitions(root, fiber, lane) {
   fiber = fiber.updateQueue;
-  if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194048))) {
+  if (null !== fiber && ((fiber = fiber.shared), 0 !== (lane & 4194176))) {
     var queueLanes = fiber.lanes;
     queueLanes &= root.pendingLanes;
     lane |= queueLanes;
@@ -3276,76 +3271,6 @@ function getSuspendedCache() {
     ? null
     : { parent: CacheContext._currentValue, pool: cacheFromPool };
 }
-function scheduleGesture(
-  root,
-  provider,
-  initialDirection,
-  rangePrevious,
-  rangeCurrent,
-  rangeNext
-) {
-  for (var prev = root.pendingGestures; null !== prev; ) {
-    if (prev.provider === provider) return prev.count++, prev;
-    var next = prev.next;
-    if (null === next) break;
-    prev = next;
-  }
-  var isFlippedDirection = rangePrevious > rangeNext;
-  next = subscribeToGestureDirection(
-    provider,
-    rangeCurrent,
-    function (direction) {
-      isFlippedDirection && (direction = !direction);
-      gesture.direction !== direction &&
-        ((gesture.direction = direction),
-        null === gesture.prev &&
-          root.pendingGestures !== gesture &&
-          ((direction = root.pendingGestures),
-          (gesture.next = direction),
-          null !== direction && (direction.prev = gesture),
-          (root.pendingGestures = gesture),
-          (root.pendingLanes |= 64),
-          ensureRootIsScheduled(root)));
-    }
-  );
-  var gesture = {
-    provider: provider,
-    count: 1,
-    direction: initialDirection,
-    rangePrevious: rangePrevious,
-    rangeCurrent: rangeCurrent,
-    rangeNext: rangeNext,
-    cancel: next,
-    running: null,
-    prev: prev,
-    next: null
-  };
-  null === prev ? (root.pendingGestures = gesture) : (prev.next = gesture);
-  ensureRootIsScheduled(root);
-  return gesture;
-}
-function deleteScheduledGesture(root, gesture) {
-  null === gesture.prev
-    ? (root.pendingGestures === gesture &&
-        ((root.pendingGestures = gesture.next),
-        null === root.pendingGestures && (root.pendingLanes &= -65)),
-      root.stoppingGestures === gesture &&
-        (root.stoppingGestures = gesture.next))
-    : ((gesture.prev.next = gesture.next),
-      null !== gesture.next && (gesture.next.prev = gesture.prev),
-      (gesture.prev = null),
-      (gesture.next = null));
-}
-function stopCompletedGestures(root) {
-  var gesture = root.stoppingGestures;
-  for (root.stoppingGestures = null; null !== gesture; )
-    null !== gesture.running &&
-      (gesture.running.skipTransition(), (gesture.running = null)),
-      (root = gesture.next),
-      (gesture.next = null),
-      (gesture.prev = null),
-      (gesture = root);
-}
 var renderLanes = 0,
   currentlyRenderingFiber = null,
   currentHook = null,
@@ -3730,8 +3655,9 @@ function updateSyncExternalStore(subscribe, getSnapshot, getServerSnapshot) {
   snapshotChanged &&
     ((hook.memoizedState = getServerSnapshot), (didReceiveUpdate = !0));
   hook = hook.queue;
-  var create = subscribeToStore.bind(null, fiber, hook, subscribe);
-  updateEffectImpl(2048, 8, create, [subscribe]);
+  updateEffect(subscribeToStore.bind(null, fiber, hook, subscribe), [
+    subscribe
+  ]);
   if (
     hook.getSnapshot !== getSnapshot ||
     snapshotChanged ||
@@ -3752,7 +3678,7 @@ function updateSyncExternalStore(subscribe, getSnapshot, getServerSnapshot) {
     );
     if (null === workInProgressRoot) throw Error(formatProdErrorMessage(349));
     isHydrating$jscomp$0 ||
-      0 !== (renderLanes & 124) ||
+      0 !== (renderLanes & 60) ||
       pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);
   }
   return getServerSnapshot;
@@ -4079,8 +4005,8 @@ function rerenderActionState(action) {
   currentStateHook.memoizedState = action;
   return [stateHook, dispatch, !1];
 }
-function pushSimpleEffect(tag, inst, create, createDeps) {
-  tag = { tag: tag, create: create, deps: createDeps, inst: inst, next: null };
+function pushSimpleEffect(tag, inst, create, deps) {
+  tag = { tag: tag, create: create, deps: deps, inst: inst, next: null };
   inst = currentlyRenderingFiber.updateQueue;
   null === inst &&
     ((inst = createFunctionComponentUpdateQueue()),
@@ -4088,9 +4014,9 @@ function pushSimpleEffect(tag, inst, create, createDeps) {
   create = inst.lastEffect;
   null === create
     ? (inst.lastEffect = tag.next = tag)
-    : ((createDeps = create.next),
+    : ((deps = create.next),
       (create.next = tag),
-      (tag.next = createDeps),
+      (tag.next = deps),
       (inst.lastEffect = tag));
   return tag;
 }
@@ -4100,15 +4026,15 @@ function createEffectInstance() {
 function updateRef() {
   return updateWorkInProgressHook().memoizedState;
 }
-function mountEffectImpl(fiberFlags, hookFlags, create, createDeps) {
+function mountEffectImpl(fiberFlags, hookFlags, create, deps) {
   var hook = mountWorkInProgressHook();
-  createDeps = void 0 === createDeps ? null : createDeps;
+  deps = void 0 === deps ? null : deps;
   currentlyRenderingFiber.flags |= fiberFlags;
   hook.memoizedState = pushSimpleEffect(
     1 | hookFlags,
     createEffectInstance(),
     create,
-    createDeps
+    deps
   );
 }
 function updateEffectImpl(fiberFlags, hookFlags, create, deps) {
@@ -4127,11 +4053,11 @@ function updateEffectImpl(fiberFlags, hookFlags, create, deps) {
         deps
       )));
 }
-function mountEffect(create, createDeps) {
-  mountEffectImpl(8390656, 8, create, createDeps);
+function mountEffect(create, deps) {
+  mountEffectImpl(8390656, 8, create, deps);
 }
-function updateEffect(create, createDeps) {
-  updateEffectImpl(2048, 8, create, createDeps);
+function updateEffect(create, deps) {
+  updateEffectImpl(2048, 8, create, deps);
 }
 function useEffectEventImpl(payload) {
   currentlyRenderingFiber.flags |= 4;
@@ -4468,7 +4394,7 @@ function enqueueRenderPhaseUpdate(queue, update) {
   queue.pending = update;
 }
 function entangleTransitionUpdate(root, queue, lane) {
-  if (0 !== (lane & 4194048)) {
+  if (0 !== (lane & 4194176)) {
     var queueLanes = queue.lanes;
     queueLanes &= root.pendingLanes;
     lane |= queueLanes;
@@ -4476,93 +4402,6 @@ function entangleTransitionUpdate(root, queue, lane) {
     markRootEntangled(root, lane);
   }
 }
-function startGesture(fiber, queue, gestureProvider, gestureOptions) {
-  var root = enqueueGestureRender(fiber);
-  if (null === root) return function () {};
-  fiber = getCurrentGestureOffset(gestureProvider);
-  var range = gestureOptions && gestureOptions.range,
-    rangePrevious = range ? range[0] : 0,
-    rangeCurrent = range ? range[1] : fiber;
-  range = range ? range[2] : 100;
-  var isFlippedDirection = rangePrevious > range,
-    update = {
-      gesture: scheduleGesture(
-        root,
-        gestureProvider,
-        fiber < rangeCurrent
-          ? isFlippedDirection
-          : fiber > rangeCurrent
-            ? !isFlippedDirection
-            : gestureOptions && "next" === gestureOptions.direction
-              ? !0
-              : gestureOptions && "previous" === gestureOptions.direction
-                ? !1
-                : queue.initialDirection,
-        rangePrevious,
-        rangeCurrent,
-        range
-      ),
-      prev: null,
-      next: queue.pending
-    };
-  null !== queue.pending && (queue.pending.prev = update);
-  queue.pending = update;
-  return function () {
-    if (null === update.prev)
-      if (queue.pending === update) queue.pending = update.next;
-      else return;
-    else
-      (update.prev.next = update.next),
-        null !== update.next && (update.next.prev = update.prev),
-        (update.prev = null),
-        (update.next = null);
-    var cancelledGestured = update.gesture;
-    cancelledGestured.count--;
-    if (0 === cancelledGestured.count) {
-      var cancelDirectionSubscription = cancelledGestured.cancel;
-      cancelDirectionSubscription();
-      deleteScheduledGesture(root, cancelledGestured);
-      cancelDirectionSubscription = cancelledGestured.running;
-      if (null !== cancelDirectionSubscription) {
-        var pendingLanesExcludingGestureLane = root.pendingLanes & -65;
-        0 !== (pendingLanesExcludingGestureLane & 124) ||
-        0 !== (pendingLanesExcludingGestureLane & 4194048)
-          ? ((cancelDirectionSubscription = root.stoppingGestures),
-            null !== cancelDirectionSubscription &&
-              ((cancelledGestured.next = cancelDirectionSubscription),
-              (cancelDirectionSubscription.prev = cancelledGestured)),
-            (root.stoppingGestures = cancelledGestured))
-          : ((cancelledGestured.running = null),
-            cancelDirectionSubscription.skipTransition());
-      }
-    }
-  };
-}
-function updateSwipeTransition(previous, current, next) {
-  var queue = updateWorkInProgressHook().queue,
-    startGestureOnHook = queue.dispatch,
-    rootRenderLanes = workInProgressRootRenderLanes,
-    value = current;
-  if (null !== queue.pending) {
-    if (64 === rootRenderLanes) {
-      rootRenderLanes = workInProgressRoot;
-      if (null === rootRenderLanes) throw Error(formatProdErrorMessage(349));
-      rootRenderLanes = rootRenderLanes.pendingGestures;
-      if (null !== rootRenderLanes)
-        for (var update = queue.pending; null !== update; ) {
-          if (rootRenderLanes === update.gesture) {
-            value = rootRenderLanes.direction ? next : previous;
-            break;
-          }
-          update = update.next;
-        }
-      didReceiveUpdate = !0;
-    }
-    currentlyRenderingFiber.lanes |= 64;
-  }
-  queue.initialDirection = previous === current;
-  return [value, startGestureOnHook];
-}
 var ContextOnlyDispatcher = {
   readContext: readContext,
   use: use,
@@ -4589,7 +4428,6 @@ var ContextOnlyDispatcher = {
   useCacheRefresh: throwInvalidHookError
 };
 ContextOnlyDispatcher.useEffectEvent = throwInvalidHookError;
-ContextOnlyDispatcher.useSwipeTransition = throwInvalidHookError;
 var HooksDispatcherOnMount = {
     readContext: readContext,
     use: use,
@@ -4701,7 +4539,7 @@ var HooksDispatcherOnMount = {
         getServerSnapshot = getSnapshot();
         if (null === workInProgressRoot)
           throw Error(formatProdErrorMessage(349));
-        0 !== (workInProgressRootRenderLanes & 124) ||
+        0 !== (workInProgressRootRenderLanes & 60) ||
           pushStoreConsistencyCheck(fiber, getSnapshot, getServerSnapshot);
       }
       hook.memoizedState = getServerSnapshot;
@@ -4730,14 +4568,14 @@ var HooksDispatcherOnMount = {
         identifierPrefix = workInProgressRoot.identifierPrefix;
       if (isHydrating) {
         var treeId = getTreeId();
-        identifierPrefix = "\u00ab" + identifierPrefix + "R" + treeId;
+        identifierPrefix = ":" + identifierPrefix + "R" + treeId;
         treeId = localIdCounter++;
         0 < treeId && (identifierPrefix += "H" + treeId.toString(32));
-        identifierPrefix += "\u00bb";
+        identifierPrefix += ":";
       } else
         (treeId = globalClientIdCounter$1++),
           (identifierPrefix =
-            "\u00ab" + identifierPrefix + "r" + treeId.toString(32) + "\u00bb");
+            ":" + identifierPrefix + "r" + treeId.toString(32) + ":");
       return (hook.memoizedState = identifierPrefix);
     },
     useHostTransitionStatus: useHostTransitionStatus,
@@ -4779,20 +4617,6 @@ var HooksDispatcherOnMount = {
           throw Error(formatProdErrorMessage(440));
         return ref.impl.apply(void 0, arguments);
       };
-    },
-    useSwipeTransition: function (previous, current) {
-      previous = {
-        pending: null,
-        dispatch: null,
-        initialDirection: previous === current
-      };
-      var startGestureOnHook = (previous.dispatch = startGesture.bind(
-        null,
-        currentlyRenderingFiber,
-        previous
-      ));
-      mountWorkInProgressHook().queue = previous;
-      return [current, startGestureOnHook];
     }
   },
   HooksDispatcherOnUpdate = {
@@ -4843,7 +4667,6 @@ var HooksDispatcherOnMount = {
     useCacheRefresh: updateRefresh
   };
 HooksDispatcherOnUpdate.useEffectEvent = updateEvent;
-HooksDispatcherOnUpdate.useSwipeTransition = updateSwipeTransition;
 var HooksDispatcherOnRerender = {
   readContext: readContext,
   use: use,
@@ -4897,7 +4720,6 @@ var HooksDispatcherOnRerender = {
   useCacheRefresh: updateRefresh
 };
 HooksDispatcherOnRerender.useEffectEvent = updateEvent;
-HooksDispatcherOnRerender.useSwipeTransition = updateSwipeTransition;
 var thenableState = null,
   thenableIndexCounter = 0;
 function unwrapThenable(thenable) {
@@ -5752,9 +5574,9 @@ function logUncaughtError(root, errorInfo) {
   try {
     var onUncaughtError = root.onUncaughtError;
     onUncaughtError(errorInfo.value, { componentStack: errorInfo.stack });
-  } catch (e$76) {
+  } catch (e$75) {
     setTimeout(function () {
-      throw e$76;
+      throw e$75;
     });
   }
 }
@@ -5765,9 +5587,9 @@ function logCaughtError(root, boundary, errorInfo) {
       componentStack: errorInfo.stack,
       errorBoundary: 1 === boundary.tag ? boundary.stateNode : null
     });
-  } catch (e$77) {
+  } catch (e$76) {
     setTimeout(function () {
-      throw e$77;
+      throw e$76;
     });
   }
 }
@@ -7287,15 +7109,15 @@ function beginWork(current, workInProgress, renderLanes) {
           workInProgress.stateNode.containerInfo
         );
         if (null === current) throw Error(formatProdErrorMessage(387));
-        lazyComponent = workInProgress.pendingProps;
-        var prevState = workInProgress.memoizedState;
-        init = prevState.element;
+        var nextProps = workInProgress.pendingProps;
+        init = workInProgress.memoizedState;
+        lazyComponent = init.element;
         cloneUpdateQueue(current, workInProgress);
-        processUpdateQueue(workInProgress, lazyComponent, null, renderLanes);
+        processUpdateQueue(workInProgress, nextProps, null, renderLanes);
         var nextState = workInProgress.memoizedState;
-        lazyComponent = nextState.cache;
-        pushProvider(workInProgress, CacheContext, lazyComponent);
-        lazyComponent !== prevState.cache &&
+        nextProps = nextState.cache;
+        pushProvider(workInProgress, CacheContext, nextProps);
+        nextProps !== init.cache &&
           propagateContextChanges(
             workInProgress,
             [CacheContext],
@@ -7303,68 +7125,62 @@ function beginWork(current, workInProgress, renderLanes) {
             !0
           );
         suspendIfUpdateReadFromEntangledAsyncAction();
-        lazyComponent = nextState.element;
-        if (prevState.isDehydrated)
+        nextProps = nextState.element;
+        if (init.isDehydrated)
           if (
-            ((prevState = {
-              element: lazyComponent,
+            ((init = {
+              element: nextProps,
               isDehydrated: !1,
               cache: nextState.cache
             }),
-            (workInProgress.updateQueue.baseState = prevState),
-            (workInProgress.memoizedState = prevState),
+            (workInProgress.updateQueue.baseState = init),
+            (workInProgress.memoizedState = init),
             workInProgress.flags & 256)
           ) {
             workInProgress = mountHostRootWithoutHydrating(
               current,
               workInProgress,
-              lazyComponent,
+              nextProps,
               renderLanes
             );
             break a;
-          } else if (lazyComponent !== init) {
-            init = createCapturedValueAtFiber(
+          } else if (nextProps !== lazyComponent) {
+            lazyComponent = createCapturedValueAtFiber(
               Error(formatProdErrorMessage(424)),
               workInProgress
             );
-            queueHydrationError(init);
+            queueHydrationError(lazyComponent);
             workInProgress = mountHostRootWithoutHydrating(
               current,
               workInProgress,
-              lazyComponent,
+              nextProps,
               renderLanes
             );
             break a;
-          } else {
-            current = workInProgress.stateNode.containerInfo;
-            switch (current.nodeType) {
-              case 9:
-                current = current.body;
-                break;
-              default:
-                current =
-                  "HTML" === current.nodeName
-                    ? current.ownerDocument.body
-                    : current;
-            }
-            nextHydratableInstance = getNextHydratable(current.firstChild);
-            hydrationParentFiber = workInProgress;
-            isHydrating = !0;
-            hydrationErrors = null;
-            rootOrSingletonContext = !0;
-            renderLanes = mountChildFibers(
-              workInProgress,
-              null,
-              lazyComponent,
-              renderLanes
-            );
-            for (workInProgress.child = renderLanes; renderLanes; )
+          } else
+            for (
+              nextHydratableInstance = getNextHydratable(
+                workInProgress.stateNode.containerInfo.firstChild
+              ),
+                hydrationParentFiber = workInProgress,
+                isHydrating = !0,
+                hydrationErrors = null,
+                rootOrSingletonContext = !0,
+                renderLanes = mountChildFibers(
+                  workInProgress,
+                  null,
+                  nextProps,
+                  renderLanes
+                ),
+                workInProgress.child = renderLanes;
+              renderLanes;
+
+            )
               (renderLanes.flags = (renderLanes.flags & -3) | 4096),
                 (renderLanes = renderLanes.sibling);
-          }
         else {
           resetHydrationState();
-          if (lazyComponent === init) {
+          if (nextProps === lazyComponent) {
             workInProgress = bailoutOnAlreadyFinishedWork(
               current,
               workInProgress,
@@ -7372,12 +7188,7 @@ function beginWork(current, workInProgress, renderLanes) {
             );
             break a;
           }
-          reconcileChildren(
-            current,
-            workInProgress,
-            lazyComponent,
-            renderLanes
-          );
+          reconcileChildren(current, workInProgress, nextProps, renderLanes);
         }
         workInProgress = workInProgress.child;
       }
@@ -7425,21 +7236,24 @@ function beginWork(current, workInProgress, renderLanes) {
             )),
           (hydrationParentFiber = workInProgress),
           (rootOrSingletonContext = !0),
-          (init = nextHydratableInstance),
-          isSingletonScope(workInProgress.type)
-            ? ((previousHydratableOnEnteringScopedSingleton = init),
-              (nextHydratableInstance = getNextHydratable(
-                lazyComponent.firstChild
-              )))
-            : (nextHydratableInstance = init)),
-        reconcileChildren(
-          current,
-          workInProgress,
-          workInProgress.pendingProps.children,
-          renderLanes
-        ),
+          (nextHydratableInstance = getNextHydratable(
+            lazyComponent.firstChild
+          ))),
+        (lazyComponent = workInProgress.pendingProps.children),
+        null !== current || isHydrating
+          ? reconcileChildren(
+              current,
+              workInProgress,
+              lazyComponent,
+              renderLanes
+            )
+          : (workInProgress.child = reconcileChildFibers(
+              workInProgress,
+              null,
+              lazyComponent,
+              renderLanes
+            )),
         markRef(current, workInProgress),
-        null === current && (workInProgress.flags |= 4194304),
         workInProgress.child
       );
     case 5:
@@ -7467,10 +7281,10 @@ function beginWork(current, workInProgress, renderLanes) {
           init && throwOnHydrationMismatch(workInProgress)),
         pushHostContext(workInProgress),
         (init = workInProgress.type),
-        (prevState = workInProgress.pendingProps),
+        (nextProps = workInProgress.pendingProps),
         (nextState = null !== current ? current.memoizedProps : null),
-        (lazyComponent = prevState.children),
-        shouldSetTextContent(init, prevState)
+        (lazyComponent = nextProps.children),
+        shouldSetTextContent(init, nextProps)
           ? (lazyComponent = null)
           : null !== nextState &&
             shouldSetTextContent(init, nextState) &&
@@ -7623,11 +7437,11 @@ function beginWork(current, workInProgress, renderLanes) {
           ? ((init = peekCacheFromPool()),
             null === init &&
               ((init = workInProgressRoot),
-              (prevState = createCache()),
-              (init.pooledCache = prevState),
-              prevState.refCount++,
-              null !== prevState && (init.pooledCacheLanes |= renderLanes),
-              (init = prevState)),
+              (nextProps = createCache()),
+              (init.pooledCache = nextProps),
+              nextProps.refCount++,
+              null !== nextProps && (init.pooledCacheLanes |= renderLanes),
+              (init = nextProps)),
             (workInProgress.memoizedState = {
               parent: lazyComponent,
               cache: init
@@ -7639,7 +7453,7 @@ function beginWork(current, workInProgress, renderLanes) {
               processUpdateQueue(workInProgress, null, null, renderLanes),
               suspendIfUpdateReadFromEntangledAsyncAction()),
             (init = current.memoizedState),
-            (prevState = workInProgress.memoizedState),
+            (nextProps = workInProgress.memoizedState),
             init.parent !== lazyComponent
               ? ((init = { parent: lazyComponent, cache: lazyComponent }),
                 (workInProgress.memoizedState = init),
@@ -7648,7 +7462,7 @@ function beginWork(current, workInProgress, renderLanes) {
                     workInProgress.updateQueue.baseState =
                       init),
                 pushProvider(workInProgress, CacheContext, lazyComponent))
-              : ((lazyComponent = prevState.cache),
+              : ((lazyComponent = nextProps.cache),
                 pushProvider(workInProgress, CacheContext, lazyComponent),
                 lazyComponent !== init.cache &&
                   propagateContextChanges(
@@ -7670,20 +7484,22 @@ function beginWork(current, workInProgress, renderLanes) {
         (lazyComponent = workInProgress.pendingProps),
         (init = workInProgress.stateNode),
         null != lazyComponent.name && "auto" !== lazyComponent.name
-          ? (workInProgress.flags |= null === current ? 18882560 : 18874368)
+          ? ((workInProgress.flags |= 2097152),
+            null === current &&
+              trackAppearingViewTransition(init, lazyComponent.name))
           : null === init.autoName &&
-            ((prevState = workInProgressRoot.identifierPrefix),
+            ((nextProps = workInProgressRoot.identifierPrefix),
             isHydrating
               ? ((nextState = getTreeId()),
-                (prevState = "\u00ab" + prevState + "T" + nextState + "\u00bb"))
+                (nextProps = "\u00ab" + nextProps + "T" + nextState + "\u00bb"))
               : ((nextState = globalClientIdCounter++),
-                (prevState =
+                (nextProps =
                   "\u00ab" +
-                  prevState +
+                  nextProps +
                   "t" +
                   nextState.toString(32) +
                   "\u00bb")),
-            (init.autoName = prevState)),
+            (init.autoName = nextProps)),
         null !== current && current.memoizedProps.name !== lazyComponent.name
           ? (workInProgress.flags |= 4194816)
           : markRef(current, workInProgress),
@@ -7740,10 +7556,9 @@ function commitHookEffectListUnmount(
           if (void 0 !== destroy) {
             inst.destroy = void 0;
             lastEffect = finishedWork;
-            var nearestMountedAncestor = nearestMountedAncestor$jscomp$0,
-              destroy_ = destroy;
+            var nearestMountedAncestor = nearestMountedAncestor$jscomp$0;
             try {
-              destroy_();
+              destroy();
             } catch (error) {
               captureCommitPhaseError(
                 lastEffect,
@@ -7832,8 +7647,8 @@ function safelyDetachRef(current, nearestMountedAncestor) {
     else if ("function" === typeof ref)
       try {
         ref(null);
-      } catch (error$116) {
-        captureCommitPhaseError(current, nearestMountedAncestor, error$116);
+      } catch (error$115) {
+        captureCommitPhaseError(current, nearestMountedAncestor, error$115);
       }
     else ref.current = null;
 }
@@ -7872,7 +7687,7 @@ function isHostParent(fiber) {
     5 === fiber.tag ||
     3 === fiber.tag ||
     26 === fiber.tag ||
-    (27 === fiber.tag && isSingletonScope(fiber.type)) ||
+    27 === fiber.tag ||
     4 === fiber.tag
   );
 }
@@ -7885,10 +7700,12 @@ function getHostSibling(fiber) {
     fiber.sibling.return = fiber.return;
     for (
       fiber = fiber.sibling;
-      5 !== fiber.tag && 6 !== fiber.tag && 18 !== fiber.tag;
+      5 !== fiber.tag &&
+      6 !== fiber.tag &&
+      27 !== fiber.tag &&
+      18 !== fiber.tag;
 
     ) {
-      if (27 === fiber.tag && isSingletonScope(fiber.type)) continue a;
       if (fiber.flags & 2) continue a;
       if (null === fiber.child || 4 === fiber.tag) continue a;
       else (fiber.child.return = fiber), (fiber = fiber.child);
@@ -7901,32 +7718,18 @@ function insertOrAppendPlacementNodeIntoContainer(node, before, parent) {
   if (5 === tag || 6 === tag)
     (node = node.stateNode),
       before
-        ? (9 === parent.nodeType
-            ? parent.body
-            : "HTML" === parent.nodeName
-              ? parent.ownerDocument.body
-              : parent
-          ).insertBefore(node, before)
-        : ((before =
-            9 === parent.nodeType
-              ? parent.body
-              : "HTML" === parent.nodeName
-                ? parent.ownerDocument.body
-                : parent),
-          before.appendChild(node),
+        ? 8 === parent.nodeType
+          ? parent.parentNode.insertBefore(node, before)
+          : parent.insertBefore(node, before)
+        : (8 === parent.nodeType
+            ? ((before = parent.parentNode), before.insertBefore(node, parent))
+            : ((before = parent), before.appendChild(node)),
           (parent = parent._reactRootContainer),
           (null !== parent && void 0 !== parent) ||
             null !== before.onclick ||
             (before.onclick = noop$1)),
       (viewTransitionMutationContext = !0);
-  else if (
-    4 !== tag &&
-    (27 === tag &&
-      isSingletonScope(node.type) &&
-      ((parent = node.stateNode), (before = null)),
-    (node = node.child),
-    null !== node)
-  )
+  else if (4 !== tag && 27 !== tag && ((node = node.child), null !== node))
     for (
       insertOrAppendPlacementNodeIntoContainer(node, before, parent),
         node = node.sibling;
@@ -7942,12 +7745,7 @@ function insertOrAppendPlacementNode(node, before, parent) {
     (node = node.stateNode),
       before ? parent.insertBefore(node, before) : parent.appendChild(node),
       (viewTransitionMutationContext = !0);
-  else if (
-    4 !== tag &&
-    (27 === tag && isSingletonScope(node.type) && (parent = node.stateNode),
-    (node = node.child),
-    null !== node)
-  )
+  else if (4 !== tag && 27 !== tag && ((node = node.child), null !== node))
     for (
       insertOrAppendPlacementNode(node, before, parent), node = node.sibling;
       null !== node;
@@ -7955,70 +7753,304 @@ function insertOrAppendPlacementNode(node, before, parent) {
     )
       insertOrAppendPlacementNode(node, before, parent), (node = node.sibling);
 }
-function commitHostSingletonAcquisition(finishedWork) {
-  var singleton = finishedWork.stateNode,
-    props = finishedWork.memoizedProps;
-  try {
-    for (
-      var type = finishedWork.type, attributes = singleton.attributes;
-      attributes.length;
-
-    )
-      singleton.removeAttributeNode(attributes[0]);
-    setInitialProperties(singleton, type, props);
-    singleton[internalInstanceKey] = finishedWork;
-    singleton[internalPropsKey] = props;
-  } catch (error) {
-    captureCommitPhaseError(finishedWork, finishedWork.return, error);
-  }
-}
-var shouldStartViewTransition = !1,
-  appearingViewTransitions = null,
-  viewTransitionCancelableChildren = null,
-  viewTransitionHostInstanceIdx = 0;
-function applyViewTransitionToHostInstances(
-  child,
-  name,
-  className,
-  collectMeasurements,
-  stopAtNestedViewTransitions
+var offscreenSubtreeIsHidden = !1,
+  offscreenSubtreeWasHidden = !1,
+  needsFormReset = !1,
+  PossiblyWeakSet = "function" === typeof WeakSet ? WeakSet : Set,
+  nextEffect = null,
+  shouldStartViewTransition = !1,
+  viewTransitionContextChanged = !1,
+  viewTransitionCancelableChildren = null;
+function commitBeforeMutationEffects(
+  root,
+  firstChild,
+  committedLanes,
+  appearingViewTransitions
 ) {
-  for (var inViewport = !1; null !== child; ) {
-    if (5 === child.tag) {
-      shouldStartViewTransition = !0;
-      var instance = child.stateNode;
-      if (null !== collectMeasurements) {
-        var measurement = measureInstance(instance);
-        collectMeasurements.push(measurement);
-        measurement.view && (inViewport = !0);
-      } else
-        inViewport || (measureInstance(instance).view && (inViewport = !0));
-      measurement = className;
-      instance.style.viewTransitionName =
-        0 === viewTransitionHostInstanceIdx
-          ? name
-          : name + "_" + viewTransitionHostInstanceIdx;
-      null != measurement && (instance.style.viewTransitionClass = measurement);
-      viewTransitionHostInstanceIdx++;
-    } else if (22 !== child.tag || null === child.memoizedState)
-      (30 === child.tag && stopAtNestedViewTransitions) ||
-        (applyViewTransitionToHostInstances(
-          child.child,
-          name,
-          className,
-          collectMeasurements,
-          stopAtNestedViewTransitions
-        ) &&
-          (inViewport = !0));
-    child = child.sibling;
+  root = root.containerInfo;
+  eventsEnabled = _enabled;
+  root = getActiveElementDeep(root);
+  if (hasSelectionCapabilities(root)) {
+    if ("selectionStart" in root)
+      var JSCompiler_temp = {
+        start: root.selectionStart,
+        end: root.selectionEnd
+      };
+    else
+      a: {
+        JSCompiler_temp =
+          ((JSCompiler_temp = root.ownerDocument) &&
+            JSCompiler_temp.defaultView) ||
+          window;
+        var selection =
+          JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();
+        if (selection && 0 !== selection.rangeCount) {
+          JSCompiler_temp = selection.anchorNode;
+          var anchorOffset = selection.anchorOffset,
+            focusNode = selection.focusNode;
+          selection = selection.focusOffset;
+          try {
+            JSCompiler_temp.nodeType, focusNode.nodeType;
+          } catch (e$20) {
+            JSCompiler_temp = null;
+            break a;
+          }
+          var length = 0,
+            start = -1,
+            end = -1,
+            indexWithinAnchor = 0,
+            indexWithinFocus = 0,
+            node = root,
+            parentNode = null;
+          b: for (;;) {
+            for (var next; ; ) {
+              node !== JSCompiler_temp ||
+                (0 !== anchorOffset && 3 !== node.nodeType) ||
+                (start = length + anchorOffset);
+              node !== focusNode ||
+                (0 !== selection && 3 !== node.nodeType) ||
+                (end = length + selection);
+              3 === node.nodeType && (length += node.nodeValue.length);
+              if (null === (next = node.firstChild)) break;
+              parentNode = node;
+              node = next;
+            }
+            for (;;) {
+              if (node === root) break b;
+              parentNode === JSCompiler_temp &&
+                ++indexWithinAnchor === anchorOffset &&
+                (start = length);
+              parentNode === focusNode &&
+                ++indexWithinFocus === selection &&
+                (end = length);
+              if (null !== (next = node.nextSibling)) break;
+              node = parentNode;
+              parentNode = node.parentNode;
+            }
+            node = next;
+          }
+          JSCompiler_temp =
+            -1 === start || -1 === end ? null : { start: start, end: end };
+        } else JSCompiler_temp = null;
+      }
+    JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };
+  } else JSCompiler_temp = null;
+  selectionInformation = { focusedElem: root, selectionRange: JSCompiler_temp };
+  shouldStartViewTransition = _enabled = !1;
+  committedLanes = (committedLanes & 335544192) === committedLanes;
+  nextEffect = firstChild;
+  for (firstChild = committedLanes ? 9238 : 1028; null !== nextEffect; ) {
+    root = nextEffect;
+    if (
+      committedLanes &&
+      ((JSCompiler_temp = root.deletions), null !== JSCompiler_temp)
+    )
+      for (
+        anchorOffset = 0;
+        anchorOffset < JSCompiler_temp.length;
+        anchorOffset++
+      )
+        committedLanes &&
+          commitExitViewTransitions(
+            JSCompiler_temp[anchorOffset],
+            appearingViewTransitions
+          );
+    if (null === root.alternate && 0 !== (root.flags & 2))
+      commitBeforeMutationEffects_complete(committedLanes);
+    else {
+      if (22 === root.tag)
+        if (((JSCompiler_temp = root.alternate), null !== root.memoizedState)) {
+          null !== JSCompiler_temp &&
+            null === JSCompiler_temp.memoizedState &&
+            committedLanes &&
+            commitExitViewTransitions(
+              JSCompiler_temp,
+              appearingViewTransitions
+            );
+          commitBeforeMutationEffects_complete(committedLanes);
+          continue;
+        } else if (
+          null !== JSCompiler_temp &&
+          null !== JSCompiler_temp.memoizedState
+        ) {
+          commitBeforeMutationEffects_complete(committedLanes);
+          continue;
+        }
+      JSCompiler_temp = root.child;
+      0 !== (root.subtreeFlags & firstChild) && null !== JSCompiler_temp
+        ? ((JSCompiler_temp.return = root), (nextEffect = JSCompiler_temp))
+        : (committedLanes && commitNestedViewTransitions(root),
+          commitBeforeMutationEffects_complete(committedLanes));
+    }
   }
-  return inViewport;
 }
-function restoreViewTransitionOnHostInstances(
-  child,
-  stopAtNestedViewTransitions
+function commitBeforeMutationEffects_complete(
+  isViewTransitionEligible$jscomp$0
 ) {
-  for (; null !== child; ) {
+  for (; null !== nextEffect; ) {
+    var fiber = nextEffect,
+      isViewTransitionEligible = isViewTransitionEligible$jscomp$0,
+      current = fiber.alternate,
+      flags = fiber.flags;
+    switch (fiber.tag) {
+      case 0:
+        if (
+          0 !== (flags & 4) &&
+          ((current = fiber.updateQueue),
+          (current = null !== current ? current.events : null),
+          null !== current)
+        )
+          for (
+            isViewTransitionEligible = 0;
+            isViewTransitionEligible < current.length;
+            isViewTransitionEligible++
+          )
+            (flags = current[isViewTransitionEligible]),
+              (flags.ref.impl = flags.nextImpl);
+        break;
+      case 11:
+      case 15:
+        break;
+      case 1:
+        if (0 !== (flags & 1024) && null !== current) {
+          isViewTransitionEligible = void 0;
+          flags = current.memoizedProps;
+          current = current.memoizedState;
+          var instance = fiber.stateNode;
+          try {
+            var resolvedPrevProps = resolveClassComponentProps(
+              fiber.type,
+              flags,
+              fiber.elementType === fiber.type
+            );
+            isViewTransitionEligible = instance.getSnapshotBeforeUpdate(
+              resolvedPrevProps,
+              current
+            );
+            instance.__reactInternalSnapshotBeforeUpdate =
+              isViewTransitionEligible;
+          } catch (error) {
+            captureCommitPhaseError(fiber, fiber.return, error);
+          }
+        }
+        break;
+      case 3:
+        if (0 !== (flags & 1024))
+          if (
+            ((current = fiber.stateNode.containerInfo),
+            (isViewTransitionEligible = current.nodeType),
+            9 === isViewTransitionEligible)
+          )
+            clearContainerSparingly(current);
+          else if (1 === isViewTransitionEligible)
+            switch (current.nodeName) {
+              case "HEAD":
+              case "HTML":
+              case "BODY":
+                clearContainerSparingly(current);
+                break;
+              default:
+                current.textContent = "";
+            }
+        break;
+      case 5:
+      case 26:
+      case 27:
+      case 6:
+      case 4:
+      case 17:
+        break;
+      case 30:
+        if (
+          isViewTransitionEligible &&
+          null !== current &&
+          0 !== (fiber.subtreeFlags & 8246)
+        )
+          a: {
+            isViewTransitionEligible = getViewTransitionName(
+              current.memoizedProps,
+              current.stateNode
+            );
+            flags = fiber.memoizedProps;
+            instance = getViewTransitionClassName(
+              flags.className,
+              flags.update
+            );
+            if (
+              "none" === instance &&
+              ((instance = getViewTransitionClassName(
+                flags.className,
+                flags.layout
+              )),
+              "none" === instance)
+            )
+              break a;
+            viewTransitionHostInstanceIdx = 0;
+            applyViewTransitionToHostInstances(
+              current.child,
+              isViewTransitionEligible,
+              instance,
+              (current.memoizedState = []),
+              !0
+            );
+          }
+        break;
+      default:
+        if (0 !== (flags & 1024)) throw Error(formatProdErrorMessage(163));
+    }
+    current = fiber.sibling;
+    if (null !== current) {
+      current.return = fiber.return;
+      nextEffect = current;
+      break;
+    }
+    nextEffect = fiber.return;
+  }
+}
+var viewTransitionHostInstanceIdx = 0;
+function applyViewTransitionToHostInstances(
+  child,
+  name,
+  className,
+  collectMeasurements,
+  stopAtNestedViewTransitions
+) {
+  for (var inViewport = !1; null !== child; ) {
+    if (5 === child.tag) {
+      shouldStartViewTransition = !0;
+      var instance = child.stateNode;
+      if (null !== collectMeasurements) {
+        var measurement = measureInstance(instance);
+        collectMeasurements.push(measurement);
+        measurement.view && (inViewport = !0);
+      } else
+        inViewport || (measureInstance(instance).view && (inViewport = !0));
+      measurement = className;
+      instance.style.viewTransitionName =
+        0 === viewTransitionHostInstanceIdx
+          ? name
+          : name + "_" + viewTransitionHostInstanceIdx;
+      null != measurement && (instance.style.viewTransitionClass = measurement);
+      viewTransitionHostInstanceIdx++;
+    } else if (22 !== child.tag || null === child.memoizedState)
+      (30 === child.tag && stopAtNestedViewTransitions) ||
+        (applyViewTransitionToHostInstances(
+          child.child,
+          name,
+          className,
+          collectMeasurements,
+          stopAtNestedViewTransitions
+        ) &&
+          (inViewport = !0));
+    child = child.sibling;
+  }
+  return inViewport;
+}
+function restoreViewTransitionOnHostInstances(
+  child,
+  stopAtNestedViewTransitions
+) {
+  for (; null !== child; ) {
     if (5 === child.tag)
       restoreViewTransitionName(child.stateNode, child.memoizedProps);
     else if (22 !== child.tag || null === child.memoizedState)
@@ -8031,13 +8063,13 @@ function restoreViewTransitionOnHostInstances(
   }
 }
 function commitAppearingPairViewTransitions(placement) {
-  if (0 !== (placement.subtreeFlags & 18874368))
+  if (0 !== (placement.subtreeFlags & 2097152))
     for (placement = placement.child; null !== placement; ) {
       if (22 !== placement.tag || null !== placement.memoizedState)
         if (
           (commitAppearingPairViewTransitions(placement),
           30 === placement.tag &&
-            0 !== (placement.flags & 18874368) &&
+            0 !== (placement.flags & 2097152) &&
             placement.stateNode.paired)
         ) {
           var props = placement.memoizedProps;
@@ -8086,49 +8118,46 @@ function commitEnterViewTransitions(placement) {
       commitEnterViewTransitions(placement), (placement = placement.sibling);
   else commitAppearingPairViewTransitions(placement);
 }
-function commitDeletedPairViewTransitions(deletion) {
+function commitDeletedPairViewTransitions(deletion, appearingViewTransitions) {
   if (
-    null !== appearingViewTransitions &&
-    0 !== appearingViewTransitions.size
-  ) {
-    var pairs = appearingViewTransitions;
-    if (0 !== (deletion.subtreeFlags & 18874368))
-      for (deletion = deletion.child; null !== deletion; ) {
-        if (22 !== deletion.tag || null !== deletion.memoizedState) {
-          if (30 === deletion.tag && 0 !== (deletion.flags & 18874368)) {
-            var props = deletion.memoizedProps,
-              name = props.name;
-            if (null != name && "auto" !== name) {
-              var pair = pairs.get(name);
-              if (void 0 !== pair) {
-                var className = getViewTransitionClassName(
-                  props.className,
-                  props.share
-                );
-                "none" !== className &&
-                  ((viewTransitionHostInstanceIdx = 0),
-                  applyViewTransitionToHostInstances(
-                    deletion.child,
-                    name,
-                    className,
-                    null,
-                    !1
-                  )
-                    ? ((pair.paired = deletion.stateNode),
-                      scheduleViewTransitionEvent(deletion, props.onShare))
-                    : restoreViewTransitionOnHostInstances(deletion.child, !1));
-                pairs.delete(name);
-                if (0 === pairs.size) break;
-              }
+    0 !== appearingViewTransitions.size &&
+    0 !== (deletion.subtreeFlags & 2097152)
+  )
+    for (deletion = deletion.child; null !== deletion; ) {
+      if (22 !== deletion.tag || null !== deletion.memoizedState) {
+        if (30 === deletion.tag && 0 !== (deletion.flags & 2097152)) {
+          var props = deletion.memoizedProps,
+            name = props.name;
+          if (null != name && "auto" !== name) {
+            var pair = appearingViewTransitions.get(name);
+            if (void 0 !== pair) {
+              var className = getViewTransitionClassName(
+                props.className,
+                props.share
+              );
+              "none" !== className &&
+                ((viewTransitionHostInstanceIdx = 0),
+                applyViewTransitionToHostInstances(
+                  deletion.child,
+                  name,
+                  className,
+                  null,
+                  !1
+                )
+                  ? ((pair.paired = deletion.stateNode),
+                    scheduleViewTransitionEvent(deletion, props.onShare))
+                  : restoreViewTransitionOnHostInstances(deletion.child, !1));
+              appearingViewTransitions.delete(name);
+              if (0 === appearingViewTransitions.size) break;
             }
           }
-          commitDeletedPairViewTransitions(deletion);
         }
-        deletion = deletion.sibling;
+        commitDeletedPairViewTransitions(deletion, appearingViewTransitions);
       }
-  }
+      deletion = deletion.sibling;
+    }
 }
-function commitExitViewTransitions(deletion) {
+function commitExitViewTransitions(deletion, appearingViewTransitions) {
   if (30 === deletion.tag) {
     var props = deletion.memoizedProps,
       name = getViewTransitionName(props, deletion.stateNode),
@@ -8156,13 +8185,14 @@ function commitExitViewTransitions(deletion) {
           : scheduleViewTransitionEvent(deletion, props.onExit)
         : restoreViewTransitionOnHostInstances(deletion.child, !1));
     null !== appearingViewTransitions &&
-      commitDeletedPairViewTransitions(deletion);
+      commitDeletedPairViewTransitions(deletion, appearingViewTransitions);
   } else if (0 !== (deletion.subtreeFlags & 33554432))
     for (deletion = deletion.child; null !== deletion; )
-      commitExitViewTransitions(deletion), (deletion = deletion.sibling);
+      commitExitViewTransitions(deletion, appearingViewTransitions),
+        (deletion = deletion.sibling);
   else
     null !== appearingViewTransitions &&
-      commitDeletedPairViewTransitions(deletion);
+      commitDeletedPairViewTransitions(deletion, appearingViewTransitions);
 }
 function commitNestedViewTransitions(changedParent) {
   for (changedParent = changedParent.child; null !== changedParent; ) {
@@ -8186,10 +8216,10 @@ function commitNestedViewTransitions(changedParent) {
   }
 }
 function restorePairedViewTransitions(parent) {
-  if (0 !== (parent.subtreeFlags & 18874368))
+  if (0 !== (parent.subtreeFlags & 2097152))
     for (parent = parent.child; null !== parent; ) {
       if (22 !== parent.tag || null !== parent.memoizedState) {
-        if (30 === parent.tag && 0 !== (parent.flags & 18874368)) {
+        if (30 === parent.tag && 0 !== (parent.flags & 2097152)) {
           var instance = parent.stateNode;
           null !== instance.paired &&
             ((instance.paired = null),
@@ -8330,283 +8360,41 @@ function measureViewTransitionHostInstances(
             currentViewTransition,
             parentViewTransition,
             child.child,
-            name,
-            className,
-            previousMeasurements,
-            stopAtNestedViewTransitions
-          ) && (inViewport = !0);
-    child = child.sibling;
-  }
-  return inViewport;
-}
-function measureNestedViewTransitions(changedParent) {
-  for (changedParent = changedParent.child; null !== changedParent; ) {
-    if (30 === changedParent.tag) {
-      var current = changedParent.alternate;
-      if (null !== current) {
-        var props = changedParent.memoizedProps,
-          name = getViewTransitionName(props, changedParent.stateNode),
-          className = getViewTransitionClassName(props.className, props.layout);
-        viewTransitionHostInstanceIdx = 0;
-        current = measureViewTransitionHostInstances(
-          current,
-          changedParent,
-          changedParent.child,
-          name,
-          className,
-          changedParent.memoizedState,
-          !1
-        );
-        0 !== (changedParent.flags & 4) &&
-          current &&
-          scheduleViewTransitionEvent(changedParent, props.onLayout);
-      }
-    } else
-      0 !== (changedParent.subtreeFlags & 33554432) &&
-        measureNestedViewTransitions(changedParent);
-    changedParent = changedParent.sibling;
-  }
-}
-var offscreenSubtreeIsHidden = !1,
-  offscreenSubtreeWasHidden = !1,
-  needsFormReset = !1,
-  PossiblyWeakSet = "function" === typeof WeakSet ? WeakSet : Set,
-  nextEffect = null,
-  viewTransitionContextChanged = !1;
-function commitBeforeMutationEffects(root, firstChild, committedLanes) {
-  root = root.containerInfo;
-  eventsEnabled = _enabled;
-  root = getActiveElementDeep(root);
-  if (hasSelectionCapabilities(root)) {
-    if ("selectionStart" in root)
-      var JSCompiler_temp = {
-        start: root.selectionStart,
-        end: root.selectionEnd
-      };
-    else
-      a: {
-        JSCompiler_temp =
-          ((JSCompiler_temp = root.ownerDocument) &&
-            JSCompiler_temp.defaultView) ||
-          window;
-        var selection =
-          JSCompiler_temp.getSelection && JSCompiler_temp.getSelection();
-        if (selection && 0 !== selection.rangeCount) {
-          JSCompiler_temp = selection.anchorNode;
-          var anchorOffset = selection.anchorOffset,
-            focusNode = selection.focusNode;
-          selection = selection.focusOffset;
-          try {
-            JSCompiler_temp.nodeType, focusNode.nodeType;
-          } catch (e$20) {
-            JSCompiler_temp = null;
-            break a;
-          }
-          var length = 0,
-            start = -1,
-            end = -1,
-            indexWithinAnchor = 0,
-            indexWithinFocus = 0,
-            node = root,
-            parentNode = null;
-          b: for (;;) {
-            for (var next; ; ) {
-              node !== JSCompiler_temp ||
-                (0 !== anchorOffset && 3 !== node.nodeType) ||
-                (start = length + anchorOffset);
-              node !== focusNode ||
-                (0 !== selection && 3 !== node.nodeType) ||
-                (end = length + selection);
-              3 === node.nodeType && (length += node.nodeValue.length);
-              if (null === (next = node.firstChild)) break;
-              parentNode = node;
-              node = next;
-            }
-            for (;;) {
-              if (node === root) break b;
-              parentNode === JSCompiler_temp &&
-                ++indexWithinAnchor === anchorOffset &&
-                (start = length);
-              parentNode === focusNode &&
-                ++indexWithinFocus === selection &&
-                (end = length);
-              if (null !== (next = node.nextSibling)) break;
-              node = parentNode;
-              parentNode = node.parentNode;
-            }
-            node = next;
-          }
-          JSCompiler_temp =
-            -1 === start || -1 === end ? null : { start: start, end: end };
-        } else JSCompiler_temp = null;
-      }
-    JSCompiler_temp = JSCompiler_temp || { start: 0, end: 0 };
-  } else JSCompiler_temp = null;
-  selectionInformation = { focusedElem: root, selectionRange: JSCompiler_temp };
-  shouldStartViewTransition = _enabled = !1;
-  committedLanes = (committedLanes & 335544064) === committedLanes;
-  nextEffect = firstChild;
-  for (firstChild = committedLanes ? 9238 : 1028; null !== nextEffect; ) {
-    root = nextEffect;
-    if (
-      committedLanes &&
-      ((JSCompiler_temp = root.deletions), null !== JSCompiler_temp)
-    )
-      for (
-        anchorOffset = 0;
-        anchorOffset < JSCompiler_temp.length;
-        anchorOffset++
-      )
-        committedLanes &&
-          commitExitViewTransitions(JSCompiler_temp[anchorOffset]);
-    if (null === root.alternate && 0 !== (root.flags & 2))
-      commitBeforeMutationEffects_complete(committedLanes);
-    else {
-      if (22 === root.tag)
-        if (((JSCompiler_temp = root.alternate), null !== root.memoizedState)) {
-          null !== JSCompiler_temp &&
-            null === JSCompiler_temp.memoizedState &&
-            committedLanes &&
-            commitExitViewTransitions(JSCompiler_temp);
-          commitBeforeMutationEffects_complete(committedLanes);
-          continue;
-        } else if (
-          null !== JSCompiler_temp &&
-          null !== JSCompiler_temp.memoizedState
-        ) {
-          commitBeforeMutationEffects_complete(committedLanes);
-          continue;
-        }
-      JSCompiler_temp = root.child;
-      0 !== (root.subtreeFlags & firstChild) && null !== JSCompiler_temp
-        ? ((JSCompiler_temp.return = root), (nextEffect = JSCompiler_temp))
-        : (committedLanes && commitNestedViewTransitions(root),
-          commitBeforeMutationEffects_complete(committedLanes));
-    }
-  }
-  appearingViewTransitions = null;
-}
-function commitBeforeMutationEffects_complete(
-  isViewTransitionEligible$jscomp$0
-) {
-  for (; null !== nextEffect; ) {
-    var fiber = nextEffect,
-      isViewTransitionEligible = isViewTransitionEligible$jscomp$0,
-      current = fiber.alternate,
-      flags = fiber.flags;
-    switch (fiber.tag) {
-      case 0:
-        if (
-          0 !== (flags & 4) &&
-          ((current = fiber.updateQueue),
-          (current = null !== current ? current.events : null),
-          null !== current)
-        )
-          for (
-            isViewTransitionEligible = 0;
-            isViewTransitionEligible < current.length;
-            isViewTransitionEligible++
-          )
-            (flags = current[isViewTransitionEligible]),
-              (flags.ref.impl = flags.nextImpl);
-        break;
-      case 11:
-      case 15:
-        break;
-      case 1:
-        if (0 !== (flags & 1024) && null !== current) {
-          isViewTransitionEligible = void 0;
-          flags = current.memoizedProps;
-          current = current.memoizedState;
-          var instance = fiber.stateNode;
-          try {
-            var resolvedPrevProps = resolveClassComponentProps(
-              fiber.type,
-              flags,
-              fiber.elementType === fiber.type
-            );
-            isViewTransitionEligible = instance.getSnapshotBeforeUpdate(
-              resolvedPrevProps,
-              current
-            );
-            instance.__reactInternalSnapshotBeforeUpdate =
-              isViewTransitionEligible;
-          } catch (error) {
-            captureCommitPhaseError(fiber, fiber.return, error);
-          }
-        }
-        break;
-      case 3:
-        if (0 !== (flags & 1024))
-          if (
-            ((current = fiber.stateNode.containerInfo),
-            (isViewTransitionEligible = current.nodeType),
-            9 === isViewTransitionEligible)
-          )
-            clearContainerSparingly(current);
-          else if (1 === isViewTransitionEligible)
-            switch (current.nodeName) {
-              case "HEAD":
-              case "HTML":
-              case "BODY":
-                clearContainerSparingly(current);
-                break;
-              default:
-                current.textContent = "";
-            }
-        break;
-      case 5:
-      case 26:
-      case 27:
-      case 6:
-      case 4:
-      case 17:
-        break;
-      case 30:
-        if (
-          isViewTransitionEligible &&
-          null !== current &&
-          0 !== (fiber.subtreeFlags & 8246)
-        )
-          a: {
-            isViewTransitionEligible = getViewTransitionName(
-              current.memoizedProps,
-              current.stateNode
-            );
-            flags = fiber.memoizedProps;
-            instance = getViewTransitionClassName(
-              flags.className,
-              flags.update
-            );
-            if (
-              "none" === instance &&
-              ((instance = getViewTransitionClassName(
-                flags.className,
-                flags.layout
-              )),
-              "none" === instance)
-            )
-              break a;
-            viewTransitionHostInstanceIdx = 0;
-            applyViewTransitionToHostInstances(
-              current.child,
-              isViewTransitionEligible,
-              instance,
-              (current.memoizedState = []),
-              !0
-            );
-          }
-        break;
-      default:
-        if (0 !== (flags & 1024)) throw Error(formatProdErrorMessage(163));
-    }
-    current = fiber.sibling;
-    if (null !== current) {
-      current.return = fiber.return;
-      nextEffect = current;
-      break;
-    }
-    nextEffect = fiber.return;
+            name,
+            className,
+            previousMeasurements,
+            stopAtNestedViewTransitions
+          ) && (inViewport = !0);
+    child = child.sibling;
+  }
+  return inViewport;
+}
+function measureNestedViewTransitions(changedParent) {
+  for (changedParent = changedParent.child; null !== changedParent; ) {
+    if (30 === changedParent.tag) {
+      var current = changedParent.alternate;
+      if (null !== current) {
+        var props = changedParent.memoizedProps,
+          name = getViewTransitionName(props, changedParent.stateNode),
+          className = getViewTransitionClassName(props.className, props.layout);
+        viewTransitionHostInstanceIdx = 0;
+        current = measureViewTransitionHostInstances(
+          current,
+          changedParent,
+          changedParent.child,
+          name,
+          className,
+          changedParent.memoizedState,
+          !1
+        );
+        0 !== (changedParent.flags & 4) &&
+          current &&
+          scheduleViewTransitionEvent(changedParent, props.onLayout);
+      }
+    } else
+      0 !== (changedParent.subtreeFlags & 33554432) &&
+        measureNestedViewTransitions(changedParent);
+    changedParent = changedParent.sibling;
   }
 }
 function commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {
@@ -8639,11 +8427,11 @@ function commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {
               current,
               finishedRoot.__reactInternalSnapshotBeforeUpdate
             );
-          } catch (error$115) {
+          } catch (error$114) {
             captureCommitPhaseError(
               finishedWork,
               finishedWork.return,
-              error$115
+              error$114
             );
           }
         }
@@ -8670,11 +8458,11 @@ function commitLayoutEffectOnFiber(finishedRoot, current, finishedWork) {
         }
       }
       break;
-    case 27:
-      null === current &&
-        flags & 4 &&
-        commitHostSingletonAcquisition(finishedWork);
     case 26:
+      recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);
+      flags & 512 && safelyAttachRef(finishedWork, finishedWork.return);
+      break;
+    case 27:
     case 5:
       recursivelyTraverseLayoutEffects(finishedRoot, finishedWork);
       null === current && flags & 4 && commitHostMount(finishedWork);
@@ -8789,14 +8577,20 @@ function commitDeletionEffectsOnFiber(
         safelyDetachRef(deletedFiber, nearestMountedAncestor);
       var prevHostParent = hostParent,
         prevHostParentIsContainer = hostParentIsContainer;
-      isSingletonScope(deletedFiber.type) &&
-        ((hostParent = deletedFiber.stateNode), (hostParentIsContainer = !1));
+      hostParent = deletedFiber.stateNode;
       recursivelyTraverseDeletionEffects(
         finishedRoot,
         nearestMountedAncestor,
         deletedFiber
       );
-      releaseSingletonInstance(deletedFiber.stateNode);
+      deletedFiber = deletedFiber.stateNode;
+      for (
+        nearestMountedAncestor = deletedFiber.attributes;
+        nearestMountedAncestor.length;
+
+      )
+        deletedFiber.removeAttributeNode(nearestMountedAncestor[0]);
+      detachDeletedInstance(deletedFiber);
       hostParent = prevHostParent;
       hostParentIsContainer = prevHostParentIsContainer;
       break;
@@ -8804,25 +8598,24 @@ function commitDeletionEffectsOnFiber(
       offscreenSubtreeWasHidden ||
         safelyDetachRef(deletedFiber, nearestMountedAncestor);
     case 6:
-      prevHostParent = hostParent;
-      prevHostParentIsContainer = hostParentIsContainer;
+      prevHostParentIsContainer = hostParent;
+      var prevHostParentIsContainer$122 = hostParentIsContainer;
       hostParent = null;
       recursivelyTraverseDeletionEffects(
         finishedRoot,
         nearestMountedAncestor,
         deletedFiber
       );
-      hostParent = prevHostParent;
-      hostParentIsContainer = prevHostParentIsContainer;
+      hostParent = prevHostParentIsContainer;
+      hostParentIsContainer = prevHostParentIsContainer$122;
       if (null !== hostParent)
         if (hostParentIsContainer)
           try {
-            (9 === hostParent.nodeType
-              ? hostParent.body
-              : "HTML" === hostParent.nodeName
-                ? hostParent.ownerDocument.body
-                : hostParent
-            ).removeChild(deletedFiber.stateNode),
+            (finishedRoot = hostParent),
+              (prevHostParent = deletedFiber.stateNode),
+              8 === finishedRoot.nodeType
+                ? finishedRoot.parentNode.removeChild(prevHostParent)
+                : finishedRoot.removeChild(prevHostParent),
               (viewTransitionMutationContext = !0);
           } catch (error) {
             captureCommitPhaseError(
@@ -8846,16 +8639,16 @@ function commitDeletionEffectsOnFiber(
     case 18:
       null !== hostParent &&
         (hostParentIsContainer
-          ? ((finishedRoot = hostParent),
-            clearSuspenseBoundary(
-              9 === finishedRoot.nodeType
-                ? finishedRoot.body
-                : "HTML" === finishedRoot.nodeName
-                  ? finishedRoot.ownerDocument.body
-                  : finishedRoot,
-              deletedFiber.stateNode
-            ),
-            retryIfBlockedOn(finishedRoot))
+          ? ((nearestMountedAncestor = hostParent),
+            (deletedFiber = deletedFiber.stateNode),
+            8 === nearestMountedAncestor.nodeType
+              ? clearSuspenseBoundary(
+                  nearestMountedAncestor.parentNode,
+                  deletedFiber
+                )
+              : 1 === nearestMountedAncestor.nodeType &&
+                clearSuspenseBoundary(nearestMountedAncestor, deletedFiber),
+            retryIfBlockedOn(nearestMountedAncestor))
           : clearSuspenseBoundary(hostParent, deletedFiber.stateNode));
       break;
     case 4:
@@ -8983,17 +8776,14 @@ function recursivelyTraverseMutationEffects(root$jscomp$0, parentFiber, lanes) {
       a: for (; null !== parent; ) {
         switch (parent.tag) {
           case 27:
-            if (isSingletonScope(parent.type)) {
-              hostParent = parent.stateNode;
-              hostParentIsContainer = !1;
-              break a;
-            }
-            break;
           case 5:
             hostParent = parent.stateNode;
             hostParentIsContainer = !1;
             break a;
           case 3:
+            hostParent = parent.stateNode.containerInfo;
+            hostParentIsContainer = !0;
+            break a;
           case 4:
             hostParent = parent.stateNode.containerInfo;
             hostParentIsContainer = !0;
@@ -9055,111 +8845,112 @@ function commitMutationEffectsOnFiber(finishedWork, root, lanes) {
         (offscreenSubtreeWasHidden ||
           null === current ||
           safelyDetachRef(current, current.return));
-      if (flags & 4) {
-        var currentResource = null !== current ? current.memoizedState : null;
-        flags = finishedWork.memoizedState;
-        if (null === current)
+      if (flags & 4)
+        if (
+          ((root = null !== current ? current.memoizedState : null),
+          (flags = finishedWork.memoizedState),
+          null === current)
+        )
           if (null === flags)
             if (null === finishedWork.stateNode) {
               a: {
                 flags = finishedWork.type;
                 current = finishedWork.memoizedProps;
-                hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;
+                root = hoistableRoot.ownerDocument || hoistableRoot;
                 b: switch (flags) {
                   case "title":
-                    currentResource =
-                      hoistableRoot.getElementsByTagName("title")[0];
+                    lanes = root.getElementsByTagName("title")[0];
                     if (
-                      !currentResource ||
-                      currentResource[internalHoistableMarker] ||
-                      currentResource[internalInstanceKey] ||
-                      "http://www.w3.org/2000/svg" ===
-                        currentResource.namespaceURI ||
-                      currentResource.hasAttribute("itemprop")
+                      !lanes ||
+                      lanes[internalHoistableMarker] ||
+                      lanes[internalInstanceKey] ||
+                      "http://www.w3.org/2000/svg" === lanes.namespaceURI ||
+                      lanes.hasAttribute("itemprop")
                     )
-                      (currentResource = hoistableRoot.createElement(flags)),
-                        hoistableRoot.head.insertBefore(
-                          currentResource,
-                          hoistableRoot.querySelector("head > title")
+                      (lanes = root.createElement(flags)),
+                        root.head.insertBefore(
+                          lanes,
+                          root.querySelector("head > title")
                         );
-                    setInitialProperties(currentResource, flags, current);
-                    currentResource[internalInstanceKey] = finishedWork;
-                    markNodeAsHoistable(currentResource);
-                    flags = currentResource;
+                    setInitialProperties(lanes, flags, current);
+                    lanes[internalInstanceKey] = finishedWork;
+                    markNodeAsHoistable(lanes);
+                    flags = lanes;
                     break a;
                   case "link":
-                    var maybeNodes = getHydratableHoistableCache(
-                      "link",
-                      "href",
-                      hoistableRoot
-                    ).get(flags + (current.href || ""));
-                    if (maybeNodes)
-                      for (var i = 0; i < maybeNodes.length; i++)
+                    if (
+                      (hoistableRoot = getHydratableHoistableCache(
+                        "link",
+                        "href",
+                        root
+                      ).get(flags + (current.href || "")))
+                    )
+                      for (var i = 0; i < hoistableRoot.length; i++)
                         if (
-                          ((currentResource = maybeNodes[i]),
-                          currentResource.getAttribute("href") ===
+                          ((lanes = hoistableRoot[i]),
+                          lanes.getAttribute("href") ===
                             (null == current.href || "" === current.href
                               ? null
                               : current.href) &&
-                            currentResource.getAttribute("rel") ===
+                            lanes.getAttribute("rel") ===
                               (null == current.rel ? null : current.rel) &&
-                            currentResource.getAttribute("title") ===
+                            lanes.getAttribute("title") ===
                               (null == current.title ? null : current.title) &&
-                            currentResource.getAttribute("crossorigin") ===
+                            lanes.getAttribute("crossorigin") ===
                               (null == current.crossOrigin
                                 ? null
                                 : current.crossOrigin))
                         ) {
-                          maybeNodes.splice(i, 1);
+                          hoistableRoot.splice(i, 1);
                           break b;
                         }
-                    currentResource = hoistableRoot.createElement(flags);
-                    setInitialProperties(currentResource, flags, current);
-                    hoistableRoot.head.appendChild(currentResource);
+                    lanes = root.createElement(flags);
+                    setInitialProperties(lanes, flags, current);
+                    root.head.appendChild(lanes);
                     break;
                   case "meta":
                     if (
-                      (maybeNodes = getHydratableHoistableCache(
+                      (hoistableRoot = getHydratableHoistableCache(
                         "meta",
                         "content",
-                        hoistableRoot
+                        root
                       ).get(flags + (current.content || "")))
                     )
-                      for (i = 0; i < maybeNodes.length; i++)
+                      for (i = 0; i < hoistableRoot.length; i++)
                         if (
-                          ((currentResource = maybeNodes[i]),
-                          currentResource.getAttribute("content") ===
+                          ((lanes = hoistableRoot[i]),
+                          lanes.getAttribute("content") ===
                             (null == current.content
                               ? null
                               : "" + current.content) &&
-                            currentResource.getAttribute("name") ===
+                            lanes.getAttribute("name") ===
                               (null == current.name ? null : current.name) &&
-                            currentResource.getAttribute("property") ===
+                            lanes.getAttribute("property") ===
                               (null == current.property
                                 ? null
                                 : current.property) &&
-                            currentResource.getAttribute("http-equiv") ===
+                            lanes.getAttribute("http-equiv") ===
                               (null == current.httpEquiv
                                 ? null
                                 : current.httpEquiv) &&
-                            currentResource.getAttribute("charset") ===
+                            lanes.getAttribute("charset") ===
                               (null == current.charSet
                                 ? null
                                 : current.charSet))
                         ) {
-                          maybeNodes.splice(i, 1);
+                          hoistableRoot.splice(i, 1);
                           break b;
                         }
-                    currentResource = hoistableRoot.createElement(flags);
-                    setInitialProperties(currentResource, flags, current);
-                    hoistableRoot.head.appendChild(currentResource);
+                    lanes = root.createElement(flags);
+                    setInitialProperties(lanes, flags, current);
+                    root.head.appendChild(lanes);
                     break;
                   default:
                     throw Error(formatProdErrorMessage(468, flags));
                 }
-                currentResource[internalInstanceKey] = finishedWork;
-                markNodeAsHoistable(currentResource);
-                flags = currentResource;
+                lanes[internalInstanceKey] = finishedWork;
+                markNodeAsHoistable(lanes);
+                flags = lanes;
               }
               finishedWork.stateNode = flags;
             } else
@@ -9175,12 +8966,12 @@ function commitMutationEffectsOnFiber(finishedWork, root, lanes) {
               finishedWork.memoizedProps
             );
         else
-          currentResource !== flags
-            ? (null === currentResource
+          root !== flags
+            ? (null === root
                 ? null !== current.stateNode &&
                   ((current = current.stateNode),
                   current.parentNode.removeChild(current))
-                : currentResource.count--,
+                : root.count--,
               null === flags
                 ? mountHoistable(
                     hoistableRoot,
@@ -9199,23 +8990,38 @@ function commitMutationEffectsOnFiber(finishedWork, root, lanes) {
                 finishedWork.memoizedProps,
                 current.memoizedProps
               );
-      }
       break;
     case 27:
-      recursivelyTraverseMutationEffects(root, finishedWork, lanes);
-      commitReconciliationEffects(finishedWork);
-      flags & 512 &&
-        (offscreenSubtreeWasHidden ||
-          null === current ||
-          safelyDetachRef(current, current.return));
-      null !== current &&
-        flags & 4 &&
-        commitHostUpdate(
-          finishedWork,
-          finishedWork.memoizedProps,
-          current.memoizedProps
-        );
-      break;
+      if (flags & 4 && null === finishedWork.alternate) {
+        hoistableRoot = finishedWork.stateNode;
+        i = finishedWork.memoizedProps;
+        try {
+          for (var node = hoistableRoot.firstChild; node; ) {
+            var nextNode = node.nextSibling,
+              nodeName = node.nodeName;
+            node[internalHoistableMarker] ||
+              "HEAD" === nodeName ||
+              "BODY" === nodeName ||
+              "SCRIPT" === nodeName ||
+              "STYLE" === nodeName ||
+              ("LINK" === nodeName &&
+                "stylesheet" === node.rel.toLowerCase()) ||
+              hoistableRoot.removeChild(node);
+            node = nextNode;
+          }
+          for (
+            var type = finishedWork.type, attributes = hoistableRoot.attributes;
+            attributes.length;
+
+          )
+            hoistableRoot.removeAttributeNode(attributes[0]);
+          setInitialProperties(hoistableRoot, type, i);
+          hoistableRoot[internalInstanceKey] = finishedWork;
+          hoistableRoot[internalPropsKey] = i;
+        } catch (error) {
+          captureCommitPhaseError(finishedWork, finishedWork.return, error);
+        }
+      }
     case 5:
       recursivelyTraverseMutationEffects(root, finishedWork, lanes);
       commitReconciliationEffects(finishedWork);
@@ -9224,21 +9030,20 @@ function commitMutationEffectsOnFiber(finishedWork, root, lanes) {
           null === current ||
           safelyDetachRef(current, current.return));
       if (finishedWork.flags & 32) {
-        hoistableRoot = finishedWork.stateNode;
+        root = finishedWork.stateNode;
         try {
-          setTextContent(hoistableRoot, ""),
-            (viewTransitionMutationContext = !0);
+          setTextContent(root, ""), (viewTransitionMutationContext = !0);
         } catch (error) {
           captureCommitPhaseError(finishedWork, finishedWork.return, error);
         }
       }
       flags & 4 &&
         null != finishedWork.stateNode &&
-        ((hoistableRoot = finishedWork.memoizedProps),
+        ((root = finishedWork.memoizedProps),
         commitHostUpdate(
           finishedWork,
-          hoistableRoot,
-          null !== current ? current.memoizedProps : hoistableRoot
+          root,
+          null !== current ? current.memoizedProps : root
         ));
       flags & 1024 && (needsFormReset = !0);
       break;
@@ -9304,15 +9109,15 @@ function commitMutationEffectsOnFiber(finishedWork, root, lanes) {
         (offscreenSubtreeWasHidden ||
           null === current ||
           safelyDetachRef(current, current.return));
-      hoistableRoot = null !== finishedWork.memoizedState;
-      var wasHidden = null !== current && null !== current.memoizedState,
-        prevOffscreenSubtreeIsHidden = offscreenSubtreeIsHidden,
-        prevOffscreenSubtreeWasHidden = offscreenSubtreeWasHidden;
-      offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden || hoistableRoot;
-      offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden || wasHidden;
+      node = null !== finishedWork.memoizedState;
+      nextNode = null !== current && null !== current.memoizedState;
+      nodeName = offscreenSubtreeIsHidden;
+      type = offscreenSubtreeWasHidden;
+      offscreenSubtreeIsHidden = nodeName || node;
+      offscreenSubtreeWasHidden = type || nextNode;
       recursivelyTraverseMutationEffects(root, finishedWork, lanes);
-      offscreenSubtreeWasHidden = prevOffscreenSubtreeWasHidden;
-      offscreenSubtreeIsHidden = prevOffscreenSubtreeIsHidden;
+      offscreenSubtreeWasHidden = type;
+      offscreenSubtreeIsHidden = nodeName;
       commitReconciliationEffects(finishedWork);
       root = finishedWork.stateNode;
       root._current = finishedWork;
@@ -9320,38 +9125,38 @@ function commitMutationEffectsOnFiber(finishedWork, root, lanes) {
       root._visibility |= root._pendingVisibility & 2;
       if (
         flags & 8192 &&
-        ((root._visibility = hoistableRoot
+        ((root._visibility = node
           ? root._visibility & -2
           : root._visibility | 1),
-        hoistableRoot &&
-          (null === current ||
-            wasHidden ||
-            offscreenSubtreeIsHidden ||
-            offscreenSubtreeWasHidden ||
+        node &&
+          ((root = offscreenSubtreeIsHidden || offscreenSubtreeWasHidden),
+          null === current ||
+            nextNode ||
+            root ||
             recursivelyTraverseDisappearLayoutEffects(finishedWork)),
         null === finishedWork.memoizedProps ||
           "manual" !== finishedWork.memoizedProps.mode)
       )
         a: for (current = null, root = finishedWork; ; ) {
-          if (5 === root.tag || 26 === root.tag) {
+          if (5 === root.tag || 26 === root.tag || 27 === root.tag) {
             if (null === current) {
               lanes = current = root;
               try {
-                if (((currentResource = lanes.stateNode), hoistableRoot))
-                  (maybeNodes = currentResource.style),
-                    "function" === typeof maybeNodes.setProperty
-                      ? maybeNodes.setProperty("display", "none", "important")
-                      : (maybeNodes.display = "none");
+                if (((hoistableRoot = lanes.stateNode), node))
+                  (i = hoistableRoot.style),
+                    "function" === typeof i.setProperty
+                      ? i.setProperty("display", "none", "important")
+                      : (i.display = "none");
                 else {
-                  i = lanes.stateNode;
-                  var styleProp = lanes.memoizedProps.style,
+                  var instance = lanes.stateNode,
+                    styleProp = lanes.memoizedProps.style,
                     display =
                       void 0 !== styleProp &&
                       null !== styleProp &&
                       styleProp.hasOwnProperty("display")
                         ? styleProp.display
                         : null;
-                  i.style.display =
+                  instance.style.display =
                     null == display || "boolean" === typeof display
                       ? ""
                       : ("" + display).trim();
@@ -9364,9 +9169,7 @@ function commitMutationEffectsOnFiber(finishedWork, root, lanes) {
             if (null === current) {
               lanes = root;
               try {
-                lanes.stateNode.nodeValue = hoistableRoot
-                  ? ""
-                  : lanes.memoizedProps;
+                lanes.stateNode.nodeValue = node ? "" : lanes.memoizedProps;
               } catch (error) {
                 captureCommitPhaseError(lanes, lanes.return, error);
               }
@@ -9417,7 +9220,7 @@ function commitMutationEffectsOnFiber(finishedWork, root, lanes) {
       viewTransitionMutationContext = !1;
       recursivelyTraverseMutationEffects(root, finishedWork, lanes);
       commitReconciliationEffects(finishedWork);
-      (lanes & 335544064) === lanes &&
+      (lanes & 335544192) === lanes &&
         null !== current &&
         viewTransitionMutationContext &&
         (finishedWork.flags |= 4);
@@ -9434,42 +9237,44 @@ function commitReconciliationEffects(finishedWork) {
   var flags = finishedWork.flags;
   if (flags & 2) {
     try {
-      a: {
-        for (var parent = finishedWork.return; null !== parent; ) {
-          if (isHostParent(parent)) {
-            var JSCompiler_inline_result = parent;
-            break a;
+      if (27 !== finishedWork.tag) {
+        a: {
+          for (var parent = finishedWork.return; null !== parent; ) {
+            if (isHostParent(parent)) {
+              var JSCompiler_inline_result = parent;
+              break a;
+            }
+            parent = parent.return;
           }
-          parent = parent.return;
+          throw Error(formatProdErrorMessage(160));
+        }
+        switch (JSCompiler_inline_result.tag) {
+          case 27:
+            var parent$jscomp$0 = JSCompiler_inline_result.stateNode,
+              before = getHostSibling(finishedWork);
+            insertOrAppendPlacementNode(finishedWork, before, parent$jscomp$0);
+            break;
+          case 5:
+            var parent$116 = JSCompiler_inline_result.stateNode;
+            JSCompiler_inline_result.flags & 32 &&
+              (setTextContent(parent$116, ""),
+              (JSCompiler_inline_result.flags &= -33));
+            var before$117 = getHostSibling(finishedWork);
+            insertOrAppendPlacementNode(finishedWork, before$117, parent$116);
+            break;
+          case 3:
+          case 4:
+            var parent$118 = JSCompiler_inline_result.stateNode.containerInfo,
+              before$119 = getHostSibling(finishedWork);
+            insertOrAppendPlacementNodeIntoContainer(
+              finishedWork,
+              before$119,
+              parent$118
+            );
+            break;
+          default:
+            throw Error(formatProdErrorMessage(161));
         }
-        throw Error(formatProdErrorMessage(160));
-      }
-      switch (JSCompiler_inline_result.tag) {
-        case 27:
-          var parent$jscomp$0 = JSCompiler_inline_result.stateNode,
-            before = getHostSibling(finishedWork);
-          insertOrAppendPlacementNode(finishedWork, before, parent$jscomp$0);
-          break;
-        case 5:
-          var parent$117 = JSCompiler_inline_result.stateNode;
-          JSCompiler_inline_result.flags & 32 &&
-            (setTextContent(parent$117, ""),
-            (JSCompiler_inline_result.flags &= -33));
-          var before$118 = getHostSibling(finishedWork);
-          insertOrAppendPlacementNode(finishedWork, before$118, parent$117);
-          break;
-        case 3:
-        case 4:
-          var parent$119 = JSCompiler_inline_result.stateNode.containerInfo,
-            before$120 = getHostSibling(finishedWork);
-          insertOrAppendPlacementNodeIntoContainer(
-            finishedWork,
-            before$120,
-            parent$119
-          );
-          break;
-        default:
-          throw Error(formatProdErrorMessage(161));
       }
     } catch (error) {
       captureCommitPhaseError(finishedWork, finishedWork.return, error);
@@ -9522,7 +9327,30 @@ function commitAfterMutationEffectsOnFiber(finishedWork, root) {
                   }
                 );
             }
-          cancelRootViewTransitionName(root.containerInfo);
+          finishedWork = root.containerInfo;
+          finishedWork =
+            9 === finishedWork.nodeType
+              ? finishedWork.documentElement
+              : finishedWork.ownerDocument.documentElement;
+          null !== finishedWork &&
+            "" === finishedWork.style.viewTransitionName &&
+            ((finishedWork.style.viewTransitionName = "none"),
+            finishedWork.animate(
+              { opacity: [0, 0], pointerEvents: ["none", "none"] },
+              {
+                duration: 0,
+                fill: "forwards",
+                pseudoElement: "::view-transition-group(root)"
+              }
+            ),
+            finishedWork.animate(
+              { width: [0, 0], height: [0, 0] },
+              {
+                duration: 0,
+                fill: "forwards",
+                pseudoElement: "::view-transition"
+              }
+            ));
         }
         break;
       case 5:
@@ -9551,7 +9379,7 @@ function commitAfterMutationEffectsOnFiber(finishedWork, root) {
               ),
               layoutClassName = getViewTransitionClassName(
                 root.className,
-                root.layout
+                root.update
               );
             if ("none" === updateClassName) {
               if ("none" === layoutClassName) {
@@ -9639,9 +9467,8 @@ function recursivelyTraverseDisappearLayoutEffects(parentFiber) {
           );
         recursivelyTraverseDisappearLayoutEffects(finishedWork);
         break;
-      case 27:
-        releaseSingletonInstance(finishedWork.stateNode);
       case 26:
+      case 27:
       case 5:
         safelyDetachRef(finishedWork, finishedWork.return);
         recursivelyTraverseDisappearLayoutEffects(finishedWork);
@@ -9718,9 +9545,8 @@ function recursivelyTraverseReappearLayoutEffects(
           commitClassCallbacks(finishedWork);
         safelyAttachRef(finishedWork, finishedWork.return);
         break;
-      case 27:
-        commitHostSingletonAcquisition(finishedWork);
       case 26:
+      case 27:
       case 5:
         recursivelyTraverseReappearLayoutEffects(
           finishedRoot,
@@ -9806,7 +9632,7 @@ function recursivelyTraversePassiveMountEffects(
   committedTransitions
 ) {
   var isViewTransitionEligible =
-    (committedLanes & 335544064) === committedLanes;
+    (committedLanes & 335544192) === committedLanes;
   if (parentFiber.subtreeFlags & (isViewTransitionEligible ? 10262 : 10256))
     for (parentFiber = parentFiber.child; null !== parentFiber; )
       commitPassiveMountOnFiber(
@@ -9825,7 +9651,7 @@ function commitPassiveMountOnFiber(
   committedTransitions
 ) {
   var isViewTransitionEligible =
-    (committedLanes & 335544064) === committedLanes;
+    (committedLanes & 335544192) === committedLanes;
   isViewTransitionEligible &&
     null === finishedWork.alternate &&
     null !== finishedWork.return &&
@@ -9860,15 +9686,21 @@ function commitPassiveMountOnFiber(
         committedTransitions
       );
       isViewTransitionEligible &&
-        restoreRootViewTransitionName(finishedRoot.containerInfo);
+        ((finishedRoot = finishedRoot.containerInfo),
+        (finishedRoot =
+          9 === finishedRoot.nodeType
+            ? finishedRoot.documentElement
+            : finishedRoot.ownerDocument.documentElement),
+        null !== finishedRoot &&
+          "none" === finishedRoot.style.viewTransitionName &&
+          (finishedRoot.style.viewTransitionName = ""));
       flags & 2048 &&
-        ((finishedRoot = null),
+        ((flags = null),
         null !== finishedWork.alternate &&
-          (finishedRoot = finishedWork.alternate.memoizedState.cache),
+          (flags = finishedWork.alternate.memoizedState.cache),
         (finishedWork = finishedWork.memoizedState.cache),
-        finishedWork !== finishedRoot &&
-          (finishedWork.refCount++,
-          null != finishedRoot && releaseCache(finishedRoot)));
+        finishedWork !== flags &&
+          (finishedWork.refCount++, null != flags && releaseCache(flags)));
       break;
     case 12:
       if (flags & 2048) {
@@ -9878,7 +9710,7 @@ function commitPassiveMountOnFiber(
           committedLanes,
           committedTransitions
         );
-        finishedRoot = finishedWork.stateNode;
+        flags = finishedWork.stateNode;
         try {
           var _finishedWork$memoize2 = finishedWork.memoizedProps,
             id = _finishedWork$memoize2.id,
@@ -9887,7 +9719,7 @@ function commitPassiveMountOnFiber(
             onPostCommit(
               id,
               null === finishedWork.alternate ? "mount" : "update",
-              finishedRoot.passiveEffectDuration,
+              flags.passiveEffectDuration,
               -0
             );
         } catch (error) {
@@ -9963,14 +9795,11 @@ function commitPassiveMountOnFiber(
       break;
     case 30:
       isViewTransitionEligible &&
-        ((isViewTransitionEligible = finishedWork.alternate),
-        null !== isViewTransitionEligible &&
+        ((flags = finishedWork.alternate),
+        null !== flags &&
           0 !== (finishedWork.subtreeFlags & 8246) &&
           ((finishedWork.memoizedState = null),
-          restoreViewTransitionOnHostInstances(
-            isViewTransitionEligible.child,
-            !0
-          ),
+          restoreViewTransitionOnHostInstances(flags.child, !0),
           restoreViewTransitionOnHostInstances(finishedWork.child, !0)));
       recursivelyTraversePassiveMountEffects(
         finishedRoot,
@@ -10141,20 +9970,6 @@ function accumulateSuspenseyCommitOnFiber(fiber) {
             (suspenseyCommitFlag = previousHoistableRoot))
           : recursivelyAccumulateSuspenseyCommit(fiber));
       break;
-    case 30:
-      if (
-        0 !== (fiber.flags & suspenseyCommitFlag) &&
-        ((previousHoistableRoot = fiber.memoizedProps.name),
-        null != previousHoistableRoot && "auto" !== previousHoistableRoot)
-      ) {
-        var state = fiber.stateNode;
-        state.paired = null;
-        null === appearingViewTransitions &&
-          (appearingViewTransitions = new Map());
-        appearingViewTransitions.set(previousHoistableRoot, state);
-      }
-      recursivelyAccumulateSuspenseyCommit(fiber);
-      break;
     default:
       recursivelyAccumulateSuspenseyCommit(fiber);
   }
@@ -10642,14 +10457,14 @@ function prepareToHydrateHostInstance(fiber) {
 function popToNextHostParent(fiber) {
   for (hydrationParentFiber = fiber.return; hydrationParentFiber; )
     switch (hydrationParentFiber.tag) {
+      case 3:
+      case 27:
+        rootOrSingletonContext = !0;
+        return;
       case 5:
       case 13:
         rootOrSingletonContext = !1;
         return;
-      case 27:
-      case 3:
-        rootOrSingletonContext = !0;
-        return;
       default:
         hydrationParentFiber = hydrationParentFiber.return;
     }
@@ -10657,52 +10472,46 @@ function popToNextHostParent(fiber) {
 function popHydrationState(fiber) {
   if (fiber !== hydrationParentFiber) return !1;
   if (!isHydrating) return popToNextHostParent(fiber), (isHydrating = !0), !1;
-  var tag = fiber.tag,
+  var shouldClear = !1,
     JSCompiler_temp;
-  if ((JSCompiler_temp = 3 !== tag && 27 !== tag)) {
-    if ((JSCompiler_temp = 5 === tag))
+  if ((JSCompiler_temp = 3 !== fiber.tag && 27 !== fiber.tag)) {
+    if ((JSCompiler_temp = 5 === fiber.tag))
       (JSCompiler_temp = fiber.type),
         (JSCompiler_temp =
           !("form" !== JSCompiler_temp && "button" !== JSCompiler_temp) ||
           shouldSetTextContent(fiber.type, fiber.memoizedProps));
     JSCompiler_temp = !JSCompiler_temp;
   }
-  JSCompiler_temp && nextHydratableInstance && throwOnHydrationMismatch(fiber);
+  JSCompiler_temp && (shouldClear = !0);
+  shouldClear && nextHydratableInstance && throwOnHydrationMismatch(fiber);
   popToNextHostParent(fiber);
-  if (13 === tag) {
+  if (13 === fiber.tag) {
     fiber = fiber.memoizedState;
     fiber = null !== fiber ? fiber.dehydrated : null;
     if (!fiber) throw Error(formatProdErrorMessage(317));
     a: {
       fiber = fiber.nextSibling;
-      for (tag = 0; fiber; ) {
+      for (shouldClear = 0; fiber; ) {
         if (8 === fiber.nodeType)
           if (((JSCompiler_temp = fiber.data), "/$" === JSCompiler_temp)) {
-            if (0 === tag) {
+            if (0 === shouldClear) {
               nextHydratableInstance = getNextHydratable(fiber.nextSibling);
               break a;
             }
-            tag--;
+            shouldClear--;
           } else
             ("$" !== JSCompiler_temp &&
               "$!" !== JSCompiler_temp &&
               "$?" !== JSCompiler_temp) ||
-              tag++;
+              shouldClear++;
         fiber = fiber.nextSibling;
       }
       nextHydratableInstance = null;
     }
   } else
-    27 === tag
-      ? ((tag = nextHydratableInstance),
-        isSingletonScope(fiber.type)
-          ? ((fiber = previousHydratableOnEnteringScopedSingleton),
-            (previousHydratableOnEnteringScopedSingleton = null),
-            (nextHydratableInstance = fiber))
-          : (nextHydratableInstance = tag))
-      : (nextHydratableInstance = hydrationParentFiber
-          ? getNextHydratable(fiber.stateNode.nextSibling)
-          : null);
+    nextHydratableInstance = hydrationParentFiber
+      ? getNextHydratable(fiber.stateNode.nextSibling)
+      : null;
   return !0;
 }
 function resetHydrationState() {
@@ -10732,31 +10541,14 @@ function getViewTransitionName(props, instance) {
     ? props.name
     : instance.autoName;
 }
-function getClassNameByType(classByType) {
-  if (null == classByType || "string" === typeof classByType)
-    return classByType;
-  var className = null,
-    activeTypes = pendingTransitionTypes;
-  if (null !== activeTypes)
-    for (var i = 0; i < activeTypes.length; i++) {
-      var match = classByType[activeTypes[i]];
-      if (null != match) {
-        if ("none" === match) return "none";
-        className = null == className ? match : className + (" " + match);
-      }
-    }
-  return null == className ? classByType.default : className;
-}
-function getViewTransitionClassName(defaultClass, eventClass) {
-  defaultClass = getClassNameByType(defaultClass);
-  eventClass = getClassNameByType(eventClass);
-  return null == eventClass
-    ? defaultClass
-    : "none" === eventClass
-      ? eventClass
-      : null != defaultClass && "none" !== defaultClass
-        ? defaultClass + " " + eventClass
-        : eventClass;
+function getViewTransitionClassName(className, eventClassName) {
+  return null == eventClassName
+    ? className
+    : "none" === eventClassName
+      ? eventClassName
+      : null != className
+        ? className + " " + eventClassName
+        : eventClassName;
 }
 function markUpdate(workInProgress) {
   workInProgress.flags |= 4;
@@ -10768,7 +10560,7 @@ function preloadResourceAndSuspendIfNeeded(workInProgress, resource) {
     resource = suspenseHandlerStackCursor.current;
     if (
       null !== resource &&
-      ((workInProgressRootRenderLanes & 4194048) ===
+      ((workInProgressRootRenderLanes & 4194176) ===
       workInProgressRootRenderLanes
         ? null !== shellBoundary
         : ((workInProgressRootRenderLanes & 62914560) !==
@@ -10806,14 +10598,14 @@ function cutOffTailIfNeeded(renderState, hasRenderedATailFallback) {
         break;
       case "collapsed":
         lastTailNode = renderState.tail;
-        for (var lastTailNode$138 = null; null !== lastTailNode; )
-          null !== lastTailNode.alternate && (lastTailNode$138 = lastTailNode),
+        for (var lastTailNode$135 = null; null !== lastTailNode; )
+          null !== lastTailNode.alternate && (lastTailNode$135 = lastTailNode),
             (lastTailNode = lastTailNode.sibling);
-        null === lastTailNode$138
+        null === lastTailNode$135
           ? hasRenderedATailFallback || null === renderState.tail
             ? (renderState.tail = null)
             : (renderState.tail.sibling = null)
-          : (lastTailNode$138.sibling = null);
+          : (lastTailNode$135.sibling = null);
     }
 }
 function bubbleProperties(completedWork) {
@@ -10823,23 +10615,41 @@ function bubbleProperties(completedWork) {
     newChildLanes = 0,
     subtreeFlags = 0;
   if (didBailout)
-    for (var child$139 = completedWork.child; null !== child$139; )
-      (newChildLanes |= child$139.lanes | child$139.childLanes),
-        (subtreeFlags |= child$139.subtreeFlags & 65011712),
-        (subtreeFlags |= child$139.flags & 65011712),
-        (child$139.return = completedWork),
-        (child$139 = child$139.sibling);
+    for (var child$136 = completedWork.child; null !== child$136; )
+      (newChildLanes |= child$136.lanes | child$136.childLanes),
+        (subtreeFlags |= child$136.subtreeFlags & 65011712),
+        (subtreeFlags |= child$136.flags & 65011712),
+        (child$136.return = completedWork),
+        (child$136 = child$136.sibling);
   else
-    for (child$139 = completedWork.child; null !== child$139; )
-      (newChildLanes |= child$139.lanes | child$139.childLanes),
-        (subtreeFlags |= child$139.subtreeFlags),
-        (subtreeFlags |= child$139.flags),
-        (child$139.return = completedWork),
-        (child$139 = child$139.sibling);
+    for (child$136 = completedWork.child; null !== child$136; )
+      (newChildLanes |= child$136.lanes | child$136.childLanes),
+        (subtreeFlags |= child$136.subtreeFlags),
+        (subtreeFlags |= child$136.flags),
+        (child$136.return = completedWork),
+        (child$136 = child$136.sibling);
   completedWork.subtreeFlags |= subtreeFlags;
   completedWork.childLanes = newChildLanes;
   return didBailout;
 }
+function trackReappearingViewTransitions(workInProgress) {
+  if (0 !== (workInProgress.subtreeFlags & 2097152))
+    for (workInProgress = workInProgress.child; null !== workInProgress; ) {
+      if (22 !== workInProgress.tag || null !== workInProgress.memoizedState) {
+        if (
+          30 === workInProgress.tag &&
+          0 !== (workInProgress.flags & 2097152)
+        ) {
+          var props = workInProgress.memoizedProps;
+          null != props.name &&
+            "auto" !== props.name &&
+            trackAppearingViewTransition(workInProgress.stateNode, props.name);
+        }
+        trackReappearingViewTransitions(workInProgress);
+      }
+      workInProgress = workInProgress.sibling;
+    }
+}
 function completeWork(current, workInProgress, renderLanes) {
   var newProps = workInProgress.pendingProps;
   popTreeContext(workInProgress);
@@ -11116,11 +10926,11 @@ function completeWork(current, workInProgress, renderLanes) {
           null !== newProps.alternate.memoizedState &&
           null !== newProps.alternate.memoizedState.cachePool &&
           (type = newProps.alternate.memoizedState.cachePool.pool);
-        var cache$152 = null;
+        var cache$149 = null;
         null !== newProps.memoizedState &&
           null !== newProps.memoizedState.cachePool &&
-          (cache$152 = newProps.memoizedState.cachePool.pool);
-        cache$152 !== type && (newProps.flags |= 2048);
+          (cache$149 = newProps.memoizedState.cachePool.pool);
+        cache$149 !== type && (newProps.flags |= 2048);
       }
       renderLanes !== current &&
         renderLanes &&
@@ -11145,8 +10955,8 @@ function completeWork(current, workInProgress, renderLanes) {
       type = workInProgress.memoizedState;
       if (null === type) return bubbleProperties(workInProgress), null;
       newProps = 0 !== (workInProgress.flags & 128);
-      cache$152 = type.rendering;
-      if (null === cache$152)
+      cache$149 = type.rendering;
+      if (null === cache$149)
         if (newProps) cutOffTailIfNeeded(type, !1);
         else {
           if (
@@ -11154,11 +10964,11 @@ function completeWork(current, workInProgress, renderLanes) {
             (null !== current && 0 !== (current.flags & 128))
           )
             for (current = workInProgress.child; null !== current; ) {
-              cache$152 = findFirstSuspended(current);
-              if (null !== cache$152) {
+              cache$149 = findFirstSuspended(current);
+              if (null !== cache$149) {
                 workInProgress.flags |= 128;
                 cutOffTailIfNeeded(type, !1);
-                current = cache$152.updateQueue;
+                current = cache$149.updateQueue;
                 workInProgress.updateQueue = current;
                 scheduleRetryEffect(workInProgress, current);
                 workInProgress.subtreeFlags = 0;
@@ -11183,7 +10993,7 @@ function completeWork(current, workInProgress, renderLanes) {
         }
       else {
         if (!newProps)
-          if (((current = findFirstSuspended(cache$152)), null !== current)) {
+          if (((current = findFirstSuspended(cache$149)), null !== current)) {
             if (
               ((workInProgress.flags |= 128),
               (newProps = !0),
@@ -11193,7 +11003,7 @@ function completeWork(current, workInProgress, renderLanes) {
               cutOffTailIfNeeded(type, !0),
               null === type.tail &&
                 "hidden" === type.tailMode &&
-                !cache$152.alternate &&
+                !cache$149.alternate &&
                 !isHydrating)
             )
               return bubbleProperties(workInProgress), null;
@@ -11206,13 +11016,13 @@ function completeWork(current, workInProgress, renderLanes) {
               cutOffTailIfNeeded(type, !1),
               (workInProgress.lanes = 4194304));
         type.isBackwards
-          ? ((cache$152.sibling = workInProgress.child),
-            (workInProgress.child = cache$152))
+          ? ((cache$149.sibling = workInProgress.child),
+            (workInProgress.child = cache$149))
           : ((current = type.last),
             null !== current
-              ? (current.sibling = cache$152)
-              : (workInProgress.child = cache$152),
-            (type.last = cache$152));
+              ? (current.sibling = cache$149)
+              : (workInProgress.child = cache$149),
+            (type.last = cache$149));
       }
       if (null !== type.tail)
         return (
@@ -11235,7 +11045,8 @@ function completeWork(current, workInProgress, renderLanes) {
         (newProps = null !== workInProgress.memoizedState),
         null !== current
           ? (null !== current.memoizedState) !== newProps &&
-            (workInProgress.flags |= 8192)
+            ((workInProgress.flags |= 8192),
+            newProps || trackReappearingViewTransitions(workInProgress))
           : newProps && (workInProgress.flags |= 8192),
         newProps
           ? 0 !== (renderLanes & 536870912) &&
@@ -11589,6 +11400,7 @@ var PossiblyWeakMap = "function" === typeof WeakMap ? WeakMap : Map,
   workInProgressSuspendedRetryLanes = 0,
   workInProgressRootConcurrentErrors = null,
   workInProgressRootRecoverableErrors = null,
+  workInProgressAppearingViewTransitions = null,
   workInProgressRootDidIncludeRecursiveRenderUpdate = !1,
   globalMostRecentFallbackTime = 0,
   workInProgressRootRenderTargetTime = Infinity,
@@ -11602,7 +11414,6 @@ var PossiblyWeakMap = "function" === typeof WeakMap ? WeakMap : Map,
   pendingPassiveTransitions = null,
   pendingRecoverableErrors = null,
   pendingViewTransitionEvents = null,
-  pendingTransitionTypes = null,
   nestedUpdateCount = 0,
   rootWithNestedUpdates = null;
 function requestUpdateLane() {
@@ -11669,7 +11480,7 @@ function performWorkOnRoot(root$jscomp$0, lanes, forceSync) {
   if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));
   var shouldTimeSlice =
       (!forceSync &&
-        0 === (lanes & 124) &&
+        0 === (lanes & 60) &&
         0 === (lanes & root$jscomp$0.expiredLanes)) ||
       checkIfRootIsPrerendering(root$jscomp$0, lanes),
     exitStatus = shouldTimeSlice
@@ -11757,7 +11568,7 @@ function performWorkOnRoot(root$jscomp$0, lanes, forceSync) {
           case 1:
             throw Error(formatProdErrorMessage(345));
           case 4:
-            if ((lanes & 4194048) !== lanes) break;
+            if ((lanes & 4194176) !== lanes) break;
           case 6:
             markRootSuspended(
               shouldTimeSlice,
@@ -11794,6 +11605,7 @@ function performWorkOnRoot(root$jscomp$0, lanes, forceSync) {
               forceSync,
               workInProgressRootRecoverableErrors,
               workInProgressTransitions,
+              workInProgressAppearingViewTransitions,
               workInProgressRootDidIncludeRecursiveRenderUpdate,
               lanes,
               workInProgressDeferredLane,
@@ -11814,6 +11626,7 @@ function performWorkOnRoot(root$jscomp$0, lanes, forceSync) {
           forceSync,
           workInProgressRootRecoverableErrors,
           workInProgressTransitions,
+          workInProgressAppearingViewTransitions,
           workInProgressRootDidIncludeRecursiveRenderUpdate,
           lanes,
           workInProgressDeferredLane,
@@ -11836,6 +11649,7 @@ function commitRootWhenReady(
   finishedWork,
   recoverableErrors,
   transitions,
+  appearingViewTransitions,
   didIncludeRenderPhaseUpdate,
   lanes,
   spawnedLane,
@@ -11848,34 +11662,23 @@ function commitRootWhenReady(
   completedRenderEndTime
 ) {
   root.timeoutHandle = -1;
-  suspendedCommitReason = finishedWork.subtreeFlags;
-  var isViewTransitionEligible = (lanes & 335544064) === lanes,
-    isGestureTransition = 64 === lanes;
-  if (
-    isViewTransitionEligible ||
-    suspendedCommitReason & 8192 ||
-    16785408 === (suspendedCommitReason & 16785408) ||
-    isGestureTransition
-  ) {
+  var subtreeFlags = finishedWork.subtreeFlags;
+  suspendedCommitReason = (lanes & 335544192) === lanes;
+  subtreeFlags = subtreeFlags & 8192 || 16785408 === (subtreeFlags & 16785408);
+  if (suspendedCommitReason || subtreeFlags) {
     suspendedState = { stylesheets: null, count: 0, unsuspend: noop };
-    appearingViewTransitions = null;
-    accumulateSuspenseyCommitOnFiber(finishedWork);
-    if (
-      (isViewTransitionEligible || isGestureTransition) &&
-      null === root.stoppingGestures
-    ) {
-      isViewTransitionEligible = root.containerInfo;
+    subtreeFlags && accumulateSuspenseyCommitOnFiber(finishedWork);
+    if (suspendedCommitReason) {
+      subtreeFlags = root.containerInfo;
       if (null === suspendedState) throw Error(formatProdErrorMessage(475));
       suspendedCommitReason = suspendedState;
-      isViewTransitionEligible = (
-        9 === isViewTransitionEligible.nodeType
-          ? isViewTransitionEligible
-          : isViewTransitionEligible.ownerDocument
+      subtreeFlags = (
+        9 === subtreeFlags.nodeType ? subtreeFlags : subtreeFlags.ownerDocument
       ).__reactViewTransition;
-      null != isViewTransitionEligible &&
+      null != subtreeFlags &&
         (suspendedCommitReason.count++,
         (suspendedCommitReason = onUnsuspend.bind(suspendedCommitReason)),
-        isViewTransitionEligible.finished.then(
+        subtreeFlags.finished.then(
           suspendedCommitReason,
           suspendedCommitReason
         ));
@@ -11890,6 +11693,7 @@ function commitRootWhenReady(
           lanes,
           recoverableErrors,
           transitions,
+          appearingViewTransitions,
           didIncludeRenderPhaseUpdate,
           spawnedLane,
           updatedLanes,
@@ -11910,6 +11714,7 @@ function commitRootWhenReady(
     lanes,
     recoverableErrors,
     transitions,
+    appearingViewTransitions,
     didIncludeRenderPhaseUpdate,
     spawnedLane,
     updatedLanes,
@@ -12019,6 +11824,7 @@ function prepareFreshStack(root, lanes) {
   workInProgressRootRecoverableErrors = workInProgressRootConcurrentErrors =
     null;
   workInProgressRootDidIncludeRecursiveRenderUpdate = !1;
+  workInProgressAppearingViewTransitions = null;
   0 !== (lanes & 8) && (lanes |= lanes & 32);
   var allEntangledLanes = root.entangledLanes;
   if (0 !== allEntangledLanes)
@@ -12074,7 +11880,7 @@ function pushAsyncDispatcher() {
 function renderDidSuspendDelayIfPossible() {
   workInProgressRootExitStatus = 4;
   workInProgressRootDidSkipSuspendedSiblings ||
-    ((workInProgressRootRenderLanes & 4194048) !==
+    ((workInProgressRootRenderLanes & 4194176) !==
       workInProgressRootRenderLanes &&
       null !== suspenseHandlerStackCursor.current) ||
     (workInProgressRootIsPrerendering = !0);
@@ -12093,6 +11899,18 @@ function queueConcurrentError(error) {
     ? (workInProgressRootConcurrentErrors = [error])
     : workInProgressRootConcurrentErrors.push(error);
 }
+function trackAppearingViewTransition(instance, name) {
+  if (null === workInProgressAppearingViewTransitions) {
+    if (
+      (workInProgressRootRenderLanes & 335544192) !==
+      workInProgressRootRenderLanes
+    )
+      return;
+    workInProgressAppearingViewTransitions = new Map();
+  }
+  instance.paired = null;
+  workInProgressAppearingViewTransitions.set(name, instance);
+}
 function renderRootSync(root, lanes, shouldYieldForPrerendering) {
   var prevExecutionContext = executionContext;
   executionContext |= 2;
@@ -12139,8 +11957,8 @@ function renderRootSync(root, lanes, shouldYieldForPrerendering) {
       workLoopSync();
       exitStatus = workInProgressRootExitStatus;
       break;
-    } catch (thrownValue$172) {
-      handleThrow(root, thrownValue$172);
+    } catch (thrownValue$169) {
+      handleThrow(root, thrownValue$169);
     }
   while (1);
   lanes && root.shellSuspendCounter++;
@@ -12255,8 +12073,8 @@ function renderRootConcurrent(root, lanes) {
       }
       workLoopConcurrentByScheduler();
       break;
-    } catch (thrownValue$174) {
-      handleThrow(root, thrownValue$174);
+    } catch (thrownValue$171) {
+      handleThrow(root, thrownValue$171);
     }
   while (1);
   lastContextDependency = currentlyRenderingFiber$1 = null;
@@ -12432,6 +12250,7 @@ function commitRoot(
   lanes,
   recoverableErrors,
   transitions,
+  appearingViewTransitions,
   didIncludeRenderPhaseUpdate,
   spawnedLane,
   updatedLanes,
@@ -12441,13 +12260,10 @@ function commitRoot(
   do flushPendingEffects();
   while (0 !== pendingEffectsStatus);
   if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(327));
-  if (null === finishedWork)
-    null !== root.stoppingGestures && stopCompletedGestures(root);
-  else {
+  if (null !== finishedWork) {
     if (finishedWork === root.current) throw Error(formatProdErrorMessage(177));
     didIncludeRenderPhaseUpdate = finishedWork.lanes | finishedWork.childLanes;
     didIncludeRenderPhaseUpdate |= concurrentlyUpdatedLanes;
-    null === root.pendingGestures && (didIncludeRenderPhaseUpdate &= -65);
     markRootFinished(
       root,
       lanes,
@@ -12465,55 +12281,49 @@ function commitRoot(
     pendingEffectsRemainingLanes = didIncludeRenderPhaseUpdate;
     pendingPassiveTransitions = transitions;
     pendingRecoverableErrors = recoverableErrors;
-    if (64 === lanes) commitGestureOnRoot(root, finishedWork);
-    else {
-      pendingViewTransitionEvents = null;
-      (lanes & 335544064) === lanes
-        ? ((pendingTransitionTypes = ReactSharedInternals.V),
-          (ReactSharedInternals.V = null),
-          (recoverableErrors = 10262))
-        : ((pendingTransitionTypes = null), (recoverableErrors = 10256));
-      0 !== (finishedWork.subtreeFlags & recoverableErrors) ||
-      0 !== (finishedWork.flags & recoverableErrors)
-        ? ((root.callbackNode = null),
-          (root.callbackPriority = 0),
-          scheduleCallback$1(NormalPriority$1, function () {
-            flushPassiveEffects(!0);
-            return null;
-          }))
-        : ((root.callbackNode = null), (root.callbackPriority = 0));
-      recoverableErrors = 0 !== (finishedWork.flags & 13878);
-      if (0 !== (finishedWork.subtreeFlags & 13878) || recoverableErrors) {
-        recoverableErrors = ReactSharedInternals.T;
-        ReactSharedInternals.T = null;
-        transitions = ReactDOMSharedInternals.p;
-        ReactDOMSharedInternals.p = 2;
-        spawnedLane = executionContext;
-        executionContext |= 4;
-        try {
-          commitBeforeMutationEffects(root, finishedWork, lanes);
-        } finally {
-          (executionContext = spawnedLane),
-            (ReactDOMSharedInternals.p = transitions),
-            (ReactSharedInternals.T = recoverableErrors);
-        }
+    pendingViewTransitionEvents = null;
+    recoverableErrors = (lanes & 335544192) === lanes ? 10262 : 10256;
+    0 !== (finishedWork.subtreeFlags & recoverableErrors) ||
+    0 !== (finishedWork.flags & recoverableErrors)
+      ? ((root.callbackNode = null),
+        (root.callbackPriority = 0),
+        scheduleCallback$1(NormalPriority$1, function () {
+          flushPassiveEffects(!0);
+          return null;
+        }))
+      : ((root.callbackNode = null), (root.callbackPriority = 0));
+    recoverableErrors = 0 !== (finishedWork.flags & 13878);
+    if (0 !== (finishedWork.subtreeFlags & 13878) || recoverableErrors) {
+      recoverableErrors = ReactSharedInternals.T;
+      ReactSharedInternals.T = null;
+      transitions = ReactDOMSharedInternals.p;
+      ReactDOMSharedInternals.p = 2;
+      spawnedLane = executionContext;
+      executionContext |= 4;
+      try {
+        commitBeforeMutationEffects(
+          root,
+          finishedWork,
+          lanes,
+          appearingViewTransitions
+        );
+      } finally {
+        (executionContext = spawnedLane),
+          (ReactDOMSharedInternals.p = transitions),
+          (ReactSharedInternals.T = recoverableErrors);
       }
-      finishedWork = shouldStartViewTransition;
-      null !== root.stoppingGestures &&
-        (stopCompletedGestures(root), (finishedWork = !1));
-      pendingEffectsStatus = 1;
-      (finishedWork &&
-        startViewTransition(
-          root.containerInfo,
-          pendingTransitionTypes,
-          flushMutationEffects,
-          flushLayoutEffects,
-          flushAfterMutationEffects,
-          flushSpawnedWork,
-          flushPassiveEffects
-        )) ||
-        (flushMutationEffects(), flushLayoutEffects(), flushSpawnedWork());
     }
+    pendingEffectsStatus = 1;
+    (shouldStartViewTransition &&
+      startViewTransition(
+        root.containerInfo,
+        flushMutationEffects,
+        flushLayoutEffects,
+        flushAfterMutationEffects,
+        flushSpawnedWork,
+        flushPassiveEffects
+      )) ||
+      (flushMutationEffects(), flushLayoutEffects(), flushSpawnedWork());
   }
 }
 function flushAfterMutationEffects() {
@@ -12677,12 +12487,12 @@ function flushSpawnedWork() {
       finishedWork = pendingFinishedWork,
       lanes = pendingEffectsLanes,
       recoverableErrors = pendingRecoverableErrors,
-      passiveSubtreeMask = (lanes & 335544064) === lanes ? 10262 : 10256;
+      passiveSubtreeMask = (lanes & 335544192) === lanes ? 10262 : 10256;
     0 !== (finishedWork.subtreeFlags & passiveSubtreeMask) ||
     0 !== (finishedWork.flags & passiveSubtreeMask)
       ? (pendingEffectsStatus = 5)
       : ((pendingEffectsStatus = 0),
-        (pendingFinishedWork = pendingEffectsRoot = null),
+        (pendingEffectsRoot = null),
         releaseRootPooledCache(root, root.pendingLanes));
     passiveSubtreeMask = root.pendingLanes;
     0 === passiveSubtreeMask && (legacyErrorBoundariesThatAlreadyFailed = null);
@@ -12719,21 +12529,17 @@ function flushSpawnedWork() {
       }
     }
     recoverableErrors = pendingViewTransitionEvents;
-    onRecoverableError = pendingTransitionTypes;
-    pendingTransitionTypes = null;
     if (null !== recoverableErrors)
       for (
-        pendingViewTransitionEvents = null,
-          null === onRecoverableError && (onRecoverableError = []),
-          recoverableError = 0;
-        recoverableError < recoverableErrors.length;
-        recoverableError++
+        pendingViewTransitionEvents = null, onRecoverableError = 0;
+        onRecoverableError < recoverableErrors.length;
+        onRecoverableError++
       )
-        (0, recoverableErrors[recoverableError])(onRecoverableError);
+        (0, recoverableErrors[onRecoverableError])();
     0 !== (pendingEffectsLanes & 3) && flushPendingEffects();
     ensureRootIsScheduled(root);
     passiveSubtreeMask = root.pendingLanes;
-    0 !== (lanes & 4194090) && 0 !== (passiveSubtreeMask & 42)
+    0 !== (lanes & 4194218) && 0 !== (passiveSubtreeMask & 42)
       ? root === rootWithNestedUpdates
         ? nestedUpdateCount++
         : ((nestedUpdateCount = 0), (rootWithNestedUpdates = root))
@@ -12741,71 +12547,6 @@ function flushSpawnedWork() {
     flushSyncWorkAcrossRoots_impl(0, !1);
   }
 }
-function commitGestureOnRoot(root) {
-  var finishedGesture = root.pendingGestures;
-  if (null === finishedGesture) ensureRootIsScheduled(root);
-  else {
-    deleteScheduledGesture(root, finishedGesture);
-    var prevTransition = ReactSharedInternals.T,
-      previousPriority = ReactDOMSharedInternals.p,
-      prevExecutionContext = executionContext;
-    executionContext |= 4;
-    executionContext = prevExecutionContext;
-    ReactDOMSharedInternals.p = previousPriority;
-    ReactSharedInternals.T = prevTransition;
-    pendingTransitionTypes = null;
-    pendingEffectsStatus = 6;
-    finishedGesture.running = startGestureTransition(
-      root.containerInfo,
-      pendingTransitionTypes,
-      flushGestureMutations,
-      flushGestureAnimations
-    );
-  }
-}
-function flushGestureMutations() {
-  if (6 === pendingEffectsStatus) {
-    pendingEffectsStatus = 0;
-    var root = pendingEffectsRoot,
-      prevTransition = ReactSharedInternals.T;
-    ReactSharedInternals.T = null;
-    var previousPriority = ReactDOMSharedInternals.p;
-    ReactDOMSharedInternals.p = 2;
-    var prevExecutionContext = executionContext;
-    executionContext |= 4;
-    try {
-      cancelRootViewTransitionName(root.containerInfo);
-    } finally {
-      (executionContext = prevExecutionContext),
-        (ReactDOMSharedInternals.p = previousPriority),
-        (ReactSharedInternals.T = prevTransition);
-    }
-    pendingEffectsStatus = 7;
-  }
-}
-function flushGestureAnimations() {
-  flushGestureMutations();
-  if (7 === pendingEffectsStatus) {
-    pendingEffectsStatus = 0;
-    var root = pendingEffectsRoot;
-    pendingFinishedWork = pendingEffectsRoot = null;
-    pendingEffectsLanes = 0;
-    var prevTransition = ReactSharedInternals.T;
-    ReactSharedInternals.T = null;
-    var previousPriority = ReactDOMSharedInternals.p;
-    ReactDOMSharedInternals.p = 2;
-    var prevExecutionContext = executionContext;
-    executionContext |= 4;
-    try {
-      restoreRootViewTransitionName(root.containerInfo);
-    } finally {
-      (executionContext = prevExecutionContext),
-        (ReactDOMSharedInternals.p = previousPriority),
-        (ReactSharedInternals.T = prevTransition);
-    }
-    ensureRootIsScheduled(root);
-  }
-}
 function releaseRootPooledCache(root, remainingLanes) {
   0 === (root.pooledCacheLanes &= remainingLanes) &&
     ((remainingLanes = root.pooledCache),
@@ -12813,8 +12554,6 @@ function releaseRootPooledCache(root, remainingLanes) {
       ((root.pooledCache = null), releaseCache(remainingLanes)));
 }
 function flushPendingEffects(wasDelayedCommit) {
-  flushGestureMutations();
-  flushGestureAnimations();
   flushMutationEffects();
   flushLayoutEffects();
   flushSpawnedWork();
@@ -12836,7 +12575,7 @@ function flushPassiveEffects() {
     var root$jscomp$0 = pendingEffectsRoot,
       lanes = pendingEffectsLanes;
     pendingEffectsStatus = 0;
-    pendingFinishedWork = pendingEffectsRoot = null;
+    pendingEffectsRoot = null;
     pendingEffectsLanes = 0;
     if (0 !== (executionContext & 6)) throw Error(formatProdErrorMessage(331));
     var prevExecutionContext = executionContext;
@@ -13001,42 +12740,41 @@ function flushSyncWorkAcrossRoots_impl(syncTransitionLanes, onlyLegacy) {
     isFlushingWork = !0;
     do {
       var didPerformSomeWork = !1;
-      for (var root$180 = firstScheduledRoot; null !== root$180; ) {
+      for (var root$177 = firstScheduledRoot; null !== root$177; ) {
         if (!onlyLegacy)
           if (0 !== syncTransitionLanes) {
-            var pendingLanes = root$180.pendingLanes;
+            var pendingLanes = root$177.pendingLanes;
             if (0 === pendingLanes) var JSCompiler_inline_result = 0;
             else {
-              var suspendedLanes = root$180.suspendedLanes,
-                pingedLanes = root$180.pingedLanes;
+              var suspendedLanes = root$177.suspendedLanes,
+                pingedLanes = root$177.pingedLanes;
               JSCompiler_inline_result =
                 (1 << (31 - clz32(42 | syncTransitionLanes) + 1)) - 1;
               JSCompiler_inline_result &=
                 pendingLanes & ~(suspendedLanes & ~pingedLanes);
               JSCompiler_inline_result =
-                JSCompiler_inline_result & 201326741
-                  ? (JSCompiler_inline_result & 201326741) | 1
+                JSCompiler_inline_result & 201326677
+                  ? (JSCompiler_inline_result & 201326677) | 1
                   : JSCompiler_inline_result
                     ? JSCompiler_inline_result | 2
                     : 0;
             }
             0 !== JSCompiler_inline_result &&
               ((didPerformSomeWork = !0),
-              performSyncWorkOnRoot(root$180, JSCompiler_inline_result));
+              performSyncWorkOnRoot(root$177, JSCompiler_inline_result));
           } else
             (JSCompiler_inline_result = workInProgressRootRenderLanes),
               (JSCompiler_inline_result = getNextLanes(
-                root$180,
-                root$180 === workInProgressRoot ? JSCompiler_inline_result : 0,
-                null !== root$180.cancelPendingCommit ||
-                  -1 !== root$180.timeoutHandle
+                root$177,
+                root$177 === workInProgressRoot ? JSCompiler_inline_result : 0,
+                null !== root$177.cancelPendingCommit ||
+                  -1 !== root$177.timeoutHandle
               )),
-              (0 === (JSCompiler_inline_result & 3) &&
-                64 !== JSCompiler_inline_result) ||
-                checkIfRootIsPrerendering(root$180, JSCompiler_inline_result) ||
+              0 === (JSCompiler_inline_result & 3) ||
+                checkIfRootIsPrerendering(root$177, JSCompiler_inline_result) ||
                 ((didPerformSomeWork = !0),
-                performSyncWorkOnRoot(root$180, JSCompiler_inline_result));
-        root$180 = root$180.next;
+                performSyncWorkOnRoot(root$177, JSCompiler_inline_result));
+        root$177 = root$177.next;
       }
     } while (didPerformSomeWork);
     isFlushingWork = !1;
@@ -13064,8 +12802,7 @@ function processRootScheduleInMicrotask() {
         null === prev ? (firstScheduledRoot = next) : (prev.next = next),
         null === next && (lastScheduledRoot = prev);
     else if (
-      ((prev = root),
-      0 !== syncTransitionLanes || 0 !== (nextLanes & 3) || 64 === nextLanes)
+      ((prev = root), 0 !== syncTransitionLanes || 0 !== (nextLanes & 3))
     )
       mightHavePendingSyncWork = !0;
     root = next;
@@ -13277,20 +13014,20 @@ function extractEvents$1(
   }
 }
 for (
-  var i$jscomp$inline_1644 = 0;
-  i$jscomp$inline_1644 < simpleEventPluginEvents.length;
-  i$jscomp$inline_1644++
+  var i$jscomp$inline_1581 = 0;
+  i$jscomp$inline_1581 < simpleEventPluginEvents.length;
+  i$jscomp$inline_1581++
 ) {
-  var eventName$jscomp$inline_1645 =
-      simpleEventPluginEvents[i$jscomp$inline_1644],
-    domEventName$jscomp$inline_1646 =
-      eventName$jscomp$inline_1645.toLowerCase(),
-    capitalizedEvent$jscomp$inline_1647 =
-      eventName$jscomp$inline_1645[0].toUpperCase() +
-      eventName$jscomp$inline_1645.slice(1);
+  var eventName$jscomp$inline_1582 =
+      simpleEventPluginEvents[i$jscomp$inline_1581],
+    domEventName$jscomp$inline_1583 =
+      eventName$jscomp$inline_1582.toLowerCase(),
+    capitalizedEvent$jscomp$inline_1584 =
+      eventName$jscomp$inline_1582[0].toUpperCase() +
+      eventName$jscomp$inline_1582.slice(1);
   registerSimpleEvent(
-    domEventName$jscomp$inline_1646,
-    "on" + capitalizedEvent$jscomp$inline_1647
+    domEventName$jscomp$inline_1583,
+    "on" + capitalizedEvent$jscomp$inline_1584
   );
 }
 registerSimpleEvent(ANIMATION_END, "onAnimationEnd");
@@ -13498,15 +13235,22 @@ function dispatchEventForPluginEventSystem(
       var nodeTag = targetInst$jscomp$0.tag;
       if (3 === nodeTag || 4 === nodeTag) {
         var container = targetInst$jscomp$0.stateNode.containerInfo;
-        if (container === targetContainer) break;
+        if (
+          container === targetContainer ||
+          (8 === container.nodeType && container.parentNode === targetContainer)
+        )
+          break;
         if (4 === nodeTag)
           for (nodeTag = targetInst$jscomp$0.return; null !== nodeTag; ) {
             var grandTag = nodeTag.tag;
-            if (
-              (3 === grandTag || 4 === grandTag) &&
-              nodeTag.stateNode.containerInfo === targetContainer
-            )
-              return;
+            if (3 === grandTag || 4 === grandTag)
+              if (
+                ((grandTag = nodeTag.stateNode.containerInfo),
+                grandTag === targetContainer ||
+                  (8 === grandTag.nodeType &&
+                    grandTag.parentNode === targetContainer))
+              )
+                return;
             nodeTag = nodeTag.return;
           }
         for (; null !== container; ) {
@@ -14471,34 +14215,34 @@ function setInitialProperties(domElement, tag, props) {
         defaultChecked = null;
       for (hasSrc in props)
         if (props.hasOwnProperty(hasSrc)) {
-          var propValue$194 = props[hasSrc];
-          if (null != propValue$194)
+          var propValue$191 = props[hasSrc];
+          if (null != propValue$191)
             switch (hasSrc) {
               case "name":
-                hasSrcSet = propValue$194;
+                hasSrcSet = propValue$191;
                 break;
               case "type":
-                propValue = propValue$194;
+                propValue = propValue$191;
                 break;
               case "checked":
-                checked = propValue$194;
+                checked = propValue$191;
                 break;
               case "defaultChecked":
-                defaultChecked = propValue$194;
+                defaultChecked = propValue$191;
                 break;
               case "value":
-                propKey = propValue$194;
+                propKey = propValue$191;
                 break;
               case "defaultValue":
-                defaultValue = propValue$194;
+                defaultValue = propValue$191;
                 break;
               case "children":
               case "dangerouslySetInnerHTML":
-                if (null != propValue$194)
+                if (null != propValue$191)
                   throw Error(formatProdErrorMessage(137, tag));
                 break;
               default:
-                setProp(domElement, tag, hasSrc, propValue$194, props, null);
+                setProp(domElement, tag, hasSrc, propValue$191, props, null);
             }
         }
       initInput(
@@ -14635,14 +14379,14 @@ function setInitialProperties(domElement, tag, props) {
       return;
     default:
       if (isCustomElement(tag)) {
-        for (propValue$194 in props)
-          props.hasOwnProperty(propValue$194) &&
-            ((hasSrc = props[propValue$194]),
+        for (propValue$191 in props)
+          props.hasOwnProperty(propValue$191) &&
+            ((hasSrc = props[propValue$191]),
             void 0 !== hasSrc &&
               setPropOnCustomElement(
                 domElement,
                 tag,
-                propValue$194,
+                propValue$191,
                 hasSrc,
                 props,
                 void 0
@@ -14690,14 +14434,14 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
                 setProp(domElement, tag, propKey, null, nextProps, lastProp);
           }
       }
-      for (var propKey$211 in nextProps) {
-        var propKey = nextProps[propKey$211];
-        lastProp = lastProps[propKey$211];
+      for (var propKey$208 in nextProps) {
+        var propKey = nextProps[propKey$208];
+        lastProp = lastProps[propKey$208];
         if (
-          nextProps.hasOwnProperty(propKey$211) &&
+          nextProps.hasOwnProperty(propKey$208) &&
           (null != propKey || null != lastProp)
         )
-          switch (propKey$211) {
+          switch (propKey$208) {
             case "type":
               propKey !== lastProp && (viewTransitionMutationContext = !0);
               type = propKey;
@@ -14732,7 +14476,7 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
                 setProp(
                   domElement,
                   tag,
-                  propKey$211,
+                  propKey$208,
                   propKey,
                   nextProps,
                   lastProp
@@ -14751,7 +14495,7 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
       );
       return;
     case "select":
-      propKey = value = defaultValue = propKey$211 = null;
+      propKey = value = defaultValue = propKey$208 = null;
       for (type in lastProps)
         if (
           ((lastDefaultValue = lastProps[type]),
@@ -14783,7 +14527,7 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
           switch (name) {
             case "value":
               type !== lastDefaultValue && (viewTransitionMutationContext = !0);
-              propKey$211 = type;
+              propKey$208 = type;
               break;
             case "defaultValue":
               type !== lastDefaultValue && (viewTransitionMutationContext = !0);
@@ -14806,15 +14550,15 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
       tag = defaultValue;
       lastProps = value;
       nextProps = propKey;
-      null != propKey$211
-        ? updateOptions(domElement, !!lastProps, propKey$211, !1)
+      null != propKey$208
+        ? updateOptions(domElement, !!lastProps, propKey$208, !1)
         : !!nextProps !== !!lastProps &&
           (null != tag
             ? updateOptions(domElement, !!lastProps, tag, !0)
             : updateOptions(domElement, !!lastProps, lastProps ? [] : "", !1));
       return;
     case "textarea":
-      propKey = propKey$211 = null;
+      propKey = propKey$208 = null;
       for (defaultValue in lastProps)
         if (
           ((name = lastProps[defaultValue]),
@@ -14839,7 +14583,7 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
           switch (value) {
             case "value":
               name !== type && (viewTransitionMutationContext = !0);
-              propKey$211 = name;
+              propKey$208 = name;
               break;
             case "defaultValue":
               name !== type && (viewTransitionMutationContext = !0);
@@ -14854,17 +14598,17 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
               name !== type &&
                 setProp(domElement, tag, value, name, nextProps, type);
           }
-      updateTextarea(domElement, propKey$211, propKey);
+      updateTextarea(domElement, propKey$208, propKey);
       return;
     case "option":
-      for (var propKey$227 in lastProps)
+      for (var propKey$224 in lastProps)
         if (
-          ((propKey$211 = lastProps[propKey$227]),
-          lastProps.hasOwnProperty(propKey$227) &&
-            null != propKey$211 &&
-            !nextProps.hasOwnProperty(propKey$227))
+          ((propKey$208 = lastProps[propKey$224]),
+          lastProps.hasOwnProperty(propKey$224) &&
+            null != propKey$208 &&
+            !nextProps.hasOwnProperty(propKey$224))
         )
-          switch (propKey$227) {
+          switch (propKey$224) {
             case "selected":
               domElement.selected = !1;
               break;
@@ -14872,34 +14616,34 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
               setProp(
                 domElement,
                 tag,
-                propKey$227,
+                propKey$224,
                 null,
                 nextProps,
-                propKey$211
+                propKey$208
               );
           }
       for (lastDefaultValue in nextProps)
         if (
-          ((propKey$211 = nextProps[lastDefaultValue]),
+          ((propKey$208 = nextProps[lastDefaultValue]),
           (propKey = lastProps[lastDefaultValue]),
           nextProps.hasOwnProperty(lastDefaultValue) &&
-            propKey$211 !== propKey &&
-            (null != propKey$211 || null != propKey))
+            propKey$208 !== propKey &&
+            (null != propKey$208 || null != propKey))
         )
           switch (lastDefaultValue) {
             case "selected":
-              propKey$211 !== propKey && (viewTransitionMutationContext = !0);
+              propKey$208 !== propKey && (viewTransitionMutationContext = !0);
               domElement.selected =
-                propKey$211 &&
-                "function" !== typeof propKey$211 &&
-                "symbol" !== typeof propKey$211;
+                propKey$208 &&
+                "function" !== typeof propKey$208 &&
+                "symbol" !== typeof propKey$208;
               break;
             default:
               setProp(
                 domElement,
                 tag,
                 lastDefaultValue,
-                propKey$211,
+                propKey$208,
                 nextProps,
                 propKey
               );
@@ -14920,24 +14664,24 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
     case "track":
     case "wbr":
     case "menuitem":
-      for (var propKey$232 in lastProps)
-        (propKey$211 = lastProps[propKey$232]),
-          lastProps.hasOwnProperty(propKey$232) &&
-            null != propKey$211 &&
-            !nextProps.hasOwnProperty(propKey$232) &&
-            setProp(domElement, tag, propKey$232, null, nextProps, propKey$211);
+      for (var propKey$229 in lastProps)
+        (propKey$208 = lastProps[propKey$229]),
+          lastProps.hasOwnProperty(propKey$229) &&
+            null != propKey$208 &&
+            !nextProps.hasOwnProperty(propKey$229) &&
+            setProp(domElement, tag, propKey$229, null, nextProps, propKey$208);
       for (checked in nextProps)
         if (
-          ((propKey$211 = nextProps[checked]),
+          ((propKey$208 = nextProps[checked]),
           (propKey = lastProps[checked]),
           nextProps.hasOwnProperty(checked) &&
-            propKey$211 !== propKey &&
-            (null != propKey$211 || null != propKey))
+            propKey$208 !== propKey &&
+            (null != propKey$208 || null != propKey))
         )
           switch (checked) {
             case "children":
             case "dangerouslySetInnerHTML":
-              if (null != propKey$211)
+              if (null != propKey$208)
                 throw Error(formatProdErrorMessage(137, tag));
               break;
             default:
@@ -14945,7 +14689,7 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
                 domElement,
                 tag,
                 checked,
-                propKey$211,
+                propKey$208,
                 nextProps,
                 propKey
               );
@@ -14953,49 +14697,49 @@ function updateProperties(domElement, tag, lastProps, nextProps) {
       return;
     default:
       if (isCustomElement(tag)) {
-        for (var propKey$237 in lastProps)
-          (propKey$211 = lastProps[propKey$237]),
-            lastProps.hasOwnProperty(propKey$237) &&
-              void 0 !== propKey$211 &&
-              !nextProps.hasOwnProperty(propKey$237) &&
+        for (var propKey$234 in lastProps)
+          (propKey$208 = lastProps[propKey$234]),
+            lastProps.hasOwnProperty(propKey$234) &&
+              void 0 !== propKey$208 &&
+              !nextProps.hasOwnProperty(propKey$234) &&
               setPropOnCustomElement(
                 domElement,
                 tag,
-                propKey$237,
+                propKey$234,
                 void 0,
                 nextProps,
-                propKey$211
+                propKey$208
               );
         for (defaultChecked in nextProps)
-          (propKey$211 = nextProps[defaultChecked]),
+          (propKey$208 = nextProps[defaultChecked]),
             (propKey = lastProps[defaultChecked]),
             !nextProps.hasOwnProperty(defaultChecked) ||
-              propKey$211 === propKey ||
-              (void 0 === propKey$211 && void 0 === propKey) ||
+              propKey$208 === propKey ||
+              (void 0 === propKey$208 && void 0 === propKey) ||
               setPropOnCustomElement(
                 domElement,
                 tag,
                 defaultChecked,
-                propKey$211,
+                propKey$208,
                 nextProps,
                 propKey
               );
         return;
       }
   }
-  for (var propKey$242 in lastProps)
-    (propKey$211 = lastProps[propKey$242]),
-      lastProps.hasOwnProperty(propKey$242) &&
-        null != propKey$211 &&
-        !nextProps.hasOwnProperty(propKey$242) &&
-        setProp(domElement, tag, propKey$242, null, nextProps, propKey$211);
+  for (var propKey$239 in lastProps)
+    (propKey$208 = lastProps[propKey$239]),
+      lastProps.hasOwnProperty(propKey$239) &&
+        null != propKey$208 &&
+        !nextProps.hasOwnProperty(propKey$239) &&
+        setProp(domElement, tag, propKey$239, null, nextProps, propKey$208);
   for (lastProp in nextProps)
-    (propKey$211 = nextProps[lastProp]),
+    (propKey$208 = nextProps[lastProp]),
       (propKey = lastProps[lastProp]),
       !nextProps.hasOwnProperty(lastProp) ||
-        propKey$211 === propKey ||
-        (null == propKey$211 && null == propKey) ||
-        setProp(domElement, tag, lastProp, propKey$211, nextProps, propKey);
+        propKey$208 === propKey ||
+        (null == propKey$208 && null == propKey) ||
+        setProp(domElement, tag, lastProp, propKey$208, nextProps, propKey);
 }
 var eventsEnabled = null,
   selectionInformation = null;
@@ -15070,56 +14814,21 @@ function handleErrorInNextTick(error) {
     throw error;
   });
 }
-function isSingletonScope(type) {
-  return "head" === type;
-}
 function clearSuspenseBoundary(parentInstance, suspenseInstance) {
   var node = suspenseInstance,
-    possiblePreambleContribution = 0,
     depth = 0;
   do {
     var nextNode = node.nextSibling;
     parentInstance.removeChild(node);
     if (nextNode && 8 === nextNode.nodeType)
       if (((node = nextNode.data), "/$" === node)) {
-        if (
-          0 < possiblePreambleContribution &&
-          8 > possiblePreambleContribution
-        ) {
-          node = possiblePreambleContribution;
-          var ownerDocument = parentInstance.ownerDocument;
-          node & 1 && releaseSingletonInstance(ownerDocument.documentElement);
-          node & 2 && releaseSingletonInstance(ownerDocument.body);
-          if (node & 4)
-            for (
-              node = ownerDocument.head,
-                releaseSingletonInstance(node),
-                ownerDocument = node.firstChild;
-              ownerDocument;
-
-            ) {
-              var nextNode$jscomp$0 = ownerDocument.nextSibling,
-                nodeName = ownerDocument.nodeName;
-              ownerDocument[internalHoistableMarker] ||
-                "SCRIPT" === nodeName ||
-                "STYLE" === nodeName ||
-                ("LINK" === nodeName &&
-                  "stylesheet" === ownerDocument.rel.toLowerCase()) ||
-                node.removeChild(ownerDocument);
-              ownerDocument = nextNode$jscomp$0;
-            }
-        }
         if (0 === depth) {
           parentInstance.removeChild(nextNode);
           retryIfBlockedOn(suspenseInstance);
           return;
         }
         depth--;
-      } else
-        "$" === node || "$?" === node || "$!" === node
-          ? depth++
-          : (possiblePreambleContribution = node.charCodeAt(0) - 48);
-    else possiblePreambleContribution = 0;
+      } else ("$" !== node && "$?" !== node && "$!" !== node) || depth++;
     node = nextNode;
   } while (node);
   retryIfBlockedOn(suspenseInstance);
@@ -15149,36 +14858,6 @@ function restoreViewTransitionName(instance, props) {
   instance.style.viewTransitionClass =
     null == props || "boolean" === typeof props ? "" : ("" + props).trim();
 }
-function cancelRootViewTransitionName(rootContainer) {
-  rootContainer =
-    9 === rootContainer.nodeType
-      ? rootContainer.documentElement
-      : rootContainer.ownerDocument.documentElement;
-  null !== rootContainer &&
-    "" === rootContainer.style.viewTransitionName &&
-    ((rootContainer.style.viewTransitionName = "none"),
-    rootContainer.animate(
-      { opacity: [0, 0], pointerEvents: ["none", "none"] },
-      {
-        duration: 0,
-        fill: "forwards",
-        pseudoElement: "::view-transition-group(root)"
-      }
-    ),
-    rootContainer.animate(
-      { width: [0, 0], height: [0, 0] },
-      { duration: 0, fill: "forwards", pseudoElement: "::view-transition" }
-    ));
-}
-function restoreRootViewTransitionName(rootContainer) {
-  rootContainer =
-    9 === rootContainer.nodeType
-      ? rootContainer.documentElement
-      : rootContainer.ownerDocument.documentElement;
-  null !== rootContainer &&
-    "none" === rootContainer.style.viewTransitionName &&
-    (rootContainer.style.viewTransitionName = "");
-}
 function measureInstance(instance) {
   var ownerWindow = instance.ownerDocument.defaultView,
     rect = instance.getBoundingClientRect();
@@ -15202,7 +14881,6 @@ function measureInstance(instance) {
 }
 function startViewTransition(
   rootContainer,
-  transitionTypes,
   mutationCallback,
   layoutCallback,
   afterMutationCallback,
@@ -15247,13 +14925,12 @@ function startViewTransition(
           );
         afterMutationCallback();
       },
-      types: transitionTypes
+      types: null
     });
     ownerDocument.__reactViewTransition = transition;
     transition.ready.then(spawnedWorkCallback, spawnedWorkCallback);
     transition.finished.then(function () {
-      ownerDocument.__reactViewTransition === transition &&
-        (ownerDocument.__reactViewTransition = null);
+      ownerDocument.__reactViewTransition = null;
       passiveCallback();
     });
     return !0;
@@ -15261,40 +14938,6 @@ function startViewTransition(
     return !1;
   }
 }
-function startGestureTransition(
-  rootContainer,
-  transitionTypes,
-  mutationCallback,
-  animateCallback
-) {
-  var ownerDocument =
-    9 === rootContainer.nodeType ? rootContainer : rootContainer.ownerDocument;
-  try {
-    var transition = ownerDocument.startViewTransition({
-      update: mutationCallback,
-      types: transitionTypes
-    });
-    ownerDocument.__reactViewTransition = transition;
-    var blockingAnim = null;
-    rootContainer = function () {
-      blockingAnim = ownerDocument.documentElement.animate([{}, {}], {
-        pseudoElement: "::view-transition",
-        duration: 1
-      });
-      blockingAnim.pause();
-      animateCallback();
-    };
-    transition.ready.then(rootContainer, rootContainer);
-    transition.finished.then(function () {
-      null !== blockingAnim && blockingAnim.cancel();
-      ownerDocument.__reactViewTransition === transition &&
-        (ownerDocument.__reactViewTransition = null);
-    });
-    return transition;
-  } catch (x) {
-    return mutationCallback(), animateCallback(), null;
-  }
-}
 function ViewTransitionPseudoElement(pseudo, name) {
   this._scope = document.documentElement;
   this._selector = "::view-transition-" + pseudo + "(" + name + ")";
@@ -15332,45 +14975,6 @@ function createViewTransitionInstance(name) {
     new: new ViewTransitionPseudoElement("new", name)
   };
 }
-function getCurrentGestureOffset(provider) {
-  provider = provider.currentTime;
-  if (null === provider) throw Error(formatProdErrorMessage(549));
-  return "number" === typeof provider ? provider : provider.value;
-}
-function subscribeToGestureDirection(
-  provider,
-  currentOffset,
-  directionCallback
-) {
-  function rafCallback() {
-    var newTime = provider.currentTime;
-    null !== newTime &&
-      ((newTime = "number" === typeof newTime ? newTime : newTime.value),
-      newTime !== currentOffset && directionCallback(newTime > currentOffset));
-    callbackID = requestAnimationFrame(rafCallback);
-  }
-  if (
-    "function" === typeof ScrollTimeline &&
-    provider instanceof ScrollTimeline
-  ) {
-    var element = provider.source,
-      scrollCallback = function () {
-        var newTime = provider.currentTime;
-        null !== newTime &&
-          ((newTime = "number" === typeof newTime ? newTime : newTime.value),
-          newTime !== currentOffset &&
-            directionCallback(newTime > currentOffset));
-      };
-    element.addEventListener("scroll", scrollCallback, !1);
-    return function () {
-      element.removeEventListener("scroll", scrollCallback, !1);
-    };
-  }
-  var callbackID = requestAnimationFrame(rafCallback);
-  return function () {
-    cancelAnimationFrame(callbackID);
-  };
-}
 function clearContainerSparingly(container) {
   var nextNode = container.firstChild;
   nextNode && 10 === nextNode.nodeType && (nextNode = nextNode.nextSibling);
@@ -15511,7 +15115,6 @@ function getNextHydratable(node) {
   }
   return node;
 }
-var previousHydratableOnEnteringScopedSingleton = null;
 function getParentSuspenseInstance(targetInstance) {
   targetInstance = targetInstance.previousSibling;
   for (var depth = 0; targetInstance; ) {
@@ -15602,19 +15205,12 @@ function resolveSingletonInstance(type, props, rootContainerInstance) {
       throw Error(formatProdErrorMessage(451));
   }
 }
-function releaseSingletonInstance(instance) {
-  for (var attributes = instance.attributes; attributes.length; )
-    instance.removeAttributeNode(attributes[0]);
-  detachDeletedInstance(instance);
-}
 var preloadPropsMap = new Map(),
   preconnectsSet = new Set();
 function getHoistableRoot(container) {
   return "function" === typeof container.getRootNode
     ? container.getRootNode()
-    : 9 === container.nodeType
-      ? container
-      : container.ownerDocument;
+    : container.ownerDocument;
 }
 var previousDispatcher = ReactDOMSharedInternals.d;
 ReactDOMSharedInternals.d = {
@@ -15908,26 +15504,26 @@ function getResource(type, currentProps, pendingProps, currentResource) {
         "string" === typeof pendingProps.precedence
       ) {
         type = getStyleKey(pendingProps.href);
-        var styles$250 = getResourcesFromRoot(
+        var styles$247 = getResourcesFromRoot(
             JSCompiler_inline_result
           ).hoistableStyles,
-          resource$251 = styles$250.get(type);
-        resource$251 ||
+          resource$248 = styles$247.get(type);
+        resource$248 ||
           ((JSCompiler_inline_result =
             JSCompiler_inline_result.ownerDocument || JSCompiler_inline_result),
-          (resource$251 = {
+          (resource$248 = {
             type: "stylesheet",
             instance: null,
             count: 0,
             state: { loading: 0, preload: null }
           }),
-          styles$250.set(type, resource$251),
-          (styles$250 = JSCompiler_inline_result.querySelector(
+          styles$247.set(type, resource$248),
+          (styles$247 = JSCompiler_inline_result.querySelector(
             getStylesheetSelectorFromKey(type)
           )) &&
-            !styles$250._p &&
-            ((resource$251.instance = styles$250),
-            (resource$251.state.loading = 5)),
+            !styles$247._p &&
+            ((resource$248.instance = styles$247),
+            (resource$248.state.loading = 5)),
           preloadPropsMap.has(type) ||
             ((pendingProps = {
               rel: "preload",
@@ -15940,16 +15536,16 @@ function getResource(type, currentProps, pendingProps, currentResource) {
               referrerPolicy: pendingProps.referrerPolicy
             }),
             preloadPropsMap.set(type, pendingProps),
-            styles$250 ||
+            styles$247 ||
               preloadStylesheet(
                 JSCompiler_inline_result,
                 type,
                 pendingProps,
-                resource$251.state
+                resource$248.state
               )));
         if (currentProps && null === currentResource)
           throw Error(formatProdErrorMessage(528, ""));
-        return resource$251;
+        return resource$248;
       }
       if (currentProps && null !== currentResource)
         throw Error(formatProdErrorMessage(529, ""));
@@ -16046,37 +15642,37 @@ function acquireResource(hoistableRoot, resource, props) {
         return (resource.instance = instance);
       case "stylesheet":
         styleProps = getStyleKey(props.href);
-        var instance$256 = hoistableRoot.querySelector(
+        var instance$253 = hoistableRoot.querySelector(
           getStylesheetSelectorFromKey(styleProps)
         );
-        if (instance$256)
+        if (instance$253)
           return (
             (resource.state.loading |= 4),
-            (resource.instance = instance$256),
-            markNodeAsHoistable(instance$256),
-            instance$256
+            (resource.instance = instance$253),
+            markNodeAsHoistable(instance$253),
+            instance$253
           );
         instance = stylesheetPropsFromRawProps(props);
         (styleProps = preloadPropsMap.get(styleProps)) &&
           adoptPreloadPropsForStylesheet(instance, styleProps);
-        instance$256 = (
+        instance$253 = (
           hoistableRoot.ownerDocument || hoistableRoot
         ).createElement("link");
-        markNodeAsHoistable(instance$256);
-        var linkInstance = instance$256;
+        markNodeAsHoistable(instance$253);
+        var linkInstance = instance$253;
         linkInstance._p = new Promise(function (resolve, reject) {
           linkInstance.onload = resolve;
           linkInstance.onerror = reject;
         });
-        setInitialProperties(instance$256, "link", instance);
+        setInitialProperties(instance$253, "link", instance);
         resource.state.loading |= 4;
-        insertStylesheet(instance$256, props.precedence, hoistableRoot);
-        return (resource.instance = instance$256);
+        insertStylesheet(instance$253, props.precedence, hoistableRoot);
+        return (resource.instance = instance$253);
       case "script":
-        instance$256 = getScriptKey(props.src);
+        instance$253 = getScriptKey(props.src);
         if (
           (styleProps = hoistableRoot.querySelector(
-            getScriptSelectorFromKey(instance$256)
+            getScriptSelectorFromKey(instance$253)
           ))
         )
           return (
@@ -16085,7 +15681,7 @@ function acquireResource(hoistableRoot, resource, props) {
             styleProps
           );
         instance = props;
-        if ((styleProps = preloadPropsMap.get(instance$256)))
+        if ((styleProps = preloadPropsMap.get(instance$253)))
           (instance = assign({}, props)),
             adoptPreloadPropsForScript(instance, styleProps);
         hoistableRoot = hoistableRoot.ownerDocument || hoistableRoot;
@@ -16417,7 +16013,6 @@ function FiberRootNode(
   this.pooledCache = null;
   this.pooledCacheLanes = 0;
   this.formState = formState;
-  this.stoppingGestures = this.pendingGestures = null;
   this.incompleteTransitions = new Map();
 }
 function createFiberRoot(
@@ -17105,16 +16700,16 @@ ReactDOMHydrationRoot.prototype.unstable_scheduleHydration = function (target) {
     0 === i && attemptExplicitHydrationTarget(target);
   }
 };
-var isomorphicReactPackageVersion$jscomp$inline_1896 = React.version;
+var isomorphicReactPackageVersion$jscomp$inline_1828 = React.version;
 if (
-  "19.1.0-experimental-d55cc79b-20250228" !==
-  isomorphicReactPackageVersion$jscomp$inline_1896
+  "19.1.0-experimental-b3a95caf-20250113" !==
+  isomorphicReactPackageVersion$jscomp$inline_1828
 )
   throw Error(
     formatProdErrorMessage(
       527,
-      isomorphicReactPackageVersion$jscomp$inline_1896,
-      "19.1.0-experimental-d55cc79b-20250228"
+      isomorphicReactPackageVersion$jscomp$inline_1828,
+      "19.1.0-experimental-b3a95caf-20250113"
     )
   );
 ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {
@@ -17134,24 +16729,24 @@ ReactDOMSharedInternals.findDOMNode = function (componentOrElement) {
     null === componentOrElement ? null : componentOrElement.stateNode;
   return componentOrElement;
 };
-var internals$jscomp$inline_2441 = {
+var internals$jscomp$inline_2364 = {
   bundleType: 0,
-  version: "19.1.0-experimental-d55cc79b-20250228",
+  version: "19.1.0-experimental-b3a95caf-20250113",
   rendererPackageName: "react-dom",
   currentDispatcherRef: ReactSharedInternals,
-  reconcilerVersion: "19.1.0-experimental-d55cc79b-20250228"
+  reconcilerVersion: "19.1.0-experimental-b3a95caf-20250113"
 };
 if ("undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__) {
-  var hook$jscomp$inline_2442 = __REACT_DEVTOOLS_GLOBAL_HOOK__;
+  var hook$jscomp$inline_2365 = __REACT_DEVTOOLS_GLOBAL_HOOK__;
   if (
-    !hook$jscomp$inline_2442.isDisabled &&
-    hook$jscomp$inline_2442.supportsFiber
+    !hook$jscomp$inline_2365.isDisabled &&
+    hook$jscomp$inline_2365.supportsFiber
   )
     try {
-      (rendererID = hook$jscomp$inline_2442.inject(
-        internals$jscomp$inline_2441
+      (rendererID = hook$jscomp$inline_2365.inject(
+        internals$jscomp$inline_2364
       )),
-        (injectedHook = hook$jscomp$inline_2442);
+        (injectedHook = hook$jscomp$inline_2365);
     } catch (err) {}
 }
 exports.createComponentSelector = function (component) {
@@ -17198,7 +16793,9 @@ exports.createRoot = function (container, options) {
     null
   );
   container[internalContainerInstanceKey] = options.current;
-  listenToAllSupportedEvents(container);
+  listenToAllSupportedEvents(
+    8 === container.nodeType ? container.parentNode : container
+  );
   return new ReactDOMRoot(options);
 };
 exports.createTestNameSelector = function (id) {
@@ -17394,4 +16991,4 @@ exports.observeVisibleRects = function (
     }
   };
 };
-exports.version = "19.1.0-experimental-d55cc79b-20250228";
+exports.version = "19.1.0-experimental-b3a95caf-20250113";
diff --git a/node_modules/react-dom/cjs/react-dom.development.js b/node_modules/react-dom/cjs/react-dom.development.js
index 43a4c56..1cbf70e 100644
--- a/node_modules/react-dom/cjs/react-dom.development.js
+++ b/node_modules/react-dom/cjs/react-dom.development.js
@@ -416,7 +416,7 @@
     exports.useFormStatus = function () {
       return resolveDispatcher().useHostTransitionStatus();
     };
-    exports.version = "19.1.0-experimental-d55cc79b-20250228";
+    exports.version = "19.1.0-experimental-b3a95caf-20250113";
     "undefined" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&
       "function" ===
         typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&
diff --git a/node_modules/react-dom/cjs/react-dom.production.js b/node_modules/react-dom/cjs/react-dom.production.js
index 679ab17..0f86700 100644
--- a/node_modules/react-dom/cjs/react-dom.production.js
+++ b/node_modules/react-dom/cjs/react-dom.production.js
@@ -207,4 +207,4 @@ exports.useFormState = function (action, initialState, permalink) {
 exports.useFormStatus = function () {
   return ReactSharedInternals.H.useHostTransitionStatus();
 };
-exports.version = "19.1.0-experimental-d55cc79b-20250228";
+exports.version = "19.1.0-experimental-b3a95caf-20250113";
diff --git a/node_modules/react-dom/cjs/react-dom.react-server.development.js b/node_modules/react-dom/cjs/react-dom.react-server.development.js
index 210c28b..c369d3a 100644
--- a/node_modules/react-dom/cjs/react-dom.react-server.development.js
+++ b/node_modules/react-dom/cjs/react-dom.react-server.development.js
@@ -336,5 +336,5 @@
             }))
           : Internals.d.m(href));
     };
-    exports.version = "19.1.0-experimental-d55cc79b-20250228";
+    exports.version = "19.1.0-experimental-b3a95caf-20250113";
   })();
diff --git a/node_modules/react-dom/cjs/react-dom.react-server.production.js b/node_modules/react-dom/cjs/react-dom.react-server.production.js
index fa7d55d..8b3624a 100644
--- a/node_modules/react-dom/cjs/react-dom.react-server.production.js
+++ b/node_modules/react-dom/cjs/react-dom.react-server.production.js
@@ -149,4 +149,4 @@ exports.preloadModule = function (href, options) {
       });
     } else Internals.d.m(href);
 };
-exports.version = "19.1.0-experimental-d55cc79b-20250228";
+exports.version = "19.1.0-experimental-b3a95caf-20250113";
diff --git a/node_modules/react-dom/package.json b/node_modules/react-dom/package.json
index 7095663..f566dfa 100644
--- a/node_modules/react-dom/package.json
+++ b/node_modules/react-dom/package.json
@@ -1,6 +1,6 @@
 {
   "name": "react-dom",
-  "version": "0.0.0-experimental-d55cc79b-20250228",
+  "version": "0.0.0-experimental-b3a95caf-20250113",
   "description": "React package for working with the DOM.",
   "main": "index.js",
   "repository": {
@@ -17,10 +17,10 @@
   },
   "homepage": "https://react.dev/",
   "dependencies": {
-    "scheduler": "0.0.0-experimental-d55cc79b-20250228"
+    "scheduler": "0.0.0-experimental-b3a95caf-20250113"
   },
   "peerDependencies": {
-    "react": "0.0.0-experimental-d55cc79b-20250228"
+    "react": "0.0.0-experimental-b3a95caf-20250113"
   },
   "files": [
     "LICENSE",
